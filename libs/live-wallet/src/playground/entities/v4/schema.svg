<svg xmlns="http://www.w3.org/2000/svg" width="1100" height="720" viewBox="0 0 1100 720">
  <defs>
    <style>
      .title { font: 700 18px sans-serif; fill: #0f172a; }
      .label { font: 600 14px sans-serif; fill: #0f172a; }
      .text { font: 12px sans-serif; fill: #1f2937; }
      .box { fill: #f8fafc; stroke: #94a3b8; stroke-width: 1.5; }
      .accent { fill: #e2e8f0; stroke: #94a3b8; stroke-width: 1.5; }
      .line { stroke: #64748b; stroke-width: 1.5; marker-end: url(#arrow); }
    </style>
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#64748b" />
    </marker>
  </defs>

  <rect x="30" y="20" width="1040" height="680" rx="10" class="accent" />
  <text x="60" y="50" class="title">v4 models (playground)</text>

  <rect x="70" y="90" width="480" height="170" rx="8" class="box" />
  <text x="90" y="120" class="label">Account</text>
  <text x="90" y="145" class="text">id · derivationMode · index · freshAddress</text>
  <text x="90" y="165" class="text">used · balance · spendableBalance · blockHeight</text>
  <text x="90" y="185" class="text">currency · feesCurrency? · subAccounts?</text>
  <text x="90" y="205" class="text">seedIdentifier · xpub? · creationDate · operationsCount</text>
  <text x="90" y="225" class="text">lastSyncDate · syncHash?</text>

  <rect x="590" y="90" width="440" height="170" rx="8" class="box" />
  <text x="610" y="120" class="label">TokenAccount</text>
  <text x="610" y="145" class="text">id · parentId · token</text>
  <text x="610" y="165" class="text">balance · spendableBalance</text>
  <text x="610" y="185" class="text">creationDate · operationsCount</text>

  <rect x="70" y="300" width="320" height="170" rx="8" class="box" />
  <text x="90" y="330" class="label">BalanceHistory</text>
  <text x="90" y="355" class="text">BalanceHistoryCache</text>
  <text x="90" y="375" class="text">GranularityId → BalanceHistoryData</text>
  <text x="90" y="395" class="text">BalanceHistoryData:</text>
  <text x="90" y="415" class="text">latestDate? · balances[]</text>

  <rect x="420" y="300" width="320" height="170" rx="8" class="box" />
  <text x="440" y="330" class="label">Operation</text>
  <text x="440" y="355" class="text">id · hash · type · value · fee</text>
  <text x="440" y="375" class="text">senders[] · recipients[] · blockHeight?</text>
  <text x="440" y="395" class="text">accountId · tokenId? · date · hasFailed?</text>
  <text x="440" y="415" class="text">subOperations[] · internalOperations[]</text>

  <rect x="770" y="300" width="260" height="170" rx="8" class="box" />
  <text x="790" y="330" class="label">SwapOperation</text>
  <text x="790" y="355" class="text">provider · swapId · status</text>
  <text x="790" y="375" class="text">receiverAccountId · operationId</text>
  <text x="790" y="395" class="text">fromCurrency? · toCurrency?</text>
  <text x="790" y="415" class="text">fromAmount · toAmount</text>

  <rect x="70" y="520" width="960" height="140" rx="8" class="box" />
  <text x="90" y="550" class="label">Top-level stores</text>
  <text x="90" y="575" class="text">accounts: { byId: { [id]: Account }, allIds: string[] }</text>
  <text x="90" y="595" class="text">balanceHistory: { byAccountId: { [id]: BalanceHistoryCache } }</text>
  <text x="90" y="615" class="text">operationHistory: { byAccountId: { [id]: Operation[] } }</text>
  <text x="90" y="635" class="text">swapHistory: { byAccountId: { [id]: SwapOperation[] } }</text>

  <line x1="550" y1="175" x2="590" y2="175" class="line" />
  <line x1="230" y1="260" x2="230" y2="520" class="line" />
  <line x1="730" y1="470" x2="730" y2="520" class="line" />
</svg>
