diff --git a/dist/commands/common/config/normalizeConfig.js b/dist/commands/common/config/normalizeConfig.js
index 7bfc195ae034abe9af8b559f732dd57f86684592..b14e22794dee5958c876d1992df4619a9506c3f6 100644
--- a/dist/commands/common/config/normalizeConfig.js
+++ b/dist/commands/common/config/normalizeConfig.js
@@ -8,11 +8,10 @@ var _webpackMerge = require("webpack-merge");
 function normalizeDevServerHost(host) {
   switch (host) {
     case 'local-ip':
-      return 'localhost';
     case 'local-ipv4':
-      return '127.0.0.1';
+      return '0.0.0.0';
     case 'local-ipv6':
-      return '::1';
+      return '::';
     default:
       return host;
   }
diff --git a/dist/modules/configurePublicPath.js b/dist/modules/configurePublicPath.js
index 9af637accdf7ac699063f3acdc01e7ccf0f1a539..e2a69a739bdd1976c2cffe066e839ba44326cf47 100644
--- a/dist/modules/configurePublicPath.js
+++ b/dist/modules/configurePublicPath.js
@@ -1,10 +1,4 @@
 import { getDevServerLocation } from './getDevServerLocation.js';
 
-// We need to teak Webpack's public path, especially for Android, where `localhost`
-// is not a correct host but eg `10.0.2.2` is.
-// If the public path doesn't have `localhost` in it, it usually means a custom `host` was
-// provided, so the replace won't change that.
-const {
-  hostname
-} = getDevServerLocation();
-__webpack_public_path__ = __webpack_public_path__.replace('localhost', hostname);
\ No newline at end of file
+const { hostname } = getDevServerLocation();
+__webpack_public_path__ = __webpack_public_path__.replace(/\/\/[^:/]+/, '//' + hostname);
diff --git a/dist/modules/getDevServerLocation.js b/dist/modules/getDevServerLocation.js
index f74842575b5c4716de4dc657c9e9849734cb0529..d3bd75c3a89f724724c2079ba6d7b65a81e452f1 100644
--- a/dist/modules/getDevServerLocation.js
+++ b/dist/modules/getDevServerLocation.js
@@ -1,16 +1,41 @@
-let hostname = __PUBLIC_HOST__;
-if (__PLATFORM__ === 'android' && __PUBLIC_HOST__ === 'localhost') {
-  hostname = '10.0.2.2';
+let cached = null;
+
+function getScriptURL() {
+  try {
+    const { NativeModules } = require('react-native');
+    if (NativeModules?.SourceCode?.scriptURL) return NativeModules.SourceCode.scriptURL;
+    const c = NativeModules?.SourceCode?.getConstants?.();
+    if (c?.scriptURL) return c.scriptURL;
+  } catch (_) {}
+  return null;
 }
-const location = {
-  host: `${hostname}:${__PUBLIC_PORT__}`,
-  hostname,
-  href: `${__PUBLIC_PROTOCOL__}://${hostname}:${__PUBLIC_PORT__}/`,
-  origin: `${__PUBLIC_PROTOCOL__}://${hostname}:${__PUBLIC_PORT__}`,
-  pathname: '/',
-  port: __PUBLIC_PORT__,
-  protocol: __PUBLIC_PROTOCOL__
-};
+
+function computeLocation() {
+  if (cached) return cached;
+
+  let hostname = __PUBLIC_HOST__;
+  const m = getScriptURL()?.match(/https?:\/\/([^:/]+)/);
+
+  if (m) {
+    hostname = m[1];
+  } else if (__PLATFORM__ === 'android' && (__PUBLIC_HOST__ === 'localhost' || __PUBLIC_HOST__ === '0.0.0.0')) {
+    hostname = '10.0.2.2';
+  } else if (__PLATFORM__ === 'ios' && (__PUBLIC_HOST__ === '0.0.0.0' || __PUBLIC_HOST__ === '127.0.0.1')) {
+    hostname = 'localhost';
+  }
+
+  cached = {
+    host: `${hostname}:${__PUBLIC_PORT__}`,
+    hostname,
+    href: `${__PUBLIC_PROTOCOL__}://${hostname}:${__PUBLIC_PORT__}/`,
+    origin: `${__PUBLIC_PROTOCOL__}://${hostname}:${__PUBLIC_PORT__}`,
+    pathname: '/',
+    port: __PUBLIC_PORT__,
+    protocol: __PUBLIC_PROTOCOL__
+  };
+  return cached;
+}
+
 export function getDevServerLocation() {
-  return location;
+  return computeLocation();
 }
