"use strict";const __rslib_import_meta_url__="u"<typeof document?new(require("url".replace("",""))).URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("main.js",document.baseURI).href;exports.ids=["900"],exports.modules={"../../../node_modules/.pnpm/@aws-sdk+client-sts@3.651.1/node_modules/@aws-sdk/client-sts/dist-es/index.js"(e,t,s){s.d(t,{getDefaultRoleAssumerWithWebIdentity:()=>tX,getDefaultRoleAssumer:()=>tY});var n=s("../../../node_modules/.pnpm/@smithy+middleware-endpoint@3.1.1/node_modules/@smithy/middleware-endpoint/dist-es/index.js"),o=s("../../../node_modules/.pnpm/@smithy+middleware-serde@3.0.4/node_modules/@smithy/middleware-serde/dist-es/serdePlugin.js"),i=s("../../../node_modules/.pnpm/@smithy+smithy-client@3.3.0/node_modules/@smithy/smithy-client/dist-es/index.js");let r={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class d extends i.TJ{constructor(e){super(e),Object.setPrototypeOf(this,d.prototype)}}class l extends d{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,l.prototype)}}class a extends d{constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,a.prototype)}}class u extends d{constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,u.prototype)}}class c extends d{constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,c.prototype)}}class m extends d{constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,m.prototype)}}class p extends d{constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,p.prototype)}}class h extends d{constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,h.prototype)}}class y extends d{constructor(e){super({name:"InvalidAuthorizationMessageException",$fault:"client",...e}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,y.prototype)}}let f=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:i.$H}}),g=e=>({...e,...e.Credentials&&{Credentials:f(e.Credentials)}}),w=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:i.$H}}),S=e=>({...e,...e.Credentials&&{Credentials:f(e.Credentials)}});var x=s("../../../node_modules/.pnpm/@aws-sdk+core@3.651.1/node_modules/@aws-sdk/core/dist-es/submodules/protocols/xml/parseXmlBody.js"),P=s("../../../node_modules/.pnpm/@smithy+protocol-http@4.1.1/node_modules/@smithy/protocol-http/dist-es/index.js");let b=async(e,t)=>{let s;return s=eH({...K(e,t),[ed]:ea,[eW]:er}),eo(t,ei,"/",void 0,s)},v=async(e,t)=>{let s;return s=eH({...O(e,t),[ed]:em,[eW]:er}),eo(t,ei,"/",void 0,s)},E=async(e,t)=>{if(e.statusCode>=300)return I(e,t);let s=await (0,x.t_)(e.body,t),n={};return n=L(s.AssumeRoleResult,t),{$metadata:es(e),...n}},k=async(e,t)=>{if(e.statusCode>=300)return I(e,t);let s=await (0,x.t_)(e.body,t),n={};return n=G(s.AssumeRoleWithWebIdentityResult,t),{$metadata:es(e),...n}},I=async(e,t)=>{let s={...e,body:await (0,x.FI)(e.body,t)},n=eV(e,s.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await _(s,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await $(s,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await D(s,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await T(s,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await C(s,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await R(s,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await A(s,t);case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await j(s,t);default:return en({output:e,parsedBody:s.body.Error,errorCode:n})}},_=async(e,t)=>{let s=e.body,n=N(s.Error,t),o=new l({$metadata:es(e),...n});return(0,i.Mw)(o,s)},A=async(e,t)=>{let s=e.body,n=Z(s.Error,t),o=new h({$metadata:es(e),...n});return(0,i.Mw)(o,s)},C=async(e,t)=>{let s=e.body,n=J(s.Error,t),o=new m({$metadata:es(e),...n});return(0,i.Mw)(o,s)},j=async(e,t)=>{let s=e.body,n=Y(s.Error,t),o=new y({$metadata:es(e),...n});return(0,i.Mw)(o,s)},R=async(e,t)=>{let s=e.body,n=X(s.Error,t),o=new p({$metadata:es(e),...n});return(0,i.Mw)(o,s)},$=async(e,t)=>{let s=e.body,n=Q(s.Error,t),o=new a({$metadata:es(e),...n});return(0,i.Mw)(o,s)},D=async(e,t)=>{let s=e.body,n=ee(s.Error,t),o=new u({$metadata:es(e),...n});return(0,i.Mw)(o,s)},T=async(e,t)=>{let s=e.body,n=et(s.Error,t),o=new c({$metadata:es(e),...n});return(0,i.Mw)(o,s)},K=(e,t)=>{let s={};if(null!=e[eA]&&(s[eA]=e[eA]),null!=e[eC]&&(s[eC]=e[eC]),null!=e[eb]){let n=z(e[eb],t);e[eb]?.length===0&&(s.PolicyArns=[]),Object.entries(n).forEach(([e,t])=>{s[`PolicyArns.${e}`]=t})}if(null!=e[eP]&&(s[eP]=e[eP]),null!=e[eg]&&(s[eg]=e[eg]),null!=e[eK]){let n=H(e[eK],t);e[eK]?.length===0&&(s.Tags=[]),Object.entries(n).forEach(([e,t])=>{s[`Tags.${e}`]=t})}if(null!=e[ez]){let n=q(e[ez],t);e[ez]?.length===0&&(s.TransitiveTagKeys=[]),Object.entries(n).forEach(([e,t])=>{s[`TransitiveTagKeys.${e}`]=t})}if(null!=e[eS]&&(s[eS]=e[eS]),null!=e[eD]&&(s[eD]=e[eD]),null!=e[eO]&&(s[eO]=e[eO]),null!=e[e$]&&(s[e$]=e[e$]),null!=e[eE]){let n=U(e[eE],t);e[eE]?.length===0&&(s.ProvidedContexts=[]),Object.entries(n).forEach(([e,t])=>{s[`ProvidedContexts.${e}`]=t})}return s},O=(e,t)=>{let s={};if(null!=e[eA]&&(s[eA]=e[eA]),null!=e[eC]&&(s[eC]=e[eC]),null!=e[eU]&&(s[eU]=e[eU]),null!=e[ek]&&(s[ek]=e[ek]),null!=e[eb]){let n=z(e[eb],t);e[eb]?.length===0&&(s.PolicyArns=[]),Object.entries(n).forEach(([e,t])=>{s[`PolicyArns.${e}`]=t})}return null!=e[eP]&&(s[eP]=e[eP]),null!=e[eg]&&(s[eg]=e[eg]),s},z=(e,t)=>{let s={},n=1;for(let o of e)null!==o&&(Object.entries(W(o,t)).forEach(([e,t])=>{s[`member.${n}.${e}`]=t}),n++);return s},W=(e,t)=>{let s={};return null!=e[eF]&&(s[eF]=e[eF]),s},M=(e,t)=>{let s={};return null!=e[ev]&&(s[ev]=e[ev]),null!=e[ef]&&(s[ef]=e[ef]),s},U=(e,t)=>{let s={},n=1;for(let o of e)null!==o&&(Object.entries(M(o,t)).forEach(([e,t])=>{s[`member.${n}.${e}`]=t}),n++);return s},F=(e,t)=>{let s={};return null!=e[ex]&&(s[ex]=e[ex]),null!=e[eM]&&(s[eM]=e[eM]),s},q=(e,t)=>{let s={},n=1;for(let t of e)null!==t&&(s[`member.${n}`]=t,n++);return s},H=(e,t)=>{let s={},n=1;for(let o of e)null!==o&&(Object.entries(F(o,t)).forEach(([e,t])=>{s[`member.${n}.${e}`]=t}),n++);return s},V=(e,t)=>{let s={};return null!=e[eu]&&(s[eu]=(0,i.lK)(e[eu])),null!=e[ep]&&(s[ep]=(0,i.lK)(e[ep])),s},L=(e,t)=>{let s={};return null!=e[ey]&&(s[ey]=B(e[ey],t)),null!=e[ec]&&(s[ec]=V(e[ec],t)),null!=e[eI]&&(s[eI]=(0,i.xW)(e[eI])),null!=e[e$]&&(s[e$]=(0,i.lK)(e[e$])),s},G=(e,t)=>{let s={};return null!=e[ey]&&(s[ey]=B(e[ey],t)),null!=e[eR]&&(s[eR]=(0,i.lK)(e[eR])),null!=e[ec]&&(s[ec]=V(e[ec],t)),null!=e[eI]&&(s[eI]=(0,i.xW)(e[eI])),null!=e[e_]&&(s[e_]=(0,i.lK)(e[e_])),null!=e[eh]&&(s[eh]=(0,i.lK)(e[eh])),null!=e[e$]&&(s[e$]=(0,i.lK)(e[e$])),s},B=(e,t)=>{let s={};return null!=e[el]&&(s[el]=(0,i.lK)(e[el])),null!=e[ej]&&(s[ej]=(0,i.lK)(e[ej])),null!=e[eT]&&(s[eT]=(0,i.lK)(e[eT])),null!=e[ew]&&(s[ew]=(0,i.Y0)((0,i.t_)(e[ew]))),s},N=(e,t)=>{let s={};return null!=e[eq]&&(s[eq]=(0,i.lK)(e[eq])),s},Z=(e,t)=>{let s={};return null!=e[eq]&&(s[eq]=(0,i.lK)(e[eq])),s},J=(e,t)=>{let s={};return null!=e[eq]&&(s[eq]=(0,i.lK)(e[eq])),s},Y=(e,t)=>{let s={};return null!=e[eq]&&(s[eq]=(0,i.lK)(e[eq])),s},X=(e,t)=>{let s={};return null!=e[eq]&&(s[eq]=(0,i.lK)(e[eq])),s},Q=(e,t)=>{let s={};return null!=e[eq]&&(s[eq]=(0,i.lK)(e[eq])),s},ee=(e,t)=>{let s={};return null!=e[eq]&&(s[eq]=(0,i.lK)(e[eq])),s},et=(e,t)=>{let s={};return null!=e[eq]&&(s[eq]=(0,i.lK)(e[eq])),s},es=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),en=(0,i.jr)(d),eo=async(e,t,s,n,o)=>{let{hostname:i,protocol:r="https",port:d,path:l}=await e.endpoint(),a={protocol:r,hostname:i,port:d,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+s:l+s,headers:t};return void 0!==n&&(a.hostname=n),void 0!==o&&(a.body=o),new P.Kd(a)},ei={"content-type":"application/x-www-form-urlencoded"},er="2011-06-15",ed="Action",el="AccessKeyId",ea="AssumeRole",eu="AssumedRoleId",ec="AssumedRoleUser",em="AssumeRoleWithWebIdentity",ep="Arn",eh="Audience",ey="Credentials",ef="ContextAssertion",eg="DurationSeconds",ew="Expiration",eS="ExternalId",ex="Key",eP="Policy",eb="PolicyArns",ev="ProviderArn",eE="ProvidedContexts",ek="ProviderId",eI="PackedPolicySize",e_="Provider",eA="RoleArn",eC="RoleSessionName",ej="SecretAccessKey",eR="SubjectFromWebIdentityToken",e$="SourceIdentity",eD="SerialNumber",eT="SessionToken",eK="Tags",eO="TokenCode",ez="TransitiveTagKeys",eW="Version",eM="Value",eU="WebIdentityToken",eF="arn",eq="message",eH=e=>Object.entries(e).map(([e,t])=>(0,i.$6)(e)+"="+(0,i.$6)(t)).join("&"),eV=(e,t)=>t.Error?.Code!==void 0?t.Error.Code:404==e.statusCode?"NotFound":void 0;class eL extends i.uB.classBuilder().ep(r).m(function(e,t,s,i){return[(0,o.TM)(s,this.serialize,this.deserialize),(0,n.rD)(s,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,g).ser(b).de(E).build(){}class eG extends i.uB.classBuilder().ep(r).m(function(e,t,s,i){return[(0,o.TM)(s,this.serialize,this.deserialize),(0,n.rD)(s,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(w,S).ser(v).de(k).build(){}let eB="us-east-1",eN=e=>{if("string"==typeof e?.Arn){let t=e.Arn.split(":");if(t.length>4&&""!==t[4])return t[4]}},eZ=async(e,t,s)=>{let n="function"==typeof e?await e():e,o="function"==typeof t?await t():t;return s?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${o} (parent client)`,`${eB} (STS default)`),n??o??eB},eJ=e=>e?.metadata?.handlerProtocol==="h2";var eY=s("../../../node_modules/.pnpm/@aws-sdk+middleware-host-header@3.649.0/node_modules/@aws-sdk/middleware-host-header/dist-es/index.js"),eX=s("../../../node_modules/.pnpm/@aws-sdk+middleware-logger@3.649.0/node_modules/@aws-sdk/middleware-logger/dist-es/loggerMiddleware.js"),eQ=s("../../../node_modules/.pnpm/@aws-sdk+middleware-recursion-detection@3.649.0/node_modules/@aws-sdk/middleware-recursion-detection/dist-es/index.js"),e0=s("../../../node_modules/.pnpm/@aws-sdk+middleware-user-agent@3.649.0/node_modules/@aws-sdk/middleware-user-agent/dist-es/index.js"),e1=s("../../../node_modules/.pnpm/@smithy+config-resolver@3.0.6/node_modules/@smithy/config-resolver/dist-es/index.js"),e3=s("../../../node_modules/.pnpm/@smithy+core@2.4.1/node_modules/@smithy/core/dist-es/index.js"),e4=s("../../../node_modules/.pnpm/@smithy+middleware-content-length@3.0.6/node_modules/@smithy/middleware-content-length/dist-es/index.js"),e6=s("../../../node_modules/.pnpm/@smithy+middleware-retry@3.0.16/node_modules/@smithy/middleware-retry/dist-es/index.js"),e2=s("../../../node_modules/.pnpm/@aws-sdk+core@3.651.1/node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/aws_sdk/resolveAwsSdkSigV4Config.js"),e5=s("../../../node_modules/.pnpm/@smithy+util-middleware@3.0.4/node_modules/@smithy/util-middleware/dist-es/index.js");let e9=async(e,t,s)=>({operation:(0,e5.u)(t).operation,region:await (0,e5.t)(e.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),e8=e=>{let t=[];switch(e.operation){case"AssumeRoleWithSAML":case"AssumeRoleWithWebIdentity":t.push({schemeId:"smithy.api#noAuth"});break;default:t.push({schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})})}return t};var e7=s("../../../node_modules/.pnpm/@aws-sdk+core@3.651.1/node_modules/@aws-sdk/core/dist-es/submodules/client/emitWarningIfUnsupportedVersion.js"),te=s("../../../node_modules/.pnpm/@aws-sdk+core@3.651.1/node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/aws_sdk/AwsSdkSigV4Signer.js"),tt=s("../../../node_modules/.pnpm/@aws-sdk+credential-provider-node@3.651.1_@aws-sdk+client-sso-oidc@3.651.1_@aws-sdk+cli_ec8c1e092679d63c1d0f34cc3d71520c/node_modules/@aws-sdk/credential-provider-node/dist-es/index.js"),ts=s("../../../node_modules/.pnpm/@aws-sdk+util-user-agent-node@3.649.0/node_modules/@aws-sdk/util-user-agent-node/dist-es/index.js"),tn=s("../../../node_modules/.pnpm/@smithy+hash-node@3.0.4/node_modules/@smithy/hash-node/dist-es/index.js"),to=s("../../../node_modules/.pnpm/@smithy+node-config-provider@3.1.5/node_modules/@smithy/node-config-provider/dist-es/index.js"),ti=s("../../../node_modules/.pnpm/@smithy+node-http-handler@3.2.0/node_modules/@smithy/node-http-handler/dist-es/index.js"),tr=s("../../../node_modules/.pnpm/@smithy+util-body-length-node@3.0.0/node_modules/@smithy/util-body-length-node/dist-es/index.js"),td=s("../../../node_modules/.pnpm/@smithy+util-retry@3.0.4/node_modules/@smithy/util-retry/dist-es/index.js"),tl=s("../../../node_modules/.pnpm/@smithy+url-parser@3.0.4/node_modules/@smithy/url-parser/dist-es/index.js"),ta=s("../../../node_modules/.pnpm/@smithy+util-base64@3.0.0/node_modules/@smithy/util-base64/dist-es/index.js"),tu=s("../../../node_modules/.pnpm/@smithy+util-utf8@3.0.0/node_modules/@smithy/util-utf8/dist-es/index.js"),tc=s("../../../node_modules/.pnpm/@aws-sdk+util-endpoints@3.649.0/node_modules/@aws-sdk/util-endpoints/dist-es/index.js"),tm=s("../../../node_modules/.pnpm/@smithy+util-endpoints@2.1.0/node_modules/@smithy/util-endpoints/dist-es/index.js");let tp="required",th="type",ty="argv",tf="booleanEquals",tg="stringEquals",tw="sigv4",tS="us-east-1",tx="endpoint",tP="https://sts.{Region}.{PartitionResult#dnsSuffix}",tb="tree",tv="error",tE="getAttr",tk={[tp]:!1,[th]:"String"},tI={[tp]:!0,default:!1,[th]:"Boolean"},t_={ref:"Endpoint"},tA={fn:"isSet",[ty]:[{ref:"Region"}]},tC={ref:"Region"},tj={fn:"aws.partition",[ty]:[tC],assign:"PartitionResult"},tR={ref:"UseFIPS"},t$={ref:"UseDualStack"},tD={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:tw,signingName:"sts",signingRegion:tS}]},headers:{}},tT={},tK={conditions:[{fn:tg,[ty]:[tC,"aws-global"]}],[tx]:tD,[th]:tx},tO={fn:tf,[ty]:[tR,!0]},tz={fn:tf,[ty]:[t$,!0]},tW={fn:tE,[ty]:[{ref:"PartitionResult"},"supportsFIPS"]},tM={ref:"PartitionResult"},tU={fn:tf,[ty]:[!0,{fn:tE,[ty]:[tM,"supportsDualStack"]}]},tF=[{fn:"isSet",[ty]:[t_]}],tq=[tO],tH=[tz],tV={version:"1.0",parameters:{Region:tk,UseDualStack:tI,UseFIPS:tI,Endpoint:tk,UseGlobalEndpoint:tI},rules:[{conditions:[{fn:tf,[ty]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[ty]:tF},tA,tj,{fn:tf,[ty]:[tR,!1]},{fn:tf,[ty]:[t$,!1]}],rules:[{conditions:[{fn:tg,[ty]:[tC,"ap-northeast-1"]}],endpoint:tD,[th]:tx},{conditions:[{fn:tg,[ty]:[tC,"ap-south-1"]}],endpoint:tD,[th]:tx},{conditions:[{fn:tg,[ty]:[tC,"ap-southeast-1"]}],endpoint:tD,[th]:tx},{conditions:[{fn:tg,[ty]:[tC,"ap-southeast-2"]}],endpoint:tD,[th]:tx},tK,{conditions:[{fn:tg,[ty]:[tC,"ca-central-1"]}],endpoint:tD,[th]:tx},{conditions:[{fn:tg,[ty]:[tC,"eu-central-1"]}],endpoint:tD,[th]:tx},{conditions:[{fn:tg,[ty]:[tC,"eu-north-1"]}],endpoint:tD,[th]:tx},{conditions:[{fn:tg,[ty]:[tC,"eu-west-1"]}],endpoint:tD,[th]:tx},{conditions:[{fn:tg,[ty]:[tC,"eu-west-2"]}],endpoint:tD,[th]:tx},{conditions:[{fn:tg,[ty]:[tC,"eu-west-3"]}],endpoint:tD,[th]:tx},{conditions:[{fn:tg,[ty]:[tC,"sa-east-1"]}],endpoint:tD,[th]:tx},{conditions:[{fn:tg,[ty]:[tC,tS]}],endpoint:tD,[th]:tx},{conditions:[{fn:tg,[ty]:[tC,"us-east-2"]}],endpoint:tD,[th]:tx},{conditions:[{fn:tg,[ty]:[tC,"us-west-1"]}],endpoint:tD,[th]:tx},{conditions:[{fn:tg,[ty]:[tC,"us-west-2"]}],endpoint:tD,[th]:tx},{endpoint:{url:tP,properties:{authSchemes:[{name:tw,signingName:"sts",signingRegion:"{Region}"}]},headers:tT},[th]:tx}],[th]:tb},{conditions:tF,rules:[{conditions:tq,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[th]:tv},{conditions:tH,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[th]:tv},{endpoint:{url:t_,properties:tT,headers:tT},[th]:tx}],[th]:tb},{conditions:[tA],rules:[{conditions:[tj],rules:[{conditions:[tO,tz],rules:[{conditions:[{fn:tf,[ty]:[!0,tW]},tU],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:tT,headers:tT},[th]:tx}],[th]:tb},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[th]:tv}],[th]:tb},{conditions:tq,rules:[{conditions:[{fn:tf,[ty]:[tW,!0]}],rules:[{conditions:[{fn:tg,[ty]:[{fn:tE,[ty]:[tM,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:tT,headers:tT},[th]:tx},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:tT,headers:tT},[th]:tx}],[th]:tb},{error:"FIPS is enabled but this partition does not support FIPS",[th]:tv}],[th]:tb},{conditions:tH,rules:[{conditions:[tU],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:tT,headers:tT},[th]:tx}],[th]:tb},{error:"DualStack is enabled but this partition does not support DualStack",[th]:tv}],[th]:tb},tK,{endpoint:{url:tP,properties:tT,headers:tT},[th]:tx}],[th]:tb}],[th]:tb},{error:"Invalid Configuration: Missing Region",[th]:tv}]},tL=new tm.kS({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),tG=(e,t={})=>tL.get(e,()=>(0,tm.sO)(tV,{endpointParams:e,logger:t.logger}));tm.mw.aws=tc.UF;var tB=s("../../../node_modules/.pnpm/@smithy+util-defaults-mode-node@3.0.16/node_modules/@smithy/util-defaults-mode-node/dist-es/index.js"),tN=s("../../../node_modules/.pnpm/@aws-sdk+region-config-resolver@3.649.0/node_modules/@aws-sdk/region-config-resolver/dist-es/extensions/index.js");class tZ extends i.Kj{constructor(...[e]){const t=(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}))((e=>{(0,i.I9)(process.version);let t=(0,tB.I)(e),s=()=>t().then(i.lT),n={apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??ta.E,base64Encoder:e?.base64Encoder??ta.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??tG,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??e8,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new te.f2},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new e3.mR}],logger:e?.logger??new i.N4,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??tl.D,utf8Decoder:e?.utf8Decoder??tu.ar,utf8Encoder:e?.utf8Encoder??tu.Pq};return(0,e7.I)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??tr.n,credentialDefaultProvider:e?.credentialDefaultProvider??tt.v6,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,ts.mJ)({serviceId:n.serviceId,clientVersion:"3.651.1"}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4")||(async e=>await (0,tt.v6)(e?.__config||{})()),signer:new te.f2},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new e3.mR}],maxAttempts:e?.maxAttempts??(0,to.Z)(e6.qs),region:e?.region??(0,to.Z)(e1.GG,e1.zH),requestHandler:ti.$c.create(e?.requestHandler??s),retryMode:e?.retryMode??(0,to.Z)({...e6.kN,default:async()=>(await s()).retryMode||td.L0}),sha256:e?.sha256??tn.V.bind(null,"sha256"),streamCollector:e?.streamCollector??ti.kv,useDualstackEndpoint:e?.useDualstackEndpoint??(0,to.Z)(e1.e$),useFipsEndpoint:e?.useFipsEndpoint??(0,to.Z)(e1.Ko)}})(e||{})),s=(0,e0.Dc)(t),o=(0,e6.$z)(s),r=(0,e1.TD)(o),d=(0,eY.OV)(r),l=((e,t)=>{let s,n,o,r={...(0,tN.R)(e),...(0,i.xA)(e),...(0,P.eS)(e),...(s=e.httpAuthSchemes,n=e.httpAuthSchemeProvider,o=e.credentials,{setHttpAuthScheme(e){let t=s.findIndex(t=>t.schemeId===e.schemeId);-1===t?s.push(e):s.splice(t,1,e)},httpAuthSchemes:()=>s,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){o=e},credentials:()=>o})};return t.forEach(e=>e.configure(r)),{...e,...(0,tN.$)(r),...(0,i.uv)(r),...(0,P.jt)(r),...{httpAuthSchemes:r.httpAuthSchemes(),httpAuthSchemeProvider:r.httpAuthSchemeProvider(),credentials:r.credentials()}}})((e=>{let t={...e,stsClientCtor:tZ};return{...(0,e2.h)(t)}})((0,n.Co)(d)),e?.extensions||[]);super(l),this.config=l,this.middlewareStack.use((0,e0.sM)(this.config)),this.middlewareStack.use((0,e6.ey)(this.config)),this.middlewareStack.use((0,e4.vK)(this.config)),this.middlewareStack.use((0,eY.TC)(this.config)),this.middlewareStack.use((0,eX.Y7)(this.config)),this.middlewareStack.use((0,eQ.n4)(this.config)),this.middlewareStack.use((0,e3.wB)(this.config,{httpAuthSchemeParametersProvider:e9,identityProviderConfigProvider:async e=>new e3.h$({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,e3.lW)(this.config))}destroy(){super.destroy()}}let tJ=(e,t)=>t?class extends e{constructor(e){for(const s of(super(e),t))this.middlewareStack.use(s)}}:e,tY=(e={},t)=>{var s;let n,o;return s=tJ(tZ,t),async(t,i)=>{if(o=t,!n){let{logger:t=e?.parentClientConfig?.logger,region:i,requestHandler:r=e?.parentClientConfig?.requestHandler,credentialProviderLogger:d}=e;n=new s({credentialDefaultProvider:()=>async()=>o,region:await eZ(i,e?.parentClientConfig?.region,d),requestHandler:eJ(r)?void 0:r,logger:t})}let{Credentials:r,AssumedRoleUser:d}=await n.send(new eL(i));if(!r||!r.AccessKeyId||!r.SecretAccessKey)throw Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);let l=eN(d);return{accessKeyId:r.AccessKeyId,secretAccessKey:r.SecretAccessKey,sessionToken:r.SessionToken,expiration:r.Expiration,...r.CredentialScope&&{credentialScope:r.CredentialScope},...l&&{accountId:l}}}},tX=(e={},t)=>{var s;let n;return s=tJ(tZ,t),async t=>{if(!n){let{logger:t=e?.parentClientConfig?.logger,region:o,requestHandler:i=e?.parentClientConfig?.requestHandler,credentialProviderLogger:r}=e;n=new s({region:await eZ(o,e?.parentClientConfig?.region,r),requestHandler:eJ(i)?void 0:i,logger:t})}let{Credentials:o,AssumedRoleUser:i}=await n.send(new eG(t));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${t.RoleArn}`);let r=eN(i);return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...r&&{accountId:r}}}}}};