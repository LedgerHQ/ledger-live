[{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/braze-setup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/config/bridge-setup.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":8,"column":12,"nodeType":"TSAsExpression","messageId":"never","endLine":8,"endColumn":85,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":8,"column":27,"nodeType":"TSAsExpression","messageId":"never","endLine":8,"endColumn":73,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/config/configInit.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/config/global-tab.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/config/languages.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":195,"column":32,"nodeType":"TSAsExpression","messageId":"never","endLine":195,"endColumn":96}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Language as DeviceLanguages, languageIds } from \"@ledgerhq/types-live\";\n\n/**\n * This is the only place new language should be added.\n */\nexport const LanguageIds = [\n  \"en\",\n  \"fr\",\n  \"de\",\n  \"ru\",\n  \"es\",\n  \"ja\",\n  \"tr\",\n  \"ko\",\n  \"zh\",\n  \"pt\",\n  \"th\",\n] as const;\n\nexport const LanguageIdsNotFeatureFlagged = [\n  \"en\",\n  \"fr\",\n  \"de\",\n  \"ru\",\n  \"es\",\n  \"ja\",\n  \"tr\",\n  \"ko\",\n  \"zh\",\n  \"pt\",\n] as const;\n\nexport const OFAC_LOCALES = [\n  \"fa-AF\",\n  \"ps-AF\",\n  \"uz-AF\",\n  \"be-BY\",\n  \"es-CU\",\n  \"fa-IR\",\n  \"ar-IQ\",\n  \"ko-KP\",\n  \"ru-RU\",\n  \"nus-SD\",\n  \"ar-SD\",\n  \"ar-SY\",\n  \"fr-SY\",\n  \"my-MM\",\n];\n\n/**\n * This is the only place new locale should be added.\n * @dev The first element is the default locale of the language.\n */\nexport const LanguageLocaleIds = {\n  en: [\"en-US\"],\n  fr: [\"fr-FR\"],\n  es: [\"es-ES\"],\n  de: [\"de-DE\"],\n  ja: [\"ja-JP\"],\n  ko: [\"ko-KR\"],\n  pt: [\"pt-BR\"],\n  ru: [\"ru-RU\"],\n  tr: [\"tr-TR\"],\n  zh: [\"zh-CN\"],\n  th: [\"th-TH\"],\n} as const satisfies LanguageMap<readonly LanguagePrefixed[]>;\n\n/**\n * This is the Language type.\n */\nexport type Language = (typeof LanguageIds)[number];\n\n/**\n * This is the Locale type.\n */\nexport type Locale = string;\n\n/**\n * This is the Locales type.\n * @dev It includes a custom `default` field. It refers to the default\n * locale of the language.\n */\nexport type Locales = readonly Locale[] & { readonly default: Locale };\n\n/**\n * This is the Language definition type.\n */\nexport type LanguageDefinition = {\n  id: Language;\n\n  // Locales\n  locales: Locales;\n\n  // Metadata\n  label: string;\n\n  // Language device information\n  // @dev enforcing `undefined`\n  deviceSupport: { label: DeviceLanguages; id: number } | undefined;\n};\n\n/**\n * Mapping from languages to their respective infos.\n */\nexport const Languages = {\n  en: {\n    id: \"en\",\n    label: \"English\",\n    locales: buildLocales(LanguageLocaleIds.en),\n\n    deviceSupport: { label: \"english\", id: languageIds.english },\n  },\n  fr: {\n    id: \"fr\",\n    label: \"Français\",\n    locales: buildLocales(LanguageLocaleIds.fr),\n\n    deviceSupport: { label: \"french\", id: languageIds.french },\n  },\n  es: {\n    id: \"es\",\n    label: \"Español\",\n    locales: buildLocales(LanguageLocaleIds.es),\n\n    deviceSupport: { label: \"spanish\", id: languageIds.spanish },\n  },\n\n  de: {\n    id: \"de\",\n    label: \"Deutsch\",\n    locales: buildLocales(LanguageLocaleIds.de),\n\n    deviceSupport: { label: \"german\", id: languageIds.german },\n  },\n  ja: {\n    id: \"ja\",\n    label: \"日本語\",\n    locales: buildLocales(LanguageLocaleIds.ja),\n\n    deviceSupport: undefined,\n  },\n  ko: {\n    id: \"ko\",\n    label: \"한국어\",\n    locales: buildLocales(LanguageLocaleIds.ko),\n\n    deviceSupport: undefined,\n  },\n  pt: {\n    id: \"pt\",\n    label: \"Português (Brasil)\",\n    locales: buildLocales(LanguageLocaleIds.pt),\n\n    deviceSupport: { label: \"brazilian\", id: languageIds.brazilian },\n  },\n  ru: {\n    id: \"ru\",\n    label: \"Русский\",\n    locales: buildLocales(LanguageLocaleIds.ru),\n\n    deviceSupport: { label: \"russian\", id: languageIds.russian },\n  },\n  tr: {\n    id: \"tr\",\n    label: \"Türkçe\",\n    locales: buildLocales(LanguageLocaleIds.tr),\n\n    deviceSupport: { label: \"turkish\", id: languageIds.turkish },\n  },\n  zh: {\n    id: \"zh\",\n    label: \"简体中文\",\n    locales: buildLocales(LanguageLocaleIds.zh),\n\n    deviceSupport: undefined,\n  },\n  th: {\n    id: \"th\",\n    label: \"ภาษาไทย\",\n    locales: buildLocales(LanguageLocaleIds.th),\n\n    deviceSupport: { label: \"thai\", id: languageIds.thai },\n  },\n} as const satisfies LanguageMap<LanguageDefinition>;\n\n/**\n * The default language.\n */\nexport const DEFAULT_LANGUAGE = Languages.en;\n\n/**\n * List of languages that should be prompted to existing users once if they are\n * using LL in english. It basically reprensents all the Languages minus \"en\".\n * */\nexport const pushedLanguages = LanguageIds.filter(e => e !== \"en\") as Exclude<Language, \"en\">[];\n\n/**\n * Utils functions\n */\nfunction buildLocales<T extends readonly unknown[]>(src: T): T & { default: T[0] } {\n  return Object.assign(src, { default: src[0] });\n}\n\n/**\n * Utils types\n */\nexport type LanguageMap<T = string> = { [key in Language]: T };\nexport type LanguagePrefixed = `${Language}-${string}`;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/config/urls.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/firebase-setup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/generic.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/helpers/accountModel.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/helpers/env.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/helpers/saveLogs.test.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":52,"column":20,"nodeType":"TSAsExpression","messageId":"never","endLine":52,"endColumn":80},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":63,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":63,"endColumn":45},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":64,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":64,"endColumn":37},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":72,"column":29,"nodeType":"TSAsExpression","messageId":"never","endLine":72,"endColumn":60},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":79,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":79,"endColumn":45},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":80,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":80,"endColumn":37}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":39,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":39,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1009,1012],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1009,1012],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":60,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":60,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1545,1548],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1545,1548],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { ipcRenderer } from \"electron\";\nimport { memoryLogger } from \"~/renderer/logger\";\nimport { getJSONStringifyReplacer, saveLogs } from \"./saveLogs\";\n\njest.mock(\"electron\", () => ({\n  ipcRenderer: {\n    invoke: jest.fn(),\n  },\n}));\n\njest.mock(\"~/renderer/logger\", () => ({\n  memoryLogger: {\n    getMemoryLogs: jest.fn(),\n  },\n}));\n\ndescribe(\"getJSONStringifyReplacer\", () => {\n  it(\"should properly format Uint8Array values\", () => {\n    // given\n    const replacer = getJSONStringifyReplacer();\n    const testObj = { buffer: new Uint8Array([250, 250]) };\n    const json = JSON.stringify(testObj, replacer);\n\n    // when\n    const parsed = JSON.parse(json);\n\n    // then\n    expect(parsed.buffer).toEqual({\n      hex: \"0xfafa\",\n      readableHex: \"fa fa\",\n      value: \"250,250\",\n    });\n  });\n\n  it(\"should replace circular references with '[Circular]'\", () => {\n    //given\n    const replacer = getJSONStringifyReplacer();\n    const circularObj: any = { name: \"circularObj\" };\n    circularObj.self = circularObj;\n    const json = JSON.stringify(circularObj, replacer);\n\n    // when\n    const parsed = JSON.parse(json);\n\n    // then\n    expect(parsed.self).toBe(\"[Circular]\");\n  });\n});\n\ndescribe(\"saveLogs\", () => {\n  const fakePath = { filePath: \"/fake/path\" } as Electron.SaveDialogReturnValue;\n\n  afterEach(() => {\n    jest.clearAllMocks();\n  });\n\n  it(\"should serialize logs and call ipcRenderer.invoke with correct arguments\", async () => {\n    // given\n    const circularObj: any = { name: \"circularObj\" };\n    circularObj.self = circularObj;\n    const logs = { log: \"test\", circularObj };\n    (memoryLogger.getMemoryLogs as jest.Mock).mockReturnValue(logs);\n    (ipcRenderer.invoke as jest.Mock).mockResolvedValue(undefined);\n\n    // when\n    await saveLogs(fakePath);\n\n    // then\n    expect(ipcRenderer.invoke).toHaveBeenCalledTimes(1);\n    expect(ipcRenderer.invoke).toHaveBeenCalledWith(\"save-logs\", fakePath, expect.any(String));\n    const serializedLogs = (ipcRenderer.invoke as jest.Mock).mock.calls[0][2];\n    expect(serializedLogs).toContain(\"[Circular]\");\n  });\n\n  it(\"should log an error if ipcRenderer.invoke rejects\", async () => {\n    // given\n    const error = new Error(\"IPC error\");\n    (memoryLogger.getMemoryLogs as jest.Mock).mockReturnValue({ log: \"test\" });\n    (ipcRenderer.invoke as jest.Mock).mockRejectedValue(error);\n    const consoleErrorSpy = jest.spyOn(console, \"error\").mockImplementation(() => {});\n\n    // when\n    await saveLogs(fakePath);\n\n    // then\n    expect(consoleErrorSpy).toHaveBeenCalledWith(\n      \"Error while requesting to save logs from the renderer process\",\n      error,\n    );\n\n    consoleErrorSpy.mockRestore();\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/helpers/saveLogs.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":25,"column":58,"nodeType":"TSAsExpression","messageId":"never","endLine":25,"endColumn":73}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ipcRenderer } from \"electron\";\nimport { memoryLogger } from \"~/renderer/logger\";\n\nexport function getJSONStringifyReplacer(): (key: string, value: unknown) => unknown {\n  const ancestors: unknown[] = [];\n  return function (_: string, value: unknown): unknown {\n    // format Uint8Array values to more readable format\n    if (value instanceof Uint8Array) {\n      const bytesHex = Array.from(value).map(x => x.toString(16).padStart(2, \"0\"));\n      return {\n        hex: \"0x\" + bytesHex.join(\"\"),\n        readableHex: bytesHex.join(\" \"),\n        value: value.toString(),\n      };\n    }\n\n    // format circular references to \"[Circular]\"\n    // Taken from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cyclic_object_value#circular_references\n    if (typeof value !== \"object\" || value === null) {\n      return value;\n    }\n    // `this` is the object that value is contained in,\n    // i.e., its direct parent.\n    // @ts-expect-error cf. comment above\n    while (ancestors.length > 0 && ancestors.at(-1) !== (this as unknown)) {\n      ancestors.pop();\n    }\n    if (ancestors.includes(value)) {\n      return \"[Circular]\";\n    }\n    ancestors.push(value);\n    return value;\n  };\n}\n\nexport const saveLogs = async (path: Electron.SaveDialogReturnValue) => {\n  try {\n    // Serializes ourself with `stringify` to avoid \"object could not be cloned\" errors from the electron IPC serializer.\n    // Uses getJSONStringifyReplacer to replace circular references with \"[Circular]\"\n    const memoryLogsStr = JSON.stringify(\n      memoryLogger.getMemoryLogs(),\n      getJSONStringifyReplacer(),\n      2,\n    );\n\n    // Requests the main process to save logs in a file\n    await ipcRenderer.invoke(\"save-logs\", path, memoryLogsStr);\n  } catch (error) {\n    console.error(\"Error while requesting to save logs from the renderer process\", error);\n  }\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/helpers/systemLocale.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/helpers/tokensWithUnsupportedGraph.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/helpers/user.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/index.ts","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":5,"column":23,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":5,"endColumn":45},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":7,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":7,"endColumn":41},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":11,"column":1,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":11,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/* eslint-disable @typescript-eslint/no-var-requires */\nimport { getEnv } from \"@ledgerhq/live-env\";\n\nif (getEnv(\"PLAYWRIGHT_RUN\") && getEnv(\"MOCK\")) {\n  const timemachine = require(\"timemachine\");\n  timemachine.config({\n    dateString: require(\"../tests/time\").default,\n  });\n}\n\nrequire(\"./main\");\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/live-common-set-supported-currencies.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/live-common-setup-base.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/main/db/crypto.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-deprecated","severity":2,"message":"`slice` is deprecated. Use `subarray` instead.","line":34,"column":12,"nodeType":"Identifier","messageId":"deprecatedWithReason","endLine":34,"endColumn":17,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-deprecated","severity":2,"message":"`slice` is deprecated. Use `subarray` instead.","line":35,"column":39,"nodeType":"Identifier","messageId":"deprecatedWithReason","endLine":35,"endColumn":44,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-deprecated","severity":2,"message":"`slice` is deprecated. Use `subarray` instead.","line":44,"column":48,"nodeType":"Identifier","messageId":"deprecatedWithReason","endLine":44,"endColumn":53,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-deprecated","severity":2,"message":"`createDecipher` is deprecated. since v10.0.0 use `createDecipheriv()`","line":51,"column":27,"nodeType":"Identifier","messageId":"deprecatedWithReason","endLine":51,"endColumn":41,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/main/db/fsHelper.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/main/db/index.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":65,"column":10,"nodeType":"TSAsExpression","messageId":"never","endLine":65,"endColumn":34},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":174,"column":25,"nodeType":"TSAsExpression","messageId":"never","endLine":174,"endColumn":66},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":175,"column":10,"nodeType":"TSAsExpression","messageId":"never","endLine":175,"endColumn":63},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":217,"column":13,"nodeType":"TSAsExpression","messageId":"never","endLine":217,"endColumn":28}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { log } from \"@ledgerhq/logs\";\nimport path from \"path\";\nimport cloneDeep from \"lodash/cloneDeep\";\nimport get from \"lodash/get\";\nimport set from \"lodash/set\";\nimport fs from \"fs/promises\";\nimport { getEnv } from \"@ledgerhq/live-env\";\nimport { NoDBPathGiven, DBWrongPassword } from \"@ledgerhq/errors\";\nimport { encryptData, decryptData } from \"~/main/db/crypto\";\nimport { readFile, writeFile } from \"~/main/db/fsHelper\";\n\nconst debounce = <T, R>(fn: (...args: T[]) => R, ms: number) => {\n  let timeout: NodeJS.Timeout | undefined;\n  let resolveRefs: Array<(value: R | PromiseLike<R>) => void> = [];\n  let rejectRefs: Array<(error: unknown) => void> = [];\n  return (...args: T[]) => {\n    const promise: Promise<R> = new Promise((resolve, reject) => {\n      resolveRefs.push(resolve);\n      rejectRefs.push(reject);\n    });\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n    timeout = setTimeout(async () => {\n      try {\n        const res = await fn(...args);\n        resolveRefs.forEach(r => r(res));\n      } catch (err) {\n        rejectRefs.forEach(r => r(err));\n      }\n      resolveRefs = [];\n      rejectRefs = [];\n    }, ms);\n    return promise;\n  };\n};\n\nlet DBPath: string | null = null;\nlet memoryNamespaces: Record<string, Record<string, unknown> | null | undefined> = {};\nlet encryptionKeys: Record<string, Record<string, string> | null | undefined> = {};\nconst DEBOUNCE_MS =\n  process.env.NODE_ENV === \"test\" || getEnv(\"PLAYWRIGHT_RUN\") || getEnv(\"MOCK\") ? 16 : 500;\nconst save = debounce(saveToDisk, DEBOUNCE_MS);\n\n/**\n * Reset memory state, db path, encryption keys, transforms..\n */\nfunction init(_DBPath: string) {\n  DBPath = _DBPath;\n  memoryNamespaces = {};\n  encryptionKeys = {};\n}\n\n/**\n * Load a namespace, using <file>.json\n */\nasync function load(ns: string): Promise<unknown> {\n  try {\n    if (!DBPath) throw new NoDBPathGiven();\n    const filePath = path.resolve(DBPath, `${ns}.json`);\n    const fileContent = await readFile(filePath);\n    const { data } = JSON.parse(fileContent.toString());\n    memoryNamespaces[ns] = data;\n  } catch (err) {\n    if ((err as { code?: string })?.code === \"ENOENT\") {\n      memoryNamespaces[ns] = {};\n      await save(ns);\n    } else {\n      console.error(err);\n      throw err;\n    }\n  }\n  return memoryNamespaces[ns];\n}\nasync function ensureNSLoaded(ns: string) {\n  if (!memoryNamespaces[ns]) {\n    await load(ns);\n  }\n}\n\n/**\n * In the event of a user refreshing the app we need to reload the data\n * to ensure the lock/unlock detection is still valid.\n */\nasync function reload() {\n  if (DBPath) init(DBPath);\n}\n\n/**\n * define all db paths where we need encryption\n */\nconst encryptedDataPaths = [\n  [\"app\", \"accounts\"],\n  [\"app\", \"trustchain\"],\n  [\"app\", \"wallet\"],\n];\n\n/**\n * Register a keyPath in db that is encrypted\n * This will decrypt the keyPath at this moment, and will be used\n * in `save` to encrypt it back\n */\nasync function setEncryptionKey(encryptionKey: string): Promise<void> {\n  const nsToSave = new Set<string>();\n\n  for (const [ns, keyPath] of encryptedDataPaths) {\n    nsToSave.add(ns);\n    if (!encryptionKeys[ns]) encryptionKeys[ns] = {};\n    encryptionKeys[ns]![keyPath] = encryptionKey;\n  }\n\n  for (const [ns, keyPath] of encryptedDataPaths) {\n    const val = await getKey(ns, keyPath, null);\n\n    // no need to decode if already decoded\n    if (!val || typeof val !== \"string\") {\n      continue;\n    }\n    try {\n      let decrypted = JSON.parse(decryptData(val, encryptionKey));\n\n      // handle the case when we just migrated from the previous storage\n      // which stored the data in binary with a `data` key\n      for (const path of encryptedDataPaths) {\n        if (ns === path[0] && keyPath === path[1] && decrypted.data) {\n          decrypted = decrypted.data;\n          break;\n        }\n      }\n\n      // only set decrypted data in memory\n      set(memoryNamespaces[ns]!, keyPath, decrypted);\n    } catch (err) {\n      log(\"db\", \"setEncryptionKey failure: \" + String(err));\n      console.error(err);\n      throw new DBWrongPassword();\n    }\n  }\n\n  for (const ns of nsToSave) {\n    await save(ns);\n  }\n}\nasync function removeEncryptionKey() {\n  const nsToSave = new Set<string>();\n  for (const [ns, keyPath] of encryptedDataPaths) {\n    nsToSave.add(ns);\n    set(encryptionKeys, `${ns}.${keyPath}`, undefined);\n  }\n\n  for (const ns of nsToSave) {\n    await save(ns);\n  }\n}\n\n/**\n * Set a key in the given namespace\n */\nasync function setKey<K>(ns: string, keyPath: string, value: K): Promise<void> {\n  await ensureNSLoaded(ns);\n  set(memoryNamespaces[ns]!, keyPath, value);\n  return save(ns);\n}\n\n/**\n * Get a key in the given namespace\n */\nasync function getKey<V>(\n  ns: string,\n  keyPath: string,\n  defaultValue?: V,\n): Promise<V | Record<string, V> | undefined> {\n  await ensureNSLoaded(ns);\n  if (!keyPath) return (memoryNamespaces[ns] as Record<string, V>) || defaultValue;\n  return get(memoryNamespaces[ns], keyPath, defaultValue) as V;\n}\n\n/**\n * Check if a key has been decrypted\n *\n * /!\\ it consider encrypted if it's string and can't JSON.parse, so\n *     can brings false-positive if bad used\n */\nasync function hasBeenDecrypted(): Promise<boolean> {\n  // conventionally we check the first path\n  const [ns, keyPath] = encryptedDataPaths[0];\n  const v = await getKey(ns, keyPath);\n  if (typeof v !== \"string\") return true;\n  try {\n    JSON.parse(v);\n    return true;\n  } catch {\n    return false;\n  }\n}\n\n/**\n * Save given namespace to corresponding file, in atomic way\n */\nasync function saveToDisk(ns: string) {\n  if (!DBPath) throw new NoDBPathGiven();\n  await ensureNSLoaded(ns);\n\n  // cloning because we are mutating the obj\n  const clone = cloneDeep(memoryNamespaces[ns]);\n\n  // encrypt fields\n  const namespacedEncryptionKeys = encryptionKeys[ns];\n  if (namespacedEncryptionKeys) {\n    for (const keyPath in namespacedEncryptionKeys) {\n      if (namespacedEncryptionKeys.hasOwnProperty(keyPath)) {\n        const encryptionKey = namespacedEncryptionKeys[keyPath];\n        if (!encryptionKey) continue; // eslint-disable-line no-continue\n        const val = get(clone, keyPath);\n        if (!val) continue; // eslint-disable-line no-continue\n        const encrypted = encryptData(JSON.stringify(val), encryptionKey);\n        set(clone as object, keyPath, encrypted);\n      }\n    }\n  }\n  const fileContent = JSON.stringify({\n    data: clone,\n  });\n  await writeFile(path.resolve(DBPath, `${ns}.json`), fileContent);\n}\nasync function cleanCache() {\n  await setKey(\"app\", \"countervalues\", null);\n  await save(\"app\");\n}\nasync function resetAll() {\n  if (!DBPath) throw new NoDBPathGiven();\n  memoryNamespaces.app = null;\n  encryptionKeys = {}; // Clear encryption keys to prevent re-encryption of old data\n  await fs.unlink(path.resolve(DBPath, \"app.json\"));\n}\nfunction isEncryptionKeyCorrect(encryptionKey: string) {\n  const [ns, keyPath] = encryptedDataPaths[0]; // conventionally we check the first path\n  try {\n    return encryptionKeys[ns]![keyPath] === encryptionKey;\n  } catch {\n    return false;\n  }\n}\nfunction hasEncryptionKey() {\n  const [ns, keyPath] = encryptedDataPaths[0]; // conventionally we check the first path\n  try {\n    return !!encryptionKeys[ns]![keyPath];\n  } catch {\n    return false;\n  }\n}\n\nexport default {\n  init,\n  reload,\n  load,\n  setEncryptionKey,\n  removeEncryptionKey,\n  isEncryptionKeyCorrect,\n  hasEncryptionKey,\n  setKey,\n  getKey,\n  hasBeenDecrypted,\n  cleanCache,\n  resetAll,\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/main/env.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/main/index.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":119,"column":20,"nodeType":"TSAsExpression","messageId":"never","endLine":119,"endColumn":73},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":120,"column":22,"nodeType":"TSAsExpression","messageId":"never","endLine":120,"endColumn":62},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":193,"column":24,"nodeType":"TSAsExpression","messageId":"never","endLine":195,"endColumn":7}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import fs from \"fs\";\nimport path from \"path\";\nimport \"./starts-console\";\nimport \"./setup\"; // Needs to be imported first\nimport {\n  app,\n  Menu,\n  ipcMain,\n  session,\n  webContents,\n  shell,\n  type BrowserWindow,\n  dialog,\n  protocol,\n} from \"electron\";\nimport Store from \"electron-store\";\nimport menu from \"./menu\";\nimport {\n  createEarlyMainWindow,\n  applyWindowParams,\n  getMainWindow,\n  getMainWindowAsync,\n  loadWindow,\n} from \"./window-lifecycle\";\nimport db from \"./db\";\nimport debounce from \"lodash/debounce\";\nimport sentry, { setTags } from \"~/sentry/main\";\nimport type { SettingsState } from \"~/renderer/reducers/settings\";\nimport type { User } from \"~/renderer/storage\";\nimport {\n  installExtension,\n  REDUX_DEVTOOLS,\n  REACT_DEVELOPER_TOOLS,\n} from \"electron-devtools-installer\";\nimport { setupTransportHandlers, cleanupTransports } from \"./transportHandler\";\n// End import timing, start initialization\nconsole.timeEnd(\"T-imports\");\nconsole.time(\"T-init\");\n\nsetUserDataPath();\n\nStore.initRenderer();\n\nconst SUPPORTED_SCHEMES = [\"ledgerlive\", \"ledgerwallet\"];\n\nconst gotLock = app.requestSingleInstanceLock();\nconst { LEDGER_CONFIG_DIRECTORY } = process.env;\nconst userDataDirectory = LEDGER_CONFIG_DIRECTORY || app.getPath(\"userData\");\n\nif (!gotLock) {\n  app.quit();\n} else {\n  app.on(\"second-instance\", (event, commandLine) => {\n    const w = getMainWindow();\n    if (w) {\n      if (w.isMinimized()) {\n        w.restore();\n      }\n      w.focus();\n\n      // Deep linking for when the app is already running (Windows, Linux)\n      if (process.platform === \"win32\" || process.platform === \"linux\") {\n        const uri = commandLine.filter(arg =>\n          SUPPORTED_SCHEMES.some(scheme => arg.startsWith(`${scheme}://`)),\n        );\n        if (uri.length) {\n          if (\"send\" in w.webContents) {\n            w.webContents.send(\"deep-linking\", uri[0]);\n          }\n        }\n      }\n    }\n  });\n}\napp.on(\"activate\", () => {\n  const w = getMainWindow();\n  if (w) {\n    w.focus();\n  }\n});\napp.on(\"will-finish-launching\", () => {\n  // macOS deepLink\n  app.on(\"open-url\", (event, url) => {\n    event.preventDefault();\n    getMainWindowAsync()\n      .then(w => {\n        if (w) {\n          show(w);\n          if (\"send\" in w.webContents) {\n            w.webContents.send(\"deep-linking\", url);\n          }\n        }\n      })\n      .catch((err: unknown) => console.log(err));\n  });\n});\n\napp.on(\"ready\", async () => {\n  console.timeEnd(\"T-init\");\n  app.dirname = __dirname;\n\n  // Measure window creation time\n  console.time(\"T-window\");\n  const window = createEarlyMainWindow();\n  console.timeEnd(\"T-window\");\n\n  // Initialize database\n  db.init(userDataDirectory);\n\n  // Defer extension installation to not block startup\n  if (__DEV__) {\n    setImmediate(() => {\n      installExtensions().catch(console.error);\n    });\n  }\n\n  // Measure database initialization and first reads\n  console.time(\"T-db\");\n  const settings = (await db.getKey(\"app\", \"settings\")) as SettingsState;\n  const user: User = (await db.getKey(\"app\", \"user\")) as User;\n  console.timeEnd(\"T-db\");\n  const userId = user?.id;\n  if (userId) {\n    sentry(() => settings?.sentryLogs, userId);\n  }\n\n  // Set up transport handlers for Speculos and HTTP proxy in main process\n  setupTransportHandlers();\n\n  /**\n   * Clears the session’s HTTP cache\n   * Used to remove third party cached auth tokens, among other things\n   */\n  ipcMain.handle(\"clearStorageData\", () => {\n    const defaultSession = session.defaultSession;\n    return defaultSession.clearStorageData();\n  });\n  ipcMain.handle(\"getKey\", (event, { ns, keyPath, defaultValue }) => {\n    return db.getKey(ns, keyPath, defaultValue);\n  });\n  ipcMain.handle(\"setKey\", (event, { ns, keyPath, value }) => {\n    return db.setKey(ns, keyPath, value);\n  });\n  ipcMain.handle(\"hasEncryptionKey\", () => {\n    return db.hasEncryptionKey();\n  });\n  ipcMain.handle(\"setEncryptionKey\", (event, { encryptionKey }) => {\n    return db.setEncryptionKey(encryptionKey);\n  });\n  ipcMain.handle(\"removeEncryptionKey\", () => {\n    return db.removeEncryptionKey();\n  });\n  ipcMain.handle(\"isEncryptionKeyCorrect\", (event, { encryptionKey }) => {\n    return db.isEncryptionKeyCorrect(encryptionKey);\n  });\n  ipcMain.handle(\"hasBeenDecrypted\", () => {\n    return db.hasBeenDecrypted();\n  });\n  ipcMain.handle(\"resetAll\", () => {\n    return db.resetAll();\n  });\n  ipcMain.handle(\"reload\", () => {\n    return db.reload();\n  });\n  ipcMain.handle(\"cleanCache\", () => {\n    return db.cleanCache();\n  });\n  ipcMain.handle(\"reloadRenderer\", () => {\n    console.log(\"reloading renderer ...\");\n    loadWindow();\n  });\n  ipcMain.handle(\"set-sentry-tags\", (event, tags) => {\n    setTags(tags);\n  });\n\n  // To handle opening new windows from webview\n  // cf. https://gist.github.com/codebytere/409738fcb7b774387b5287db2ead2ccb\n  ipcMain.on(\"webview-dom-ready\", (_, id) => {\n    const wc = webContents.fromId(id);\n    wc?.setWindowOpenHandler(({ url }) => {\n      const protocol = new URL(url).protocol;\n      if ([\"https:\", \"http:\"].includes(protocol)) {\n        shell.openExternal(url);\n      }\n      return {\n        action: \"deny\",\n      };\n    });\n  });\n  Menu.setApplicationMenu(menu);\n\n  // Apply window parameters now that we have DB data\n  const windowParams = (await db.getKey(\"windowParams\", \"MainWindow\", {})) as Parameters<\n    typeof applyWindowParams\n  >[0];\n  await applyWindowParams(windowParams, settings);\n\n  // Setup window event handlers\n  window.on(\n    \"resize\",\n    debounce(() => {\n      if (!window || window.isDestroyed()) return;\n      const [width, height] = window.getSize();\n      db.setKey(\"windowParams\", `${window.name}.dimensions`, {\n        width,\n        height,\n      });\n    }, 300),\n  );\n  window.on(\n    \"move\",\n    debounce(() => {\n      if (!window || window.isDestroyed()) return;\n      const [x, y] = window.getPosition();\n      db.setKey(\"windowParams\", `${window.name}.positions`, {\n        x,\n        y,\n      });\n    }, 300),\n  );\n\n  if (__DEV__ || process.env.PLAYWRIGHT_RUN) {\n    // Catch ledgerlive:// deep-link requests in dev mode from the app or live-apps\n    // We cannot get deep-links from outside the app, from the browser for example\n    SUPPORTED_SCHEMES.forEach(scheme => {\n      protocol.handle(scheme, request => {\n        const url = request.url;\n        getMainWindowAsync()\n          .then(w => {\n            if (w) {\n              show(w);\n              if (\"send\" in w.webContents) {\n                w.webContents.send(\"deep-linking\", url);\n              }\n            }\n          })\n          .catch((err: unknown) => console.log(err));\n\n        return new Response();\n      });\n    });\n  }\n\n  await clearSessionCache(window.webContents.session);\n});\n\n// Cleanup transports on app shutdown\napp.on(\"before-quit\", () => {\n  console.log(\"App shutting down, cleaning up transports...\");\n  cleanupTransports();\n});\n\napp.on(\"window-all-closed\", () => {\n  cleanupTransports();\n  app.quit();\n});\n\nipcMain.on(\"set-background-color\", (_, color) => {\n  const w = getMainWindow();\n  if (w) {\n    w.setBackgroundColor(color);\n  }\n});\n\nipcMain.on(\"app-quit\", () => {\n  app.quit();\n});\n\nipcMain.handle(\"show-open-dialog\", (_, opts) => dialog.showOpenDialog(opts));\nipcMain.handle(\"show-save-dialog\", (_, opts) => dialog.showSaveDialog(opts));\n\nipcMain.on(\"deep-linking\", (_, l) => {\n  const win = getMainWindow();\n  if (win) win.webContents.send(\"deep-linking\", l);\n});\n\nipcMain.on(\"app-reload\", () => {\n  const w = getMainWindow();\n  if (w) {\n    w.reload();\n  }\n});\nipcMain.on(\"show-app\", () => {\n  const w = getMainWindow();\n  if (w) {\n    show(w);\n  }\n});\n\nipcMain.on(\"ready-to-show\", () => {\n  console.timeEnd(\"T-ready\");\n  const totalTime = process.uptime() * 1000;\n  console.log(`TOTAL BOOT TIME: ${totalTime.toFixed(0)}ms`);\n  const w = getMainWindow();\n  if (w) {\n    show(w);\n\n    // Deep linking for when the app is not running already (Windows, Linux)\n    if (process.platform === \"win32\" || process.platform === \"linux\") {\n      const { argv } = process;\n      const uri = argv.filter(arg =>\n        SUPPORTED_SCHEMES.some(scheme => arg.startsWith(`${scheme}://`)),\n      );\n      if (uri.length) {\n        show(w);\n        if (\"send\" in w.webContents) {\n          w.webContents.send(\"deep-linking\", uri[0]);\n        }\n      }\n    }\n  }\n});\n\n// Keep using \"Ledger Live\" in the userData path for backward compatibility.\n// This way users could even rollback to older versions and keep their data.\n// While a migration would only work for future versions.\nfunction setUserDataPath() {\n  const currentName = app.getName();\n  const defaultPath = app.getPath(\"userData\");\n\n  if (\n    process.env.LEDGER_CONFIG_DIRECTORY ||\n    !app.getPath(\"userData\").endsWith(currentName) ||\n    fs.existsSync(path.resolve(defaultPath, \"app.json\")) // Don't change if the default path already exists this could allow a migration later\n  ) {\n    return;\n  }\n\n  const legacyName = currentName.replace(\"Ledger Wallet\", \"Ledger Live\");\n  app.setPath(\"userData\", `${defaultPath.slice(0, -currentName.length)}${legacyName}`);\n}\n\nasync function installExtensions() {\n  // https://github.com/MarshallOfSound/electron-devtools-installer#usage\n  app.whenReady().then(() => {\n    installExtension([REDUX_DEVTOOLS, REACT_DEVELOPER_TOOLS], {\n      loadExtensionOptions: {\n        allowFileAccess: true,\n      },\n    }).catch(console.error);\n  });\n}\n\nfunction clearSessionCache(session: Electron.Session): Promise<void> {\n  return session.clearCache();\n}\nfunction show(win: BrowserWindow) {\n  win.show();\n  setImmediate(() => win.focus());\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/main/logger.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/main/menu.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":30,"column":14,"nodeType":"TSAsExpression","messageId":"never","endLine":63,"endColumn":38}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { app, Menu, MenuItemConstructorOptions, OpenDevToolsOptions } from \"electron\";\nimport { getMainWindow } from \"./window-lifecycle\";\nconst { DEV_TOOLS, DEV_TOOLS_MODE } = process.env;\n\nconst template: MenuItemConstructorOptions[] = [\n  {\n    label: app.name,\n    submenu: [\n      { role: \"hide\" },\n      { role: \"hideOthers\" },\n      { role: \"unhide\" },\n      { type: \"separator\" },\n      { role: \"quit\" },\n    ],\n  },\n  {\n    label: \"Edit\",\n    submenu: [\n      { role: \"undo\" },\n      { role: \"redo\" },\n      { type: \"separator\" },\n      { role: \"cut\" },\n      { role: \"copy\" },\n      { role: \"paste\" },\n      { role: \"selectAll\" },\n    ],\n  },\n  {\n    role: \"window\",\n    submenu: [\n      ...(__DEV__ || DEV_TOOLS\n        ? [\n            {\n              label: \"Main Window Dev Tools\",\n              click() {\n                const mainWindow = getMainWindow();\n                let mode: OpenDevToolsOptions[\"mode\"] = \"bottom\";\n                if (\n                  DEV_TOOLS_MODE &&\n                  (DEV_TOOLS_MODE === \"detach\" ||\n                    DEV_TOOLS_MODE === \"right\" ||\n                    DEV_TOOLS_MODE === \"left\" ||\n                    DEV_TOOLS_MODE === \"bottom\" ||\n                    DEV_TOOLS_MODE === \"undocked\")\n                ) {\n                  mode = DEV_TOOLS_MODE;\n                }\n                mainWindow?.webContents.openDevTools({\n                  mode,\n                });\n              },\n            },\n            {\n              type: \"separator\",\n            },\n          ]\n        : []),\n      { role: \"close\" },\n      { role: \"minimize\" },\n      { role: \"zoom\" },\n      { type: \"separator\" },\n      { role: \"front\" },\n    ] as MenuItemConstructorOptions[],\n  },\n];\n\n/*\n https://www.electronjs.org/docs/api/menu#menusetapplicationmenumenu\n To get rid of the menubar on windows/linux we need `null` ↓\n*/\nexport default process.platform === \"darwin\" ? Menu.buildFromTemplate(template) : null;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/main/mergeAllLogs.test.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":5,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":5,"endColumn":58},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":6,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":6,"endColumn":58},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":7,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":7,"endColumn":84},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":8,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":8,"endColumn":58},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":9,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":9,"endColumn":84}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Log } from \"./logger\";\nimport { mergeAllLogs, mergeAllLogsJSON, MergeResult } from \"./mergeAllLogs\";\n\nconst internalLogsChronological: Array<Log> = [\n  { date: new Date(1), message: \"Internal log 1\" } as Log,\n  { date: new Date(2), message: \"Internal log 2\" } as Log,\n  { date: new Date(2), message: \"Internal log 3 (same date as internal 2)\" } as Log,\n  { date: new Date(4), message: \"Internal log 4\" } as Log,\n  { date: new Date(4), message: \"Internal log 5 (same date as internal 4)\" } as Log,\n];\n\nconst rendererLogsChronological: Array<{ timestamp: string; message: string }> = [\n  { timestamp: new Date(1).toISOString(), message: \"Renderer log 1 (same date as internal 1)\" },\n  { timestamp: new Date(3).toISOString(), message: \"Renderer log 2\" },\n  { timestamp: new Date(3).toISOString(), message: \"Renderer log 3\" },\n  { timestamp: new Date(4).toISOString(), message: \"Renderer log 4 (same date as internal 4)\" },\n  { timestamp: new Date(5).toISOString(), message: \"Renderer log 5\" },\n];\n\nconst expectedMergedLogs: MergeResult = [\n  {\n    message:\n      \"Exporting logs: Only the last 8 logs are saved. To change this limit, set the EXPORT_MAX_LOGS env variable.\",\n    logIndex: 0,\n    pname: \"electron-main\",\n    timestamp: \"1970-01-01T00:00:00.000Z\",\n    type: \"exportLogsMeta\",\n  },\n  {\n    timestamp: \"1970-01-01T00:00:00.002Z\",\n    message: \"Internal log 2\",\n    pname: \"electron-internal\",\n    logIndex: 2,\n  },\n  {\n    timestamp: \"1970-01-01T00:00:00.002Z\",\n    message: \"Internal log 3 (same date as internal 2)\",\n    pname: \"electron-internal\",\n    logIndex: 3,\n  },\n  {\n    message: \"Renderer log 2\",\n    pname: \"electron-renderer\",\n    timestamp: \"1970-01-01T00:00:00.003Z\",\n    logIndex: 4,\n  },\n  {\n    message: \"Renderer log 3\",\n    pname: \"electron-renderer\",\n    timestamp: \"1970-01-01T00:00:00.003Z\",\n    logIndex: 5,\n  },\n  {\n    message: \"Renderer log 4 (same date as internal 4)\",\n    pname: \"electron-renderer\",\n    timestamp: \"1970-01-01T00:00:00.004Z\",\n    logIndex: 6,\n  },\n  {\n    timestamp: \"1970-01-01T00:00:00.004Z\",\n    message: \"Internal log 4\",\n    pname: \"electron-internal\",\n    logIndex: 7,\n  },\n  {\n    timestamp: \"1970-01-01T00:00:00.004Z\",\n    message: \"Internal log 5 (same date as internal 4)\",\n    pname: \"electron-internal\",\n    logIndex: 8,\n  },\n  {\n    message: \"Renderer log 5\",\n    pname: \"electron-renderer\",\n    timestamp: \"1970-01-01T00:00:00.005Z\",\n    logIndex: 9,\n  },\n];\n\nconst expectedMergedLogsJSON = `\\\n[\n  {\n    \"logIndex\": 0,\n    \"timestamp\": \"1970-01-01T00:00:00.000Z\",\n    \"pname\": \"electron-main\",\n    \"type\": \"exportLogsMeta\",\n    \"message\": \"Exporting logs: Only the last 8 logs are saved. To change this limit, set the EXPORT_MAX_LOGS env variable.\"\n  },\n  {\n    \"logIndex\": 2,\n    \"timestamp\": \"1970-01-01T00:00:00.002Z\",\n    \"pname\": \"electron-internal\",\n    \"message\": \"Internal log 2\"\n  },\n  {\n    \"logIndex\": 3,\n    \"timestamp\": \"1970-01-01T00:00:00.002Z\",\n    \"pname\": \"electron-internal\",\n    \"message\": \"Internal log 3 (same date as internal 2)\"\n  },\n  {\n    \"logIndex\": 4,\n    \"timestamp\": \"1970-01-01T00:00:00.003Z\",\n    \"pname\": \"electron-renderer\",\n    \"message\": \"Renderer log 2\"\n  },\n  {\n    \"logIndex\": 5,\n    \"timestamp\": \"1970-01-01T00:00:00.003Z\",\n    \"pname\": \"electron-renderer\",\n    \"message\": \"Renderer log 3\"\n  },\n  {\n    \"logIndex\": 6,\n    \"timestamp\": \"1970-01-01T00:00:00.004Z\",\n    \"pname\": \"electron-renderer\",\n    \"message\": \"Renderer log 4 (same date as internal 4)\"\n  },\n  {\n    \"logIndex\": 7,\n    \"timestamp\": \"1970-01-01T00:00:00.004Z\",\n    \"pname\": \"electron-internal\",\n    \"message\": \"Internal log 4\"\n  },\n  {\n    \"logIndex\": 8,\n    \"timestamp\": \"1970-01-01T00:00:00.004Z\",\n    \"pname\": \"electron-internal\",\n    \"message\": \"Internal log 5 (same date as internal 4)\"\n  },\n  {\n    \"logIndex\": 9,\n    \"timestamp\": \"1970-01-01T00:00:00.005Z\",\n    \"pname\": \"electron-renderer\",\n    \"message\": \"Renderer log 5\"\n  }\n]`;\n\ndescribe(\"mergeAllLogs\", () => {\n  it(\"should merge logs from the renderer process and logs recorded from the main process\", () => {\n    const mergedLogs = mergeAllLogs(rendererLogsChronological, internalLogsChronological, 8);\n\n    console.log(\"mergedLogs\", mergedLogs);\n\n    expect(mergedLogs).toEqual(expectedMergedLogs);\n  });\n});\n\ndescribe(\"mergeAllLogsJSON\", () => {\n  it(\"return the merged logs with their keys properly ordered (logIndex, then date, then process, then message)\", () => {\n    const mergedLogsJSON = mergeAllLogsJSON(\n      rendererLogsChronological,\n      internalLogsChronological,\n      8,\n    );\n\n    expect(mergedLogsJSON).toEqual(expectedMergedLogsJSON);\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/main/mergeAllLogs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/main/setup.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":140,"column":27,"nodeType":"TSAsExpression","messageId":"never","endLine":140,"endColumn":39}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import \"./env\";\nimport \"~/live-common-setup-base\";\nimport { captureException } from \"~/sentry/main\";\nimport { app, ipcMain, powerSaveBlocker, shell } from \"electron\";\nimport contextMenu from \"electron-context-menu\";\nimport { log } from \"@ledgerhq/logs\";\nimport fs from \"fs/promises\";\nimport updater from \"./updater\";\nimport path from \"path\";\nimport { mergeAllLogsJSON } from \"./mergeAllLogs\";\nimport { InMemoryLogger } from \"./logger\";\nimport { getEnv, setEnvUnsafe } from \"@ledgerhq/live-env\";\n\n/**\n * Sets env variables for the main process.\n *\n * The renderer process will also set some env variables via the `setEnv` IPC channel\n * but we might need some envs before the renderer process is spawned.\n */\nfor (const k in process.env) {\n  setEnvUnsafe(k, process.env[k]);\n}\n\nipcMain.on(\"mainCrashTest\", () => {\n  captureException(new Error(\"CrashTestMain\"));\n});\n\nipcMain.on(\"updater\", (e, type) => {\n  updater(type);\n});\n\n/**\n * Saves logs from the renderer process to a file.\n */\nipcMain.handle(\n  \"save-logs\",\n  async (_event, path: Electron.SaveDialogReturnValue, rendererLogsStr: string) => {\n    if (!path.canceled && path.filePath) {\n      const inMemoryLogger = InMemoryLogger.getLogger();\n      const internalLogsChronological = inMemoryLogger.getLogs().reverse(); // The logs are in reverse order.\n\n      // The deserialization would have been done internally by electron if `rendererLogs` was passed directly as a JS object/array.\n      // But it avoids certain issues with the serialization/deserialization done by electron.\n      let rendererLogsChronological: Array<{ timestamp: string }> = [];\n      try {\n        rendererLogsChronological = JSON.parse(rendererLogsStr).reverse(); // The logs are in reverse order.\n      } catch (error) {\n        console.error(\"Error while parsing logs from the renderer process\", error);\n        return;\n      }\n\n      fs.writeFile(\n        path.filePath,\n        mergeAllLogsJSON(\n          rendererLogsChronological,\n          internalLogsChronological,\n          getEnv(\"EXPORT_MAX_LOGS\"),\n        ),\n      );\n    } else {\n      console.warn(\"No path given to save logs\");\n    }\n  },\n);\n\nipcMain.handle(\"openUserDataDirectory\", () => shell.openPath(app.getPath(\"userData\")));\n\nipcMain.handle(\"getPathUserData\", () => app.getPath(\"userData\"));\n\nipcMain.handle(\"getPathHome\", () => app.getPath(\"home\"));\n\nipcMain.handle(\n  \"export-operations\",\n  async (\n    event,\n    path: {\n      canceled: boolean;\n      filePath: string;\n    },\n    csv: string,\n  ): Promise<boolean> => {\n    try {\n      if (!path.canceled && path.filePath && csv) {\n        await fs.writeFile(path.filePath, csv);\n        return true;\n      }\n    } catch {\n      // ignore\n    }\n    return false;\n  },\n);\n\nconst lssFileName = \"lss.json\";\nipcMain.handle(\"generate-lss-config\", async (event, data: string): Promise<boolean> => {\n  const userDataDirectory = app.getPath(\"userData\");\n  const filePath = path.resolve(userDataDirectory, lssFileName);\n  if (filePath) {\n    if (filePath && data) {\n      await fs.writeFile(filePath, data, { mode: \"640\" });\n      log(\"satstack\", \"wrote to lss.json file\");\n      return true;\n    }\n  }\n  return false;\n});\n\nipcMain.handle(\"delete-lss-config\", async (): Promise<boolean> => {\n  const userDataDirectory = app.getPath(\"userData\");\n  const filePath = path.resolve(userDataDirectory, lssFileName);\n  if (filePath) {\n    await fs.unlink(filePath);\n    log(\"satstack\", \"deleted lss.json file\");\n    return true;\n  }\n  return false;\n});\n\nipcMain.handle(\"load-lss-config\", async (): Promise<string | undefined | null> => {\n  try {\n    const userDataDirectory = app.getPath(\"userData\");\n    const filePath = path.resolve(userDataDirectory, lssFileName);\n    if (filePath) {\n      const contents = await fs.readFile(filePath, \"utf8\");\n      log(\"satstack\", `loaded lss.json file with length ${contents.length}`);\n      return contents;\n    }\n  } catch {\n    log(\"satstack\", \"tried to load lss.json\");\n  }\n  return undefined;\n});\n\nipcMain.handle(\"activate-keep-screen-awake\", () => {\n  return powerSaveBlocker.start(\"prevent-display-sleep\");\n});\n\nipcMain.handle(\"deactivate-keep-screen-awake\", (_ev, id?: number) => {\n  if (id !== undefined && !Number.isNaN(id)) {\n    powerSaveBlocker.stop(id as number);\n  }\n});\n\nprocess.setMaxListeners(0);\n\n// In production mode, we do not want Electron's default GUI to show the error. Instead we will output to the console.\nif (!__DEV__) {\n  process.on(\"uncaughtException\", function (error) {\n    const stack = error.stack ? error.stack : `${error.name}: ${error.message}`;\n    const message = \"Uncaught Exception:\\n\" + stack;\n    console.error(message);\n  });\n}\n\ncontextMenu({\n  showInspectElement: __DEV__,\n  showCopyImageAddress: false,\n  // TODO: i18n for labels\n  labels: {\n    cut: \"Cut\",\n    copy: \"Copy\",\n    paste: \"Paste\",\n    copyLink: \"Copy Link\",\n    inspect: \"Inspect element\",\n  },\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/main/starts-console.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/main/transportHandler.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":51,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":51,"endColumn":33},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":58,"column":16,"nodeType":"TSAsExpression","messageId":"never","endLine":58,"endColumn":46},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":86,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":86,"endColumn":33},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":93,"column":16,"nodeType":"TSAsExpression","messageId":"never","endLine":93,"endColumn":46},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":114,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":114,"endColumn":33},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":138,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":138,"endColumn":33},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":145,"column":16,"nodeType":"TSAsExpression","messageId":"never","endLine":145,"endColumn":46},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":158,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":158,"endColumn":33},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":174,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":174,"endColumn":33}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Direct transport handling in main process for Speculos and HTTP proxy\n * No more internal process - much simpler!\n */\nimport { ipcMain } from \"electron\";\nimport { log } from \"@ledgerhq/logs\";\nimport Transport from \"@ledgerhq/hw-transport\";\nimport TransportHttp from \"@ledgerhq/hw-transport-http\";\nimport {\n  DeviceManagementKitTransportSpeculos,\n  SpeculosHttpTransportOpts,\n} from \"@ledgerhq/live-dmk-speculos\";\n\nconst LOG_TYPE = \"main-transport-handler\";\n\n// Store active transports\nconst activeTransports = new Map<string, Transport>();\n\nexport function setupTransportHandlers() {\n  log(LOG_TYPE, \"Setting up transport handlers in main process\");\n\n  // Handle transport open\n  ipcMain.handle(\"transport:open\", async (event, { requestId, descriptor, timeout }) => {\n    try {\n      log(LOG_TYPE, \"transport open\", { descriptor, requestId });\n\n      let transport;\n\n      if (descriptor?.includes(\"speculos\") || process.env.SPECULOS_API_PORT) {\n        // Speculos transport\n        const req: SpeculosHttpTransportOpts = {\n          apiPort: String(process.env.SPECULOS_API_PORT || \"5000\"),\n        };\n        transport = await DeviceManagementKitTransportSpeculos.open(req);\n      } else if (process.env.DEVICE_PROXY_URL) {\n        // HTTP proxy transport\n        const TransportHttpProxy = TransportHttp(process.env.DEVICE_PROXY_URL.split(\"|\"));\n        transport = await TransportHttpProxy.create(timeout || 3000, timeout || 5000);\n      } else {\n        throw new Error(\"No suitable transport found for descriptor: \" + descriptor);\n      }\n\n      activeTransports.set(requestId, transport);\n\n      return {\n        type: \"open-response\",\n        requestId,\n        data: { descriptor: descriptor || \"\" },\n      };\n    } catch (error: unknown) {\n      const err = error as Error;\n      log(LOG_TYPE, \"transport open error\", { error: err.message, descriptor, requestId });\n      return {\n        type: \"open-error\",\n        requestId,\n        error: {\n          message: err.message,\n          id: (err as Error & { id?: string }).id || \"TransportOpenError\",\n        },\n      };\n    }\n  });\n\n  // Handle transport exchange\n  ipcMain.handle(\"transport:exchange\", async (event, { requestId, apdu, timeout }) => {\n    try {\n      const transport = activeTransports.get(requestId);\n      if (!transport) {\n        throw new Error(\"Transport not found for request: \" + requestId);\n      }\n\n      log(LOG_TYPE, \"transport exchange\", { apdu, requestId });\n\n      const buffer = Buffer.from(apdu, \"hex\");\n      const response = await transport.exchange(buffer, { abortTimeoutMs: timeout });\n      const responseHex = response.toString(\"hex\");\n\n      log(LOG_TYPE, \"transport exchange response\", { response: responseHex, requestId });\n\n      return {\n        type: \"exchange-response\",\n        requestId,\n        data: responseHex,\n      };\n    } catch (error: unknown) {\n      const err = error as Error;\n      log(LOG_TYPE, \"transport exchange error\", { error: err.message, apdu, requestId });\n      return {\n        type: \"exchange-error\",\n        requestId,\n        error: {\n          message: err.message,\n          id: (err as Error & { id?: string }).id || \"TransportExchangeError\",\n        },\n      };\n    }\n  });\n\n  // Handle transport close\n  ipcMain.handle(\"transport:close\", async (event, { requestId }) => {\n    try {\n      const transport = activeTransports.get(requestId);\n      if (transport) {\n        log(LOG_TYPE, \"transport close\", { requestId });\n        await transport.close();\n        activeTransports.delete(requestId);\n      }\n\n      return {\n        type: \"close-response\",\n        requestId,\n      };\n    } catch (error: unknown) {\n      const err = error as Error;\n      log(LOG_TYPE, \"transport close error\", { error: err.message, requestId });\n      // Still clean up the transport reference\n      activeTransports.delete(requestId);\n      return {\n        type: \"close-response\",\n        requestId,\n      };\n    }\n  });\n\n  // Handle transport listen (simplified for HTTP transports)\n  ipcMain.handle(\"transport:listen\", async (event, { requestId }) => {\n    try {\n      log(LOG_TYPE, \"transport listen\", { requestId });\n\n      // For HTTP transports, we don't really have device discovery\n      // Send a simple response indicating the transport is available\n      return {\n        type: \"listen-response\",\n        requestId,\n        data: { type: \"add\", descriptor: \"http-proxy\", device: {} },\n      };\n    } catch (error: unknown) {\n      const err = error as Error;\n      log(LOG_TYPE, \"transport listen error\", { error: err.message, requestId });\n      return {\n        type: \"listen-error\",\n        requestId,\n        error: {\n          message: err.message,\n          id: (err as Error & { id?: string }).id || \"TransportListenError\",\n        },\n      };\n    }\n  });\n\n  // Handle transport listen unsubscribe\n  ipcMain.handle(\"transport:listen:unsubscribe\", async (event, { requestId }) => {\n    try {\n      log(LOG_TYPE, \"transport listen unsubscribe\", { requestId });\n      // Nothing to do for HTTP transports\n      return { type: \"unsubscribe-response\", requestId };\n    } catch (error: unknown) {\n      const err = error as Error;\n      log(LOG_TYPE, \"transport listen unsubscribe error\", { error: err.message, requestId });\n      return { type: \"unsubscribe-response\", requestId };\n    }\n  });\n}\n\n// Cleanup function for app shutdown\nexport function cleanupTransports() {\n  log(LOG_TYPE, \"cleanup\", { activeTransports: activeTransports.size });\n\n  // Close all active transports\n  for (const [requestId, transport] of activeTransports.entries()) {\n    try {\n      transport.close();\n    } catch (error: unknown) {\n      const err = error as Error;\n      log(LOG_TYPE, \"cleanup transport close error\", { error: err.message, requestId });\n    }\n  }\n\n  activeTransports.clear();\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/main/updater/createAppUpdater.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/main/updater/createElectronAppUpdater.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-deprecated","severity":2,"message":"`path` is deprecated.","line":11,"column":35,"nodeType":"Identifier","messageId":"deprecated","endLine":11,"endColumn":39,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-deprecated","severity":2,"message":"`network` is deprecated. Use new method by updating your import: `@ledgerhq/live-network`","line":50,"column":23,"nodeType":"Identifier","messageId":"deprecatedWithReason","endLine":50,"endColumn":30,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/main/updater/index.ts","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":9,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":9,"endColumn":34}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"let updater: {\n  quitAndInstall?: () => void;\n} = {};\nexport default (type: string) => {\n  console.log(`UPDATER: ${type}`);\n  switch (type) {\n    case \"init\":\n      // eslint-disable-next-line @typescript-eslint/no-var-requires\n      updater = require(\"./init\").default;\n      break;\n    case \"quit-and-install\":\n      if (!updater.quitAndInstall) {\n        console.error(`Auto-update error: quitAndInstall called before init`);\n      } else {\n        updater.quitAndInstall();\n      }\n      break;\n    default:\n      console.error(`Unknown updater message type: ${type}`);\n      break;\n  }\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/main/updater/init.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/main/updater/ledger-pubkey.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/main/updater/mocks/sigko-shasumok/update-info.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/main/updater/mocks/sigok-shasumko/update-info.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/main/updater/mocks/sigok-shasumok/update-info.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/main/updater/sslHelper.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/main/updater/sslHelper.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/main/window-lifecycle.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/mocks/browser.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/mocks/dada/mockAssets.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/mocks/init.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/components/GenericEmptyList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/components/LoadingOverlay/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/components/ProviderInterstitial/ProviderInterstitial.test.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":11,"column":22,"nodeType":"TSAsExpression","messageId":"never","endLine":14,"endColumn":21,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":23,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":23,"endColumn":51,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":30,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":30,"endColumn":51,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/components/ProviderInterstitial/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/components/Search/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/components/Skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/components/SquaredCryptoIcon/SquaredCryptoIcon.test.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":42,"column":17,"nodeType":"TSAsExpression","messageId":"never","endLine":42,"endColumn":85}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { render } from \"tests/testSetup\";\nimport { SquaredCryptoIcon } from \"./index\";\n\njest.mock(\"@ledgerhq/crypto-icons\", () => ({\n  CryptoIcon: jest.fn(props => (\n    <div data-testid=\"crypto-icon\" data-props={JSON.stringify(props)} />\n  )),\n}));\n\nimport { CryptoIcon } from \"@ledgerhq/crypto-icons\";\n\nconst mockedCryptoIcon = jest.mocked(CryptoIcon);\n\ndescribe(\"SquaredCryptoIcon\", () => {\n  beforeEach(() => {\n    mockedCryptoIcon.mockClear();\n  });\n\n  const defaultProps = {\n    ledgerId: \"ethereum\",\n    ticker: \"ETH\",\n  };\n\n  it(\"should render CryptoIcon with correct radius for each size\", () => {\n    const sizeToRadiusMap: Record<string, string> = {\n      \"16px\": \"4px\",\n      \"20px\": \"5px\",\n      \"24px\": \"6px\",\n      \"32px\": \"8px\",\n      \"40px\": \"10px\",\n      \"48px\": \"12px\",\n      \"56px\": \"14px\",\n    };\n\n    Object.entries(sizeToRadiusMap).forEach(([size, expectedRadius]) => {\n      mockedCryptoIcon.mockClear();\n\n      render(\n        <SquaredCryptoIcon\n          {...defaultProps}\n          size={size as \"16px\" | \"20px\" | \"24px\" | \"32px\" | \"40px\" | \"48px\" | \"56px\"}\n        />,\n      );\n\n      expect(mockedCryptoIcon).toHaveBeenCalledWith(\n        expect.objectContaining({\n          size,\n          overridesRadius: expectedRadius,\n          ledgerId: \"ethereum\",\n          ticker: \"ETH\",\n        }),\n        expect.anything(),\n      );\n    });\n  });\n\n  it(\"should use 48px as default size with 12px radius\", () => {\n    render(<SquaredCryptoIcon {...defaultProps} />);\n\n    expect(mockedCryptoIcon).toHaveBeenCalledWith(\n      expect.objectContaining({\n        size: \"48px\",\n        overridesRadius: \"12px\",\n      }),\n      expect.anything(),\n    );\n  });\n\n  it(\"should forward additional props to CryptoIcon\", () => {\n    render(<SquaredCryptoIcon {...defaultProps} size=\"32px\" network=\"polygon\" />);\n\n    expect(mockedCryptoIcon).toHaveBeenCalledWith(\n      expect.objectContaining({\n        ledgerId: \"ethereum\",\n        ticker: \"ETH\",\n        size: \"32px\",\n        network: \"polygon\",\n        overridesRadius: \"8px\",\n      }),\n      expect.anything(),\n    );\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/components/SquaredCryptoIcon/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/components/VirtualList/VirtualList.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/components/VirtualList/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/ModularDrawerAddAccountFlowManager.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/ModularDrawerAddAccountFlowManager.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":181,"column":73,"nodeType":"TSAsExpression","messageId":"never","endLine":181,"endColumn":97}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { AppResult } from \"@ledgerhq/live-common/hw/actions/app\";\nimport { Flex, Text } from \"@ledgerhq/react-ui/index\";\nimport { CryptoOrTokenCurrency } from \"@ledgerhq/types-cryptoassets\";\nimport { Account, TokenAccount } from \"@ledgerhq/types-live\";\nimport { AnimatePresence } from \"framer-motion\";\nimport React, { useCallback, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport styled from \"styled-components\";\nimport { MODULAR_DRAWER_PAGE_NAME } from \"../ModularDrawer/analytics/modularDrawer.types\";\nimport AnimatedScreenWrapper from \"../ModularDrawer/components/AnimatedScreenWrapper\";\nimport { BackButtonArrow } from \"../ModularDrawer/components/BackButton\";\nimport { AccountSelection } from \"../ModularDrawer/screens/AccountSelection\";\nimport HeaderGradient from \"./components/HeaderGradient\";\nimport { MODULAR_DRAWER_ADD_ACCOUNT_STEP, ModularDrawerAddAccountStep } from \"./domain\";\nimport AccountsAdded from \"./screens/AccountsAdded\";\nimport AccountsWarning from \"./screens/AccountsWarning\";\nimport ConnectYourDevice from \"./screens/ConnectYourDevice\";\nimport EditAccountName from \"./screens/EditAccountName\";\nimport FundAccount from \"./screens/FundAccount\";\nimport ScanAccounts from \"./screens/ScanAccounts\";\nimport { useAddAccountFlowNavigation } from \"./useAddAccountFlowNavigation\";\nimport { useDispatch } from \"LLD/hooks/redux\";\nimport { setFlowValue } from \"~/renderer/reducers/modularDrawer\";\nimport { ADD_ACCOUNT_FLOW_NAME } from \"./analytics/addAccount.types\";\n\nconst ANALYTICS_PROPERTY_FLOW = \"Modular Add Account Flow\";\n\nexport type ModularDrawerAddAccountFlowManagerProps = {\n  currency: CryptoOrTokenCurrency;\n  onAccountSelected?: (account: Account | TokenAccount, parentAccount?: Account) => void;\n};\n\nconst Title = styled(Text)`\n  font-size: 24px;\n  font-weight: 600;\n  color: var(--palette-text-shade100);\n  padding-left: 8px;\n  padding-right: 8px;\n  padding-bottom: 16px;\n`;\n\nconst StepContainer = styled(Flex)`\n  flex: 1;\n  flex-direction: column;\n  height: 100%;\n  width: 100%;\n`;\n\nconst ModularDrawerAddAccountFlowManager = ({\n  currency,\n  onAccountSelected,\n}: ModularDrawerAddAccountFlowManagerProps) => {\n  const { t } = useTranslation();\n\n  const [connectAppResult, setConnectAppResult] = useState<AppResult>();\n  const [selectedAccounts, setSelectedAccounts] = useState<Account[]>([]);\n\n  const {\n    currentStep,\n    navigationDirection,\n    warningReason,\n    emptyAccount,\n    accountToEdit,\n    accountToFund,\n    navigateBack,\n    navigateToWarningScreen,\n    navigateToEditAccountName,\n    navigateToFundAccount,\n    navigateToSelectAccount,\n    navigateToScanAccounts,\n    navigateToAccountsAdded,\n    navigateToConnectDevice,\n  } = useAddAccountFlowNavigation({\n    selectedAccounts,\n    onAccountSelected,\n    originalCurrency: currency,\n  });\n\n  const isAccountSelectionFlow = !!onAccountSelected;\n  const cryptoCurrency = currency.type === \"CryptoCurrency\" ? currency : currency.parentCurrency;\n\n  const handleConnect = useCallback(\n    (result: AppResult) => {\n      setConnectAppResult(result);\n      navigateToScanAccounts();\n    },\n    [navigateToScanAccounts],\n  );\n\n  const dispatch = useDispatch();\n\n  const renderStepContent = (step: ModularDrawerAddAccountStep) => {\n    switch (step) {\n      case MODULAR_DRAWER_ADD_ACCOUNT_STEP.CONNECT_YOUR_DEVICE:\n        return (\n          <StepContainer paddingX=\"8px\" data-test-id=\"content\">\n            <ConnectYourDevice\n              currency={cryptoCurrency}\n              onConnect={handleConnect}\n              analyticsPropertyFlow={ANALYTICS_PROPERTY_FLOW}\n            />\n          </StepContainer>\n        );\n      case MODULAR_DRAWER_ADD_ACCOUNT_STEP.SCAN_ACCOUNTS:\n        if (!connectAppResult) {\n          throw new Error(\"Missing 'connectAppResult'\");\n        }\n        return (\n          <StepContainer paddingX=\"8px\" data-test-id=\"content\">\n            <ScanAccounts\n              currency={cryptoCurrency}\n              deviceId={connectAppResult.device.deviceId}\n              onRetry={navigateToConnectDevice}\n              onComplete={accounts => {\n                setSelectedAccounts(accounts);\n                navigateToAccountsAdded();\n              }}\n              analyticsPropertyFlow={ANALYTICS_PROPERTY_FLOW}\n              navigateToWarningScreen={navigateToWarningScreen}\n            />\n          </StepContainer>\n        );\n      case MODULAR_DRAWER_ADD_ACCOUNT_STEP.ACCOUNTS_ADDED:\n        return (\n          <StepContainer paddingX=\"8px\" data-test-id=\"content\">\n            <AccountsAdded\n              accounts={selectedAccounts}\n              navigateToEditAccountName={navigateToEditAccountName}\n              navigateToFundAccount={navigateToFundAccount}\n              navigateToSelectAccount={navigateToSelectAccount}\n              isAccountSelectionFlow={isAccountSelectionFlow}\n            />\n          </StepContainer>\n        );\n      case MODULAR_DRAWER_ADD_ACCOUNT_STEP.ACCOUNTS_WARNING:\n        if (!warningReason) {\n          throw new Error(\"Missing 'warningReason'\");\n        }\n        return (\n          <StepContainer paddingX=\"8px\" data-test-id=\"content\">\n            <AccountsWarning\n              warningReason={warningReason}\n              currency={cryptoCurrency}\n              emptyAccount={emptyAccount}\n              navigateToEditAccountName={navigateToEditAccountName}\n              navigateToFundAccount={navigateToFundAccount}\n              isAccountSelectionFlow={isAccountSelectionFlow}\n            />\n          </StepContainer>\n        );\n      case MODULAR_DRAWER_ADD_ACCOUNT_STEP.EDIT_ACCOUNT_NAME:\n        if (!accountToEdit) {\n          throw new Error(\"Missing 'accountToEdit'\");\n        }\n        return (\n          <StepContainer paddingX=\"8px\" data-test-id=\"content\">\n            <EditAccountName account={accountToEdit} navigateBack={navigateBack} />\n          </StepContainer>\n        );\n      case MODULAR_DRAWER_ADD_ACCOUNT_STEP.FUND_ACCOUNT:\n        if (!accountToFund) {\n          throw new Error(\"Missing 'accountToFund'\");\n        }\n        return (\n          <StepContainer paddingX=\"8px\" data-test-id=\"content\">\n            <FundAccount account={accountToFund} currency={cryptoCurrency} />\n          </StepContainer>\n        );\n      case MODULAR_DRAWER_ADD_ACCOUNT_STEP.SELECT_ACCOUNT:\n        dispatch(setFlowValue(ADD_ACCOUNT_FLOW_NAME));\n        return (\n          <StepContainer data-test-id=\"content\">\n            <Title>\n              {onAccountSelected\n                ? t(\"modularAssetDrawer.addAccounts.addAccountSelectionPtxFlow\")\n                : t(\"modularAssetDrawer.addAccounts.addAccountSelection\")}\n            </Title>\n            <AccountSelection\n              asset={cryptoCurrency}\n              overridePageName={MODULAR_DRAWER_PAGE_NAME.FUND_ACCOUNT_LIST}\n              onAccountSelected={accountToFund => navigateToFundAccount(accountToFund as Account)}\n              hideAddAccountButton\n            />\n          </StepContainer>\n        );\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <AnimatePresence\n      initial={false}\n      custom={navigationDirection}\n      mode=\"sync\"\n      data-test-id=\"add-account-animated\"\n    >\n      <HeaderGradient\n        currentStep={currentStep}\n        warningReason={warningReason}\n        data-test-id=\"header-gradient\"\n      />\n      {navigateBack && <BackButtonArrow onBackClick={navigateBack} />}\n      <AnimatedScreenWrapper\n        key={currentStep}\n        screenKey={currentStep}\n        direction={navigationDirection}\n      >\n        {renderStepContent(currentStep)}\n      </AnimatedScreenWrapper>\n    </AnimatePresence>\n  );\n};\n\nexport default ModularDrawerAddAccountFlowManager;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/__mocks__/bridge.mock.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/__tests__/addAccountFlow.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/analytics/TrackAddAccountScreen.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/analytics/addAccount.types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/analytics/useAddAccountAnalytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/components/FormattedAccountItem.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/components/HeaderGradient.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":68,"column":5,"nodeType":"TSAsExpression","messageId":"never","endLine":68,"endColumn":70}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Box } from \"@ledgerhq/react-ui/index\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport {\n  MODULAR_DRAWER_ADD_ACCOUNT_STEP,\n  WARNING_REASON,\n  type ModularDrawerAddAccountStep,\n  type WarningReason,\n} from \"../domain\";\n\nconst GradientContainer = styled.div`\n  width: 500px;\n  height: 395px;\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: -2;\n  background: linear-gradient(\n    ${p => (p.theme.colors.type === \"light\" ? \"rgba(255, 255, 255, 0)\" : \"rgba(29, 28, 31, 0)\")},\n    ${p => (p.theme.colors.type === \"light\" ? \"rgba(255, 255, 255, 1)\" : \"rgba(29, 28, 31, 1)\")}\n  );\n`;\n\nconst GradientInner = styled.div<{ $gradientColor: string }>`\n  width: 500px;\n  height: 395px;\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: -3;\n  background: linear-gradient(${props => props.$gradientColor}00, ${props => props.$gradientColor});\n  opacity: 0.3;\n`;\n\nconst GRADIENT_COLORS = {\n  SUCCESS: \"rgba(110, 178, 96, 1)\",\n  WARNING: \"rgba(99, 88, 183, 1)\",\n  DEFAULT: \"rgba(248, 163, 37, 1)\",\n} as const;\n\nconst getGradientColor = (\n  currentStep: ModularDrawerAddAccountStep,\n  noAssociatedAccounts: boolean,\n): string => {\n  if (currentStep === MODULAR_DRAWER_ADD_ACCOUNT_STEP.ACCOUNTS_ADDED) {\n    return noAssociatedAccounts ? GRADIENT_COLORS.WARNING : GRADIENT_COLORS.SUCCESS;\n  }\n  if (currentStep === MODULAR_DRAWER_ADD_ACCOUNT_STEP.ACCOUNTS_WARNING && noAssociatedAccounts) {\n    return GRADIENT_COLORS.WARNING;\n  }\n  return GRADIENT_COLORS.DEFAULT;\n};\n\nconst STEPS_WITH_GRADIENT = [\n  MODULAR_DRAWER_ADD_ACCOUNT_STEP.ACCOUNTS_WARNING,\n  MODULAR_DRAWER_ADD_ACCOUNT_STEP.ACCOUNTS_ADDED,\n] as const;\n\ninterface HeaderGradientProps {\n  currentStep: ModularDrawerAddAccountStep;\n  warningReason?: WarningReason;\n}\n\nconst HeaderGradient: React.FC<HeaderGradientProps> = ({ currentStep, warningReason }) => {\n  const shouldShowGradient = (\n    STEPS_WITH_GRADIENT as ReadonlyArray<ModularDrawerAddAccountStep>\n  ).includes(currentStep);\n\n  if (!shouldShowGradient) {\n    return null;\n  }\n\n  const noAssociatedAccounts = warningReason === WARNING_REASON.NO_ASSOCIATED_ACCOUNTS;\n  const gradientColor = getGradientColor(currentStep, noAssociatedAccounts);\n\n  return (\n    <Box position=\"absolute\" top={0} left={0} zIndex={-1} style={{ pointerEvents: \"none\" }}>\n      <GradientContainer />\n      <GradientInner $gradientColor={gradientColor} />\n    </Box>\n  );\n};\n\nexport default HeaderGradient;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/components/ScrollContainer.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-empty-object-type","severity":1,"message":"An interface declaring no members is equivalent to its supertype.","line":7,"column":11,"nodeType":"Identifier","messageId":"noEmptyInterfaceWithSuper","endLine":7,"endColumn":16,"suggestions":[{"messageId":"replaceEmptyInterfaceWithSuper","fix":{"range":[271,350],"text":"type Props = Omit<FlexBoxProps, \"marginBottom\" | \"paddingBottom\">"},"desc":"Replace empty interface with a type alias."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/domain.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/AccountsAdded/components/AccountList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/AccountsAdded/components/ActionButtons.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/AccountsAdded/components/SuccessIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/AccountsAdded/components/Title.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/AccountsAdded/components/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/AccountsAdded/getAccountProtocol.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/AccountsAdded/hooks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/AccountsAdded/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/AccountsAdded/tests/getAccountProtocol.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/AccountsAdded/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/AccountsWarning/AccountsWarning.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/AccountsWarning/components/ActionButtons.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/AccountsWarning/components/IconContainer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/AccountsWarning/components/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/AccountsWarning/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/AccountsWarning/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/AccountsWarning/useWarningConfig.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/ConnectYourDevice/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/EditAccountName/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/FundAccount/components/ActionsContainer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/FundAccount/components/IconContainer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/FundAccount/components/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/FundAccount/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/ScanAccounts/components/CreatableAccountsList/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/ScanAccounts/components/Footer/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/ScanAccounts/components/ImportableAccountsList/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/ScanAccounts/hooks/useCantonCreatableAccounts.test.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":51,"column":12,"nodeType":"TSAsExpression","messageId":"never","endLine":58,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { CantonAccount } from \"@ledgerhq/coin-canton/types\";\nimport { createEmptyHistoryCache } from \"@ledgerhq/coin-framework/account/balanceHistoryCache\";\nimport {\n  getDerivationModesForCurrency,\n  getDerivationScheme,\n  runDerivationScheme,\n} from \"@ledgerhq/coin-framework/derivation\";\nimport { getCryptoCurrencyById } from \"@ledgerhq/cryptoassets\";\nimport { Account } from \"@ledgerhq/types-live\";\nimport BigNumber from \"bignumber.js\";\nimport { renderHook } from \"tests/testSetup\";\nimport { useCantonCreatableAccounts } from \"./useCantonCreatableAccounts\";\n\nconst createMockAccount = (\n  id: string,\n  currencyId: string,\n  used: boolean = false,\n  isOnboarded: boolean = false,\n): Account => {\n  const currency = getCryptoCurrencyById(currencyId);\n  const derivationMode = getDerivationModesForCurrency(currency)[0];\n  const scheme = getDerivationScheme({ derivationMode, currency });\n  const baseAccount: Account = {\n    id,\n    type: \"Account\",\n    used,\n    currency,\n    derivationMode,\n    index: 0,\n    freshAddress: \"test_address\",\n    freshAddressPath: runDerivationScheme(scheme, currency, {\n      account: 0,\n      node: 0,\n      address: 0,\n    }),\n    creationDate: new Date(),\n    lastSyncDate: new Date(),\n    balance: new BigNumber(0),\n    spendableBalance: new BigNumber(0),\n    seedIdentifier: \"test_seed\",\n    blockHeight: 0,\n    operationsCount: 0,\n    operations: [],\n    pendingOperations: [],\n    balanceHistoryCache: createEmptyHistoryCache(),\n    swapHistory: [],\n    subAccounts: [],\n  };\n\n  if (currency.family === \"canton\") {\n    return {\n      ...baseAccount,\n      cantonResources: {\n        isOnboarded,\n        instrumentUtxoCounts: {},\n        pendingTransferProposals: [],\n      },\n    } as CantonAccount;\n  }\n\n  return baseAccount;\n};\n\ndescribe(\"useCantonCreatableAccounts\", () => {\n  it(\"should return false when no Canton accounts are present\", () => {\n    const scannedAccounts: Account[] = [createMockAccount(\"1\", \"bitcoin\", false)];\n    const selectedIds = [\"1\"];\n\n    const { result } = renderHook(() =>\n      useCantonCreatableAccounts({ scannedAccounts, selectedIds }),\n    );\n\n    expect(result.current.hasCantonCreatableAccounts).toBe(false);\n    expect(result.current.cantonCreatableAccounts).toEqual([]);\n    expect(result.current.selectedCantonCreatableAccounts).toEqual([]);\n  });\n\n  it(\"should return false when Canton accounts are onboarded\", () => {\n    const scannedAccounts: Account[] = [createMockAccount(\"1\", \"canton_network\", false, true)];\n    const selectedIds = [\"1\"];\n\n    const { result } = renderHook(() =>\n      useCantonCreatableAccounts({ scannedAccounts, selectedIds }),\n    );\n\n    expect(result.current.hasCantonCreatableAccounts).toBe(false);\n    expect(result.current.cantonCreatableAccounts).toEqual([]);\n    expect(result.current.selectedCantonCreatableAccounts).toEqual([]);\n  });\n\n  it(\"should return false when Canton accounts are not selected\", () => {\n    const scannedAccounts: Account[] = [createMockAccount(\"1\", \"canton_network\", false)];\n    const selectedIds: string[] = [];\n\n    const { result } = renderHook(() =>\n      useCantonCreatableAccounts({ scannedAccounts, selectedIds }),\n    );\n\n    expect(result.current.hasCantonCreatableAccounts).toBe(false);\n    expect(result.current.cantonCreatableAccounts).toHaveLength(1);\n    expect(result.current.selectedCantonCreatableAccounts).toEqual([]);\n  });\n\n  it(\"should return true when Canton creatable accounts are selected\", () => {\n    const scannedAccounts: Account[] = [createMockAccount(\"1\", \"canton_network\", false, false)];\n    const selectedIds = [\"1\"];\n\n    const { result } = renderHook(() =>\n      useCantonCreatableAccounts({ scannedAccounts, selectedIds }),\n    );\n\n    expect(result.current.hasCantonCreatableAccounts).toBe(true);\n    expect(result.current.cantonCreatableAccounts).toHaveLength(1);\n    expect(result.current.selectedCantonCreatableAccounts).toHaveLength(1);\n    expect(result.current.selectedCantonCreatableAccounts.map(a => a.id)).toEqual([\"1\"]);\n  });\n\n  it(\"should handle empty scanned accounts array\", () => {\n    const scannedAccounts: Account[] = [];\n    const selectedIds: string[] = [];\n\n    const { result } = renderHook(() =>\n      useCantonCreatableAccounts({ scannedAccounts, selectedIds }),\n    );\n\n    expect(result.current.hasCantonCreatableAccounts).toBe(false);\n    expect(result.current.cantonCreatableAccounts).toEqual([]);\n    expect(result.current.selectedCantonCreatableAccounts).toEqual([]);\n  });\n\n  it(\"should update results when props change\", () => {\n    const initialScannedAccounts: Account[] = [\n      createMockAccount(\"1\", \"canton_network\", false, false),\n    ];\n    const initialSelectedIds = [\"1\"];\n\n    const { result, rerender } = renderHook(\n      ({ scannedAccounts, selectedIds }) =>\n        useCantonCreatableAccounts({ scannedAccounts, selectedIds }),\n      {\n        initialProps: {\n          scannedAccounts: initialScannedAccounts,\n          selectedIds: initialSelectedIds,\n        },\n      },\n    );\n\n    expect(result.current.hasCantonCreatableAccounts).toBe(true);\n\n    // Update to deselect the account\n    rerender({\n      scannedAccounts: initialScannedAccounts,\n      selectedIds: [],\n    });\n\n    expect(result.current.hasCantonCreatableAccounts).toBe(false);\n    expect(result.current.selectedCantonCreatableAccounts).toEqual([]);\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/ScanAccounts/hooks/useCantonCreatableAccounts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/ScanAccounts/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/ScanAccounts/useFormatAccount.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/ScanAccounts/useScanAccounts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/ScanAccounts/utils/processAccounts.test.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":7,"column":29,"nodeType":"TSAsExpression","messageId":"never","endLine":7,"endColumn":68},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":8,"column":30,"nodeType":"TSAsExpression","messageId":"never","endLine":8,"endColumn":56},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":15,"column":29,"nodeType":"TSAsExpression","messageId":"never","endLine":15,"endColumn":55},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":16,"column":30,"nodeType":"TSAsExpression","messageId":"never","endLine":16,"endColumn":56},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":23,"column":29,"nodeType":"TSAsExpression","messageId":"never","endLine":23,"endColumn":81},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":32,"column":22,"nodeType":"TSAsExpression","messageId":"never","endLine":32,"endColumn":61},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":38,"column":22,"nodeType":"TSAsExpression","messageId":"never","endLine":41,"endColumn":19},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":47,"column":22,"nodeType":"TSAsExpression","messageId":"never","endLine":50,"endColumn":19},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":56,"column":22,"nodeType":"TSAsExpression","messageId":"never","endLine":59,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Account } from \"@ledgerhq/types-live\";\nimport { determineSelectedIds, getUnimportedAccounts } from \"./processAccounts\";\nimport BigNumber from \"bignumber.js\";\n\ndescribe(\"getUnimportedAccounts\", () => {\n  it(\"should return accounts that are not in the existing accounts\", () => {\n    const scannedAccounts = [{ id: \"1\" }, { id: \"2\" }] as Account[];\n    const existingAccounts = [{ id: \"1\" }] as Account[];\n\n    const result = getUnimportedAccounts(scannedAccounts, existingAccounts);\n    expect(result).toEqual([{ id: \"2\" }]);\n  });\n\n  it(\"should return an empty array if all scanned accounts exist\", () => {\n    const scannedAccounts = [{ id: \"1\" }] as Account[];\n    const existingAccounts = [{ id: \"1\" }] as Account[];\n\n    const result = getUnimportedAccounts(scannedAccounts, existingAccounts);\n    expect(result).toEqual([]);\n  });\n\n  it(\"should return accounts that are not duplicates\", () => {\n    const scannedAccounts = [{ id: \"1\" }, { id: \"2\" }, { id: \"1\" }] as Account[];\n\n    const result = getUnimportedAccounts(scannedAccounts, []);\n    expect(result).toEqual([{ id: \"1\" }, { id: \"2\" }]);\n  });\n});\n\ndescribe(\"determineSelectedIds\", () => {\n  it(\"should return all accounts if onlyNewAccounts is true\", () => {\n    const accounts = [{ id: \"1\" }, { id: \"2\" }] as Account[];\n    const result = determineSelectedIds(accounts, true, []);\n    expect(result).toEqual([\"1\", \"2\"]);\n  });\n\n  it(\"should return current selected ids plus the latest account if not empty\", () => {\n    const accounts = [\n      { id: \"1\" },\n      { id: \"2\", balance: BigNumber(\"100\"), operationsCount: 1 },\n    ] as Account[];\n    const result = determineSelectedIds(accounts, false, [\"1\"]);\n    expect(result).toEqual([\"1\", \"2\"]);\n  });\n\n  it(\"should return current selected ids if latest account is empty\", () => {\n    const accounts = [\n      { id: \"1\" },\n      { id: \"2\", balance: BigNumber(\"0\"), operationsCount: 0 },\n    ] as Account[];\n    const result = determineSelectedIds(accounts, false, [\"1\"]);\n    expect(result).toEqual([\"1\"]);\n  });\n\n  it(\"should exclude empty accounts from the selection\", () => {\n    const accounts = [\n      { id: \"1\", balance: BigNumber(\"0\"), operationsCount: 0 },\n      { id: \"2\", balance: BigNumber(\"100\"), operationsCount: 1 },\n    ] as Account[];\n    const result = determineSelectedIds(accounts, false, []);\n    expect(result).toEqual([\"2\"]);\n  });\n});\n\ndescribe(\"getGroupedAccounts\", () => {\n  // TODO\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/ScanAccounts/utils/processAccounts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/screens/styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/useAddAccountFlowNavigation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AddAccountDrawer/useNavigation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/const/steps.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/hooks/useCommonLogic.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/hooks/useDisplayOnPortfolio.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/hooks/useDrawerLogic.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/hooks/useVariantA.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":60,"column":24,"nodeType":"TSAsExpression","messageId":"never","endLine":60,"endColumn":45}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from \"react\";\nimport { useDispatch } from \"LLD/hooks/redux\";\nimport {\n  setShareAnalytics,\n  setSharePersonalizedRecommendations,\n} from \"~/renderer/actions/settings\";\nimport {\n  EntryPoint,\n  FieldKeySwitch,\n} from \"LLD/features/AnalyticsOptInPrompt/types/AnalyticsOptInPromptNavigator\";\nimport { track } from \"~/renderer/analytics/segment\";\nimport { useAnalyticsOptInPrompt } from \"./useCommonLogic\";\nimport { ABTestingVariants } from \"@ledgerhq/types-live\";\nimport { steps } from \"LLD/features/AnalyticsOptInPrompt/const/steps\";\n\ninterface UseVariantAProps {\n  onSubmit?: () => void;\n  entryPoint: EntryPoint;\n  setStep: (value: number) => void;\n}\n\nconst useVariantA = ({ onSubmit, entryPoint, setStep }: UseVariantAProps) => {\n  const variant = ABTestingVariants.variantA;\n  const dispatch = useDispatch();\n\n  const [preferences, setPreferences] = useState<Record<FieldKeySwitch, boolean>>({\n    AnalyticsData: false,\n    PersonalizationData: false,\n  });\n\n  const { flow, shouldWeTrack, handleOpenPrivacyPolicy } = useAnalyticsOptInPrompt({ entryPoint });\n\n  const onManagePreferencesClick = () => {\n    setStep(1);\n    trackClick(\"Manage Preferences\", shouldWeTrack, steps.variantA.main);\n  };\n\n  const handleShareAnalyticsChange = (value: boolean) => {\n    dispatch(setSharePersonalizedRecommendations(value));\n    dispatch(setShareAnalytics(value));\n    onSubmit?.();\n    if (value) trackClick(\"Accept All\", true, steps.variantA.main);\n    else trackClick(\"Refuse All\", shouldWeTrack, steps.variantA.main);\n  };\n\n  const handleShareCustomAnalyticsChange = (value: boolean) => {\n    if (value) {\n      const { AnalyticsData, PersonalizationData } = preferences;\n      dispatch(setShareAnalytics(AnalyticsData));\n      dispatch(setSharePersonalizedRecommendations(PersonalizationData));\n      onSubmit?.();\n      trackClick(\"Share\", shouldWeTrack, steps.variantA.preferences);\n    }\n  };\n\n  const handlePreferencesChange = (newPreferences: Record<FieldKeySwitch, boolean>) => {\n    const oldPreferences = preferences;\n    setPreferences(newPreferences);\n    for (const key in newPreferences) {\n      const fieldKey = key as FieldKeySwitch;\n      if (newPreferences[fieldKey] !== oldPreferences[fieldKey]) {\n        clickOnToggle(fieldKey, newPreferences[fieldKey]);\n      }\n    }\n  };\n\n  const trackClick = (button: string, shouldWeTrack: boolean, page: string) => {\n    track(\n      \"button_clicked\",\n      {\n        button,\n        variant,\n        flow,\n        page,\n      },\n      shouldWeTrack,\n    );\n  };\n\n  const clickOnToggle = (field: FieldKeySwitch, value: boolean) => {\n    track(\n      \"toggle_clicked\",\n      {\n        toggle:\n          field === FieldKeySwitch.AnalyticsData ? \"Analytics\" : \"Personalised Recommendations\",\n        value,\n        variant,\n        flow,\n        page: steps.variantA.preferences,\n      },\n      shouldWeTrack,\n    );\n  };\n\n  return {\n    onManagePreferencesClick,\n    handleShareAnalyticsChange,\n    handleShareCustomAnalyticsChange,\n    handlePreferencesChange,\n    shouldWeTrack,\n    handleOpenPrivacyPolicy,\n  };\n};\n\nexport default useVariantA;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/hooks/useVariantB.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/VariantA/Main/components/MainBody/components/TrackingInfoList/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/VariantA/Main/components/MainBody/components/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/VariantA/Main/components/MainBody/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/VariantA/Main/components/MainFooter/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/VariantA/Main/components/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/VariantA/Main/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/VariantA/ManagePreferences/components/Body/index.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":54,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":54,"endColumn":50}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback, useState } from \"react\";\nimport { Box, Text, Flex, Switch } from \"@ledgerhq/react-ui\";\nimport styled, { useTheme } from \"styled-components\";\nimport { useTranslation } from \"react-i18next\";\nimport RevokeInfoField from \"LLD/features/AnalyticsOptInPrompt/screens/components/RevokeInfoField\";\nimport { FieldKeySwitch } from \"LLD/features/AnalyticsOptInPrompt/types/AnalyticsOptInPromptNavigator\";\n\nconst BodyBox = styled(Box)`\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  overflow-y: auto;\n  max-height: calc(100vh - 26%);\n`;\n\ninterface ManagePreferencesBodyProps {\n  onSwitchChange: (key: FieldKeySwitch) => void;\n  handleOpenPrivacyPolicy: () => void;\n}\n\nconst ManagePreferencesBody = ({\n  onSwitchChange,\n  handleOpenPrivacyPolicy,\n}: ManagePreferencesBodyProps) => {\n  const { t } = useTranslation();\n  const { colors } = useTheme();\n  const [checked, setChecked] = useState<Record<FieldKeySwitch, boolean>>({\n    AnalyticsData: false,\n    PersonalizationData: false,\n  });\n\n  const onClick = useCallback(\n    (key: FieldKeySwitch) => {\n      setChecked(prevChecked => ({ ...prevChecked, [key]: !prevChecked[key] }));\n      onSwitchChange(key);\n    },\n    [onSwitchChange],\n  );\n\n  const fields: Record<FieldKeySwitch, { title: string; description: string }> = {\n    AnalyticsData: {\n      title: \"analyticsOptInPrompt.variantA.analyticsData.title\",\n      description: \"analyticsOptInPrompt.variantA.analyticsData.description\",\n    },\n    PersonalizationData: {\n      title: \"analyticsOptInPrompt.variantA.personalizationData.title\",\n      description: \"analyticsOptInPrompt.variantA.personalizationData.description\",\n    },\n  };\n\n  return (\n    <BodyBox mb={\"80px\"} pb={\"20px\"}>\n      <Flex flexDirection={\"column\"} alignItems={\"start\"} rowGap={\"24px\"}>\n        {(Object.keys(fields) as FieldKeySwitch[]).map(key => {\n          const { title, description } = fields[key];\n          return (\n            <Flex key={key} flexDirection={\"column\"} alignItems={\"start\"} rowGap={\"12px\"}>\n              <Flex\n                borderRadius={\"12px\"}\n                backgroundColor={colors.opacityDefault.c05}\n                width={\"100%\"}\n                p={\"12px\"}\n                justifyContent={\"space-between\"}\n                alignItems={\"center\"}\n              >\n                <Text\n                  variant={\"body\"}\n                  fontWeight={\"medium\"}\n                  fontSize={14}\n                  color={colors.neutral.c100}\n                >\n                  {t(title)}\n                </Text>\n                <Switch\n                  onChange={() => onClick(key)}\n                  name={key}\n                  checked={checked[key]}\n                  size={\"normal\"}\n                />\n              </Flex>\n              <Text\n                variant={\"bodyLineHeight\"}\n                fontWeight={\"medium\"}\n                color={colors.neutral.c70}\n                fontSize={14}\n              >\n                {t(description)}\n              </Text>\n            </Flex>\n          );\n        })}\n      </Flex>\n      <RevokeInfoField handleOpenPrivacyPolicy={handleOpenPrivacyPolicy} />\n    </BodyBox>\n  );\n};\n\nexport default ManagePreferencesBody;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/VariantA/ManagePreferences/components/Footer/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/VariantA/ManagePreferences/components/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/VariantA/ManagePreferences/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/VariantA/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/VariantB/Analytics/components/Header/DarkHeaderSvg.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/VariantB/Analytics/components/Header/LightHeaderSvg.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/VariantB/Analytics/components/Header/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/VariantB/Analytics/components/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/VariantB/Analytics/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/VariantB/PersonalRecommendations/components/Header/DarkHeaderSvg.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/VariantB/PersonalRecommendations/components/Header/LightHeaderSvg.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/VariantB/PersonalRecommendations/components/Header/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/VariantB/PersonalRecommendations/components/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/VariantB/PersonalRecommendations/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/VariantB/components/Body/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/VariantB/components/Footer/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/VariantB/components/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/VariantB/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/components/Footer/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/components/Header/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/components/RevokeInfoField/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/components/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/screens/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AnalyticsOptInPrompt/types/AnalyticsOptInPromptNavigator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AppBlockers/components/AppBlocker/__integrations__/AppBlocker.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AppBlockers/components/AppBlocker/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AppBlockers/components/AppGeoBlocker/__integrations__/AppGeoblocker.test.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":97,"column":18,"nodeType":"TSAsExpression","messageId":"never","endLine":97,"endColumn":36,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AppBlockers/components/AppGeoBlocker/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AppBlockers/components/AppVersionBlocker/__integrations__/AppVersionBlocker.test.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":40,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":40,"endColumn":42},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":50,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":50,"endColumn":42},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":60,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":60,"endColumn":42},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":66,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":66,"endColumn":42}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { render, screen } from \"tests/testSetup\";\nimport { AppVersionBlocker } from \"../index\";\nimport { useAppVersionBlockCheck } from \"@ledgerhq/live-common/hooks/useAppVersionBlockCheck\";\n\njest.mock(\"@ledgerhq/live-common/hooks/useAppVersionBlockCheck\", () => ({\n  useAppVersionBlockCheck: jest.fn(),\n}));\njest.mock(\"~/renderer/linking\", () => ({\n  openURL: jest.fn(),\n}));\njest.mock(\"~/config/urls\", () => ({\n  urls: { liveHome: \"https://test/live-home\" },\n}));\n\njest.mock(\"../../AppBlocker\", () => ({\n  AppBlocker: ({ children, blocked }: { children: React.ReactNode; blocked: boolean }) =>\n    blocked ? null : children,\n}));\n\njest.mock(\"~/renderer/components/FirebaseRemoteConfig\", () => ({\n  useFirebaseRemoteConfig: () => ({\n    config: {},\n    lastFetchTime: Date.now(),\n  }),\n}));\n\njest.mock(\"@ledgerhq/live-config/LiveConfig\", () => ({\n  LiveConfig: {\n    getValueByKey: jest.fn(),\n  },\n}));\n\ndescribe(\"AppVersionBlocker\", () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  it(\"renders children when not blocked\", () => {\n    (useAppVersionBlockCheck as jest.Mock).mockReturnValue({ shouldUpdate: false });\n    render(\n      <AppVersionBlocker>\n        <div data-testid=\"child\">Visible</div>\n      </AppVersionBlocker>,\n    );\n    expect(screen.getByTestId(\"child\")).toBeInTheDocument();\n  });\n\n  it(\"renders version blocking UI when blocked\", () => {\n    (useAppVersionBlockCheck as jest.Mock).mockReturnValue({ shouldUpdate: true });\n    render(\n      <AppVersionBlocker>\n        <div data-testid=\"child\">Should not be visible</div>\n      </AppVersionBlocker>,\n    );\n    expect(screen.queryByTestId(\"child\")).not.toBeInTheDocument();\n  });\n\n  it(\"renders nothing if children is null and not blocked\", () => {\n    (useAppVersionBlockCheck as jest.Mock).mockReturnValue({ shouldUpdate: false });\n    const { container } = render(<AppVersionBlocker>{null}</AppVersionBlocker>);\n    expect(container).toBeEmptyDOMElement();\n  });\n\n  it(\"renders custom children when not blocked\", () => {\n    (useAppVersionBlockCheck as jest.Mock).mockReturnValue({ shouldUpdate: false });\n    render(\n      <AppVersionBlocker>\n        <span>Custom Content</span>\n      </AppVersionBlocker>,\n    );\n    expect(screen.getByText(\"Custom Content\")).toBeInTheDocument();\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/AppBlockers/components/AppVersionBlocker/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/DynamicContent/__integrations__/PortfolioContentCards.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/DynamicContent/components/LogContentCardWrapper.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":50,"column":40,"nodeType":"TSAsExpression","messageId":"never","endLine":50,"endColumn":64},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":58,"column":22,"nodeType":"TSAsExpression","messageId":"never","endLine":58,"endColumn":46},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":58,"column":49,"nodeType":"TSAsExpression","messageId":"never","endLine":58,"endColumn":92}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useRef, useEffect, useMemo } from \"react\";\nimport * as braze from \"@braze/web-sdk\";\nimport { useDispatch, useSelector } from \"LLD/hooks/redux\";\nimport {\n  anonymousUserNotificationsSelector,\n  trackingEnabledSelector,\n} from \"~/renderer/reducers/settings\";\nimport { track } from \"~/renderer/analytics/segment\";\nimport { Box } from \"@ledgerhq/react-ui\";\nimport { updateAnonymousUserNotifications } from \"~/renderer/actions/settings\";\nimport { OFFLINE_SEEN_DELAY } from \"../utils/constants\";\n\ninterface LogContentCardWrapperProps {\n  id: string;\n  children: React.ReactNode;\n  additionalProps?: object;\n}\n\nconst PERCENTAGE_OF_CARD_VISIBLE = 0.5;\n\nconst LogContentCardWrapper: React.FC<LogContentCardWrapperProps> = ({\n  id,\n  children,\n  additionalProps,\n}) => {\n  const ref = useRef<HTMLDivElement>(null);\n  const isTrackedUser = useSelector(trackingEnabledSelector);\n  const anonymousUserNotifications = useSelector(anonymousUserNotificationsSelector);\n  const dispatch = useDispatch();\n\n  const currentCard = useMemo(() => {\n    const cards = braze.getCachedContentCards().cards;\n    return cards.find(card => card.id === id);\n  }, [id]);\n\n  useEffect(() => {\n    if (!currentCard) return;\n\n    const intersectionObserver = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.intersectionRatio > PERCENTAGE_OF_CARD_VISIBLE) {\n          if (isTrackedUser) {\n            braze.logContentCardImpressions([currentCard]);\n            track(\"contentcard_impression\", {\n              id: currentCard.id,\n              ...currentCard.extras,\n              ...additionalProps,\n            });\n          } else if (\n            anonymousUserNotifications[currentCard.id as string] !==\n            currentCard?.expiresAt?.getTime()\n          ) {\n            // support new campaign or resumed campaign with the same id + different expiration date targeting anonymous users\n            setTimeout(() => {\n              dispatch(\n                updateAnonymousUserNotifications({\n                  notifications: {\n                    [currentCard.id as string]: currentCard?.expiresAt?.getTime() as number,\n                  },\n                }),\n              );\n            }, OFFLINE_SEEN_DELAY);\n          }\n        }\n      },\n      { threshold: PERCENTAGE_OF_CARD_VISIBLE },\n    );\n\n    const currentRef = ref.current;\n\n    if (currentRef) {\n      intersectionObserver.observe(currentRef);\n    }\n\n    return () => {\n      if (currentRef) {\n        intersectionObserver.unobserve(currentRef);\n      }\n    };\n  }, [currentCard, isTrackedUser, additionalProps, dispatch, anonymousUserNotifications]);\n\n  return (\n    <Box width=\"100%\" ref={ref}>\n      {children}\n    </Box>\n  );\n};\n\nexport default LogContentCardWrapper;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/DynamicContent/components/PortfolioContentCards/Slide.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/DynamicContent/components/PortfolioContentCards/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/DynamicContent/hooks/usePortfolioCards.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":75,"column":33,"nodeType":"TSAsExpression","messageId":"never","endLine":75,"endColumn":65}],"suppressedMessages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Include a description after the \"@ts-expect-error\" directive to explain why the @ts-expect-error is necessary. The description must be 3 characters or longer.","line":73,"column":7,"nodeType":"Line","messageId":"tsDirectiveCommentRequiresDescription","endLine":73,"endColumn":26,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as braze from \"@braze/web-sdk\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"LLD/hooks/redux\";\n\nimport { track } from \"~/renderer/analytics/segment\";\nimport { setPortfolioCards } from \"~/renderer/actions/dynamicContent\";\nimport { setDismissedContentCards } from \"~/renderer/actions/settings\";\nimport { portfolioContentCardSelector } from \"~/renderer/reducers/dynamicContent\";\nimport { trackingEnabledSelector } from \"~/renderer/reducers/settings\";\nimport type { PortfolioContentCard } from \"~/types/dynamicContent\";\nimport type { CarouselActions } from \"../types\";\n\ntype UsePortfolioCards = { portfolioCards: PortfolioContentCard[] } & CarouselActions;\n\nexport function usePortfolioCards(): UsePortfolioCards {\n  const [cachedContentCards, setCachedContentCards] = useState<braze.Card[]>([]);\n  const portfolioCards = useSelector(portfolioContentCardSelector);\n  const isTrackedUser = useSelector(trackingEnabledSelector);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const cards = braze.getCachedContentCards().cards;\n    setCachedContentCards(cards);\n  }, []);\n\n  const dismissCard = useCallback<CarouselActions[\"dismissCard\"]>(\n    index => {\n      const slide = portfolioCards[index];\n      if (!slide?.id) return;\n\n      if (isTrackedUser) {\n        track(\"contentcard_dismissed\", {\n          card: slide.id,\n          page: \"Portfolio\",\n          type: \"portfolio_carousel\",\n        });\n      }\n\n      const currentCard = cachedContentCards.find(card => card.id === slide.id);\n      if (currentCard) {\n        if (isTrackedUser) {\n          braze.logCardDismissal(currentCard);\n        } else if (currentCard.id) {\n          dispatch(setDismissedContentCards({ id: currentCard.id, timestamp: Date.now() }));\n        }\n        setCachedContentCards(cachedContentCards.filter(n => n.id !== currentCard.id));\n      }\n      dispatch(setPortfolioCards(portfolioCards.filter(n => n.id !== slide.id)));\n    },\n    [portfolioCards, cachedContentCards, isTrackedUser, dispatch],\n  );\n\n  const logSlideClick = useCallback<CarouselActions[\"logSlideClick\"]>(\n    cardId => {\n      if (!isTrackedUser) return;\n\n      const slide = portfolioCards.find(card => card.id === cardId);\n      if (!slide) return;\n\n      track(\"contentcard_clicked\", {\n        contentcard: slide.title,\n        link: slide.path || slide.url,\n        campaign: cardId,\n        page: \"Portfolio\",\n        type: \"portfolio_carousel\",\n      });\n\n      const currentCard = cachedContentCards.find(card => card.id === cardId);\n      if (!currentCard) return;\n      // For some reason braze won't log the click event if the card url is empty\n      // Setting it as the card id just to have a dummy non empty value\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-expect-error\n      currentCard.url = currentCard.id;\n      braze.logContentCardClick(currentCard as braze.ClassicCard);\n    },\n    [portfolioCards, cachedContentCards, isTrackedUser],\n  );\n\n  return { portfolioCards, logSlideClick, dismissCard };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/DynamicContent/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/DynamicContent/utils/constants/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/FlowWizard/FlowWizardOrchestrator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/FlowWizard/__tests__/FlowWizardOrchestrator.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/FlowWizard/hooks/useFlowWizardNavigation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/FlowWizard/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/LNSUpsell/components/LNSUpsellBanner/LNSUpsellBanner.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/LNSUpsell/components/LNSUpsellBanner/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/LNSUpsell/components/LNSUpsellBanner/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/LNSUpsell/components/LNSUpsellBanner/useLNSUpsellBannerModel.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/LNSUpsell/components/LNSUpsellBanner/useViewNotification.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/LNSUpsell/hooks/useLNSUpsellBannerState.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":26,"column":53,"nodeType":"TSAsExpression","messageId":"never","endLine":26,"endColumn":95}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useSelector } from \"LLD/hooks/redux\";\nimport { useFeature } from \"@ledgerhq/live-common/featureFlags/index\";\nimport { DeviceModelId } from \"@ledgerhq/types-devices\";\nimport { desktopContentCardSelector } from \"~/renderer/reducers/dynamicContent\";\nimport {\n  devicesModelListSelector,\n  sharePersonalizedRecommendationsSelector,\n} from \"~/renderer/reducers/settings\";\nimport type { LNSBannerLocation, LNSBannerState } from \"../types\";\n\nconst LNS_UPSELL_HIGH_TIER = \"LNS_UPSELL_HIGH_TIER\";\n\nexport function useLNSUpsellBannerState(location: LNSBannerLocation): LNSBannerState {\n  const isOptIn = useSelector(sharePersonalizedRecommendationsSelector);\n  const ff = useFeature(\"lldNanoSUpsellBanners\");\n  const tracking = isOptIn ? \"opted_in\" : \"opted_out\";\n  const params = ff?.params?.[tracking];\n\n  const devicesModelList = useSelector(devicesModelListSelector);\n  const hasOnlySeenLNS =\n    devicesModelList.length === 1 && devicesModelList[0] === DeviceModelId.nanoS;\n\n  const desktopCards = useSelector(desktopContentCardSelector);\n  const isExcluded = isOptIn && desktopCards.some(c => c.extras.campaign === LNS_UPSELL_HIGH_TIER);\n\n  const isEnabled = Boolean(ff?.enabled && params?.[location as keyof LNSBannerState[\"params\"]]);\n  const isShown = isEnabled && hasOnlySeenLNS && !isExcluded;\n\n  return { isShown, params, tracking };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/LNSUpsell/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/LNSUpsell/types/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/LedgerSyncEntryPoints/__tests__/LedgerSyncEntryPoint.test.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":189,"column":27,"nodeType":"TSAsExpression","messageId":"never","endLine":191,"endColumn":31}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * @jest-environment jsdom\n */\nimport React from \"react\";\nimport { fireEvent, render, screen } from \"tests/testSetup\";\nimport { INITIAL_STATE, LedgerSyncEntryPointShared } from \"./shared\";\nimport { DeviceModelId } from \"@ledgerhq/types-devices\";\nimport { DeviceModelInfo } from \"@ledgerhq/types-live\";\nimport { EntryPoint } from \"../types\";\nimport { track } from \"~/renderer/analytics/segment\";\n\njest.mock(\"~/renderer/analytics/segment\", () => ({\n  ...jest.requireActual(\"~/renderer/analytics/segment\"),\n  track: jest.fn(),\n}));\n\ndescribe(\"LedgerSyncEntryPoint\", () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  it(\"should display Accounts entry point correctly when criterias are met\", () => {\n    render(<LedgerSyncEntryPointShared entryPoint={EntryPoint.accounts} />, {\n      initialState: INITIAL_STATE,\n    });\n\n    const button = screen.getByText(/Activate Ledger Sync/);\n\n    expect(button).toBeVisible();\n\n    fireEvent.click(button);\n\n    expect(track).toHaveBeenCalledTimes(1);\n    expect(track).toHaveBeenCalledWith(\"banner_clicked\", {\n      banner: \"Ledger Sync Activation\",\n      page: \"Accounts\",\n    });\n\n    const activateLedgerSyncDrawer = screen.getByText(/Turn on Ledger Sync for this computer?/);\n\n    expect(activateLedgerSyncDrawer).toBeVisible();\n  });\n\n  it(\"should display Manager entry point correctly when criterias are met\", () => {\n    render(<LedgerSyncEntryPointShared entryPoint={EntryPoint.manager} />, {\n      initialState: INITIAL_STATE,\n    });\n\n    const button = screen.getByText(/Turn on Ledger Sync/);\n\n    expect(button).toBeVisible();\n\n    fireEvent.click(button);\n\n    expect(track).toHaveBeenCalled();\n    expect(track).toHaveBeenCalledWith(\"banner_clicked\", {\n      banner: \"Ledger Sync Activation\",\n      page: \"Manager\",\n    });\n\n    const activateLedgerSyncDrawer = screen.getByText(/Turn on Ledger Sync for this computer?/);\n\n    expect(activateLedgerSyncDrawer).toBeVisible();\n  });\n\n  it(\"should display Settings entry point correctly when criterias are met\", () => {\n    render(<LedgerSyncEntryPointShared entryPoint={EntryPoint.settings} />, {\n      initialState: INITIAL_STATE,\n    });\n\n    const button = screen.getByText(/Turn on Ledger Sync/, { exact: true });\n\n    expect(button).toBeVisible();\n\n    fireEvent.click(button);\n\n    expect(track).toHaveBeenCalled();\n    expect(track).toHaveBeenCalledWith(\"banner_clicked\", {\n      banner: \"Ledger Sync Activation\",\n      page: \"Settings\",\n    });\n\n    const activateLedgerSyncDrawer = screen.getByText(/Turn on Ledger Sync for this computer?/);\n\n    expect(activateLedgerSyncDrawer).toBeVisible();\n  });\n\n  it(\"should display Onboarding entry point correctly even when no device is eligible\", () => {\n    render(\n      <LedgerSyncEntryPointShared entryPoint={EntryPoint.onboarding} needEligibleDevice={false} />,\n      {\n        initialState: {\n          ...INITIAL_STATE,\n          settings: {\n            ...INITIAL_STATE.settings,\n            lastSeenDevice: null,\n          },\n        },\n      },\n    );\n\n    const button = screen.getByText(/Sync with another Ledger Wallet app/);\n\n    expect(button).toBeVisible();\n\n    fireEvent.click(button);\n\n    expect(track).toHaveBeenCalled();\n    expect(track).toHaveBeenCalledWith(\"banner_clicked\", {\n      banner: \"Ledger Sync Activation\",\n      page: \"Onboarding\",\n    });\n\n    const activateLedgerSyncDrawer = screen.getByText(/Turn on Ledger Sync for this computer?/);\n\n    expect(activateLedgerSyncDrawer).toBeVisible();\n  });\n\n  it(\"should display PostOnboarding entry point correctly even when no device is eligible\", () => {\n    render(\n      <LedgerSyncEntryPointShared\n        entryPoint={EntryPoint.postOnboarding}\n        needEligibleDevice={false}\n      />,\n      {\n        initialState: {\n          ...INITIAL_STATE,\n          settings: {\n            ...INITIAL_STATE.settings,\n            lastSeenDevice: null,\n          },\n        },\n      },\n    );\n\n    const button = screen.getByText(/Sync with another Ledger Wallet app/);\n\n    expect(button).toBeVisible();\n\n    fireEvent.click(button);\n\n    expect(track).toHaveBeenCalled();\n    expect(track).toHaveBeenCalledWith(\"banner_clicked\", {\n      banner: \"Ledger Sync Activation\",\n      page: \"PostOnboarding\",\n    });\n\n    const activateLedgerSyncDrawer = screen.getByText(/Turn on Ledger Sync for this computer?/);\n\n    expect(activateLedgerSyncDrawer).toBeVisible();\n  });\n\n  it(\"should not display PostOnboarding entry point correctly when criterias are not met\", () => {\n    render(\n      <LedgerSyncEntryPointShared\n        entryPoint={EntryPoint.postOnboarding}\n        needEligibleDevice={false}\n      />,\n      {\n        initialState: {\n          ...INITIAL_STATE,\n          settings: {\n            ...INITIAL_STATE.settings,\n            overriddenFeatureFlags: {\n              ...INITIAL_STATE.settings.overriddenFeatureFlags,\n              lldLedgerSyncEntryPoints: {\n                ...INITIAL_STATE.settings.overriddenFeatureFlags.lldLedgerSyncEntryPoints,\n                params: {\n                  postOnboarding: false,\n                },\n              },\n            },\n          },\n        },\n      },\n    );\n\n    const button = screen.queryByText(/Sync with another Ledger Wallet app/);\n\n    expect(button).toBe(null);\n  });\n\n  it(\"should not display Accounts entry point correctly when criterias are not met\", () => {\n    render(<LedgerSyncEntryPointShared entryPoint={EntryPoint.accounts} />, {\n      initialState: {\n        ...INITIAL_STATE,\n        settings: {\n          ...INITIAL_STATE.settings,\n          lastSeenDevice: {\n            modelId: DeviceModelId.nanoS,\n          } as DeviceModelInfo,\n        },\n      },\n    });\n\n    const button = screen.queryByText(/Activate Ledger Sync/);\n\n    expect(button).toBe(null);\n  });\n\n  describe(\"when lwdLedgerSyncOptimisation feature flag is enabled\", () => {\n    const OPTIMISATION_ENABLED_STATE = {\n      ...INITIAL_STATE,\n      settings: {\n        ...INITIAL_STATE.settings,\n        overriddenFeatureFlags: {\n          ...INITIAL_STATE.settings.overriddenFeatureFlags,\n          lwdLedgerSyncOptimisation: {\n            enabled: true,\n          },\n        },\n      },\n    };\n\n    it(\"should display Manager entry point with LedgerSyncBanner when optimisation is enabled\", async () => {\n      const { user } = render(<LedgerSyncEntryPointShared entryPoint={EntryPoint.manager} />, {\n        initialState: OPTIMISATION_ENABLED_STATE,\n      });\n\n      const bannerTitle = screen.getByText(/Your wallet isn't synced/);\n      expect(bannerTitle).toBeVisible();\n\n      const bannerDescription = screen.getByText(\n        /Keep your portfolio up to date when switching computers or use a phone/,\n      );\n      expect(bannerDescription).toBeVisible();\n\n      const syncButton = screen.getByRole(\"button\", { name: \"Sync my wallet\" });\n      expect(syncButton).toBeVisible();\n\n      await user.click(syncButton);\n\n      expect(track).toHaveBeenCalled();\n      expect(track).toHaveBeenCalledWith(\"banner_clicked\", {\n        banner: \"Ledger Sync Activation\",\n        page: \"Manager\",\n      });\n    });\n\n    it(\"should display Accounts entry point with LedgerSyncBanner when optimisation is enabled\", async () => {\n      const { user } = render(<LedgerSyncEntryPointShared entryPoint={EntryPoint.accounts} />, {\n        initialState: OPTIMISATION_ENABLED_STATE,\n      });\n\n      const bannerTitle = screen.getByText(/Your wallet isn't synced/);\n      expect(bannerTitle).toBeVisible();\n\n      const bannerDescription = screen.getByText(\n        /Keep your portfolio up to date when switching computers or use a phone/,\n      );\n      expect(bannerDescription).toBeVisible();\n\n      const syncButton = screen.getByRole(\"button\", { name: \"Sync my wallet\" });\n      expect(syncButton).toBeVisible();\n\n      await user.click(syncButton);\n\n      expect(track).toHaveBeenCalled();\n      expect(track).toHaveBeenCalledWith(\"banner_clicked\", {\n        banner: \"Ledger Sync Activation\",\n        page: \"Accounts\",\n      });\n    });\n\n    it(\"should display Settings entry point with LedgerSyncBanner when optimisation is enabled\", async () => {\n      const { user } = render(<LedgerSyncEntryPointShared entryPoint={EntryPoint.settings} />, {\n        initialState: OPTIMISATION_ENABLED_STATE,\n      });\n\n      const bannerTitle = screen.getByText(/Your wallet isn't synced/);\n      expect(bannerTitle).toBeVisible();\n\n      const bannerDescription = screen.getByText(\n        /Keep your portfolio up to date when switching computers or use a phone/,\n      );\n      expect(bannerDescription).toBeVisible();\n\n      const syncButton = screen.getByRole(\"button\", { name: \"Sync my wallet\" });\n      expect(syncButton).toBeVisible();\n\n      await user.click(syncButton);\n\n      expect(track).toHaveBeenCalled();\n      expect(track).toHaveBeenCalledWith(\"banner_clicked\", {\n        banner: \"Ledger Sync Activation\",\n        page: \"Settings\",\n      });\n    });\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/LedgerSyncEntryPoints/__tests__/shared.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":32,"column":21,"nodeType":"TSAsExpression","messageId":"never","endLine":34,"endColumn":25}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { DeviceModelId } from \"@ledgerhq/types-devices\";\nimport { DeviceModelInfo } from \"@ledgerhq/types-live\";\nimport LedgerSyncEntryPoint from \"..\";\nimport { EntryPoint } from \"../types\";\nimport { useActivationDrawer } from \"../hooks/useActivationDrawer\";\nimport { AnalyticsPage } from \"../../WalletSync/hooks/useLedgerSyncAnalytics\";\nimport WalletSyncDrawer from \"../../WalletSync/components/Drawer\";\n\nexport const INITIAL_STATE = {\n  settings: {\n    readOnlyModeEnabled: false,\n    overriddenFeatureFlags: {\n      lldWalletSync: {\n        enabled: true,\n        params: {\n          environment: \"STAGING\",\n          watchConfig: {},\n        },\n      },\n      lldLedgerSyncEntryPoints: {\n        enabled: true,\n        params: {\n          onboarding: true,\n          manager: true,\n          accounts: true,\n          settings: true,\n          postOnboarding: true,\n        },\n      },\n    },\n    lastSeenDevice: {\n      modelId: DeviceModelId.stax,\n    } as DeviceModelInfo,\n  },\n  trustchain: {\n    trustchain: null,\n    memberCredentials: null,\n  },\n};\n\nexport const LedgerSyncEntryPointShared = ({\n  entryPoint,\n  needEligibleDevice,\n}: {\n  entryPoint: EntryPoint;\n  needEligibleDevice?: boolean;\n}) => {\n  const { closeDrawer } = useActivationDrawer();\n\n  return (\n    <>\n      <div id=\"modals\"></div>\n      <LedgerSyncEntryPoint entryPoint={entryPoint} needEligibleDevice={needEligibleDevice} />\n      <WalletSyncDrawer currentPage={AnalyticsPage.SettingsGeneral} onClose={closeDrawer} />\n    </>\n  );\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/LedgerSyncEntryPoints/components/AccountsEntryPoint/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/LedgerSyncEntryPoints/components/LedgerSyncBanner/LedgerSyncBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/LedgerSyncEntryPoints/components/LedgerSyncBanner/LedgerSyncBannerBase.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/LedgerSyncEntryPoints/components/ManagerEntryPoint/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/LedgerSyncEntryPoints/components/OnboardingEntryPoint/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/LedgerSyncEntryPoints/components/PostOnboardingEntryPoint/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/LedgerSyncEntryPoints/components/SettingsEntryPoint/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/LedgerSyncEntryPoints/hooks/useActivationDrawer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/LedgerSyncEntryPoints/hooks/useEntryPoint.test.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":84,"column":27,"nodeType":"TSAsExpression","messageId":"never","endLine":86,"endColumn":31}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { renderHook } from \"tests/testSetup\";\nimport { useEntryPoint } from \"./useEntryPoint\";\nimport { EntryPoint } from \"../types\";\nimport { DeviceModelId } from \"@ledgerhq/types-devices\";\nimport { DeviceModelInfo } from \"@ledgerhq/types-live\";\nimport { INITIAL_STATE } from \"../__tests__/shared\";\n\ndescribe(\"useEntryPoint\", () => {\n  it(\"shouldDisplayEntryPoint should be false when lldWalletSync ff is disabled\", async () => {\n    const { result } = renderHook(() => useEntryPoint(EntryPoint.accounts), {\n      initialState: {\n        ...INITIAL_STATE,\n        settings: {\n          ...INITIAL_STATE.settings,\n          overriddenFeatureFlags: {\n            lldWalletSync: {\n              enabled: false,\n            },\n          },\n        },\n      },\n    });\n\n    expect(result.current.shouldDisplayEntryPoint).toBe(false);\n  });\n\n  it(\"shouldDisplayEntryPoint should be false when lldLedgerSyncEntryPoints ff is disabled\", async () => {\n    const { result } = renderHook(() => useEntryPoint(EntryPoint.accounts), {\n      initialState: {\n        ...INITIAL_STATE,\n        settings: {\n          ...INITIAL_STATE.settings,\n          overriddenFeatureFlags: {\n            lldLedgerSyncEntryPoints: {\n              enabled: false,\n            },\n          },\n        },\n      },\n    });\n\n    expect(result.current.shouldDisplayEntryPoint).toBe(false);\n  });\n\n  it(\"shouldDisplayEntryPoint should be true when all criterias are met\", async () => {\n    const { result } = renderHook(() => useEntryPoint(EntryPoint.accounts), {\n      initialState: INITIAL_STATE,\n    });\n\n    expect(result.current.shouldDisplayEntryPoint).toBe(true);\n  });\n\n  it(\"shouldDisplayEntryPoint should be false when the entry point has been individually disabled in the ff\", async () => {\n    const { result } = renderHook(() => useEntryPoint(EntryPoint.manager), {\n      initialState: {\n        ...INITIAL_STATE,\n        settings: {\n          ...INITIAL_STATE.settings,\n          overriddenFeatureFlags: {\n            lldLedgerSyncEntryPoints: {\n              enabled: true,\n              params: {\n                onboarding: true,\n                manager: false,\n                accounts: true,\n                settings: true,\n                postOnboarding: true,\n              },\n            },\n          },\n        },\n      },\n    });\n\n    expect(result.current.shouldDisplayEntryPoint).toBe(false);\n  });\n\n  it(\"shouldDisplayEntryPoint should be false when lastSeenDevice is a nanoS\", async () => {\n    const { result } = renderHook(() => useEntryPoint(EntryPoint.accounts), {\n      initialState: {\n        ...INITIAL_STATE,\n        settings: {\n          ...INITIAL_STATE.settings,\n          lastSeenDevice: {\n            modelId: DeviceModelId.nanoS,\n          } as DeviceModelInfo,\n        },\n      },\n    });\n\n    expect(result.current.shouldDisplayEntryPoint).toBe(false);\n  });\n\n  it(\"shouldDisplayEntryPoint should be false when lastSeenDevice is unset\", async () => {\n    const { result } = renderHook(() => useEntryPoint(EntryPoint.accounts), {\n      initialState: {\n        ...INITIAL_STATE,\n        settings: {\n          ...INITIAL_STATE.settings,\n          lastSeenDevice: null,\n        },\n      },\n    });\n\n    expect(result.current.shouldDisplayEntryPoint).toBe(false);\n  });\n\n  it(\"shouldDisplayEntryPoint should be false when a trustchain is set\", async () => {\n    const { result } = renderHook(() => useEntryPoint(EntryPoint.accounts), {\n      initialState: {\n        ...INITIAL_STATE,\n        trustchain: {\n          ...INITIAL_STATE.trustchain,\n          trustchain: {\n            rootId: \"rootId\",\n            applicationPath: \"applicationPath\",\n            walletSyncEncryptionKey: \"walletSyncEncryptionKey\",\n          },\n          memberCredentials: {\n            privatekey: \"privatekey\",\n            pubkey: \"pubkey\",\n          },\n        },\n      },\n    });\n\n    expect(result.current.shouldDisplayEntryPoint).toBe(false);\n  });\n\n  it(\"shouldDisplayEntryPoint should be false when a trustchain is set\", async () => {\n    const { result } = renderHook(() => useEntryPoint(EntryPoint.accounts), {\n      initialState: {\n        ...INITIAL_STATE,\n        trustchain: {\n          ...INITIAL_STATE.trustchain,\n          trustchain: {\n            rootId: \"rootId\",\n            applicationPath: \"applicationPath\",\n            walletSyncEncryptionKey: \"walletSyncEncryptionKey\",\n          },\n          memberCredentials: {\n            privatekey: \"privatekey\",\n            pubkey: \"pubkey\",\n          },\n        },\n      },\n    });\n\n    expect(result.current.shouldDisplayEntryPoint).toBe(false);\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/LedgerSyncEntryPoints/hooks/useEntryPoint.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/LedgerSyncEntryPoints/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/LedgerSyncEntryPoints/types/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/LedgerSyncEntryPoints/useLedgerSyncEntryPointViewModel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/MarketPerformanceWidget/__integrations__/marketwidget.integration.test.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":9,"column":46,"nodeType":"TSAsExpression","messageId":"never","endLine":9,"endColumn":85}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { render, screen, waitFor } from \"tests/testSetup\";\n\nimport { useMarketPerformanceWidget } from \"../useMarketPerformanceWidget\";\nimport { Order } from \"../types\";\nimport { MarketWidgetTest, FAKE_LIST } from \"./shared\";\n\njest.mock(\"../useMarketPerformanceWidget\");\nconst mockedUseMarketPerformanceWidgetHook = useMarketPerformanceWidget as jest.Mock;\n\njest.mock(\"@tanstack/react-query\", () => {\n  return {\n    __esModule: true,\n    ...jest.requireActual(\"@tanstack/react-query\"),\n  };\n});\n\ndescribe(\"MarketPerformance Widget\", () => {\n  it(\"should display error screen when Component appears\", async () => {\n    mockedUseMarketPerformanceWidgetHook.mockReturnValue({\n      list: [],\n      order: Order.asc,\n      setOrder: jest.fn(),\n      isLoading: false,\n      hasError: true,\n      range: \"month\",\n      top: 0,\n      enableNewFeature: true,\n    });\n\n    render(<MarketWidgetTest />, { initialRoute: `/` });\n\n    expect(screen.getByTestId(\"error-container\")).toBeVisible();\n    expect(screen.getByText(\"1M trend\")).toBeVisible();\n    expect(screen.getByText(\"Sorry, we’re unable to load the trend\")).toBeVisible();\n  });\n  it(\"should display V2 screen when FF new Feature is ON and go to market detail page of selected currency when clicking on it\", async () => {\n    mockedUseMarketPerformanceWidgetHook.mockReturnValue({\n      list: FAKE_LIST,\n      order: Order.asc,\n      setOrder: jest.fn(),\n      isLoading: false,\n      hasError: false,\n      range: \"month\",\n      top: 0,\n      enableNewFeature: true,\n    });\n\n    const { user } = render(<MarketWidgetTest />, { initialRoute: `/` });\n\n    expect(screen.getAllByTestId(/market-performance-widget-row/i).length).toEqual(\n      FAKE_LIST.length,\n    );\n\n    const btc = screen.getByTestId(\"market-performance-widget-row-1\");\n    expect(btc).toBeVisible();\n    await user.click(btc);\n\n    await waitFor(() => expect(screen.getByTestId(\"market-coin-page-container\")).toBeVisible());\n\n    expect(screen.getByText(\"Bitcoin\")).toBeVisible();\n    expect(screen.getByText(\"BTC\")).toBeVisible();\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/MarketPerformanceWidget/__integrations__/shared.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/MarketPerformanceWidget/__tests__/helpers.test.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":207,"column":20,"nodeType":"TSAsExpression","messageId":"never","endLine":207,"endColumn":76},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":213,"column":20,"nodeType":"TSAsExpression","messageId":"never","endLine":213,"endColumn":76},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":220,"column":22,"nodeType":"TSAsExpression","messageId":"never","endLine":242,"endColumn":31}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * @jest-environment jsdom\n */\n\nimport { Order } from \"../types\";\nimport { MarketItemPerformer } from \"@ledgerhq/live-common/market/utils/types\";\nimport {\n  filterAvailableBuyOrSwapCurrency,\n  getChangePercentage,\n  getSlicedList,\n  getSlicedListWithFilters,\n  isAvailableOnBuyOrSwap,\n} from \"../utils\";\n\nconst createElem = (change: number): MarketItemPerformer => ({\n  name: \"Bitcoin\",\n  image: \"https://bitcoin.org/logo.png\",\n  priceChangePercentage1h: change,\n  priceChangePercentage1y: change,\n  priceChangePercentage24h: change,\n  priceChangePercentage30d: change,\n  priceChangePercentage7d: change,\n  ticker: \"BTC\",\n  price: 70000,\n  ledgerIds: [],\n  id: \"bitcoin\",\n});\n\nconst createElemWithMultipleChange = (\n  name: string,\n  ticker: string,\n  range: {\n    priceChangePercentage1h: number;\n    priceChangePercentage24h: number;\n    priceChangePercentage7d: number;\n    priceChangePercentage30d: number;\n    priceChangePercentage1y: number;\n  },\n): MarketItemPerformer => ({\n  name,\n  image: \"https://bitcoin.org/logo.png\",\n  priceChangePercentage1h: range.priceChangePercentage1h,\n  priceChangePercentage1y: range.priceChangePercentage1y,\n  priceChangePercentage24h: range.priceChangePercentage24h,\n  priceChangePercentage30d: range.priceChangePercentage30d,\n  priceChangePercentage7d: range.priceChangePercentage7d,\n  ticker,\n  price: 70000,\n  ledgerIds: [],\n  id: name,\n});\n\ndescribe(\"useMarketPerformanceWidget\", () => {\n  describe(\"getSlicedList\", () => {\n    it(\"Should return a list of 4 positive elements on day\", () => {\n      const DATA = [\n        createElem(-50),\n        createElem(10),\n        createElem(50),\n        createElem(20),\n        createElem(30),\n      ];\n\n      const list = getSlicedList(DATA, Order.asc, \"day\");\n\n      expect(list).toHaveLength(4);\n    });\n\n    it(\"Should return a list of 1 positive elements on month\", () => {\n      const DATA = [\n        createElem(-50),\n        createElem(-10),\n        createElem(-50),\n        createElem(20),\n        createElem(-30),\n      ];\n\n      const list = getSlicedList(DATA, Order.asc, \"month\");\n\n      expect(list).toHaveLength(1);\n    });\n\n    it(\"Should return a list of 2 positive elements on week\", () => {\n      const DATA = [\n        createElem(-50),\n        createElem(-10),\n        createElem(50),\n        createElem(20),\n        createElem(-30),\n      ];\n\n      const list = getSlicedList(DATA, Order.asc, \"week\");\n\n      expect(list).toHaveLength(2);\n    });\n\n    it(\"Should return a list of 2 negative elements on day\", () => {\n      const DATA = [\n        createElem(-20),\n        createElem(50),\n        createElem(20),\n        createElem(-50),\n        createElem(30),\n      ];\n\n      const list = getSlicedList(DATA, Order.desc, \"day\");\n\n      expect(list).toHaveLength(2);\n    });\n\n    it(\"Should return a list of 4 negative elements on month\", () => {\n      const DATA = [\n        createElem(-50),\n        createElem(-10),\n        createElem(50),\n        createElem(-20),\n        createElem(-30),\n      ];\n\n      const list = getSlicedList(DATA, Order.desc, \"month\");\n\n      expect(list).toHaveLength(4);\n    });\n\n    it(\"Should return a list of 3 negative elements on week\", () => {\n      const DATA = [\n        createElem(-50),\n        createElem(-10),\n        createElem(50),\n        createElem(20),\n        createElem(-30),\n      ];\n\n      const list = getSlicedList(DATA, Order.desc, \"week\");\n\n      expect(list).toHaveLength(3);\n    });\n  });\n\n  describe(\"getChangePercentage\", () => {\n    const elem = createElemWithMultipleChange(\"Bitcoin\", \"BTC\", {\n      priceChangePercentage1h: 10,\n      priceChangePercentage24h: 20,\n      priceChangePercentage7d: 30,\n      priceChangePercentage30d: 40,\n      priceChangePercentage1y: 50,\n    });\n\n    it(\"Should return right percentageChange for day\", () => {\n      const res = getChangePercentage(elem, \"day\");\n\n      expect(res).toEqual(elem.priceChangePercentage24h);\n    });\n\n    it(\"Should return right percentageChange for week\", () => {\n      const res = getChangePercentage(elem, \"week\");\n\n      expect(res).toEqual(elem.priceChangePercentage7d);\n    });\n\n    it(\"Should return right percentageChange for month\", () => {\n      const res = getChangePercentage(elem, \"month\");\n\n      expect(res).toEqual(elem.priceChangePercentage30d);\n    });\n    it(\"Should return right percentageChange for year\", () => {\n      const res = getChangePercentage(elem, \"year\");\n\n      expect(res).toEqual(elem.priceChangePercentage1y);\n    });\n  });\n\n  describe(\"isAvailableOnBuyOrSwap\", () => {\n    it(\"should return true when the currency is available for Buy\", () => {\n      const result = isAvailableOnBuyOrSwap(\"btc\", new Set([\"btc\", \"eth\"]), () => true, \"onRamp\");\n      expect(result).toBeTruthy();\n    });\n\n    it(\"should return false when the currency is not available for Buy\", () => {\n      const result = isAvailableOnBuyOrSwap(\"btc\", new Set([\"btc\", \"eth\"]), () => false, \"onRamp\");\n      expect(result).toBeFalsy();\n    });\n\n    it(\"should return true for a different currency when available for Buy\", () => {\n      const result = isAvailableOnBuyOrSwap(\"eth\", new Set([\"btc\", \"eth\"]), () => true, \"onRamp\");\n      expect(result).toBeTruthy();\n    });\n\n    it(\"should return false for a different currency when not available for Buy\", () => {\n      const result = isAvailableOnBuyOrSwap(\"eth\", new Set([\"btc\", \"eth\"]), () => false, \"onRamp\");\n      expect(result).toBeFalsy();\n    });\n\n    it(\"should return true when the currency is available for swap\", () => {\n      const result = isAvailableOnBuyOrSwap(\"btc\", new Set([\"btc\", \"eth\"]), () => true, \"swap\");\n      expect(result).toBeTruthy();\n    });\n\n    it(\"should return false when the currency is not available for swap\", () => {\n      const result = isAvailableOnBuyOrSwap(\"btc\", new Set([\"eth\"]), () => false, \"swap\");\n      expect(result).toBeFalsy();\n    });\n  });\n\n  describe(\"filterAvailableBuyOrSwapCurrency\", () => {\n    it(\"should return true when the currency is in the ledger and available\", () => {\n      const elem = { id: \"btc\", ledgerIds: [\"btc\"] } as MarketItemPerformer;\n      const result = filterAvailableBuyOrSwapCurrency(elem, (_id, _type) => true);\n      expect(result).toBeTruthy();\n    });\n\n    it(\"should return false when the currency is not available\", () => {\n      const elem = { id: \"btc\", ledgerIds: [\"btc\"] } as MarketItemPerformer;\n      const result = filterAvailableBuyOrSwapCurrency(elem, (_id, _type) => false);\n      expect(result).toBeFalsy();\n    });\n  });\n\n  describe(\"getSlicedListWithFilters\", () => {\n    const mockData = [\n      createElemWithMultipleChange(\"bitcoin\", \"btc\", {\n        priceChangePercentage1h: 10,\n        priceChangePercentage24h: 20,\n        priceChangePercentage7d: 30,\n        priceChangePercentage30d: 40,\n        priceChangePercentage1y: 50,\n      }),\n      createElemWithMultipleChange(\"ethereum\", \"eth\", {\n        priceChangePercentage1h: 10,\n        priceChangePercentage24h: 20,\n        priceChangePercentage7d: 30,\n        priceChangePercentage30d: 40,\n        priceChangePercentage1y: 50,\n      }),\n      createElemWithMultipleChange(\"litecoin\", \"ltc\", {\n        priceChangePercentage1h: 10,\n        priceChangePercentage24h: 20,\n        priceChangePercentage7d: 30,\n        priceChangePercentage30d: 40,\n        priceChangePercentage1y: 50,\n      }),\n    ] as MarketItemPerformer[];\n\n    it(\"should return a sliced list with filters applied when enabled\", () => {\n      const filterFn = (elem: MarketItemPerformer) => elem.id !== \"litecoin\";\n      const result = getSlicedListWithFilters(mockData, Order.asc, \"month\", true, filterFn, 5);\n      expect(result).toHaveLength(2);\n      expect(result).not.toContainEqual(expect.objectContaining({ id: \"litecoin\" }));\n    });\n\n    it(\"should return the full sliced list when filters are disabled\", () => {\n      const result = getSlicedListWithFilters(mockData, Order.asc, \"month\", false, () => true, 5);\n      expect(result).toHaveLength(3);\n    });\n\n    it(\"should return initial list when all items are filtered out\", () => {\n      const filterFn = (_elem: MarketItemPerformer) => false;\n      const result = getSlicedListWithFilters(mockData, Order.asc, \"month\", true, filterFn, 5);\n      expect(result).toHaveLength(mockData.length);\n    });\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/MarketPerformanceWidget/components/Container.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/MarketPerformanceWidget/components/Error.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/MarketPerformanceWidget/components/Footer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/MarketPerformanceWidget/components/Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/MarketPerformanceWidget/components/MissingData.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/MarketPerformanceWidget/components/WidgetList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/MarketPerformanceWidget/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/MarketPerformanceWidget/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/MarketPerformanceWidget/useMarketPerformanceWidget.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/MarketPerformanceWidget/utils/index.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":43,"column":28,"nodeType":"TSAsExpression","messageId":"never","endLine":43,"endColumn":49},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":44,"column":53,"nodeType":"TSAsExpression","messageId":"never","endLine":44,"endColumn":74}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { MarketItemPerformer } from \"@ledgerhq/live-common/market/utils/types\";\nimport { PortfolioRange } from \"@ledgerhq/types-live\";\n\nimport { CurrencyCheck, Order } from \"LLD/features/MarketPerformanceWidget/types\";\n\nexport function getSlicedList(list: MarketItemPerformer[], order: Order, range: PortfolioRange) {\n  return list.filter(elem =>\n    order === Order.asc\n      ? getChangePercentage(elem, range) > 0\n      : getChangePercentage(elem, range) < 0,\n  );\n}\n\nexport function getChangePercentage(data: MarketItemPerformer, range: PortfolioRange) {\n  switch (range) {\n    case \"day\":\n      return data.priceChangePercentage24h;\n    case \"week\":\n      return data.priceChangePercentage7d;\n    case \"month\":\n      return data.priceChangePercentage30d;\n    case \"year\":\n    default:\n      return data.priceChangePercentage1y;\n  }\n}\n\nexport function isAvailableOnBuyOrSwap(\n  id: string,\n  currenciesForSwapAllSet: Set<string>,\n  isCurrencyAvailable: (currencyId: string, mode: \"onRamp\" | \"offRamp\") => boolean,\n  type: CurrencyCheck,\n): boolean {\n  return type === \"onRamp\" ? isCurrencyAvailable(id, \"onRamp\") : currenciesForSwapAllSet.has(id);\n}\n\nexport function filterAvailableBuyOrSwapCurrency(\n  elem: MarketItemPerformer,\n  isAvailable: (id: string, type: CurrencyCheck) => boolean,\n): boolean {\n  const isAvailableOnBuyOrSwap = [\"onRamp\", \"swap\"].some(\n    type =>\n      isAvailable(elem.id, type as CurrencyCheck) ||\n      elem.ledgerIds.some(lrId => isAvailable(lrId, type as CurrencyCheck)),\n  );\n\n  return isAvailableOnBuyOrSwap;\n}\n\nexport function getSlicedListWithFilters(\n  data: MarketItemPerformer[],\n  order: Order,\n  timeRange: PortfolioRange,\n  enableNewFeature: boolean,\n  filterAvailableBuyOrSwapCurrency: (elem: MarketItemPerformer) => boolean,\n  limit: number,\n): MarketItemPerformer[] {\n  const baseList = getSlicedList(data ?? [], order, timeRange);\n\n  // Filter only when enableNewFeature is true\n  const filteredItems = enableNewFeature\n    ? baseList.filter(filterAvailableBuyOrSwapCurrency)\n    : baseList;\n\n  const finalItems = filteredItems.length > 0 ? filteredItems : baseList;\n\n  return finalItems.slice(0, limit);\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/MemoTag/__tests__/LearnMoreCta.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/MemoTag/__tests__/MemoTagField.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/MemoTag/__tests__/MemoTagInfo.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/MemoTag/__tests__/MemoTagInfoBody.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/MemoTag/__tests__/utils.test.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":8,"column":38,"nodeType":"TSAsExpression","messageId":"never","endLine":8,"endColumn":74},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":13,"column":38,"nodeType":"TSAsExpression","messageId":"never","endLine":13,"endColumn":82},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":18,"column":38,"nodeType":"TSAsExpression","messageId":"never","endLine":21,"endColumn":21},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":26,"column":45,"nodeType":"TSAsExpression","messageId":"never","endLine":29,"endColumn":28},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":34,"column":44,"nodeType":"TSAsExpression","messageId":"never","endLine":37,"endColumn":27},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":42,"column":38,"nodeType":"TSAsExpression","messageId":"never","endLine":44,"endColumn":6}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { getMemoTagValueByTransactionFamily } from \"../utils\";\nimport { Transaction } from \"@ledgerhq/live-common/generated/types\";\nimport { Transaction as StellarTransaction } from \"@ledgerhq/live-common/families/stellar/types\";\nimport { Transaction as SolanaTransaction } from \"@ledgerhq/live-common/families/solana/types\";\n\ndescribe(\"getMemoTagValueByTransactionFamily\", () => {\n  it(\"should return empty string if transaction family is not recognized\", () => {\n    const transaction: Transaction = { family: \"unknown\" } as Transaction;\n    expect(getMemoTagValueByTransactionFamily(transaction)).toBeUndefined();\n  });\n\n  it(\"should return tag for xrp family\", () => {\n    const transaction: Transaction = { family: \"xrp\", tag: 12345 } as Transaction;\n    expect(getMemoTagValueByTransactionFamily(transaction)).toBe(12345);\n  });\n\n  it(\"should return comment text for ton family\", () => {\n    const transaction: Transaction = {\n      family: \"ton\",\n      comment: { text: \"Test comment\" },\n    } as Transaction;\n    expect(getMemoTagValueByTransactionFamily(transaction)).toBe(\"Test comment\");\n  });\n\n  it(\"should return memoValue for stellar family\", () => {\n    const transaction: StellarTransaction = {\n      family: \"stellar\",\n      memoValue: \"Stellar memo\",\n    } as StellarTransaction;\n    expect(getMemoTagValueByTransactionFamily(transaction)).toBe(\"Stellar memo\");\n  });\n\n  it(\"should return memo for solana family\", () => {\n    const transaction: SolanaTransaction = {\n      family: \"solana\",\n      model: { uiState: { memo: \"Solana memo\" } },\n    } as SolanaTransaction;\n    expect(getMemoTagValueByTransactionFamily(transaction)).toBe(\"Solana memo\");\n  });\n\n  it(\"should return memo for default case\", () => {\n    const transaction: Transaction = { family: \"cosmos\", memo: \"Default memo\" } as Transaction & {\n      memo: string;\n    };\n    expect(getMemoTagValueByTransactionFamily(transaction)).toBe(\"Default memo\");\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/MemoTag/components/LearnMoreCta.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/MemoTag/components/MemoTagField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/MemoTag/components/MemoTagInfo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/MemoTag/components/MemoTagInfoBody.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/MemoTag/components/MemoTagSendInfo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/MemoTag/constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/MemoTag/utils.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":13,"column":32,"nodeType":"TSAsExpression","messageId":"never","endLine":13,"endColumn":61},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":21,"column":15,"nodeType":"TSAsExpression","messageId":"never","endLine":21,"endColumn":48},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":24,"column":9,"nodeType":"TSAsExpression","messageId":"never","endLine":28,"endColumn":10},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":33,"column":15,"nodeType":"TSAsExpression","messageId":"never","endLine":33,"endColumn":60}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Transaction } from \"@ledgerhq/live-common/generated/types\";\nimport { Transaction as StellarTransaction } from \"@ledgerhq/live-common/families/stellar/types\";\nimport { Transaction as SolanaTransaction } from \"@ledgerhq/live-common/families/solana/types\";\nimport { MEMO_TAG_COINS } from \"./constants\";\n\n/**\n * Retrieves the memo tag value from a transaction based on its family type.\n *\n * @param {Transaction} transaction - The transaction object from which to extract the memo tag value.\n * @returns {string | undefined} The memo tag value if the transaction family is supported, otherwise undefined.\n */\nexport const getMemoTagValueByTransactionFamily = (transaction: Transaction) => {\n  if (!MEMO_TAG_COINS.includes(transaction?.family as string)) return undefined;\n  const { family } = transaction;\n  switch (family) {\n    case \"xrp\":\n      return transaction?.tag;\n    case \"ton\":\n      return transaction?.comment?.text;\n    case \"stellar\":\n      return (transaction as StellarTransaction)?.memoValue;\n    case \"solana\":\n      return (\n        transaction as SolanaTransaction & {\n          model: {\n            uiState: { memo: string };\n          };\n        }\n      )?.model.uiState.memo;\n    case \"casper\":\n      return transaction?.transferId;\n    default:\n      return (transaction as Transaction & { memo: string })?.memo;\n  }\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/ModularDialogContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/ModularDialogFlowManager.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/ModularDialogFlowManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/ModularDialogRoot.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/Web3AppWebview/AssetAndAccountDrawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/Web3AppWebview/__tests__/openAssetAndAccountDrawer.test.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":6,"column":21,"nodeType":"TSAsExpression","messageId":"never","endLine":6,"endColumn":54},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":7,"column":27,"nodeType":"TSAsExpression","messageId":"never","endLine":7,"endColumn":55}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { renderHook } from \"tests/testSetup\";\nimport { Account, AccountLike } from \"@ledgerhq/types-live\";\nimport { useOpenAssetAndAccount } from \"../AssetAndAccountDrawer\";\nimport { createModularDrawerConfiguration } from \"@ledgerhq/live-common/wallet-api/ModularDrawer/utils\";\n\nconst mockAccount = { id: \"account1\" } as AccountLike;\nconst mockParentAccount = { id: \"parent1\" } as Account;\n\nconst config = createModularDrawerConfiguration({});\n\ndescribe(\"useOpenAssetAndAccount - openAssetAndAccount\", () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  it(\"should set isOpen on openAssetAndAccount\", () => {\n    const { result, store } = renderHook(() => useOpenAssetAndAccount(true));\n\n    expect(store.getState().modularDrawer.isOpen).toBe(false);\n\n    result.current.openAssetAndAccount({ drawerConfiguration: config });\n\n    expect(store.getState().modularDrawer.isOpen).toBe(true);\n  });\n\n  it(\"should handle callback mode success\", () => {\n    const onSuccess = jest.fn();\n\n    const { result, store } = renderHook(() => useOpenAssetAndAccount(true));\n\n    result.current.openAssetAndAccount({\n      onSuccess,\n      drawerConfiguration: config,\n    });\n\n    store\n      .getState()\n      .modularDrawer.dialogParams?.onAccountSelected?.(mockAccount, mockParentAccount);\n\n    expect(onSuccess).toHaveBeenCalledWith(mockAccount, mockParentAccount);\n    expect(store.getState().modularDrawer.isOpen).toBe(false);\n  });\n\n  it(\"should handle callback mode cancel\", () => {\n    const onCancel = jest.fn();\n\n    const { result, store } = renderHook(() => useOpenAssetAndAccount(true));\n\n    result.current.openAssetAndAccount({\n      onCancel,\n      drawerConfiguration: config,\n    });\n\n    store.getState().modularDrawer.dialogParams?.onClose?.();\n\n    expect(onCancel).toHaveBeenCalled();\n    expect(store.getState().modularDrawer.isOpen).toBe(false);\n  });\n});\n\ndescribe(\"useOpenAssetAndAccount - openAssetAndAccountPromise\", () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  it(\"should resolve with account and parentAccount on success\", async () => {\n    const { result, store } = renderHook(() => useOpenAssetAndAccount(true));\n\n    const resultPromise = result.current.openAssetAndAccountPromise({\n      drawerConfiguration: config,\n    });\n\n    store\n      .getState()\n      .modularDrawer.dialogParams?.onAccountSelected?.(mockAccount, mockParentAccount);\n\n    const resultValue = await resultPromise;\n\n    expect(resultValue).toEqual({ account: mockAccount, parentAccount: mockParentAccount });\n    expect(store.getState().modularDrawer.isOpen).toBe(false);\n  });\n\n  it(\"should reject with an error on cancel\", async () => {\n    const { result, store } = renderHook(() => useOpenAssetAndAccount(true));\n\n    const resultPromise = result.current.openAssetAndAccountPromise({\n      drawerConfiguration: config,\n    });\n\n    store.getState().modularDrawer.dialogParams?.onClose?.();\n\n    await expect(resultPromise).rejects.toThrow(\"Canceled by user\");\n    expect(store.getState().modularDrawer.isOpen).toBe(false);\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/__mocks__/useConnectAppAction.mock.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/__tests__/modules.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/__tests__/selectAccountFlow.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/__tests__/selectNetworkFlow.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/analytics/TrackDialogScreen.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/analytics/__tests__/TrackDialogScreen.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/analytics/__tests__/formatAssetConfig.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/analytics/__tests__/formatNetworkConfig.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/analytics/__tests__/useModularDialogAnalytics.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/analytics/modularDialog.types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/analytics/useModularDialogAnalytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/analytics/utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/components/Account/AccountApy.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/components/Account/AccountCount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/components/Account/AccountCountApy.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/components/Address/__tests__/formatAddress.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/components/Address/formatAddress.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/components/AnimatedScreenWrapper.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/components/ApyIndicator/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/components/Balance.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/components/CloseButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/components/EmptyList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/components/GenericError.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/components/Market/MarketPercentIndicator/MarketPercentIndicator.stories.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/components/Market/MarketPercentIndicator/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/components/Market/MarketPriceIndicator/MarketPriceIndicator.stories.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/components/Market/MarketPriceIndicator/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/components/Market/__tests__/Market.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/components/Market/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/components/Market/useMarketIndicator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/components/SkeletonList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/components/__tests__/Balance.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/hooks/__tests__/useAssetSelection.test.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":17,"column":24,"nodeType":"TSAsExpression","messageId":"never","endLine":21,"endColumn":29},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":22,"column":23,"nodeType":"TSAsExpression","messageId":"never","endLine":26,"endColumn":29},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":27,"column":23,"nodeType":"TSAsExpression","messageId":"never","endLine":31,"endColumn":29},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":32,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":32,"endColumn":94}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { renderHook } from \"tests/testSetup\";\nimport { useAssetSelection } from \"../useAssetSelection\";\nimport { CryptoOrTokenCurrency } from \"@ledgerhq/types-cryptoassets\";\nimport { setSupportedCurrencies } from \"@ledgerhq/coin-framework/lib-es/currencies/support\";\n\nsetSupportedCurrencies([\"cardano\", \"bitcoin\", \"ethereum\", \"neo\"]);\n\n// Mock useAcceptedCurrency to return a function that checks if currency is in supported list\njest.mock(\"@ledgerhq/live-common/modularDrawer/hooks/useAcceptedCurrency\", () => ({\n  useAcceptedCurrency: jest.fn(() => {\n    const supported = new Set([\"cardano\", \"bitcoin\", \"ethereum\", \"neo\"]);\n    return (currency: CryptoOrTokenCurrency) => supported.has(currency.id);\n  }),\n}));\n\ndescribe(\"useAssetSelection\", () => {\n  const mockEthereum = {\n    id: \"ethereum\",\n    name: \"Ethereum\",\n    type: \"CryptoCurrency\",\n  } as CryptoOrTokenCurrency;\n  const mockBitcoin = {\n    id: \"bitcoin\",\n    name: \"Bitcoin\",\n    type: \"CryptoCurrency\",\n  } as CryptoOrTokenCurrency;\n  const mockCardano = {\n    id: \"cardano\",\n    name: \"Cardano\",\n    type: \"CryptoCurrency\",\n  } as CryptoOrTokenCurrency;\n  const mockNeo = { id: \"neo\", name: \"NEO\", type: \"CryptoCurrency\" } as CryptoOrTokenCurrency;\n\n  beforeEach(() => {\n    // Ensure currencies are marked as supported before each test\n    setSupportedCurrencies([\"cardano\", \"bitcoin\", \"ethereum\", \"neo\"]);\n  });\n\n  it(\"returns all currencies when all are supported\", () => {\n    const mockSorted = [mockEthereum, mockBitcoin, mockCardano, mockNeo];\n    const { result } = renderHook(() => useAssetSelection(mockSorted));\n    // All currencies are supported\n    expect(result.current.assetsToDisplay).toEqual([\n      mockEthereum,\n      mockBitcoin,\n      mockCardano,\n      mockNeo,\n    ]);\n  });\n\n  it(\"returns all supported assets even if currencyIds is empty\", () => {\n    const mockSorted = [mockEthereum, mockBitcoin, mockCardano];\n    const { result } = renderHook(() => useAssetSelection(mockSorted));\n    expect(result.current.assetsToDisplay).toEqual([mockEthereum, mockBitcoin, mockCardano]);\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/hooks/__tests__/useDetailedAccounts.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/hooks/__tests__/useHasAccountsForAsset.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/hooks/__tests__/useModularDialogData.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/hooks/__tests__/useModularDialogFlowState.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/hooks/__tests__/useModularDialogNavigation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/hooks/__tests__/useOpenAssetFlow.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/hooks/useAccountData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/hooks/useAssetSelection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/hooks/useBalanceDeps.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/hooks/useDetailedAccounts.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/hooks/useHasAccountsForAsset.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/hooks/useModularDialogBackButton.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/hooks/useModularDialogData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/hooks/useModularDialogFlowState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/hooks/useModularDialogNavigation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/hooks/useModularDialogRemoteData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/hooks/useOpenAssetFlow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/screens/AccountSelector/AccountSelector.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/screens/AccountSelector/components/AccountListItem/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/screens/AccountSelector/components/AccountSelectorContent/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/screens/AccountSelector/components/AccountVirtualList/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/screens/AccountSelector/components/AddAccountButton/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/screens/AccountSelector/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/screens/AssetSelector/AssetSelector.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/screens/AssetSelector/components/AssetListItem/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/screens/AssetSelector/components/AssetSelectorContent/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/screens/AssetSelector/components/AssetVirtualList/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/screens/AssetSelector/components/SearchInputContainer/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/screens/AssetSelector/components/SearchInputContainer/test/useSearch.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/screens/AssetSelector/components/SearchInputContainer/useSearch.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/screens/AssetSelector/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/screens/NetworkSelector/NetworkSelector.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/screens/NetworkSelector/components/NetworkListItem/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/screens/NetworkSelector/components/NetworkSelectorContent/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/screens/NetworkSelector/components/NetworkVirtualList/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/screens/NetworkSelector/components/__tests__/SelectNetwork.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/screens/NetworkSelector/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/utils/getAssetByCurrency.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDialog/utils/tests/getAssetByCurrency.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/ModularDrawerFlowManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/Web3AppWebview/AssetAndAccountDrawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/Web3AppWebview/__tests__/openAssetAndAccountDrawer.test.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":21,"column":21,"nodeType":"TSAsExpression","messageId":"never","endLine":21,"endColumn":54},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":22,"column":27,"nodeType":"TSAsExpression","messageId":"never","endLine":22,"endColumn":55},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":31,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":31,"endColumn":28},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":48,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":48,"endColumn":41},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":64,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":64,"endColumn":41},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":78,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":78,"endColumn":28},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":99,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":99,"endColumn":28}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { setDrawer } from \"~/renderer/drawers/Provider\";\nimport { Account, AccountLike } from \"@ledgerhq/types-live\";\nimport {\n  openAssetAndAccountDrawer,\n  openAssetAndAccountDrawerPromise,\n} from \"../AssetAndAccountDrawer\";\nimport { createModularDrawerConfiguration } from \"@ledgerhq/live-common/wallet-api/ModularDrawer/utils\";\n\njest.mock(\"../../ModularDrawerFlowManager\", () => {\n  return ({ children }: { children: React.ReactNode }) => children;\n});\n\njest.mock(\"../../components/CloseButton\", () => ({\n  CloseButton: () => null,\n}));\n\njest.mock(\"~/renderer/drawers/Provider\", () => ({\n  setDrawer: jest.fn(),\n}));\n\nconst mockAccount = { id: \"account1\" } as AccountLike;\nconst mockParentAccount = { id: \"parent1\" } as Account;\n\nconst config = createModularDrawerConfiguration({});\n\ndescribe(\"openAssetAndAccountDrawer\", () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n\n    // Mock setDrawer to simulate the behavior of onAccountSelected\n    (setDrawer as jest.Mock).mockImplementation((_Component, props, options) => {\n      if (props?.onAccountSelected) {\n        props.onAccountSelected(mockAccount, mockParentAccount);\n      }\n      if (options?.onRequestClose) {\n        options.onRequestClose();\n      }\n    });\n  });\n\n  it(\"should handle callback mode success\", () => {\n    const onSuccess = jest.fn();\n    openAssetAndAccountDrawer({\n      onSuccess,\n      drawerConfiguration: config,\n    });\n\n    const call = (setDrawer as jest.Mock).mock.calls[0];\n    const onAccountSelected = call[1].onAccountSelected;\n\n    onAccountSelected(mockAccount, mockParentAccount);\n\n    expect(onSuccess).toHaveBeenCalledWith(mockAccount, mockParentAccount);\n  });\n\n  it(\"should handle callback mode cancel\", () => {\n    const onCancel = jest.fn();\n\n    openAssetAndAccountDrawer({\n      onCancel,\n      drawerConfiguration: config,\n    });\n\n    const call = (setDrawer as jest.Mock).mock.calls[0];\n    const onRequestClose = call[2].onRequestClose;\n\n    onRequestClose();\n\n    expect(onCancel).toHaveBeenCalled();\n  });\n});\n\ndescribe(\"openAssetAndAccountDrawerPromise\", () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n\n    // Mock setDrawer to simulate the behavior of onAccountSelected and onRequestClose\n    (setDrawer as jest.Mock).mockImplementation((_Component, props, options) => {\n      if (props?.onAccountSelected) {\n        props.onAccountSelected(mockAccount, mockParentAccount);\n      }\n      if (options?.onRequestClose) {\n        options.onRequestClose();\n      }\n    });\n  });\n\n  it(\"should resolve with account and parentAccount on success\", async () => {\n    const result = await openAssetAndAccountDrawerPromise({\n      drawerConfiguration: config,\n    });\n\n    expect(result).toEqual({ account: mockAccount, parentAccount: mockParentAccount });\n    expect(setDrawer).toHaveBeenCalled();\n  });\n\n  it(\"should reject with an error on cancel\", async () => {\n    // Simulate cancellation by triggering onRequestClose\n    (setDrawer as jest.Mock).mockImplementation((_Component, _props, options) => {\n      if (options?.onRequestClose) {\n        options.onRequestClose();\n      }\n    });\n\n    await expect(\n      openAssetAndAccountDrawerPromise({\n        drawerConfiguration: config,\n      }),\n    ).rejects.toThrow(\"Canceled by user\");\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/__tests__/modules.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/__tests__/selectAccountFlow.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/__tests__/selectNetworkFlow.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/__tests__/swapTokenNetworkBugFix.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/analytics/TrackDrawerScreen.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/analytics/__tests__/TrackDrawerScreen.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/analytics/__tests__/formatAssetConfig.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/analytics/__tests__/formatNetworkConfig.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/analytics/__tests__/useModularDrawerAnalytics.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/analytics/modularDrawer.types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/analytics/useModularDrawerAnalytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/analytics/utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/components/AccountApy.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/components/AccountCount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/components/AccountCountApy.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/components/AnimatedScreenWrapper.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/components/BackButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/components/Balance.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/components/CloseButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/components/GenericError.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/components/ListWrapper.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/components/SkeletonList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/components/Title.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/hooks/__tests__/useAssetSelection.test.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":18,"column":24,"nodeType":"TSAsExpression","messageId":"never","endLine":22,"endColumn":29},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":23,"column":23,"nodeType":"TSAsExpression","messageId":"never","endLine":27,"endColumn":29},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":28,"column":23,"nodeType":"TSAsExpression","messageId":"never","endLine":32,"endColumn":29},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":33,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":33,"endColumn":94}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { renderHook } from \"tests/testSetup\";\nimport { useAssetSelection } from \"../useAssetSelection\";\nimport { CryptoOrTokenCurrency } from \"@ledgerhq/types-cryptoassets\";\nimport { setSupportedCurrencies } from \"@ledgerhq/coin-framework/lib-es/currencies/support\";\n\nsetSupportedCurrencies([\"cardano\", \"bitcoin\", \"ethereum\", \"neo\"]);\n\n// Mock useAcceptedCurrency to return a function that checks if currency is in supported list\njest.mock(\"@ledgerhq/live-common/modularDrawer/hooks/useAcceptedCurrency\", () => ({\n  useAcceptedCurrency: jest.fn(() => {\n    const supported = new Set([\"cardano\", \"bitcoin\", \"ethereum\", \"neo\"]);\n    return (currency: CryptoOrTokenCurrency) => supported.has(currency.id);\n  }),\n}));\n\ndescribe(\"useAssetSelection\", () => {\n  const mockCurrencyIds = [\"cardano\", \"bitcoin\", \"ethereum\"];\n  const mockEthereum = {\n    id: \"ethereum\",\n    name: \"Ethereum\",\n    type: \"CryptoCurrency\",\n  } as CryptoOrTokenCurrency;\n  const mockBitcoin = {\n    id: \"bitcoin\",\n    name: \"Bitcoin\",\n    type: \"CryptoCurrency\",\n  } as CryptoOrTokenCurrency;\n  const mockCardano = {\n    id: \"cardano\",\n    name: \"Cardano\",\n    type: \"CryptoCurrency\",\n  } as CryptoOrTokenCurrency;\n  const mockNeo = { id: \"neo\", name: \"NEO\", type: \"CryptoCurrency\" } as CryptoOrTokenCurrency;\n\n  beforeEach(() => {\n    // Ensure currencies are marked as supported before each test\n    setSupportedCurrencies([\"cardano\", \"bitcoin\", \"ethereum\", \"neo\"]);\n  });\n\n  it(\"returns all currencies when all are supported\", () => {\n    const mockSorted = [mockEthereum, mockBitcoin, mockCardano, mockNeo];\n    const { result } = renderHook(() => useAssetSelection(mockCurrencyIds, mockSorted));\n    // All currencies are supported\n    expect(result.current.assetsToDisplay).toEqual([\n      mockEthereum,\n      mockBitcoin,\n      mockCardano,\n      mockNeo,\n    ]);\n    expect(result.current.currencyIdsSet).toEqual(new Set([\"cardano\", \"bitcoin\", \"ethereum\"]));\n  });\n\n  it(\"returns all supported assets even if currencyIds is empty\", () => {\n    const mockSorted = [mockEthereum, mockBitcoin, mockCardano];\n    const { result } = renderHook(() => useAssetSelection([], mockSorted));\n    expect(result.current.assetsToDisplay).toEqual([mockEthereum, mockBitcoin, mockCardano]);\n    expect(result.current.currencyIdsSet).toEqual(new Set());\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/hooks/__tests__/useDetailedAccounts.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/hooks/__tests__/useModularDrawerData.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/hooks/__tests__/useModularDrawerFlowState.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/hooks/__tests__/useModularDrawerNavigation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/hooks/__tests__/useOpenAssetFlow.test.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":66,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":66,"endColumn":28}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ModularDrawerLocation } from \"@ledgerhq/live-common/modularDrawer/enums\";\nimport { renderHook } from \"tests/testSetup\";\nimport { setDrawer } from \"~/renderer/drawers/Provider\";\nimport ModularDrawerFlowManager from \"../../ModularDrawerFlowManager\";\nimport { useOpenAssetFlow } from \"../useOpenAssetFlow\";\n\njest.mock(\"~/renderer/drawers/Provider\", () => ({\n  setDrawer: jest.fn(),\n}));\n\ndescribe(\"useOpenAssetFlow\", () => {\n  afterEach(() => {\n    jest.clearAllMocks();\n  });\n\n  const modularDrawerLocation = ModularDrawerLocation.ADD_ACCOUNT;\n\n  it(\"should dispatch openModal if the modular drawer is not visible\", async () => {\n    const { result, store } = renderHook(\n      () => useOpenAssetFlow({ location: modularDrawerLocation }, \"test\"),\n      {\n        initialState: {\n          settings: {\n            overriddenFeatureFlags: {\n              lldModularDrawer: {\n                enabled: false,\n              },\n            },\n          },\n        },\n      },\n    );\n\n    result.current.openAssetFlow();\n\n    expect(store.getState().modals.MODAL_ADD_ACCOUNTS).toEqual({\n      isOpened: true,\n      data: { newModalName: undefined },\n    });\n    expect(setDrawer).not.toHaveBeenCalled();\n  });\n\n  it(\"should open the modular drawer if it is visible and open the legacy modal once a currency is chosen and the lldNetworkBasedAddAccount flag is off\", () => {\n    const { result, store } = renderHook(\n      () => useOpenAssetFlow({ location: modularDrawerLocation }, \"test\"),\n      {\n        initialState: {\n          settings: {\n            overriddenFeatureFlags: {\n              lldNetworkBasedAddAccount: {\n                enabled: false,\n              },\n              lldModularDrawer: {\n                enabled: true,\n                params: {\n                  [ModularDrawerLocation.ADD_ACCOUNT]: true,\n                },\n              },\n            },\n          },\n        },\n      },\n    );\n\n    const selectAsset = jest.fn();\n    (setDrawer as jest.Mock).mockImplementation((_, props) =>\n      selectAsset.mockImplementation(props?.onAssetSelected),\n    );\n\n    // Should open the drawer\n    result.current.openAssetFlow();\n\n    expect(setDrawer).toHaveBeenCalledTimes(1);\n    expect(setDrawer).toHaveBeenLastCalledWith(\n      ModularDrawerFlowManager,\n      {\n        currencies: [],\n        drawerConfiguration: {\n          assets: { leftElement: \"undefined\", rightElement: \"balance\" },\n          networks: { leftElement: \"numberOfAccounts\", rightElement: \"balance\" },\n        },\n        onAssetSelected: expect.any(Function),\n      },\n      {\n        closeButtonComponent: expect.any(Function),\n        onRequestClose: expect.any(Function),\n      },\n    );\n\n    expect(store.getState().modals.MODAL_ADD_ACCOUNTS?.isOpened).toBeFalsy();\n\n    // Select currency in the drawer\n    const mockCurrency = { id: \"btc\", type: \"CryptoCurrency\" };\n    selectAsset(mockCurrency);\n\n    expect(setDrawer).toHaveBeenCalledTimes(2);\n    expect(setDrawer).toHaveBeenCalledWith();\n\n    expect(store.getState().modals.MODAL_ADD_ACCOUNTS).toEqual({\n      isOpened: true,\n      data: expect.objectContaining({ currency: mockCurrency }),\n    });\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/hooks/useAccountData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/hooks/useAssetSelection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/hooks/useBalanceDeps.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/hooks/useDetailedAccounts.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/hooks/useModularDrawerBackButton.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/hooks/useModularDrawerData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/hooks/useModularDrawerFlowState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/hooks/useModularDrawerNavigation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/hooks/useModularDrawerRemoteData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/hooks/useOpenAssetFlow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/screens/AccountSelection/components/AddAccountButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/screens/AccountSelection/components/List.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/screens/AccountSelection/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/screens/AssetSelection/components/List/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/screens/AssetSelection/components/SearchInputContainer/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/screens/AssetSelection/components/SearchInputContainer/test/useSearch.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/screens/AssetSelection/components/SearchInputContainer/useSearch.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/screens/AssetSelection/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/screens/NetworkSelection/components/__tests__/SelectNetwork.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/screens/NetworkSelection/components/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/screens/NetworkSelection/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/utils/getAssetByCurrency.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/ModularDrawer/utils/tests/getAssetByCurrency.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/NftEntryPoint/__tests__/NftEntryPoint.test.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":21,"column":2,"nodeType":"TSAsExpression","messageId":"never","endLine":21,"endColumn":25},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":23,"column":21,"nodeType":"TSAsExpression","messageId":"never","endLine":26,"endColumn":24},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":23,"column":21,"nodeType":"TSAsExpression","messageId":"never","endLine":26,"endColumn":13},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":28,"column":24,"nodeType":"TSAsExpression","messageId":"never","endLine":31,"endColumn":24},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":28,"column":24,"nodeType":"TSAsExpression","messageId":"never","endLine":31,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { render, screen } from \"tests/testSetup\";\nimport NftEntryPoint from \"..\";\nimport { Entry } from \"../types\";\nimport { track } from \"~/renderer/analytics/segment\";\nimport { Account } from \"@ledgerhq/types-live\";\n\njest.mock(\"react-router-dom\", () => ({\n  ...jest.requireActual(\"react-router-dom\"),\n  useHistory: jest.fn(),\n}));\n\njest.mock(\"~/renderer/analytics/segment\", () => ({\n  ...jest.requireActual(\"~/renderer/analytics/segment\"),\n  track: jest.fn(),\n}));\n\nconst mockPush = jest.fn();\n(useHistory as jest.Mock).mockReturnValue({ push: mockPush });\n\nconst mockAccount = {\n  id: \"testAccountId\",\n  currency: { id: \"ethereum\" },\n} as unknown as Account;\n\nconst mockAccountBTC = {\n  id: \"testAccountBTC\",\n  currency: { id: \"bitcoin\" },\n} as unknown as Account;\n\ndescribe(\"NftEntryPoint\", () => {\n  it(\"should render nothing if isFeatureNftEntryPointEnabled is false\", () => {\n    const { store } = render(<NftEntryPoint account={mockAccount} />, {\n      initialState: {\n        settings: {\n          overriddenFeatureFlags: {\n            llNftEntryPoint: {\n              enabled: false,\n            },\n          },\n        },\n      },\n    });\n    expect(store.getState().settings.overriddenFeatureFlags.llNftEntryPoint.enabled).toBeFalsy();\n  });\n\n  it(\"should render enabled entry points if enabled\", () => {\n    render(<NftEntryPoint account={mockAccount} />, {\n      initialState: {\n        settings: {\n          overriddenFeatureFlags: {\n            llNftEntryPoint: {\n              enabled: true,\n              params: {\n                chains: [\"ethereum\"],\n                [Entry.magiceden]: true,\n                [Entry.opensea]: true,\n              },\n            },\n          },\n        },\n      },\n    });\n\n    expect(screen.getAllByTestId(/nft-entry-point/i).length).toEqual(2);\n  });\n\n  it(\"should not render disabled entry points if not enabled\", () => {\n    render(<NftEntryPoint account={mockAccount} />, {\n      initialState: {\n        settings: {\n          overriddenFeatureFlags: {\n            llNftEntryPoint: {\n              enabled: true,\n              params: {\n                chains: [\"ethereum\"],\n                [Entry.magiceden]: true,\n                [Entry.opensea]: false,\n              },\n            },\n          },\n        },\n      },\n    });\n\n    expect(screen.getAllByTestId(/nft-entry-point/i).length).toEqual(1);\n    expect(screen.getByTestId(`nft-entry-point-${Entry.magiceden}`)).toBeDefined();\n  });\n\n  it(\"should render nothing if chainId is not included in chains\", () => {\n    render(<NftEntryPoint account={mockAccountBTC} />, {\n      initialState: {\n        settings: {\n          overriddenFeatureFlags: {\n            llNftEntryPoint: {\n              enabled: true,\n              params: {\n                chains: [\"ethereum\", \"solana\"],\n                [Entry.magiceden]: true,\n                [Entry.opensea]: true,\n              },\n            },\n          },\n        },\n      },\n    });\n\n    expect(screen.queryByTestId(/nft-entry-point/i)).toBeNull();\n  });\n\n  it(\"should call onClick when a Row is clicked\", () => {\n    render(<NftEntryPoint account={mockAccount} />, {\n      initialState: {\n        settings: {\n          overriddenFeatureFlags: {\n            llNftEntryPoint: {\n              enabled: true,\n              params: {\n                chains: [\"ethereum\"],\n                [Entry.magiceden]: true,\n              },\n            },\n          },\n        },\n      },\n    });\n\n    const row = screen.getByTestId(`nft-entry-point-${Entry.magiceden}`);\n    row.click();\n\n    expect(track).toHaveBeenCalledWith(\"entry_nft_clicked\", {\n      item: Entry.magiceden,\n      page: \"Account\",\n    });\n    expect(mockPush).toHaveBeenCalledWith({\n      pathname: \"/platform/nft-viewer-redirector\",\n      state: {\n        accountId: mockAccount.id,\n        chainId: mockAccount.currency.id,\n        returnTo: `/account/${mockAccount.id}`,\n        website: \"https://magiceden.io\",\n      },\n    });\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/NftEntryPoint/__tests__/useNftsEntryPointViewModel.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/NftEntryPoint/components/Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/NftEntryPoint/components/Row.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/NftEntryPoint/config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/NftEntryPoint/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/NftEntryPoint/types/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/NftEntryPoint/useNftsEntryPointViewModel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/components/StepText/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/__tests__/CollapsibleStep.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/__tests__/DesyncOverlay.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/__tests__/NewSeedPanel.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/__tests__/SeedStep.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/__tests__/SuccessStep.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/__tests__/TwoStepCompanion.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/assets/BackupBackground.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/assets/ContinueOnApex.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/assets/ContinueOnEuropa.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/assets/ContinueOnStax.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/assets/SetupBackground.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/assets/SuccessBackground.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/components/CollapsibleStep/AnimatedWrapper.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/components/CollapsibleStep/StepStatusIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/components/CollapsibleStep/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/components/DesyncOverlay/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/components/NewSeedPanel/NewSeedIllustration.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/components/NewSeedPanel/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/components/SeedStep/BackupCharonStep.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":57,"column":41,"nodeType":"TSAsExpression","messageId":"never","endLine":57,"endColumn":57}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport styled from \"styled-components\";\nimport { Flex, Link, Icons, ContinueOnDevice } from \"@ledgerhq/react-ui\";\nimport StepText from \"LLD/features/Onboarding/components/StepText\";\nimport { track } from \"~/renderer/analytics/segment\";\nimport { openURL } from \"~/renderer/linking\";\nimport Animation from \"~/renderer/animations\";\nimport CHARON from \"~/renderer/animations/charon/charon.json\";\nimport { urls } from \"~/config/urls\";\nimport { useLocalizedUrl } from \"~/renderer/hooks/useLocalizedUrls\";\nimport SeedStepWrapper from \"./SeedStepWrapper\";\n\nconst StyledAnimation = styled(Animation)`\n  border-radius: 6.4px;\n  box-shadow:\n    0px 63.291px 50.633px 0px rgba(0, 0, 0, 0.19),\n    0px 26.442px 21.153px 0px rgba(0, 0, 0, 0.14),\n    0px 14.137px 11.31px 0px rgba(0, 0, 0, 0.11),\n    0px 7.925px 6.34px 0px rgba(0, 0, 0, 0.09),\n    0px 4.209px 3.367px 0px rgba(0, 0, 0, 0.08),\n    0px 1.751px 1.401px 0px rgba(0, 0, 0, 0.05);\n`;\n\nconst LinkIcon = () => <Icons.ExternalLink size=\"S\" />;\n\nexport type Props = {\n  productName: string;\n  deviceIcon: React.ComponentType<{ size: number; color?: string }>;\n};\n\nconst BackupCharonStep = ({ productName, deviceIcon }: Props) => {\n  const { t } = useTranslation();\n  const charonLearnMoreUrl = useLocalizedUrl(urls.charonLearnMore);\n\n  const handleLearnMoreClick = useCallback(() => {\n    track(\"button_clicked\", {\n      button: \"Learn More\",\n      page: \"Charon Start\",\n    });\n    openURL(charonLearnMoreUrl);\n  }, [charonLearnMoreUrl]);\n\n  return (\n    <SeedStepWrapper testId=\"backup-charon-step\">\n      <Flex flexDirection=\"column\">\n        <Flex alignItems=\"center\" justifyContent=\"center\" flexDirection=\"column\">\n          <Flex\n            style={{\n              height: 108,\n              overflow: \"visible\",\n              justifyContent: \"center\",\n              paddingTop: 8,\n              marginBottom: 24,\n            }}\n          >\n            <StyledAnimation animation={CHARON as object} />\n          </Flex>\n          {/* @ts-expect-error weird props issue with React 18 */}\n          <StepText mb={24} fontWeight=\"semiBold\" variant=\"largeLineHeight\" color=\"neutral.c100\">\n            {t(\"syncOnboarding.manual.seedContent.backupCharonTitle\")}\n          </StepText>\n          {/* @ts-expect-error weird props issue with React 18 */}\n          <StepText mb={24} textAlign=\"center\">\n            {t(\"syncOnboarding.manual.seedContent.backupCharonDescription\")}\n          </StepText>\n          <Flex flexDirection=\"column\" color=\"neutral.c100\" mb={24}>\n            <Link\n              alwaysUnderline\n              Icon={LinkIcon}\n              onClick={handleLearnMoreClick}\n              style={{ justifyContent: \"flex-start\" }}\n              textProps={{ fontSize: 14 }}\n              data-testid=\"learn-more-link\"\n            >\n              {t(\"syncOnboarding.manual.seedContent.backupCharonCta\")}\n            </Link>\n          </Flex>\n        </Flex>\n\n        <ContinueOnDevice\n          Icon={deviceIcon}\n          text={t(\"syncOnboarding.manual.seedContent.backupCharonContinueOnDevice\", {\n            productName,\n          })}\n        />\n      </Flex>\n    </SeedStepWrapper>\n  );\n};\n\nexport default BackupCharonStep;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/components/SeedStep/ChoiceRestoreRecoverStep.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/components/SeedStep/NewSeedStep.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/components/SeedStep/RecoverSeedStep.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/components/SeedStep/RestoreCharonStep.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/components/SeedStep/RestoreSeedStep.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/components/SeedStep/SeedStepWrapper.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/components/SeedStep/SelectionStep.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/components/SeedStep/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/components/SuccessStep/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/components/TwoStepCompanion/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/hooks/__tests__/useCompanionSteps.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/hooks/useCompanionSteps.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/types/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompanion/utils/constants/analytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompletion/__tests__/CompletionScreen.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompletion/__tests__/useCompletionScreenViewModel.test.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":24,"column":20,"nodeType":"TSAsExpression","messageId":"never","endLine":24,"endColumn":41},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":50,"column":28,"nodeType":"TSAsExpression","messageId":"never","endLine":50,"endColumn":75}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * @jest-environment jsdom\n */\nimport { renderHook, waitFor } from \"tests/testSetup\";\nimport { useRedirectToPostOnboardingCallback } from \"~/renderer/hooks/useAutoRedirectToPostOnboarding\";\nimport { State } from \"~/renderer/reducers\";\nimport { Device, DeviceModelId } from \"@ledgerhq/types-devices\";\nimport { useCompletionScreenViewModel } from \"../useCompletionScreenViewModel\";\nimport { SettingsState } from \"~/renderer/reducers/settings\";\n\njest.mock(\"~/renderer/hooks/useAutoRedirectToPostOnboarding\", () => ({\n  ...jest.requireActual(\"~/renderer/hooks/useAutoRedirectToPostOnboarding\"),\n  useRedirectToPostOnboardingCallback: jest.fn(),\n}));\n\njest.mock(\"react-router\", () => ({\n  ...jest.requireActual(\"react-router\"),\n  useLocation: jest.fn().mockReturnValue({ state: { seedConfiguration: \"new_seed\" } }),\n}));\n\nconst getInitialState = (modelId: DeviceModelId = DeviceModelId.stax): Partial<State> => ({\n  devices: {\n    devices: [],\n    currentDevice: { modelId } as Device,\n  },\n});\n\ndescribe(\"useCompletionScreenViewModel\", () => {\n  beforeEach(() => {\n    jest.mocked(useRedirectToPostOnboardingCallback).mockReset();\n  });\n\n  [DeviceModelId.stax, DeviceModelId.apex, DeviceModelId.europa].forEach(deviceId =>\n    it(`should return ${deviceId} device ID and redirect to post onboarding`, async () => {\n      const initialState = getInitialState(deviceId);\n      const { result, store } = renderHook(() => useCompletionScreenViewModel(), { initialState });\n\n      expect(result.current.deviceModelId).toBe(deviceId);\n      expect(result.current.seedConfiguration).toBe(\"new_seed\");\n\n      await waitFor(\n        () => {\n          expect(useRedirectToPostOnboardingCallback).toHaveBeenCalled();\n        },\n        {\n          timeout: 7000,\n        },\n      );\n\n      const { settings } = store.getState() as { settings: SettingsState };\n      expect(settings.hasCompletedOnboarding).toBe(true);\n      expect(settings.hasBeenRedirectedToPostOnboarding).toBe(false);\n      expect(settings.hasBeenUpsoldRecover).toBe(false);\n      expect(settings.lastOnboardedDevice).toHaveProperty(\"modelId\", deviceId);\n    }),\n  );\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompletion/components/ApexCompletionView/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompletion/components/EuropaCompletionView/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompletion/components/StaxCompletionView/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompletion/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/SyncOnboardingCompletion/useCompletionScreenViewModel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/WelcomeNew/__tests__/useVideoCarousel.test.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":91,"column":43,"nodeType":"TSAsExpression","messageId":"never","endLine":91,"endColumn":79,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/WelcomeNew/components/WelcomeNewStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/WelcomeNew/hooks/useVideoCarousel.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/WelcomeNew/hooks/useWelcomeNewViewModel.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Onboarding/screens/WelcomeNew/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Send/SendFlowOrchestrator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Send/SendFlowRoot.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Send/components/SendFlowLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Send/components/SendHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Send/constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Send/context/SendFlowContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Send/hooks/__tests__/useSendFlowTransaction.test.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":13,"column":23,"nodeType":"TSAsExpression","messageId":"never","endLine":16,"endColumn":15},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":18,"column":27,"nodeType":"TSAsExpression","messageId":"never","endLine":22,"endColumn":19},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":32,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":32,"endColumn":53},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":42,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":42,"endColumn":48},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":90,"column":33,"nodeType":"TSAsExpression","messageId":"never","endLine":98,"endColumn":23},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":100,"column":8,"nodeType":"TSAsExpression","messageId":"never","endLine":100,"endColumn":55},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":138,"column":30,"nodeType":"TSAsExpression","messageId":"never","endLine":142,"endColumn":23},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":144,"column":8,"nodeType":"TSAsExpression","messageId":"never","endLine":144,"endColumn":55},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":175,"column":33,"nodeType":"TSAsExpression","messageId":"never","endLine":180,"endColumn":23},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":182,"column":8,"nodeType":"TSAsExpression","messageId":"never","endLine":182,"endColumn":55},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":213,"column":30,"nodeType":"TSAsExpression","messageId":"never","endLine":217,"endColumn":23},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":219,"column":8,"nodeType":"TSAsExpression","messageId":"never","endLine":219,"endColumn":55}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { renderHook, act } from \"tests/testSetup\";\nimport { useSendFlowTransaction } from \"../useSendFlowTransaction\";\nimport * as bridgeModule from \"@ledgerhq/live-common/bridge/index\";\nimport * as useBridgeTransactionModule from \"@ledgerhq/live-common/bridge/useBridgeTransaction\";\nimport type { Account } from \"@ledgerhq/types-live\";\nimport type { Transaction } from \"@ledgerhq/live-common/generated/types\";\nimport BigNumber from \"bignumber.js\";\n\njest.mock(\"@ledgerhq/live-common/bridge/useBridgeTransaction\");\njest.mock(\"@ledgerhq/live-common/bridge/index\");\n\ndescribe(\"useSendFlowTransaction\", () => {\n  const mockAccount = {\n    id: \"mock-account-id\",\n    currency: { family: \"cosmos\" },\n  } as Account;\n\n  const mockTransaction = {\n    family: \"cosmos\",\n    recipient: \"\",\n    amount: new BigNumber(0),\n  } as Transaction;\n\n  const mockBridgeSetTransaction = jest.fn();\n  const mockBridgeUpdateTransaction = jest.fn();\n  const mockSetAccount = jest.fn();\n  const mockUpdateTransaction = jest.fn((tx, updates) => ({ ...tx, ...updates }));\n\n  beforeEach(() => {\n    jest.clearAllMocks();\n\n    (useBridgeTransactionModule.default as jest.Mock).mockReturnValue({\n      transaction: mockTransaction,\n      setTransaction: mockBridgeSetTransaction,\n      updateTransaction: mockBridgeUpdateTransaction,\n      status: { errors: {}, warnings: {} },\n      bridgeError: null,\n      bridgePending: false,\n      setAccount: mockSetAccount,\n    });\n\n    (bridgeModule.getAccountBridge as jest.Mock).mockReturnValue({\n      updateTransaction: mockUpdateTransaction,\n    });\n  });\n\n  describe(\"setRecipient\", () => {\n    it(\"should update recipient address\", () => {\n      const { result } = renderHook(() =>\n        useSendFlowTransaction({\n          account: mockAccount,\n          parentAccount: null,\n        }),\n      );\n\n      act(() => {\n        result.current.actions.setRecipient({\n          address: \"cosmos1abc123\",\n        });\n      });\n\n      expect(mockUpdateTransaction).toHaveBeenCalledWith(mockTransaction, {\n        recipient: \"cosmos1abc123\",\n      });\n      expect(mockBridgeSetTransaction).toHaveBeenCalled();\n    });\n\n    it(\"should apply memo for cosmos\", () => {\n      const { result } = renderHook(() =>\n        useSendFlowTransaction({\n          account: mockAccount,\n          parentAccount: null,\n        }),\n      );\n\n      act(() => {\n        result.current.actions.setRecipient({\n          address: \"cosmos1abc123\",\n          memo: \"test memo\",\n        });\n      });\n\n      expect(mockUpdateTransaction).toHaveBeenCalledWith(mockTransaction, {\n        recipient: \"cosmos1abc123\",\n        memo: \"test memo\",\n      });\n    });\n\n    it(\"should apply memo for solana with nested structure\", () => {\n      const solanaTransaction = {\n        family: \"solana\",\n        recipient: \"\",\n        amount: new BigNumber(0),\n        model: {\n          kind: \"transfer\",\n          uiState: {},\n        },\n      } as Transaction;\n\n      (useBridgeTransactionModule.default as jest.Mock).mockReturnValue({\n        transaction: solanaTransaction,\n        setTransaction: mockBridgeSetTransaction,\n        updateTransaction: mockBridgeUpdateTransaction,\n        status: { errors: {}, warnings: {} },\n        bridgeError: null,\n        bridgePending: false,\n        setAccount: mockSetAccount,\n      });\n\n      const { result } = renderHook(() =>\n        useSendFlowTransaction({\n          account: mockAccount,\n          parentAccount: null,\n        }),\n      );\n\n      act(() => {\n        result.current.actions.setRecipient({\n          address: \"solana-address\",\n          memo: \"solana memo\",\n        });\n      });\n\n      expect(mockUpdateTransaction).toHaveBeenCalledWith(\n        solanaTransaction,\n        expect.objectContaining({\n          recipient: \"solana-address\",\n          model: expect.objectContaining({\n            uiState: expect.objectContaining({\n              memo: \"solana memo\",\n            }),\n          }),\n        }),\n      );\n    });\n\n    it(\"should apply tag for xrp\", () => {\n      const xrpTransaction = {\n        family: \"xrp\",\n        recipient: \"\",\n        amount: new BigNumber(0),\n      } as Transaction;\n\n      (useBridgeTransactionModule.default as jest.Mock).mockReturnValue({\n        transaction: xrpTransaction,\n        setTransaction: mockBridgeSetTransaction,\n        updateTransaction: mockBridgeUpdateTransaction,\n        status: { errors: {}, warnings: {} },\n        bridgeError: null,\n        bridgePending: false,\n        setAccount: mockSetAccount,\n      });\n\n      const { result } = renderHook(() =>\n        useSendFlowTransaction({\n          account: mockAccount,\n          parentAccount: null,\n        }),\n      );\n\n      act(() => {\n        result.current.actions.setRecipient({\n          address: \"xrp-address\",\n          destinationTag: \"12345\",\n        });\n      });\n\n      expect(mockUpdateTransaction).toHaveBeenCalledWith(xrpTransaction, {\n        recipient: \"xrp-address\",\n        tag: 12345,\n      });\n    });\n\n    it(\"should apply transferId for casper\", () => {\n      const casperTransaction = {\n        family: \"casper\",\n        recipient: \"\",\n        amount: new BigNumber(0),\n        fees: new BigNumber(0),\n      } as Transaction;\n\n      (useBridgeTransactionModule.default as jest.Mock).mockReturnValue({\n        transaction: casperTransaction,\n        setTransaction: mockBridgeSetTransaction,\n        updateTransaction: mockBridgeUpdateTransaction,\n        status: { errors: {}, warnings: {} },\n        bridgeError: null,\n        bridgePending: false,\n        setAccount: mockSetAccount,\n      });\n\n      const { result } = renderHook(() =>\n        useSendFlowTransaction({\n          account: mockAccount,\n          parentAccount: null,\n        }),\n      );\n\n      act(() => {\n        result.current.actions.setRecipient({\n          address: \"casper-address\",\n          memo: \"transfer-id-123\",\n        });\n      });\n\n      expect(mockUpdateTransaction).toHaveBeenCalledWith(casperTransaction, {\n        recipient: \"casper-address\",\n        transferId: \"transfer-id-123\",\n      });\n    });\n\n    it(\"should handle both memo and destinationTag for xrp\", () => {\n      const xrpTransaction = {\n        family: \"xrp\",\n        recipient: \"\",\n        amount: new BigNumber(0),\n      } as Transaction;\n\n      (useBridgeTransactionModule.default as jest.Mock).mockReturnValue({\n        transaction: xrpTransaction,\n        setTransaction: mockBridgeSetTransaction,\n        updateTransaction: mockBridgeUpdateTransaction,\n        status: { errors: {}, warnings: {} },\n        bridgeError: null,\n        bridgePending: false,\n        setAccount: mockSetAccount,\n      });\n\n      const { result } = renderHook(() =>\n        useSendFlowTransaction({\n          account: mockAccount,\n          parentAccount: null,\n        }),\n      );\n\n      act(() => {\n        result.current.actions.setRecipient({\n          address: \"xrp-address\",\n          memo: \"test\",\n          destinationTag: \"67890\",\n        });\n      });\n\n      expect(mockUpdateTransaction).toHaveBeenCalledWith(xrpTransaction, {\n        recipient: \"xrp-address\",\n        tag: 67890,\n      });\n    });\n\n    it(\"should ignore invalid destinationTag\", () => {\n      const { result } = renderHook(() =>\n        useSendFlowTransaction({\n          account: mockAccount,\n          parentAccount: null,\n        }),\n      );\n\n      act(() => {\n        result.current.actions.setRecipient({\n          address: \"xrp-address\",\n          destinationTag: \"invalid\",\n        });\n      });\n\n      expect(mockUpdateTransaction).toHaveBeenCalledWith(mockTransaction, {\n        recipient: \"xrp-address\",\n      });\n    });\n\n    it(\"should not update when account is null\", () => {\n      const { result } = renderHook(() =>\n        useSendFlowTransaction({\n          account: null,\n          parentAccount: null,\n        }),\n      );\n\n      act(() => {\n        result.current.actions.setRecipient({\n          address: \"test-address\",\n        });\n      });\n\n      expect(mockUpdateTransaction).not.toHaveBeenCalled();\n    });\n  });\n\n  describe(\"setTransaction\", () => {\n    it(\"should set transaction\", () => {\n      const { result } = renderHook(() =>\n        useSendFlowTransaction({\n          account: mockAccount,\n          parentAccount: null,\n        }),\n      );\n\n      const newTransaction: Transaction = {\n        ...mockTransaction,\n        recipient: \"new-address\",\n      };\n\n      act(() => {\n        result.current.actions.setTransaction(newTransaction);\n      });\n\n      expect(mockBridgeSetTransaction).toHaveBeenCalledWith(newTransaction);\n    });\n  });\n\n  describe(\"updateTransaction\", () => {\n    it(\"should update transaction with updater function\", () => {\n      const { result } = renderHook(() =>\n        useSendFlowTransaction({\n          account: mockAccount,\n          parentAccount: null,\n        }),\n      );\n\n      act(() => {\n        result.current.actions.updateTransaction(tx => ({\n          ...tx,\n          recipient: \"updated-address\",\n        }));\n      });\n\n      expect(mockBridgeUpdateTransaction).toHaveBeenCalled();\n    });\n  });\n\n  describe(\"state\", () => {\n    it(\"should return correct state\", () => {\n      const { result } = renderHook(() =>\n        useSendFlowTransaction({\n          account: mockAccount,\n          parentAccount: null,\n        }),\n      );\n\n      expect(result.current.state).toEqual({\n        transaction: mockTransaction,\n        status: { errors: {}, warnings: {} },\n        bridgeError: null,\n        bridgePending: false,\n      });\n    });\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Send/hooks/useNewSendFlowFeature.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Send/hooks/useOpenSendFlow.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Send/hooks/useSendFlowAccount.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Send/hooks/useSendFlowOperation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Send/hooks/useSendFlowState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Send/hooks/useSendFlowTransaction.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Send/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Send/mocks/descriptor.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/Send/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/__tests__/manageSynchronizedInstances.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/__tests__/manageYourBackup.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/__tests__/shared.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/__tests__/synchronize.test.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":28,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":28,"endColumn":43}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { render, screen, act } from \"tests/testSetup\";\nimport { createQRCodeHostInstance } from \"@ledgerhq/ledger-key-ring-protocol/qrcode/index\";\nimport { WalletSyncTestApp, simpleTrustChain, walletSyncActivatedState } from \"./shared\";\n\njest.mock(\"../hooks/useGetMembers\", () => ({\n  useGetMembers: () => ({\n    isLoading: false,\n    data: [],\n    isError: false,\n    error: null,\n  }),\n}));\n\njest.mock(\"@ledgerhq/ledger-key-ring-protocol/qrcode/index\", () => ({\n  createQRCodeHostInstance: jest.fn(),\n}));\n\njest.useFakeTimers({ advanceTimers: true });\n\ndescribe(\"Synchronize flow\", () => {\n  it(\"should open drawer and should do Synchronize flow with QRCode\", async () => {\n    let resolveQRCodeFlowPromise: unknown = null;\n    let requestDisplayDigits: unknown = null;\n    const mockPromiseQRCodeCandidate = new Promise(resolve => {\n      resolveQRCodeFlowPromise = resolve;\n    });\n    (createQRCodeHostInstance as jest.Mock).mockImplementation(({ onDisplayDigits }) => {\n      requestDisplayDigits = onDisplayDigits;\n      return mockPromiseQRCodeCandidate;\n    });\n\n    const { user } = render(<WalletSyncTestApp />, {\n      initialState: {\n        walletSync: walletSyncActivatedState,\n        trustchain: {\n          trustchain: simpleTrustChain,\n          memberCredentials: {\n            pubkey: \"pubkey\",\n            privatekey: \"privatekey\",\n          },\n        },\n      },\n    });\n\n    await user.click(screen.getByRole(\"button\", { name: \"Manage\" }));\n\n    await user.click(await screen.findByTestId(\"walletSync-synchronize\"));\n\n    await screen.findByText(/Sync with the Ledger Wallet app on another phone/i);\n\n    act(() => {\n      if (typeof requestDisplayDigits === \"function\") requestDisplayDigits(\"321\");\n    });\n\n    expect(await screen.findByTestId(/pin-code-digit-0/i)).toHaveTextContent(\"3\");\n    expect(await screen.findByTestId(/pin-code-digit-1/i)).toHaveTextContent(\"2\");\n    expect(await screen.findByTestId(/pin-code-digit-2/i)).toHaveTextContent(\"1\");\n\n    if (typeof resolveQRCodeFlowPromise === \"function\") resolveQRCodeFlowPromise();\n\n    expect(await screen.findByText(/Hang tight.../i)).toBeDefined();\n\n    await act(async () => {\n      jest.advanceTimersByTime(3 * 1000);\n    });\n\n    expect(await screen.findByText(/sync successful!/i)).toBeDefined();\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/__tests__/useAddMember.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/__tests__/useFlows.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/__tests__/useWatchWalletSync.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/__tests__/walletSync.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/components/AlertError.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/components/AlertLedgerSyncDown.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/components/Card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/components/Complete.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/components/Drawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/components/Error.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/components/GenericStatusDisplay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/components/Info.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/components/LoadingStep.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/components/LogoWrapper.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/components/Success.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/components/TinyCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/components/WalletSyncContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/hooks/type.hooks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/hooks/useAddMember.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":112,"column":20,"nodeType":"TSAsExpression","messageId":"never","endLine":112,"endColumn":34}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import {\n  memberCredentialsSelector,\n  setTrustchain,\n  trustchainSelector,\n} from \"@ledgerhq/ledger-key-ring-protocol/store\";\nimport { useDispatch, useSelector } from \"LLD/hooks/redux\";\nimport { setDrawerVisibility, setFlow } from \"~/renderer/actions/walletSync\";\nimport { Flow, Step, walletSyncOnboardingNewDeviceSelector } from \"~/renderer/reducers/walletSync\";\nimport { useTrustchainSdk } from \"./useTrustchainSdk\";\nimport { TrustchainResult, TrustchainResultType } from \"@ledgerhq/ledger-key-ring-protocol/types\";\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nimport {\n  TrustchainAlreadyInitialized,\n  TrustchainAlreadyInitializedWithOtherSeed,\n} from \"@ledgerhq/ledger-key-ring-protocol/errors\";\nimport { track } from \"~/renderer/analytics/segment\";\nimport { AnalyticsPage } from \"./useLedgerSyncAnalytics\";\nimport { saveSettings, setLastOnboardedDevice } from \"~/renderer/actions/settings\";\nimport { useHistory } from \"react-router\";\n\nexport function useAddMember({\n  device,\n  sourcePage,\n}: {\n  device: Device | null;\n  sourcePage?: AnalyticsPage;\n}) {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const sdk = useTrustchainSdk();\n  const memberCredentials = useSelector(memberCredentialsSelector);\n  const trustchain = useSelector(trustchainSelector);\n  const isOnboardingNewDevice = useSelector(walletSyncOnboardingNewDeviceSelector);\n  const isOnboardingNewDeviceInitial = useRef(isOnboardingNewDevice);\n  const [error, setError] = useState<Error | null>(null);\n\n  const [userDeviceInteraction, setUserDeviceInteraction] = useState(false);\n\n  const sdkRef = useRef(sdk);\n  const deviceRef = useRef(device);\n  const trustchainRef = useRef(trustchain);\n  const memberCredentialsRef = useRef(memberCredentials);\n\n  const transitionToNextScreen = useCallback(\n    (trustchainResult: TrustchainResult) => {\n      dispatch(setTrustchain(trustchainResult.trustchain));\n      track(\"ledgersync_activated\");\n      if (sourcePage === AnalyticsPage.Onboarding) {\n        if (!isOnboardingNewDeviceInitial.current) {\n          dispatch(saveSettings({ hasCompletedOnboarding: true }));\n          dispatch(setLastOnboardedDevice(device));\n          history.push(\"/\");\n        }\n        dispatch(setDrawerVisibility(false));\n      } else {\n        dispatch(\n          setFlow({\n            flow: Flow.Activation,\n            step: Step.ActivationLoading,\n            nextStep:\n              trustchainResult.type === TrustchainResultType.created\n                ? Step.ActivationFinal\n                : Step.SynchronizationFinal,\n            hasTrustchainBeenCreated: trustchainResult.type === TrustchainResultType.created,\n          }),\n        );\n      }\n    },\n    [device, dispatch, history, sourcePage],\n  );\n\n  const handleMissingDevice = useCallback(() => {\n    dispatch(\n      setFlow({\n        flow: Flow.Activation,\n        step: Step.DeviceAction,\n      }),\n    );\n  }, [dispatch]);\n\n  const onRetry = () => {\n    dispatch(setFlow({ flow: Flow.Activation, step: Step.DeviceAction }));\n  };\n\n  useEffect(() => {\n    const addMember = async () => {\n      try {\n        if (!deviceRef.current) {\n          return handleMissingDevice();\n        }\n        if (!memberCredentialsRef.current) {\n          throw new Error(\"memberCredentials is not set\");\n        }\n        const trustchainResult = await sdkRef.current.getOrCreateTrustchain(\n          deviceRef.current.deviceId,\n          memberCredentialsRef.current,\n          {\n            onStartRequestUserInteraction: () => setUserDeviceInteraction(true),\n            onEndRequestUserInteraction: () => setUserDeviceInteraction(false),\n          },\n          undefined,\n          trustchainRef.current ?? undefined,\n        );\n\n        transitionToNextScreen(trustchainResult);\n      } catch (error) {\n        if (error instanceof TrustchainAlreadyInitialized) {\n          dispatch(setFlow({ flow: Flow.Synchronize, step: Step.AlreadySecuredSameSeed }));\n        } else if (error instanceof TrustchainAlreadyInitializedWithOtherSeed) {\n          dispatch(setFlow({ flow: Flow.Synchronize, step: Step.AlreadySecuredOtherSeed }));\n        } else {\n          setError(error as Error);\n        }\n      }\n    };\n\n    addMember();\n  }, [dispatch, handleMissingDevice, transitionToNextScreen]);\n\n  return { error, userDeviceInteraction, handleMissingDevice, onRetry };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/hooks/useDestroyTrustchain.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/hooks/useFlows.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/hooks/useGetMembers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/hooks/useInitMemberCredentials.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/hooks/useInstanceName.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/hooks/useLedgerSyncAnalytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/hooks/useLedgerSyncInfo.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/hooks/useLoadingStep.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/hooks/useOnTrustchainRefreshNeeded.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/hooks/useQRCode.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":75,"column":26,"nodeType":"TSAsExpression","messageId":"never","endLine":75,"endColumn":58},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":75,"column":26,"nodeType":"TSAsExpression","messageId":"never","endLine":75,"endColumn":38}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useCallback, useState } from \"react\";\nimport { createQRCodeHostInstance } from \"@ledgerhq/ledger-key-ring-protocol/qrcode/index\";\nimport {\n  InvalidDigitsError,\n  NoTrustchainInitialized,\n  QRCodeWSClosed,\n  TrustchainAlreadyInitialized,\n} from \"@ledgerhq/ledger-key-ring-protocol/errors\";\nimport { MemberCredentials } from \"@ledgerhq/ledger-key-ring-protocol/types\";\nimport { useDispatch, useSelector } from \"LLD/hooks/redux\";\nimport { setDrawerVisibility, setFlow, setQrCodePinCode } from \"~/renderer/actions/walletSync\";\nimport { Flow, Step } from \"~/renderer/reducers/walletSync\";\nimport {\n  trustchainSelector,\n  memberCredentialsSelector,\n  setTrustchain,\n} from \"@ledgerhq/ledger-key-ring-protocol/store\";\nimport { useTrustchainSdk } from \"./useTrustchainSdk\";\nimport { useFeature } from \"@ledgerhq/live-common/featureFlags/index\";\nimport getWalletSyncEnvironmentParams from \"@ledgerhq/live-common/walletSync/getEnvironmentParams\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { track } from \"~/renderer/analytics/segment\";\nimport { QueryKey } from \"./type.hooks\";\nimport { useInstanceName } from \"./useInstanceName\";\nimport { AnalyticsPage } from \"./useLedgerSyncAnalytics\";\nimport { saveSettings } from \"~/renderer/actions/settings\";\nimport { useHistory } from \"react-router\";\n\nconst MIN_TIME_TO_REFRESH = 30_000;\n\nexport function useQRCode({ sourcePage }: { sourcePage?: AnalyticsPage }) {\n  const queryClient = useQueryClient();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const trustchain = useSelector(trustchainSelector);\n  const memberCredentials = useSelector(memberCredentialsSelector);\n  const sdk = useTrustchainSdk();\n  const featureWalletSync = useFeature(\"lldWalletSync\");\n  const { trustchainApiBaseUrl } = getWalletSyncEnvironmentParams(\n    featureWalletSync?.params?.environment,\n  );\n  const [url, setUrl] = useState<string | null>(null);\n  const memberName = useInstanceName();\n\n  const goToActivation = useCallback(() => {\n    dispatch(setFlow({ flow: Flow.Activation, step: Step.DeviceAction }));\n  }, [dispatch]);\n\n  const { mutate, isPending, error } = useMutation({\n    mutationFn: (memberCredentials: MemberCredentials) =>\n      createQRCodeHostInstance({\n        trustchainApiBaseUrl,\n        onDisplayQRCode: url => {\n          setUrl(url);\n        },\n        onDisplayDigits: digits => {\n          dispatch(setQrCodePinCode(digits));\n          dispatch(setFlow({ flow: Flow.Synchronize, step: Step.PinCode }));\n        },\n        addMember: async member => {\n          if (trustchain) {\n            await sdk.addMember(trustchain, memberCredentials, member);\n            return trustchain;\n          }\n          throw new NoTrustchainInitialized();\n        },\n        memberCredentials,\n        memberName,\n        initialTrustchainId: trustchain?.rootId,\n      }),\n\n    // Don't use retry here because it always uses a delay despite setting it to 0\n    onError(e) {\n      if (e instanceof QRCodeWSClosed) {\n        const { time } = e as unknown as { time: number };\n        if (time >= MIN_TIME_TO_REFRESH) startQRCodeProcessing();\n      }\n      if (e instanceof InvalidDigitsError) {\n        dispatch(setFlow({ flow: Flow.Synchronize, step: Step.PinCodeError }));\n      }\n      if (e instanceof NoTrustchainInitialized) {\n        dispatch(setFlow({ flow: Flow.Synchronize, step: Step.UnbackedError }));\n      }\n      if (e instanceof TrustchainAlreadyInitialized) {\n        dispatch(setFlow({ flow: Flow.Synchronize, step: Step.SynchronizeWithQRCode }));\n      }\n    },\n\n    onSuccess(newTrustchain) {\n      if (newTrustchain) {\n        dispatch(setTrustchain(newTrustchain));\n        if (!trustchain) track(\"ledgersync_activated\");\n      }\n      if (sourcePage === AnalyticsPage.Onboarding) {\n        dispatch(saveSettings({ hasCompletedOnboarding: true }));\n        history.push(\"/\");\n        dispatch(setDrawerVisibility(false));\n      } else {\n        dispatch(\n          setFlow({\n            flow: Flow.Synchronize,\n            step: Step.SynchronizeLoading,\n            nextStep: Step.Synchronized,\n            hasTrustchainBeenCreated: false,\n          }),\n        );\n      }\n      queryClient.invalidateQueries({ queryKey: [QueryKey.getMembers] });\n      setUrl(null);\n      dispatch(setQrCodePinCode(null));\n    },\n  });\n\n  const startQRCodeProcessing = useCallback(() => {\n    if (memberCredentials) mutate(memberCredentials);\n  }, [mutate, memberCredentials]);\n\n  return {\n    url,\n    error,\n    isLoading: isPending,\n    startQRCodeProcessing,\n    goToActivation,\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/hooks/useRemoveMember.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/hooks/useRestoreTrustchain.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":21,"column":7,"nodeType":"TSAsExpression","messageId":"never","endLine":21,"endColumn":31},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":22,"column":7,"nodeType":"TSAsExpression","messageId":"never","endLine":22,"endColumn":45}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import {\n  memberCredentialsSelector,\n  trustchainSelector,\n  setTrustchain,\n} from \"@ledgerhq/ledger-key-ring-protocol/store\";\nimport { Trustchain, MemberCredentials } from \"@ledgerhq/ledger-key-ring-protocol/types\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { useDispatch, useSelector } from \"LLD/hooks/redux\";\nimport { QueryKey } from \"./type.hooks\";\nimport { useTrustchainSdk } from \"./useTrustchainSdk\";\n\nexport const useRestoreTrustchain = () => {\n  const dispatch = useDispatch();\n  const sdk = useTrustchainSdk();\n  const memberCredentials = useSelector(memberCredentialsSelector);\n\n  const trustchain = useSelector(trustchainSelector);\n\n  async function restoreTrustchain() {\n    const newTrustchain = await sdk.restoreTrustchain(\n      trustchain as Trustchain,\n      memberCredentials as MemberCredentials,\n    );\n\n    dispatch(setTrustchain(newTrustchain));\n\n    return newTrustchain;\n  }\n\n  const restore = useQuery({\n    enabled: false,\n    queryKey: [QueryKey.restoreTrustchain],\n    queryFn: restoreTrustchain,\n  });\n\n  return restore;\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/hooks/useTrustchainSdk.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/hooks/useWatchWalletSync.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/hooks/walletSync.hooks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/Activation/01-CreateOrSynchronizeStep.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/Activation/01-SynchronizeStep.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/Activation/02-DeviceActionStep.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/Activation/03-ActivationOrSynchroWithTrustchain.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/Activation/04-LoadingStep.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/Activation/05-ActivationFinalStep.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/Activation/06-ActivationOrSyncError.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/Activation/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/DeviceActions/FollowStepsOnDevice.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/DeviceActions/openOrInstall.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/Manage/Option.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/Manage/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/ManageBackup/01-DeleteBackupStep.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/ManageBackup/02-FinalStep.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/ManageBackup/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/ManageBackup/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/ManageInstances/01-ManageInstancesStep.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/ManageInstances/02-DeviceActionInstanceStep.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/ManageInstances/03-DeleteInstanceWithTrustchain.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/ManageInstances/04-DeletionError.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/ManageInstances/04-DeletionFinalErrorStep.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/ManageInstances/04-DeletionFinalStep.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/ManageInstances/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/ManageInstances/useInstances.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/Synchronize/01-SyncModeStep.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/Synchronize/02-QRCodeStep.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has missing dependencies: 'controls' and 'startQRCodeProcessing'. Either include them or remove the dependency array.","line":41,"column":6,"nodeType":"ArrayExpression","endLine":41,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [controls, startQRCodeProcessing]","fix":{"range":[1411,1413],"text":"[controls, startQRCodeProcessing]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/Synchronize/03-PinCodeStep.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/Synchronize/04-SyncFinalStep.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/Synchronize/05-PinCodeError.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/Synchronize/05-UnbackedError.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/Synchronize/06-ActivationAlreadyCreatedSame.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/Synchronize/07-ActivationAlreadyCreatedOther.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/Synchronize/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/WalletSync/screens/router.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-empty-object-type","severity":1,"message":"An empty interface declaration allows any non-nullish value, including literals like `0` and `\"\"`.\n- If that's what you want, disable this lint rule with an inline comment or configure the 'allowInterfaces' rule option.\n- If you want a type meaning \"any object\", you probably want `object` instead.\n- If you want a type meaning \"any value\", you probably want `unknown` instead.","line":21,"column":18,"nodeType":"Identifier","messageId":"noEmptyInterface","endLine":21,"endColumn":27,"suggestions":[{"messageId":"replaceEmptyInterface","data":{"replacement":"object"},"fix":{"range":[747,769],"text":"type BackProps = object"},"desc":"Replace empty interface with `object`."},{"messageId":"replaceEmptyInterface","data":{"replacement":"unknown"},"fix":{"range":[747,769],"text":"type BackProps = unknown"},"desc":"Replace empty interface with `unknown`."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/__mocks__/accounts.mock.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/__mocks__/useSelectAssetFlow.mock.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/features/__tests__/shared.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/hooks/redux.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/hooks/useCopyToClipboard.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/hooks/useExportLogs.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":41,"column":23,"nodeType":"TSAsExpression","messageId":"never","endLine":41,"endColumn":37}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import getUser from \"~/helpers/user\";\nimport { getAllEnvs } from \"@ledgerhq/live-env\";\nimport { webFrame, ipcRenderer } from \"electron\";\nimport { useCallback, useState } from \"react\";\nimport { useTechnicalDateTimeFn } from \"~/renderer/hooks/useDateFormatter\";\nimport logger from \"~/renderer/logger\";\nimport { useSelector } from \"LLD/hooks/redux\";\nimport { accountsSelector } from \"~/renderer/reducers/accounts\";\nimport { saveLogs } from \"~/helpers/saveLogs\";\n\nexport function useExportLogs() {\n  const getDateTxt = useTechnicalDateTimeFn();\n  const accounts = useSelector(accountsSelector);\n  const [exporting, setExporting] = useState(false);\n\n  const exportLogs = useCallback(async () => {\n    try {\n      const resourceUsage = webFrame.getResourceUsage();\n      const user = await getUser();\n      logger.log(\"exportLogsMeta\", {\n        resourceUsage,\n        release: __APP_VERSION__,\n        git_commit: __GIT_REVISION__,\n        environment: __DEV__ ? \"development\" : \"production\",\n        userAgent: window.navigator.userAgent,\n        userAnonymousId: user.id,\n        env: getAllEnvs(),\n        accountsIds: accounts.map(a => a.id),\n      });\n\n      const path = await ipcRenderer.invoke(\"show-save-dialog\", {\n        title: \"Export logs\",\n        defaultPath: `ledgerwallet-logs-${getDateTxt()}-${__GIT_REVISION__ || \"unversioned\"}.txt`,\n        filters: [{ name: \"All Files\", extensions: [\"txt\"] }],\n      });\n\n      if (path) {\n        await saveLogs(path);\n      }\n    } catch (error) {\n      logger.critical(error as Error);\n    }\n  }, [accounts, getDateTxt]);\n\n  const handleExportLogs = useCallback(async () => {\n    if (exporting) return;\n    setExporting(true);\n    await exportLogs();\n    setExporting(false);\n  }, [exporting, exportLogs]);\n\n  return { handleExportLogs };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/hooks/useStake.test.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":64,"column":21,"nodeType":"TSAsExpression","messageId":"never","endLine":67,"endColumn":24},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":93,"column":21,"nodeType":"TSAsExpression","messageId":"never","endLine":96,"endColumn":24}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useStake } from \"LLD/hooks/useStake\";\nimport BigNumber from \"bignumber.js\";\nimport { renderHookWithLiveAppProvider } from \"tests/testSetup\";\n\nimport { accountRawToAccountUserData, WalletState } from \"@ledgerhq/live-wallet/store\";\n\nimport { AccountRaw, TokenAccount } from \"@ledgerhq/types-live\";\n\nimport { fromAccountRaw } from \"@ledgerhq/coin-framework/serialization/account\";\nimport { CryptoCurrency } from \"@ledgerhq/types-cryptoassets\";\nimport { setupMockCryptoAssetsStore } from \"@ledgerhq/cryptoassets/cal-client/test-helpers\";\n\nconst raw: AccountRaw = {\n  id: \"js:2:ethereum:0x01:\",\n  seedIdentifier: \"0x01\",\n  name: \"A\",\n  derivationMode: \"\",\n  index: 0,\n  freshAddress: \"0x01\",\n  freshAddressPath: \"44'/60'/0'/0/0\",\n  blockHeight: 8168983,\n  operations: [],\n  pendingOperations: [],\n  currencyId: \"ethereum\",\n  lastSyncDate: \"2019-07-17T15:13:30.318Z\",\n  balance: \"1000000000000000000\",\n};\nconst rawTron: AccountRaw = {\n  id: \"js:2:tron:T:\",\n  seedIdentifier: \"T\",\n  name: \"Tron\",\n  derivationMode: \"\",\n  index: 1,\n  freshAddress: \"T123\",\n  freshAddressPath: \"44'/60'/0'/0/0\",\n  blockHeight: 8168983,\n  operations: [],\n  pendingOperations: [],\n  currencyId: \"tron\",\n  lastSyncDate: \"2025-07-17T15:13:30.318Z\",\n  balance: \"100000000000000\",\n};\n\nsetupMockCryptoAssetsStore({\n  getTokensSyncHash: async () => \"test_hash\",\n});\n\nlet mockEthereumAccount: Awaited<ReturnType<typeof fromAccountRaw>>;\nlet mockTronAccount: Awaited<ReturnType<typeof fromAccountRaw>>;\n\nbeforeAll(async () => {\n  mockEthereumAccount = await fromAccountRaw(raw);\n  mockTronAccount = await fromAccountRaw(rawTron);\n});\n\nconst mockUSDTTokenAccount: TokenAccount = {\n  type: \"TokenAccount\",\n  id: \"js:2:ethereum:0x01:usdt:\",\n  parentId: \"js:2:ethereum:0x01:\",\n  token: {\n    type: \"TokenCurrency\",\n    id: \"ethereum/erc20/usd_tether__erc20_\",\n    contractAddress: \"\",\n    parentCurrency: {\n      id: \"ethereum\",\n      type: \"CryptoCurrency\",\n    } as CryptoCurrency,\n    tokenType: \"\",\n    name: \"\",\n    ticker: \"\",\n    units: [],\n  },\n  balance: new BigNumber(0),\n  spendableBalance: new BigNumber(0),\n  creationDate: new Date(),\n  operationsCount: 0,\n  operations: [],\n  pendingOperations: [],\n  balanceHistoryCache: {\n    WEEK: { latestDate: null, balances: [] },\n    HOUR: { latestDate: null, balances: [] },\n    DAY: { latestDate: null, balances: [] },\n  },\n  swapHistory: [],\n};\nconst mockUSDCTokenAccount: TokenAccount = {\n  ...mockUSDTTokenAccount,\n  id: \"js:2:ethereum:0x01:usdc:\",\n  token: {\n    type: \"TokenCurrency\",\n    id: \"ethereum/erc20/usd__coin\",\n    contractAddress: \"\",\n    parentCurrency: {\n      id: \"ethereum\",\n      type: \"CryptoCurrency\",\n    } as CryptoCurrency,\n    tokenType: \"\",\n    name: \"\",\n    ticker: \"\",\n    units: [],\n  },\n  spendableBalance: new BigNumber(123456),\n  balance: new BigNumber(123456),\n};\n\nconst walletState: WalletState = {\n  accountNames: new Map(),\n  starredAccountIds: new Set(),\n  walletSyncState: {\n    data: null,\n    version: 0,\n  },\n  nonImportedAccountInfos: [],\n  recentAddresses: {},\n};\n\nconst userData = accountRawToAccountUserData(raw);\nconst userDataTron = accountRawToAccountUserData(rawTron);\n\nwalletState.accountNames.set(userData.id, userData.name);\nwalletState.accountNames.set(userDataTron.id, userDataTron.name);\n\nconst feature_stake_programs_json = {\n  enabled: true,\n  params: {\n    list: [\n      \"mantra\",\n      \"xion\",\n      \"ethereum\",\n      \"solana\",\n      \"tezos\",\n      \"cosmos\",\n      \"osmo\",\n      \"celo\",\n      \"near\",\n      \"elrond\",\n      \"quicksilver\",\n      \"persistence\",\n      \"onomy\",\n      \"axelar\",\n      \"cardano\",\n      \"dydx\",\n      \"injective\",\n    ],\n    redirects: {\n      \"ethereum/erc20/usd__coin\": {\n        platform: \"mock-dapp-v1\",\n        name: \"Dapp\",\n        queryParams: {\n          chainId: 1,\n        },\n      },\n      \"ethereum/erc20/usd_tether__erc20_\": {\n        platform: \"mock-dapp-v3\",\n        name: \"Dapp v3\",\n        queryParams: {\n          chainId: 1,\n        },\n      },\n      tron: {\n        platform: \"mock-live-app\",\n        name: \"Live App\",\n        queryParams: {\n          yieldId: \"tron-native-staking\",\n        },\n      },\n    },\n  },\n};\n\ndescribe(\"useStake()\", () => {\n  it(\"should return the correct currency ids for staking for natively enabled currencies and for partner supported tokens\", async () => {\n    const { result } = renderHookWithLiveAppProvider(() => useStake(), {\n      initialState: {\n        settings: {\n          overriddenFeatureFlags: {\n            stakePrograms: feature_stake_programs_json,\n          },\n        },\n      },\n    });\n\n    expect(result.current.enabledCurrencies).toEqual([\n      \"mantra\",\n      \"xion\",\n      \"ethereum\",\n      \"solana\",\n      \"tezos\",\n      \"cosmos\",\n      \"osmo\",\n      \"celo\",\n      \"near\",\n      \"elrond\",\n      \"quicksilver\",\n      \"persistence\",\n      \"onomy\",\n      \"axelar\",\n      \"cardano\",\n      \"dydx\",\n      \"injective\",\n    ]);\n\n    expect(result.current.partnerSupportedAssets).toEqual([\n      \"ethereum/erc20/usd__coin\",\n      \"ethereum/erc20/usd_tether__erc20_\",\n      \"tron\",\n    ]);\n  });\n\n  it(\"should NOT return a route path for an ETH account that has a native flow.\", async () => {\n    const { result } = renderHookWithLiveAppProvider(() => useStake(), {\n      initialState: {\n        settings: {\n          overriddenFeatureFlags: {\n            stakePrograms: feature_stake_programs_json,\n          },\n        },\n      },\n    });\n\n    expect(result.current.getRouteToPlatformApp(mockEthereumAccount, walletState)).toEqual(null);\n    expect(result.current.getCanStakeUsingLedgerLive(mockEthereumAccount.currency.id)).toEqual(\n      true,\n    );\n    expect(result.current.getCanStakeUsingPlatformApp(mockEthereumAccount.currency.id)).toEqual(\n      false,\n    );\n  });\n\n  it(\"should NOT return a route path for a USDT token account with no funds, but SHOULD return v3 dapp route for the same account WITH funds\", async () => {\n    const { result } = renderHookWithLiveAppProvider(() => useStake(), {\n      initialState: {\n        settings: {\n          overriddenFeatureFlags: {\n            stakePrograms: feature_stake_programs_json,\n          },\n        },\n      },\n    });\n\n    expect(result.current.getCanStakeUsingLedgerLive(mockUSDTTokenAccount.token.id)).toEqual(false);\n    expect(result.current.getCanStakeUsingPlatformApp(mockUSDTTokenAccount.token.id)).toEqual(true);\n\n    expect(\n      result.current.getRouteToPlatformApp(mockUSDTTokenAccount, walletState, mockEthereumAccount),\n    ).toEqual(null);\n\n    const mockUSDTAccountWithBalance = {\n      ...mockUSDTTokenAccount,\n      spendableBalance: new BigNumber(100),\n      balance: new BigNumber(100),\n    };\n\n    const URIEncodedParentAccountId = encodeURIComponent(mockEthereumAccount.id);\n\n    expect(\n      result.current.getRouteToPlatformApp(\n        mockUSDTAccountWithBalance,\n        walletState,\n        mockEthereumAccount,\n      ),\n    ).toEqual(\n      expect.objectContaining({\n        pathname: \"/platform/mock-dapp-v3\",\n        state: {\n          appId: \"mock-dapp-v3\",\n          accountId: \"js:2:ethereum:0x01:\",\n          customDappUrl: `https://mockdapp.com/?embed=true&chainId=1&accountId=${URIEncodedParentAccountId}`,\n          name: \"Mock Dapp v3\",\n          walletAccountId: \"1a536838-dd18-5e39-b13f-0ba422fb395c\",\n          returnTo: \"/account/js:2:ethereum:0x01:/js:2:ethereum:0x01:usdt:\",\n          chainId: 1,\n        },\n      }),\n    );\n  });\n\n  it(\"should return the correct dapp browser v1 navigation params for a given token account\", async () => {\n    const { result } = renderHookWithLiveAppProvider(() => useStake(), {\n      initialState: {\n        settings: {\n          overriddenFeatureFlags: {\n            stakePrograms: feature_stake_programs_json,\n          },\n        },\n      },\n    });\n\n    expect(\n      result.current.getRouteToPlatformApp(mockUSDCTokenAccount, walletState, mockEthereumAccount),\n    ).toEqual(\n      expect.objectContaining({\n        pathname: \"/platform/mock-dapp-v1\",\n        state: {\n          accountId: \"6760dd02-ab43-5c5a-9c7e-c75731580a08\",\n          customDappUrl:\n            \"https://mockapp.com/?something=isHere&chainId=1&accountId=6760dd02-ab43-5c5a-9c7e-c75731580a08\",\n          name: \"Mock dapp browser v1 app\",\n          appId: \"mock-dapp-v1\",\n          walletAccountId: \"6760dd02-ab43-5c5a-9c7e-c75731580a08\",\n          returnTo: \"/account/js:2:ethereum:0x01:/js:2:ethereum:0x01:usdc:\",\n          chainId: 1,\n        },\n      }),\n    );\n  });\n\n  it(\"should get the correct live app staking route params for a given Tron account\", async () => {\n    const { result } = renderHookWithLiveAppProvider(() => useStake(), {\n      initialState: {\n        settings: {\n          overriddenFeatureFlags: {\n            stakePrograms: feature_stake_programs_json,\n          },\n        },\n      },\n    });\n\n    expect(result.current.getCanStakeUsingLedgerLive(mockTronAccount.currency.id)).toEqual(false);\n    expect(result.current.getCanStakeUsingPlatformApp(mockTronAccount.currency.id)).toEqual(true);\n\n    expect(result.current.getRouteToPlatformApp(mockTronAccount, walletState)).toEqual({\n      pathname: \"/platform/mock-live-app\",\n      state: {\n        accountId: \"0eda416c-9669-57a2-84f6-741df8c11267\",\n        customDappUrl:\n          \"https://mock-live-app.com/?manifestParam=mockInitialParam&yieldId=tron-native-staking&accountId=0eda416c-9669-57a2-84f6-741df8c11267\",\n        name: \"Mock Live App\",\n        appId: \"mock-live-app\",\n        walletAccountId: \"0eda416c-9669-57a2-84f6-741df8c11267\",\n        returnTo: \"/account/js:2:tron:T:\",\n        yieldId: \"tron-native-staking\",\n      },\n    });\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/hooks/useStake.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/hooks/useVersionedStakePrograms.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/utils/cn.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/utils/getProductName.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/utils/getTokenAccountTuples.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/utils/testnetCurrencies.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/utils/tests/getProductName.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/utils/tests/getTokenAccountTuples.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/newArch/utils/tests/testnetCurrencies.test.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":9,"column":37,"nodeType":"TSAsExpression","messageId":"never","endLine":11,"endColumn":2},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":114,"column":40,"nodeType":"TSAsExpression","messageId":"never","endLine":114,"endColumn":66},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":133,"column":51,"nodeType":"TSAsExpression","messageId":"never","endLine":133,"endColumn":84},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":214,"column":43,"nodeType":"TSAsExpression","messageId":"never","endLine":214,"endColumn":80},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":235,"column":51,"nodeType":"TSAsExpression","messageId":"never","endLine":235,"endColumn":88}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { addTestnetCurrencies, getTestnetCurrencies } from \"../testnetCurrencies\";\nimport { CryptoCurrency, CryptoOrTokenCurrency } from \"@ledgerhq/types-cryptoassets\";\nimport { listSupportedCurrencies } from \"@ledgerhq/coin-framework/currencies/index\";\n\njest.mock(\"@ledgerhq/coin-framework/currencies/index\", () => ({\n  listSupportedCurrencies: jest.fn(),\n}));\n\nconst mockListSupportedCurrencies = listSupportedCurrencies as jest.MockedFunction<\n  typeof listSupportedCurrencies\n>;\n\ndescribe(\"testnetCurrencies\", () => {\n  const mockMainnetCurrency: CryptoCurrency = {\n    type: \"CryptoCurrency\",\n    id: \"ethereum\",\n    name: \"Ethereum\",\n    ticker: \"ETH\",\n    managerAppName: \"Ethereum\",\n    coinType: 60,\n    scheme: \"ethereum\",\n    color: \"#627eea\",\n    family: \"ethereum\",\n    blockAvgTime: 12,\n    units: [\n      {\n        name: \"ethereum\",\n        code: \"ETH\",\n        magnitude: 18,\n      },\n    ],\n    explorerViews: [],\n  };\n\n  const mockTestnetCurrency: CryptoCurrency = {\n    type: \"CryptoCurrency\",\n    id: \"ethereum_sepolia\",\n    name: \"Ethereum Sepolia\",\n    managerAppName: \"Ethereum\",\n    coinType: 60,\n    ticker: \"ETH\",\n    scheme: \"ethereum_sepolia\",\n    color: \"#627eea\",\n    family: \"ethereum\",\n    blockAvgTime: 12,\n    units: [\n      {\n        name: \"ethereum_sepolia\",\n        code: \"ETH\",\n        magnitude: 18,\n      },\n    ],\n    explorerViews: [],\n    isTestnetFor: \"ethereum\",\n  };\n\n  const mockBitcoinTestnetCurrency: CryptoCurrency = {\n    type: \"CryptoCurrency\",\n    id: \"bitcoin_testnet\",\n    name: \"Bitcoin Testnet\",\n    ticker: \"BTC\",\n    managerAppName: \"Bitcoin\",\n    coinType: 1,\n    scheme: \"bitcoin_testnet\",\n    color: \"#ffae35\",\n    family: \"bitcoin\",\n    blockAvgTime: 600,\n    units: [\n      {\n        name: \"bitcoin_testnet\",\n        code: \"BTC\",\n        magnitude: 8,\n      },\n    ],\n    explorerViews: [],\n    isTestnetFor: \"bitcoin\",\n  };\n\n  const mockToken: CryptoOrTokenCurrency = {\n    type: \"TokenCurrency\",\n    id: \"ethereum/erc20/usdc\",\n    name: \"USD Coin\",\n    ticker: \"USDC\",\n    contractAddress: \"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\",\n    parentCurrency: mockMainnetCurrency,\n    tokenType: \"erc20\",\n    units: [\n      {\n        name: \"USD Coin\",\n        code: \"USDC\",\n        magnitude: 6,\n      },\n    ],\n  };\n\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe(\"getTestnetCurrencies\", () => {\n    it(\"should filter and return only testnet currencies from provided currencies\", () => {\n      const inputCurrencies = [\n        mockMainnetCurrency,\n        mockTestnetCurrency,\n        mockBitcoinTestnetCurrency,\n        mockToken,\n      ];\n\n      const result = getTestnetCurrencies(inputCurrencies);\n\n      expect(result).toEqual([mockTestnetCurrency, mockBitcoinTestnetCurrency]);\n      expect(result).toHaveLength(2);\n      expect(result.every(currency => currency.type === \"CryptoCurrency\")).toBe(true);\n      expect(result.every(currency => (currency as CryptoCurrency).isTestnetFor)).toBe(true);\n    });\n\n    it(\"should return empty array when no testnet currencies are provided\", () => {\n      const inputCurrencies = [mockMainnetCurrency, mockToken];\n\n      const result = getTestnetCurrencies(inputCurrencies);\n\n      expect(result).toEqual([]);\n      expect(result).toHaveLength(0);\n    });\n\n    it(\"should use listSupportedCurrencies when no currencies parameter is provided\", () => {\n      const allCurrencies = [\n        mockMainnetCurrency,\n        mockTestnetCurrency,\n        mockBitcoinTestnetCurrency,\n        mockToken,\n      ];\n      mockListSupportedCurrencies.mockReturnValue(allCurrencies as CryptoCurrency[]);\n\n      const result = getTestnetCurrencies();\n\n      expect(mockListSupportedCurrencies).toHaveBeenCalledTimes(1);\n      expect(result).toEqual([mockTestnetCurrency, mockBitcoinTestnetCurrency]);\n    });\n\n    it(\"should exclude TokenCurrency types even if they have isTestnetFor\", () => {\n      const testnetToken = {\n        ...mockToken,\n        isTestnetFor: \"ethereum\",\n      };\n      const inputCurrencies = [mockMainnetCurrency, mockTestnetCurrency, testnetToken];\n\n      const result = getTestnetCurrencies(inputCurrencies);\n\n      expect(result).toEqual([mockTestnetCurrency]);\n      expect(result).toHaveLength(1);\n    });\n  });\n\n  describe(\"addTestnetCurrencies\", () => {\n    beforeEach(() => {\n      mockListSupportedCurrencies.mockReturnValue([\n        mockTestnetCurrency,\n        mockBitcoinTestnetCurrency,\n      ]);\n    });\n\n    it(\"should add testnet currencies to provided currencies and remove duplicates\", () => {\n      const inputCurrencies = [mockMainnetCurrency];\n\n      const result = addTestnetCurrencies(inputCurrencies);\n\n      expect(result).toHaveLength(3);\n      expect(result).toContain(mockMainnetCurrency);\n      expect(result).toContain(mockTestnetCurrency);\n      expect(result).toContain(mockBitcoinTestnetCurrency);\n    });\n\n    it(\"should remove duplicates when same currency exists in both input and testnet currencies\", () => {\n      const inputCurrencies = [mockMainnetCurrency, mockTestnetCurrency];\n\n      const result = addTestnetCurrencies(inputCurrencies);\n\n      expect(result).toHaveLength(3);\n      expect(result.filter(currency => currency.id === mockTestnetCurrency.id)).toHaveLength(1);\n    });\n\n    it(\"should return only testnet currencies when no input currencies provided\", () => {\n      const result = addTestnetCurrencies();\n\n      expect(result).toEqual([mockTestnetCurrency, mockBitcoinTestnetCurrency]);\n      expect(result).toHaveLength(2);\n    });\n\n    it(\"should return only testnet currencies when empty array is provided\", () => {\n      const result = addTestnetCurrencies([]);\n\n      expect(result).toEqual([mockTestnetCurrency, mockBitcoinTestnetCurrency]);\n      expect(result).toHaveLength(2);\n    });\n\n    it(\"should preserve original currencies order and append testnet currencies\", () => {\n      const inputCurrencies = [mockMainnetCurrency, mockToken];\n\n      const result = addTestnetCurrencies(inputCurrencies);\n\n      expect(result[0]).toBe(mockMainnetCurrency);\n      expect(result[1]).toBe(mockToken);\n      expect(result.slice(2)).toEqual([mockTestnetCurrency, mockBitcoinTestnetCurrency]);\n    });\n\n    it(\"should handle large currency lists efficiently\", () => {\n      const largeCurrencyList = Array.from({ length: 100 }, (_, index) => ({\n        ...mockMainnetCurrency,\n        id: `currency_${index}`,\n        name: `Currency ${index}`,\n      }));\n\n      const result = addTestnetCurrencies(largeCurrencyList as CryptoCurrency[]);\n\n      expect(result).toHaveLength(102);\n      expect(result.slice(0, 100)).toEqual(largeCurrencyList);\n      expect(result.slice(100)).toEqual([mockTestnetCurrency, mockBitcoinTestnetCurrency]);\n    });\n  });\n\n  describe(\"integration\", () => {\n    it(\"should work correctly when getTestNetCurrencies and addTestNetCurrencies are used together\", () => {\n      const allCurrencies = [\n        mockMainnetCurrency,\n        mockTestnetCurrency,\n        mockBitcoinTestnetCurrency,\n        mockToken,\n      ];\n\n      const testnetCurrencies = getTestnetCurrencies(allCurrencies);\n      expect(testnetCurrencies).toHaveLength(2);\n\n      const mainnetCurrencies = [mockMainnetCurrency, mockToken];\n      mockListSupportedCurrencies.mockReturnValue(testnetCurrencies as CryptoCurrency[]);\n\n      const result = addTestnetCurrencies(mainnetCurrencies);\n\n      expect(result).toHaveLength(4);\n      expect(result).toContain(mockMainnetCurrency);\n      expect(result).toContain(mockToken);\n      expect(result).toContain(mockTestnetCurrency);\n      expect(result).toContain(mockBitcoinTestnetCurrency);\n    });\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/preloader/index.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":47,"column":15,"nodeType":"TSAsExpression","messageId":"never","endLine":47,"endColumn":63},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":53,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":53,"endColumn":89},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":53,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":53,"endColumn":69}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/*\n  This file is bundled in to the preload bundle. It get loaded and executed before the renderer bundle.\n  Everything set in the window scope will be available for the code that live in the renderer bundle.\n  Node API can be reached by the renderer bundle through a proxy define here, even if its nodeIntegration flag is off.\n\n  /!\\ Everything done in this file must be safe, it can not afford to crash. /!\\\n*/\n\nimport { ipcRenderer } from \"electron\";\nimport logo from \"./logo.svg\";\nimport { palettes } from \"@ledgerhq/react-ui/styles/index\";\n// When dashboard is ready, fade out the splash screen\nconst appLoaded = () => {\n  const rendererNode = document.getElementById(\"react-root\");\n  const loaderContainer = document.getElementById(\"loader-container\");\n\n  if (rendererNode && loaderContainer) {\n    // Make renderer visible immediately\n    rendererNode.style.visibility = \"visible\";\n\n    // Fade out the loader\n    loaderContainer.classList.add(\"fade-out\");\n    setTimeout(() => {\n      loaderContainer.remove();\n    }, 500); // Wait for fade-out animation to complete\n  }\n};\nconst reloadRenderer = () => ipcRenderer.invoke(\"reloadRenderer\");\n\nconst params = new URLSearchParams(window.location.search);\n\n// cf. https://gist.github.com/codebytere/409738fcb7b774387b5287db2ead2ccb\nconst openWindow = (id: number) => ipcRenderer.send(\"webview-dom-ready\", id);\n\n// TODO in future, we should use contextBridge\nwindow.api = {\n  appDirname: params.get(\"appDirname\") || \"\",\n  appLoaded,\n  reloadRenderer,\n  openWindow,\n};\n\n/**\n * This param \"theme\" that we are using is set in the main thread,\n * in the main/window-lifecycle.js function loadWindow()\n */\nconst theme = params.get(\"theme\") as \"dark\" | \"light\" | \"null\";\nconst osTheme = window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"dark\" : \"light\";\nconst palette = palettes[theme && theme !== \"null\" ? theme : osTheme] || palettes.dark;\nipcRenderer.send(\"set-background-color\", palette.background.default);\n\nwindow.addEventListener(\"DOMContentLoaded\", () => {\n  const imgNode = document.getElementById(\"loading-logo\") as unknown as HTMLImageElement;\n  const loaderContainer = document.getElementById(\"loader-container\");\n  if (imgNode && loaderContainer) {\n    imgNode.src = logo;\n    loaderContainer.style.backgroundColor = \"#000000\";\n    loaderContainer.classList.add(\"fade-out\");\n  }\n\n  // Send ready-to-show immediately\n  setTimeout(() => {\n    ipcRenderer.send(\"ready-to-show\", {});\n  }, 200);\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/App.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/AppError.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":12,"column":38,"nodeType":"TSAsExpression","messageId":"never","endLine":18,"endColumn":29},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":12,"column":38,"nodeType":"TSAsExpression","messageId":"never","endLine":18,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { DefaultTheme, ThemeProvider } from \"styled-components\";\nimport theme, { colors } from \"~/renderer/styles/theme\";\nimport \"~/renderer/i18n/init\";\nimport TriggerAppReady from \"~/renderer/components/TriggerAppReady\";\nimport RenderError from \"~/renderer/components/RenderError\";\nimport LiveStyleSheetManager from \"~/renderer/styles/LiveStyleSheetManager\";\nimport { palettes as v3Palettes } from \"@ledgerhq/react-ui/styles/index\";\n\n// Like App except it just render an error\n\nconst lightLiveTheme: DefaultTheme = {\n  ...theme,\n  colors: {\n    ...v3Palettes.light,\n    ...colors,\n  },\n} as unknown as DefaultTheme;\nconst App = ({ error }: { error: Error }) => (\n  <LiveStyleSheetManager>\n    <ThemeProvider theme={lightLiveTheme}>\n      <RenderError withoutAppData error={error}>\n        <TriggerAppReady />\n      </RenderError>\n    </ThemeProvider>\n  </LiveStyleSheetManager>\n);\nexport default App;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/Default.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":114,"column":1,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":114,"endColumn":14,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[6402,6415],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react/display-name","severity":2,"message":"Component definition is missing display name","line":116,"column":35,"nodeType":"ArrowFunctionExpression","messageId":"noDisplayName","endLine":120,"endColumn":2,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has a missing dependency: 'providerNumber'. Either include it or remove the dependency array.","line":237,"column":6,"nodeType":"ArrayExpression","endLine":237,"endColumn":11,"suggestions":[{"desc":"Update the dependencies array to be: [dmk, providerNumber]","fix":{"range":[9685,9690],"text":"[dmk, providerNumber]"}}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has missing dependencies: 'analyticsFF?.enabled', 'analyticsFF?.params?.entryPoints', 'dispatch', 'hasCompletedOnboarding', and 'hasSeenAnalyticsOptInPrompt'. Either include them or remove the dependency array.","line":250,"column":6,"nodeType":"ArrayExpression","endLine":250,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [analyticsFF?.enabled, analyticsFF?.params?.entryPoints, dispatch, hasCompletedOnboarding, hasSeenAnalyticsOptInPrompt, isLocked]","fix":{"range":[10081,10091],"text":"[analyticsFF?.enabled, analyticsFF?.params?.entryPoints, dispatch, hasCompletedOnboarding, hasSeenAnalyticsOptInPrompt, isLocked]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/IPCTransport.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":58,"column":21,"nodeType":"TSAsExpression","messageId":"never","endLine":58,"endColumn":35},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":97,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":97,"endColumn":33},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":139,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":139,"endColumn":33},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":158,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":158,"endColumn":33}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * IPC Transport for Speculos and HTTP Proxy only\n * WebHID devices use DeviceManagementKit directly in renderer\n */\nimport { ipcRenderer } from \"electron\";\nimport Transport, { TransportError } from \"@ledgerhq/hw-transport\";\nimport { log, trace, TraceContext } from \"@ledgerhq/logs\";\nimport { DescriptorEvent } from \"@ledgerhq/types-devices\";\nimport { Observer } from \"rxjs\";\nimport { DeviceModelId } from \"@ledgerhq/types-devices\";\nimport { getDeviceModel } from \"@ledgerhq/devices\";\n// No longer need transport channels - using direct invoke\n\nconst LOG_TYPE = \"hid-ipc\";\n\n// No longer need complex message interfaces - using simple invoke/response\n\n/**\n * IPC Transport implementation for communication with internal process\n * Only used for Speculos and HTTP proxy transports\n */\nexport default class IPCTransport extends Transport {\n  static isSupported = (): Promise<boolean> => Promise.resolve(typeof ipcRenderer === \"object\");\n\n  static list = (): Promise<unknown[]> => Promise.resolve([]);\n\n  static listen = (observer: Observer<DescriptorEvent<string>>) => {\n    let unsubscribed = false;\n    const requestId = String(Math.random());\n\n    const unsubscribe = () => {\n      if (unsubscribed) return;\n      unsubscribed = true;\n      ipcRenderer.invoke(\"transport:listen:unsubscribe\", { requestId }).catch(() => {\n        // Ignore errors on unsubscribe\n      });\n    };\n\n    // For HTTP transports, we don't have real device discovery\n    // Just send a simple available signal\n    ipcRenderer\n      .invoke(\"transport:listen\", { requestId })\n      .then(result => {\n        if (unsubscribed) return;\n        if (result.type === \"listen-error\") {\n          observer.error(new TransportError(result.error.message, result.error.id));\n        } else {\n          observer.next({\n            type: \"add\",\n            descriptor: \"http-proxy\",\n            device: {},\n            deviceModel: getDeviceModel(DeviceModelId.nanoS),\n          });\n        }\n      })\n      .catch(error => {\n        if (unsubscribed) return;\n        const err = error as Error;\n        observer.error(new TransportError(err.message, \"TransportListenError\"));\n      });\n\n    return { unsubscribe };\n  };\n\n  static async open(\n    descriptor: string,\n    timeout?: number,\n    context?: TraceContext,\n  ): Promise<IPCTransport> {\n    log(LOG_TYPE, \"open\", { descriptor, timeout });\n\n    const requestId = String(Math.random());\n\n    try {\n      const result = await ipcRenderer.invoke(\"transport:open\", {\n        requestId,\n        descriptor,\n        timeout,\n        context,\n      });\n\n      if (result.type === \"open-error\") {\n        trace({\n          type: LOG_TYPE,\n          message: \"open error\",\n          data: { descriptor, error: result.error },\n        });\n        throw new TransportError(result.error.message, result.error.id);\n      }\n\n      trace({ type: LOG_TYPE, message: \"open success\", data: { descriptor } });\n      return new IPCTransport(descriptor, requestId);\n    } catch (error) {\n      if (error instanceof TransportError) {\n        throw error;\n      }\n      const err = error as Error;\n      throw new TransportError(err.message, \"TransportOpenError\");\n    }\n  }\n\n  constructor(\n    private descriptor: string,\n    private requestId: string,\n  ) {\n    super();\n  }\n\n  async exchange(\n    apdu: Buffer,\n    { abortTimeoutMs }: { abortTimeoutMs?: number } = {},\n  ): Promise<Buffer> {\n    const apduHex = apdu.toString(\"hex\");\n\n    log(LOG_TYPE, \"exchange\", { apdu: apduHex, timeout: abortTimeoutMs });\n\n    try {\n      const result = await ipcRenderer.invoke(\"transport:exchange\", {\n        requestId: this.requestId,\n        apdu: apduHex,\n        timeout: abortTimeoutMs,\n      });\n\n      if (result.type === \"exchange-error\") {\n        trace({\n          type: LOG_TYPE,\n          message: \"exchange error\",\n          data: { apdu: apduHex, error: result.error },\n        });\n        throw new TransportError(result.error.message, result.error.id);\n      }\n\n      trace({ type: LOG_TYPE, message: \"exchange success\", data: { apdu: apduHex } });\n      return Buffer.from(result.data, \"hex\");\n    } catch (error) {\n      if (error instanceof TransportError) {\n        throw error;\n      }\n      const err = error as Error;\n      throw new TransportError(err.message, \"TransportExchangeError\");\n    }\n  }\n\n  async close(): Promise<void> {\n    log(LOG_TYPE, \"close\", { descriptor: this.descriptor });\n\n    try {\n      await ipcRenderer.invoke(\"transport:close\", {\n        requestId: this.requestId,\n      });\n\n      trace({\n        type: LOG_TYPE,\n        message: \"close success\",\n        data: { descriptor: this.descriptor },\n      });\n    } catch (error) {\n      const err = error as Error;\n      trace({\n        type: LOG_TYPE,\n        message: \"close error\",\n        data: { descriptor: this.descriptor, error: err.message },\n      });\n      // Don't throw on close errors - best effort cleanup\n    }\n  }\n\n  setScrambleKey() {\n    // Not needed for IPC transport\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/ModalsLayer.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":37,"column":18,"nodeType":"TSAsExpression","messageId":"never","endLine":37,"endColumn":40}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport styled from \"styled-components\";\nimport { Transition, TransitionStatus } from \"react-transition-group\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { ModalsState, modalsStateSelector } from \"~/renderer/reducers/modals\";\nimport { ModalData } from \"~/renderer/modals/types\";\nimport modals from \"~/renderer/modals\";\n\nconst BackDrop = styled.div.attrs<{ state: TransitionStatus }>(({ state }) => ({\n  style: {\n    opacity: state === \"entered\" ? 1 : 0,\n  },\n}))<{ state: TransitionStatus }>`\n  pointer-events: none;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.65);\n  z-index: 100;\n  opacity: 0;\n  transition: opacity 200ms cubic-bezier(0.3, 1, 0.5, 0.8);\n`;\n\nfunction renderNameState<Name extends keyof ModalData>(name: Name, data: ModalData[Name]) {\n  const ModalComponent = modals[name];\n  if (ModalComponent) {\n    // @ts-expect-error unclear why it can't prove this part\n    return <ModalComponent key={name} name={name} {...data} />;\n  }\n}\n\nfunction renderFirst(modalsState: ModalsState) {\n  for (const key in modalsState) {\n    const name = key as keyof ModalData;\n    const state = modalsState[name];\n    if (state?.isOpened) {\n      return renderNameState(name, state.data);\n    }\n  }\n}\n\nconst ModalsLayer = ({ modalsState }: { modalsState: ModalsState }) => {\n  const first = renderFirst(modalsState);\n  return (\n    <Transition\n      in={!!first}\n      appear\n      mountOnEnter\n      unmountOnExit\n      timeout={{\n        appear: 100,\n        enter: 100,\n        exit: 200,\n      }}\n    >\n      {state => <BackDrop state={state}>{first || null}</BackDrop>}\n    </Transition>\n  );\n};\n\nconst mapStateToProps = createStructuredSelector({\n  modalsState: modalsStateSelector,\n});\n\nexport default connect(mapStateToProps)(ModalsLayer);\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/ReactRoot.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":34,"column":48,"nodeType":"TSAsExpression","messageId":"never","endLine":34,"endColumn":93}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { Component } from \"react\";\nimport { UnknownAction, Store } from \"redux\";\nimport { State as StoreState } from \"~/renderer/reducers\";\nimport App from \"./App\";\nimport \"./global.css\";\nimport { Countervalues } from \"./storage\";\nimport { CounterValuesStateRaw } from \"@ledgerhq/live-countervalues/types\";\n\ntype State = {\n  error: unknown;\n};\ntype Props = {\n  store: Store<StoreState, UnknownAction>;\n  language: string;\n  initialCountervalues: Countervalues;\n};\nclass ReactRoot extends Component<Props, State> {\n  state = {\n    error: null,\n  };\n\n  componentDidCatch(error: unknown) {\n    this.setState({\n      error,\n    });\n  }\n\n  render() {\n    const { store, initialCountervalues } = this.props;\n    const { error } = this.state;\n    return error ? (\n      String(error)\n    ) : (\n      <App store={store} initialCountervalues={initialCountervalues as CounterValuesStateRaw} />\n    );\n  }\n}\nexport default ReactRoot;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/actions/UI.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/actions/accounts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/actions/application.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/actions/constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/actions/countervalues.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/actions/deprecated/ondemand-countervalues.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":37,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":37,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import {\n  useCountervaluesPolling,\n  useCountervaluesUserSettings,\n} from \"@ledgerhq/live-countervalues-react\";\nimport { TrackingPair } from \"@ledgerhq/live-countervalues/types\";\nimport { Currency } from \"@ledgerhq/types-cryptoassets\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { BehaviorSubject } from \"rxjs\";\n\n// extraSessionTrackingPairsChanges allows on demand tracking pair addition. used on specific parts of our app.\n// FIXME this is a temporary solution that would deserve a rework to simplify the requirements\n\nexport function useOnDemandCurrencyCountervalues(\n  currency: Currency,\n  counterValueCurrency: Currency,\n) {\n  const { trackingPairs } = useCountervaluesUserSettings();\n  const cvPolling = useCountervaluesPolling();\n  const hasTrackingPair = useMemo(\n    () => trackingPairs.some(tp => tp.from === currency && tp.to === counterValueCurrency),\n    [counterValueCurrency, currency, trackingPairs],\n  );\n  useEffect(() => {\n    if (!hasTrackingPair) {\n      addExtraSessionTrackingPair({\n        from: currency,\n        to: counterValueCurrency,\n        startDate: new Date(),\n      });\n      const t = setTimeout(cvPolling.poll, 2000); // poll after 2s to ensure debounced CV userSettings are effective after this update\n      return () => clearTimeout(t);\n    }\n  }, [counterValueCurrency, currency, cvPolling, cvPolling.poll, hasTrackingPair, trackingPairs]);\n}\n\nconst extraSessionTrackingPairsChanges: BehaviorSubject<TrackingPair[]> = new BehaviorSubject(\n  [] as TrackingPair[],\n);\n\nfunction addExtraSessionTrackingPair(trackingPair: TrackingPair) {\n  const value = extraSessionTrackingPairsChanges.value;\n  if (!value.some(tp => tp.from === trackingPair.from && tp.to === trackingPair.to))\n    extraSessionTrackingPairsChanges.next(value.concat(trackingPair));\n}\n\nexport function useExtraSessionTrackingPair() {\n  const [extraSessionTrackingPair, setExtraSessionTrackingPair] = useState<TrackingPair[]>([]);\n  useEffect(() => {\n    const subscription = extraSessionTrackingPairsChanges.subscribe(setExtraSessionTrackingPair);\n    return () => subscription.unsubscribe();\n  }, []);\n  return extraSessionTrackingPair;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/actions/devices.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/actions/dynamicContent.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/actions/general.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/actions/market.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/actions/marketperformance.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/actions/modals.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/actions/portfolio.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/actions/settings.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/actions/trustchain.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/actions/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/actions/wallet.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/actions/walletSync.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/analytics/Track.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/analytics/TrackPage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/analytics/__mocks__/segment.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/analytics/hooks/useTrackAddAccountModal.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/analytics/hooks/useTrackAddAccountModal.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/analytics/hooks/useTrackDmkErrorsEvents.test.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":123,"column":21,"nodeType":"TSAsExpression","messageId":"never","endLine":123,"endColumn":61},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":123,"column":21,"nodeType":"TSAsExpression","messageId":"never","endLine":123,"endColumn":41},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":139,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":139,"endColumn":59},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":139,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":139,"endColumn":39},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":152,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":152,"endColumn":59},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":152,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":152,"endColumn":39}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useTrackDmkErrorsEvents } from \"./useTrackDmkErrorsEvents\";\nimport { trackPage } from \"~/renderer/analytics/segment\";\n\ndescribe(\"useTrackDmkErrorsEvents\", () => {\n  describe.each([\n    {\n      expectedErrorName: \"Device Connection Lost\",\n      errors: [\n        { _tag: \"DeviceDisconnectedWhileSendingError\" },\n        { _tag: \"ReconnectionFailedError\" },\n        { _tag: \"DeviceDisconnectedBeforeSendingApdu\" },\n        { _tag: \"DisconnectError\" },\n        { _tag: \"DeviceSessionNotFound\" },\n      ],\n    },\n    {\n      expectedErrorName: \"Connection Method\",\n      errors: [\n        { _tag: \"TransportNotSupportedError\" },\n        { _tag: \"TransportAlreadyExistsError\" },\n        { _tag: \"NoTransportProvidedError\" },\n        { _tag: \"NoAccessibleDeviceError\" },\n        { _tag: \"ConnectionOpeningError\" },\n      ],\n    },\n    {\n      expectedErrorName: \"Device Not Onboarded\",\n      errors: [\n        {\n          _tag: \"DeviceNotInitializedError\",\n        },\n        {\n          _tag: \"DeviceNotOnboardedError\",\n        },\n      ],\n    },\n    {\n      expectedErrorName: \"Device Locked\",\n      errors: [\n        {\n          _tag: \"DeviceLockedError\",\n        },\n      ],\n    },\n    {\n      expectedErrorName: \"Not Enough Memory\",\n      errors: [\n        {\n          _tag: \"OutOfMemoryDAError\",\n        },\n      ],\n    },\n    {\n      expectedErrorName: \"OS is Unsupported\",\n      errors: [\n        {\n          _tag: \"UnsupportedFirmwareDAError\",\n        },\n      ],\n    },\n    {\n      expectedErrorName: \"Battery Error\",\n      errors: [\n        {\n          _tag: \"InvalidBatteryStatusTypeError\",\n        },\n        {\n          _tag: \"InvalidBatteryDataError\",\n        },\n      ],\n    },\n    {\n      expectedErrorName: \"Device Connection Error\",\n      errors: [\n        {\n          _tag: \"InvalidStatusWordError\",\n        },\n        {\n          _tag: \"InvalidResponseFormatError\",\n        },\n        {\n          _tag: \"UnknownDAError\",\n        },\n      ],\n    },\n    {\n      expectedErrorName: \"Device Not Recognized\",\n      errors: [\n        {\n          _tag: \"DeviceNotRecognizedError\",\n        },\n        {\n          _tag: \"DeviceAlreadyDiscoveredError\",\n        },\n        {\n          _tag: \"UnknownDeviceError\",\n        },\n      ],\n    },\n    {\n      expectedErrorName: \"Communication Error\",\n      errors: [\n        {\n          _tag: \"ReceiverApduError\",\n        },\n        {\n          _tag: \"FramerApduError\",\n        },\n        {\n          _tag: \"SendApduTimeoutError\",\n        },\n        {\n          _tag: \"AlreadySendingApduError\",\n        },\n        {\n          _tag: \"UnknownDeviceExchangeError\",\n        },\n      ],\n    },\n  ])(\"$expectedErrorName event\", ({ expectedErrorName, errors }) => {\n    it.each(errors)(`should be event name ${expectedErrorName} with error %j`, error => {\n      // given\n      const track = jest.fn() as unknown as typeof trackPage;\n      // when\n      useTrackDmkErrorsEvents({\n        error,\n        track,\n      });\n      // then\n      expect(track).toHaveBeenCalledWith(\"Error:\", expectedErrorName, {\n        error: expectedErrorName,\n        subError: error._tag,\n      });\n    });\n  });\n\n  it(\"should not track any event if error is not a DMK error\", () => {\n    // given\n    const track = jest.fn() as unknown as typeof trackPage;\n    const error = new Error(\"test\");\n    // when\n    useTrackDmkErrorsEvents({\n      error,\n      track,\n    });\n    // then\n    expect(track).not.toHaveBeenCalled();\n  });\n\n  it(\"should track event if dmk error is not grouped\", () => {\n    // given\n    const track = jest.fn() as unknown as typeof trackPage;\n    const error = {\n      _tag: \"UnregisteredDmkErrorEvent\",\n    };\n    // when\n    useTrackDmkErrorsEvents({\n      error,\n      track,\n    });\n    // then\n    expect(track).toHaveBeenCalledWith(\"Error:\", \"UnregisteredDmkErrorEvent\", {\n      error: \"UnregisteredDmkErrorEvent\",\n      subError: error._tag,\n    });\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/analytics/hooks/useTrackDmkErrorsEvents.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/analytics/hooks/useTrackExchangeFlow.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/analytics/hooks/useTrackExchangeFlow.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":74,"column":10,"nodeType":"TSAsExpression","messageId":"never","endLine":74,"endColumn":26},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":77,"column":17,"nodeType":"TSAsExpression","messageId":"never","endLine":77,"endColumn":33}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useRef, useEffect } from \"react\";\nimport {\n  UserRefusedAllowManager,\n  UserRefusedOnDevice,\n  LockedDeviceError,\n  CantOpenDevice,\n  TransportError,\n  TransportRaceCondition,\n} from \"@ledgerhq/errors\";\nimport { track } from \"../segment\";\nimport { Device } from \"@ledgerhq/types-devices\";\nimport { LedgerError } from \"~/renderer/components/DeviceAction\";\nimport { CONNECTION_TYPES, HOOKS_TRACKING_LOCATIONS } from \"./variables\";\n\nexport type UseTrackExchangeFlow = {\n  location: HOOKS_TRACKING_LOCATIONS.exchange | undefined;\n  device: Device;\n  error:\n    | (LedgerError & {\n        name?: string;\n        managerAppName?: string;\n      })\n    | undefined\n    | null;\n  isTrackingEnabled: boolean;\n  isRequestOpenAppExchange: boolean | null;\n  isLocked: boolean | null | undefined;\n  inWrongDeviceForAccount:\n    | {\n        accountName: string;\n      }\n    | null\n    | undefined;\n};\n\n/**\n * a custom hook to track events in the Exchange flow.\n * tracks user interactions in the Exchange flow based on state changes and errors.\n *\n * @param location - current location in the app (expected \"Exchange\" from HOOKS_TRACKING_LOCATIONS enum).\n * @param device - the connected device information.\n * @param error - current error state.\n * @param isTrackingEnabled - flag indicating if tracking is enabled.\n * @param isRequestOpenAppExchange - flag indicating if LLD requested to open the exchange app.\n * @param isLocked - flag indicating if the device is locked.\n * @param inWrongDeviceForAccount - error from verifying address.\n */\nexport const useTrackExchangeFlow = ({\n  location,\n  device,\n  error,\n  isTrackingEnabled,\n  isRequestOpenAppExchange,\n  isLocked,\n  inWrongDeviceForAccount,\n}: UseTrackExchangeFlow) => {\n  const previousIsRequestOpenAppExchange = useRef<boolean | null>(null);\n\n  useEffect(() => {\n    if (location !== HOOKS_TRACKING_LOCATIONS.exchange) return;\n\n    const defaultPayload = {\n      deviceType: device?.modelId,\n      connectionType: device?.wired ? CONNECTION_TYPES.USB : CONNECTION_TYPES.BLE,\n      platform: \"LLD\",\n      page: \"Exchange\",\n    };\n\n    if (inWrongDeviceForAccount) {\n      // device used is not associated with the account\n      track(\"Wrong device association\", defaultPayload, isTrackingEnabled);\n    }\n\n    if ((error as unknown) instanceof UserRefusedOnDevice) {\n      // user refused to open exchange app\n      track(\"Open app denied\", defaultPayload, isTrackingEnabled);\n    } else if ((error as unknown) instanceof UserRefusedAllowManager) {\n      // user refused secure channel\n      track(\"Secure Channel denied\", defaultPayload, isTrackingEnabled);\n    }\n\n    if (error instanceof CantOpenDevice) {\n      // device disconnected during swap\n      track(\"Connection failed\", defaultPayload, isTrackingEnabled);\n    }\n\n    if (error instanceof TransportError) {\n      // transport error during swap\n      track(\"Transport error\", defaultPayload, isTrackingEnabled);\n    }\n\n    if (error instanceof TransportRaceCondition) {\n      // transport race condition\n      track(\"Transport race condition\", defaultPayload, isTrackingEnabled);\n    }\n\n    if (isLocked || error instanceof LockedDeviceError) {\n      // device locked during swap\n      track(\"Device locked\", defaultPayload, isTrackingEnabled);\n    }\n\n    if (previousIsRequestOpenAppExchange.current === true && isRequestOpenAppExchange === false) {\n      // user opened exchange app\n      track(\"Open app performed\", defaultPayload, isTrackingEnabled);\n    }\n\n    previousIsRequestOpenAppExchange.current = isRequestOpenAppExchange;\n  }, [\n    error,\n    location,\n    isTrackingEnabled,\n    device,\n    isRequestOpenAppExchange,\n    isLocked,\n    inWrongDeviceForAccount,\n  ]);\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/analytics/hooks/useTrackGenericDAppTransactionSend.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/analytics/hooks/useTrackGenericDAppTransactionSend.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/analytics/hooks/useTrackManagerSectionEvents.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/analytics/hooks/useTrackManagerSectionEvents.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":72,"column":10,"nodeType":"TSAsExpression","messageId":"never","endLine":72,"endColumn":26},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":75,"column":17,"nodeType":"TSAsExpression","messageId":"never","endLine":75,"endColumn":33},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":78,"column":17,"nodeType":"TSAsExpression","messageId":"never","endLine":78,"endColumn":33}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useRef, useEffect } from \"react\";\nimport {\n  UserRefusedAllowManager,\n  UserRefusedDeviceNameChange,\n  UserRefusedFirmwareUpdate,\n} from \"@ledgerhq/errors\";\nimport { track } from \"../segment\";\nimport { Device } from \"@ledgerhq/types-devices\";\nimport { CONNECTION_TYPES, HOOKS_TRACKING_LOCATIONS } from \"./variables\";\nimport { LedgerError } from \"~/renderer/components/DeviceAction\";\n\nexport type UseTrackManagerSectionEvents = {\n  location: HOOKS_TRACKING_LOCATIONS.managerDashboard | undefined;\n  device: Device;\n  allowManagerRequested: boolean | null | undefined;\n  error:\n    | (LedgerError & {\n        name?: string;\n        managerAppName?: string;\n      })\n    | undefined\n    | null;\n  clsImageRemoved: boolean | null | undefined;\n  isTrackingEnabled: boolean;\n};\n\n/**\n * a custom hook to track events in the Manager section.\n * tracks user interactions with the Manager dashboard based on state changes and errors.\n *\n * @param location - current location in the app (expected \"Manager Dashboard\" from HOOKS_TRACKING_LOCATIONS enum).\n * @param device - the connected device information.\n * @param allowManagerRequested - flag indicating if the user has allowed the Manager app.\n * @param clsImageRemoved - flag indicating if the user has removed the custom lock screen image.\n * @param error - current error state.\n * @param isTrackingEnabled - flag indicating if tracking is enabled.\n */\nexport const useTrackManagerSectionEvents = ({\n  location,\n  device,\n  allowManagerRequested,\n  clsImageRemoved,\n  error,\n  isTrackingEnabled,\n}: UseTrackManagerSectionEvents) => {\n  const previousAllowManagerRequested = useRef<boolean | null | undefined>(undefined);\n\n  useEffect(() => {\n    if (location !== HOOKS_TRACKING_LOCATIONS.managerDashboard) return;\n\n    const defaultPayload = {\n      deviceType: device?.modelId,\n      connectionType: device?.wired ? CONNECTION_TYPES.USB : CONNECTION_TYPES.BLE,\n      platform: \"LLD\",\n      page: \"Manager Dashboard\",\n    };\n\n    if (\n      previousAllowManagerRequested.current === true &&\n      allowManagerRequested === false &&\n      !error\n    ) {\n      // user accepted secure channel\n      track(\"Secure Channel approved\", defaultPayload, isTrackingEnabled);\n    }\n\n    if (clsImageRemoved) {\n      // user removed CLS image\n      track(\"Deleted Custom Lock Screen\", defaultPayload, isTrackingEnabled);\n    }\n\n    if ((error as unknown) instanceof UserRefusedAllowManager) {\n      // user refused secure channel\n      track(\"Secure Channel denied\", defaultPayload, isTrackingEnabled);\n    } else if ((error as unknown) instanceof UserRefusedDeviceNameChange) {\n      // user refused device name change\n      track(\"Renamed Device cancelled\", defaultPayload, isTrackingEnabled);\n    } else if ((error as unknown) instanceof UserRefusedFirmwareUpdate) {\n      // user refused OS update\n      track(\"User refused OS update via LL\", defaultPayload, isTrackingEnabled);\n    }\n\n    previousAllowManagerRequested.current = allowManagerRequested;\n  }, [allowManagerRequested, error, location, isTrackingEnabled, device, clsImageRemoved]);\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/analytics/hooks/useTrackOnboardingFlow.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/analytics/hooks/useTrackOnboardingFlow.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/analytics/hooks/useTrackReceiveFlow.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/analytics/hooks/useTrackReceiveFlow.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":97,"column":10,"nodeType":"TSAsExpression","messageId":"never","endLine":97,"endColumn":39}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect } from \"react\";\nimport { track } from \"../segment\";\nimport { Device } from \"@ledgerhq/types-devices\";\nimport {\n  UserRefusedOnDevice,\n  UserRefusedAddress,\n  TransportRaceCondition,\n  LockedDeviceError,\n  CantOpenDevice,\n  TransportError,\n} from \"@ledgerhq/errors\";\nimport { LedgerError } from \"~/renderer/components/DeviceAction\";\nimport { CONNECTION_TYPES, HOOKS_TRACKING_LOCATIONS } from \"./variables\";\n\nexport type UseTrackReceiveFlow = {\n  location: HOOKS_TRACKING_LOCATIONS.receiveModal | undefined;\n  device: Device;\n  verifyAddressError?:\n    | {\n        name: string;\n      }\n    | null\n    | undefined;\n  error?:\n    | (LedgerError & {\n        name?: string;\n        managerAppName?: string;\n      })\n    | undefined\n    | null;\n  inWrongDeviceForAccount?:\n    | {\n        accountName: string;\n      }\n    | null\n    | undefined;\n  isTrackingEnabled: boolean;\n  isLocked?: boolean | null | undefined;\n};\n\n/**\n * a custom hook to track events in the Receive modal.\n * tracks user interactions with the Receive modal based on state changes and errors.\n *\n * @param location - current location in the app (expected \"Receive Modal\" from HOOKS_TRACKING_LOCATIONS enum).\n * @param device - the connected device information.\n * @param verifyAddressError - optional - error from verifying address.\n * @param error - optional - current error state.\n * @param inWrongDeviceForAccount - optional - error from verifying address.\n * @param isTrackingEnabled - flag indicating if tracking is enabled.\n * @param isLocked - optional - flag indicating if the device is locked.\n */\nexport const useTrackReceiveFlow = ({\n  location,\n  device,\n  verifyAddressError = null,\n  error = null,\n  inWrongDeviceForAccount = null,\n  isTrackingEnabled,\n  isLocked,\n}: UseTrackReceiveFlow) => {\n  useEffect(() => {\n    if (location !== HOOKS_TRACKING_LOCATIONS.receiveModal) return;\n\n    const defaultPayload = {\n      deviceType: device?.modelId,\n      connectionType: device?.wired ? CONNECTION_TYPES.USB : CONNECTION_TYPES.BLE,\n      platform: \"LLD\",\n      page: \"Receive\",\n    };\n\n    if (error instanceof UserRefusedOnDevice) {\n      // user refused to open app\n      track(\"Open app denied\", defaultPayload, isTrackingEnabled);\n    }\n\n    if (error instanceof TransportRaceCondition) {\n      // transport race condition\n      track(\"Transport race condition\", defaultPayload, isTrackingEnabled);\n    }\n\n    if (error instanceof CantOpenDevice) {\n      // device disconnected during receive flow\n      track(\"Connection failed\", defaultPayload, isTrackingEnabled);\n    }\n\n    if (error instanceof TransportError) {\n      // transport error during receive flow\n      track(\"Transport error\", defaultPayload, isTrackingEnabled);\n    }\n\n    if (isLocked || error instanceof LockedDeviceError) {\n      // device locked during receive flow\n      track(\"Device locked\", defaultPayload, isTrackingEnabled);\n    }\n\n    if ((verifyAddressError as unknown) instanceof UserRefusedAddress) {\n      // user refused to confirm address\n      track(\"Address confirmation rejected\", defaultPayload, isTrackingEnabled);\n    }\n    if (inWrongDeviceForAccount) {\n      // device used is not associated with the account\n      track(\"Wrong device association\", defaultPayload, isTrackingEnabled);\n    }\n  }, [\n    error,\n    location,\n    isTrackingEnabled,\n    device,\n    inWrongDeviceForAccount,\n    verifyAddressError,\n    isLocked,\n  ]);\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/analytics/hooks/useTrackSendFlow.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/analytics/hooks/useTrackSendFlow.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/analytics/hooks/useTrackSyncFlow.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/analytics/hooks/useTrackSyncFlow.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/analytics/hooks/useTrackTransactionChecksFlow.test.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":198,"column":23,"nodeType":"TSAsExpression","messageId":"never","endLine":202,"endColumn":43},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":219,"column":23,"nodeType":"TSAsExpression","messageId":"never","endLine":223,"endColumn":43}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { renderHook } from \"tests/testSetup\";\nimport {\n  useTrackTransactionChecksFlow,\n  UseTrackTransactionChecksFlow,\n} from \"./useTrackTransactionChecksFlow\";\nimport { track } from \"../segment\";\nimport { CONNECTION_TYPES } from \"./variables\";\nimport { DeviceInfo } from \"@ledgerhq/types-live\";\nimport { AppAndVersion } from \"@ledgerhq/live-common/hw/connectApp\";\n\njest.mock(\"../segment\", () => ({\n  track: jest.fn(),\n  setAnalyticsFeatureFlagMethod: jest.fn(),\n}));\n\ndescribe(\"useTrackTransactionChecksFlow\", () => {\n  const deviceMock = {\n    modelId: \"Europa\",\n    wired: true,\n  };\n\n  const deviceInfoMock: DeviceInfo = {\n    version: \"2.0.0\",\n    hardwareVersion: 1,\n    mcuVersion: \"1.1.0\",\n    bootloaderVersion: \"1.2.0\",\n    providerName: \"Ledger\",\n    languageId: 1,\n    majMin: \"2.0\",\n    targetId: \"0.0\",\n    isBootloader: false,\n    isOSU: false,\n    managerAllowed: false,\n    pinValidated: false,\n    seFlags: Buffer.alloc(0),\n  };\n\n  const appAndVersionMock: AppAndVersion = {\n    name: \"Bitcoin\",\n    version: \"1.0.0\",\n    flags: 0x1234,\n  };\n\n  const defaultArgs: UseTrackTransactionChecksFlow = {\n    location: \"Transaction\",\n    device: deviceMock,\n    deviceInfo: deviceInfoMock,\n    appAndVersion: appAndVersionMock,\n    transactionChecksOptInTriggered: false,\n    transactionChecksOptIn: null,\n    isTrackingEnabled: true,\n  };\n\n  afterEach(() => {\n    jest.clearAllMocks();\n  });\n\n  it(\"should track 'Transaction Check Opt-in Triggered' when transactionChecksOptInTriggered changes from false to true\", () => {\n    const { rerender } = renderHook(\n      (props: UseTrackTransactionChecksFlow) => useTrackTransactionChecksFlow(props),\n      {\n        initialProps: { ...defaultArgs, transactionChecksOptInTriggered: false },\n      },\n    );\n\n    rerender({ ...defaultArgs, transactionChecksOptInTriggered: true });\n\n    expect(track).toHaveBeenCalledWith(\n      \"Transaction Check Opt-in Triggered\",\n      expect.objectContaining({\n        deviceType: \"Europa\",\n        connectionType: CONNECTION_TYPES.USB,\n        platform: \"LLD\",\n        page: \"Transaction\",\n        appName: \"Bitcoin\",\n        appVersion: \"1.0.0\",\n        appFlags: \"4660\",\n        deviceInfoHardwareVersion: 1,\n        deviceInfoMcuVersion: \"1.1.0\",\n        deviceInfoBootloaderVersion: \"1.2.0\",\n        deviceInfoProviderName: \"Ledger\",\n        deviceInfoLanguageId: 1,\n      }),\n      true,\n    );\n  });\n\n  it(\"should not track events if transactionChecksOptInTriggered is false\", () => {\n    renderHook((props: UseTrackTransactionChecksFlow) => useTrackTransactionChecksFlow(props), {\n      initialProps: { ...defaultArgs, transactionChecksOptInTriggered: false },\n    });\n\n    expect(track).not.toHaveBeenCalled();\n  });\n\n  it(\"should not track events if transactionChecksOptInTriggered is null\", () => {\n    renderHook((props: UseTrackTransactionChecksFlow) => useTrackTransactionChecksFlow(props), {\n      initialProps: { ...defaultArgs, transactionChecksOptInTriggered: null },\n    });\n\n    expect(track).not.toHaveBeenCalled();\n  });\n\n  it(\"should not track events if transactionChecksOptInTriggered is undefined\", () => {\n    renderHook((props: UseTrackTransactionChecksFlow) => useTrackTransactionChecksFlow(props), {\n      initialProps: { ...defaultArgs, transactionChecksOptInTriggered: undefined },\n    });\n\n    expect(track).not.toHaveBeenCalled();\n  });\n\n  it(\"should use 'unknown' as page when location is undefined\", () => {\n    renderHook((props: UseTrackTransactionChecksFlow) => useTrackTransactionChecksFlow(props), {\n      initialProps: { ...defaultArgs, location: undefined, transactionChecksOptInTriggered: true },\n    });\n\n    expect(track).toHaveBeenCalledWith(\n      \"Transaction Check Opt-in Triggered\",\n      expect.objectContaining({\n        page: \"unknown\",\n      }),\n      true,\n    );\n  });\n\n  it(\"should include correct connection type based on device.wired\", () => {\n    const bleDeviceMock = { ...deviceMock, wired: false };\n\n    renderHook((props: UseTrackTransactionChecksFlow) => useTrackTransactionChecksFlow(props), {\n      initialProps: {\n        ...defaultArgs,\n        device: bleDeviceMock,\n        transactionChecksOptInTriggered: true,\n      },\n    });\n\n    expect(track).toHaveBeenCalledWith(\n      \"Transaction Check Opt-in Triggered\",\n      expect.objectContaining({\n        connectionType: CONNECTION_TYPES.BLE,\n      }),\n      true,\n    );\n  });\n\n  it(\"should only track once even if transactionChecksOptInTriggered remains true on rerender\", () => {\n    const { rerender } = renderHook(\n      (props: UseTrackTransactionChecksFlow) => useTrackTransactionChecksFlow(props),\n      {\n        initialProps: { ...defaultArgs, transactionChecksOptInTriggered: true },\n      },\n    );\n\n    // First render should trigger tracking\n    expect(track).toHaveBeenCalledTimes(1);\n\n    // Rerender with the same props\n    rerender({ ...defaultArgs, transactionChecksOptInTriggered: true });\n\n    // Should still only be called once\n    expect(track).toHaveBeenCalledTimes(1);\n  });\n\n  it(\"should handle null deviceInfo and appAndVersion\", () => {\n    renderHook((props: UseTrackTransactionChecksFlow) => useTrackTransactionChecksFlow(props), {\n      initialProps: {\n        ...defaultArgs,\n        deviceInfo: null,\n        appAndVersion: null,\n        transactionChecksOptInTriggered: true,\n      },\n    });\n\n    expect(track).toHaveBeenCalledWith(\n      \"Transaction Check Opt-in Triggered\",\n      expect.objectContaining({\n        deviceType: \"Europa\",\n        connectionType: CONNECTION_TYPES.USB,\n        platform: \"LLD\",\n        page: \"Transaction\",\n        appName: undefined,\n        appVersion: undefined,\n        appFlags: undefined,\n        deviceInfoHardwareVersion: undefined,\n        deviceInfoMcuVersion: undefined,\n        deviceInfoBootloaderVersion: undefined,\n        deviceInfoProviderName: undefined,\n        deviceInfoLanguageId: undefined,\n      }),\n      true,\n    );\n  });\n\n  it(\"should track 'Transaction Check Opt-in' when transactionChecksOptIn changes from null to true\", () => {\n    const { rerender } = renderHook(\n      (props: UseTrackTransactionChecksFlow) => useTrackTransactionChecksFlow(props),\n      {\n        initialProps: {\n          ...defaultArgs,\n          transactionChecksOptIn: null,\n          transactionChecksOptInTriggered: true,\n        } as UseTrackTransactionChecksFlow,\n      },\n    );\n\n    rerender({\n      ...defaultArgs,\n      transactionChecksOptIn: true,\n      transactionChecksOptInTriggered: true,\n    });\n\n    expect(track).toHaveBeenCalledWith(\"Transaction Check Opt-in\", expect.any(Object), true);\n  });\n\n  it(\"should track 'Transaction Check Opt-out' when transactionChecksOptIn changes from null to false\", () => {\n    const { rerender } = renderHook(\n      (props: UseTrackTransactionChecksFlow) => useTrackTransactionChecksFlow(props),\n      {\n        initialProps: {\n          ...defaultArgs,\n          transactionChecksOptIn: null,\n          transactionChecksOptInTriggered: true,\n        } as UseTrackTransactionChecksFlow,\n      },\n    );\n\n    rerender({\n      ...defaultArgs,\n      transactionChecksOptIn: false,\n      transactionChecksOptInTriggered: true,\n    });\n\n    expect(track).toHaveBeenCalledWith(\"Transaction Check Opt-out\", expect.any(Object), true);\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/analytics/hooks/useTrackTransactionChecksFlow.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/analytics/hooks/variables.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/analytics/mixpanel.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/analytics/screenRefs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/analytics/segment.ts","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":54,"column":12,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":54,"endColumn":25},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":399,"column":63,"nodeType":"TSAsExpression","messageId":"never","endLine":399,"endColumn":85},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":406,"column":37,"nodeType":"TSAsExpression","messageId":"never","endLine":406,"endColumn":65}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { AnalyticsBrowser } from \"@segment/analytics-next\";\nimport { getTokensWithFunds } from \"@ledgerhq/live-common/domain/getTokensWithFunds\";\nimport {\n  getStablecoinYieldSetting,\n  getBitcoinYieldSetting,\n  getEthDepositScreenSetting,\n} from \"@ledgerhq/live-common/featureFlags/stakePrograms/index\";\nimport { runOnceWhen } from \"@ledgerhq/live-common/utils/runOnceWhen\";\nimport { LiveConfig } from \"@ledgerhq/live-config/lib-es/LiveConfig\";\nimport { getEnv } from \"@ledgerhq/live-env\";\nimport { getDefaultAccountName } from \"@ledgerhq/live-wallet/accountName\";\nimport type { AccountLike, Feature, FeatureId, Features } from \"@ledgerhq/types-live\";\nimport { idsToLanguage } from \"@ledgerhq/types-live\";\nimport invariant from \"invariant\";\nimport { useCallback, useContext } from \"react\";\nimport type * as Redux from \"redux\";\nimport { ReplaySubject } from \"rxjs\";\nimport { v4 as uuid } from \"uuid\";\nimport { getParsedSystemLocale } from \"~/helpers/systemLocale\";\nimport user from \"~/helpers/user\";\nimport { getVersionedRedirects } from \"LLD/hooks/useVersionedStakePrograms\";\nimport logger from \"~/renderer/logger\";\nimport type { State } from \"~/renderer/reducers\";\nimport {\n  developerModeSelector,\n  devicesModelListSelector,\n  hasSeenAnalyticsOptInPromptSelector,\n  languageSelector,\n  lastSeenDeviceSelector,\n  localeSelector,\n  marketPerformanceWidgetSelector,\n  mevProtectionSelector,\n  shareAnalyticsSelector,\n  sharePersonalizedRecommendationsSelector,\n  sidebarCollapsedSelector,\n  trackingEnabledSelector,\n} from \"~/renderer/reducers/settings\";\nimport { analyticsDrawerContext } from \"../drawers/Provider\";\nimport { accountsSelector } from \"../reducers/accounts\";\nimport { currentRouteNameRef, previousRouteNameRef } from \"./screenRefs\";\nimport {\n  onboardingIsSyncFlowSelector,\n  onboardingReceiveFlowSelector,\n  onboardingSyncFlowSelector,\n} from \"../reducers/onboarding\";\nimport { hubStateSelector } from \"@ledgerhq/live-common/postOnboarding/reducer\";\nimport mixpanel from \"mixpanel-browser\";\nimport { getTotalStakeableAssets } from \"@ledgerhq/live-common/domain/getTotalStakeableAssets\";\n\ntype ReduxStore = Redux.MiddlewareAPI<Redux.Dispatch<Redux.UnknownAction>, State>;\n\ninvariant(typeof window !== \"undefined\", \"analytics/segment must be called on renderer thread\");\n// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst os = require(\"os\");\nconst osType = os.type();\nconst osVersion = os.release();\nconst sessionId = uuid();\nconst getContext = () => ({\n  ip: \"0.0.0.0\",\n  page: {\n    path: \"/\",\n    referrer: \"\",\n    search: \"\",\n    title: \"Ledger Live\",\n    url: \"\",\n  },\n});\n\nlet storeInstance: ReduxStore | null | undefined; // is the redux store. it's also used as a flag to know if analytics is on or off.\nlet analyticsInstance: AnalyticsBrowser | null = null;\nlet analyticsFeatureFlagMethod:\n  | null\n  | (<T extends FeatureId>(key: T) => Feature<Features[T][\"params\"]> | null);\n\nexport function setAnalyticsFeatureFlagMethod(method: typeof analyticsFeatureFlagMethod): void {\n  analyticsFeatureFlagMethod = method;\n}\n\nconst getMarketWidgetAnalytics = (state: State) => {\n  if (!analyticsFeatureFlagMethod) return false;\n  const marketWidget = analyticsFeatureFlagMethod(\"marketperformanceWidgetDesktop\");\n\n  const hasMarketWidgetActivated = marketPerformanceWidgetSelector(state);\n\n  return {\n    hasMarketWidget: !marketWidget?.enabled ? \"Null\" : hasMarketWidgetActivated ? \"Yes\" : \"No\",\n    hasMarketWidgetV2: marketWidget?.params?.enableNewFeature ? \"Yes\" : \"No\",\n  };\n};\n\nconst getLedgerSyncAttributes = (state: State) => {\n  if (!analyticsFeatureFlagMethod) return false;\n  const walletSync = analyticsFeatureFlagMethod(\"lldWalletSync\");\n  const ledgerSyncOptimisation = analyticsFeatureFlagMethod(\"lwdLedgerSyncOptimisation\");\n\n  return {\n    hasLedgerSync: !!walletSync?.enabled,\n    ledgerSyncActivated: !!state.trustchain.trustchain?.rootId,\n    ledger_sync_revamp: !!ledgerSyncOptimisation?.enabled,\n  };\n};\n\nconst getMEVAttributes = (state: State) => {\n  if (!analyticsFeatureFlagMethod) return false;\n  const mevProtection = analyticsFeatureFlagMethod(\"llMevProtection\");\n\n  const hasMEVActivated = mevProtectionSelector(state);\n\n  return {\n    MEVProtectionActivated: !mevProtection?.enabled ? \"Null\" : hasMEVActivated ? \"Yes\" : \"No\",\n  };\n};\n\nconst getMADAttributes = () => {\n  if (!analyticsFeatureFlagMethod) return false;\n  const madFeatureFlag = analyticsFeatureFlagMethod(\"lldModularDrawer\");\n  const rollout_phase = \"INC2\";\n\n  const isEnabled = madFeatureFlag?.enabled ?? false;\n\n  return {\n    rollout_phase,\n    isEnabled,\n    add_account: madFeatureFlag?.params?.add_account ?? false,\n    live_app: madFeatureFlag?.params?.live_app ?? false,\n    live_apps_allowlist: madFeatureFlag?.params?.live_apps_allowlist,\n    live_apps_blocklist: madFeatureFlag?.params?.live_apps_blocklist,\n    receive_flow: madFeatureFlag?.params?.receive_flow ?? false,\n    send_flow: madFeatureFlag?.params?.send_flow ?? false,\n    isModularizationEnabled: madFeatureFlag?.params?.enableModularization ?? false,\n    enableDialogDesktop: madFeatureFlag?.params?.enableDialogDesktop ?? false,\n  };\n};\n\nconst getAddAccountAttributes = () => {\n  if (!analyticsFeatureFlagMethod) return {};\n  const addAccount = analyticsFeatureFlagMethod(\"lldNetworkBasedAddAccount\");\n\n  const isEnabled = addAccount?.enabled ?? false;\n\n  return {\n    feature_add_account_desktop: isEnabled,\n  };\n};\nconst getPtxAttributes = () => {\n  if (!analyticsFeatureFlagMethod) return {};\n  const fetchAdditionalCoins = analyticsFeatureFlagMethod(\"fetchAdditionalCoins\");\n  const stakingProviders = analyticsFeatureFlagMethod(\"ethStakingProviders\");\n  const rawStakePrograms = analyticsFeatureFlagMethod(\"stakePrograms\");\n  const ptxCard = analyticsFeatureFlagMethod(\"ptxCard\");\n  const ptxSwapLiveAppOnPortfolio = analyticsFeatureFlagMethod(\"ptxSwapLiveAppOnPortfolio\");\n\n  const isBatch1Enabled: boolean =\n    !!fetchAdditionalCoins?.enabled && fetchAdditionalCoins?.params?.batch === 1;\n  const isBatch2Enabled: boolean =\n    !!fetchAdditionalCoins?.enabled && fetchAdditionalCoins?.params?.batch === 2;\n  const isBatch3Enabled: boolean =\n    !!fetchAdditionalCoins?.enabled && fetchAdditionalCoins?.params?.batch === 3;\n  const stakingProvidersEnabled: number | string =\n    !!stakingProviders?.enabled &&\n    stakingProviders?.params &&\n    stakingProviders?.params?.listProvider?.length > 0\n      ? stakingProviders?.params?.listProvider.length\n      : \"flag not loaded\";\n\n  // Apply versioned redirects logic to the stakePrograms feature flag\n  const appVersion = LiveConfig.instance.appVersion || \"0.0.0\";\n  const stakePrograms = rawStakePrograms\n    ? getVersionedRedirects(rawStakePrograms, appVersion)\n    : null;\n\n  const stakingCurrenciesEnabled: string[] | string =\n    stakePrograms?.enabled && stakePrograms?.params?.list?.length\n      ? stakePrograms.params.list\n      : \"flag not loaded\";\n  const partnerStakingCurrenciesEnabled: string[] | string =\n    stakePrograms?.enabled && stakePrograms?.params?.redirects\n      ? Object.keys(stakePrograms.params.redirects)\n      : \"flag not loaded\";\n  const stablecoinYield = getStablecoinYieldSetting(stakePrograms);\n  const bitcoinYield = getBitcoinYieldSetting(stakePrograms);\n  const ethDepositScreen = getEthDepositScreenSetting(stakePrograms);\n\n  return {\n    isBatch1Enabled,\n    isBatch2Enabled,\n    isBatch3Enabled,\n    stakingProvidersEnabled,\n    ptxCard: ptxCard?.enabled,\n    ptxSwapLiveAppOnPortfolio: ptxSwapLiveAppOnPortfolio?.enabled,\n    stablecoinYield,\n    bitcoinYield,\n    ethDepositScreen,\n    stakingCurrenciesEnabled,\n    partnerStakingCurrenciesEnabled,\n  };\n};\n\nconst getMandatoryProperties = (store: ReduxStore) => {\n  const state = store.getState();\n  const analyticsEnabled = shareAnalyticsSelector(state);\n  const personalizedRecommendationsEnabled = sharePersonalizedRecommendationsSelector(state);\n  const hasSeenAnalyticsOptInPrompt = hasSeenAnalyticsOptInPromptSelector(state);\n  const devModeEnabled = developerModeSelector(state);\n\n  return {\n    devModeEnabled,\n    optInAnalytics: analyticsEnabled,\n    optInPersonalRecommendations: personalizedRecommendationsEnabled,\n    hasSeenAnalyticsOptInPrompt,\n  };\n};\n\nconst extraProperties = (store: ReduxStore) => {\n  const state: State = store.getState();\n  const mandatoryProperties = getMandatoryProperties(store);\n  const language = languageSelector(state);\n  const region = (localeSelector(state).split(\"-\")[1] || \"\").toUpperCase() || null;\n  const systemLocale = getParsedSystemLocale();\n  const device = lastSeenDeviceSelector(state);\n  const devices = devicesModelListSelector(state);\n  const accounts = accountsSelector(state);\n  const { postOnboardingInProgress } = hubStateSelector(state);\n\n  const isOnboardingReceiveFlow = onboardingReceiveFlowSelector(state);\n  const isOnboardingSyncFlow = onboardingIsSyncFlowSelector(state);\n  const onboardingSyncFlow = onboardingSyncFlowSelector(state);\n  const isOnboardingFlow = isOnboardingReceiveFlow || isOnboardingSyncFlow;\n\n  const ptxAttributes = getPtxAttributes();\n  const ldmkTransport = analyticsFeatureFlagMethod\n    ? analyticsFeatureFlagMethod(\"ldmkTransport\")\n    : { enabled: false };\n  const ldmkConnectApp = analyticsFeatureFlagMethod\n    ? analyticsFeatureFlagMethod(\"ldmkConnectApp\")\n    : { enabled: false };\n  const lldSyncOnboardingIncr1 = analyticsFeatureFlagMethod\n    ? analyticsFeatureFlagMethod(\"lldSyncOnboardingIncr1\")\n    : { enabled: false };\n  const ldmkSolanaSigner = analyticsFeatureFlagMethod\n    ? analyticsFeatureFlagMethod(\"ldmkSolanaSigner\")\n    : { enabled: false };\n  const nanoOnboardingFundWallet = analyticsFeatureFlagMethod\n    ? analyticsFeatureFlagMethod(\"nanoOnboardingFundWallet\")\n    : { enabled: false };\n\n  const ledgerSyncAttributes = getLedgerSyncAttributes(state);\n  const mevProtectionAttributes = getMEVAttributes(state);\n  const marketWidgetAttributes = getMarketWidgetAnalytics(state);\n  const madAttributes = getMADAttributes();\n  const addAccountAttributes = getAddAccountAttributes();\n  const sessionReplayProperties = mixpanel.get_session_recording_properties?.();\n\n  const deviceInfo = device\n    ? {\n        modelId: device.modelId,\n        deviceVersion: device.deviceInfo.version,\n        deviceLanguage:\n          device.deviceInfo?.languageId !== undefined\n            ? idsToLanguage[device.deviceInfo.languageId]\n            : undefined,\n        appLength: device.apps?.length,\n      }\n    : {};\n  const sidebarCollapsed = sidebarCollapsedSelector(state);\n\n  const { combinedIds, stakeableAssets } = getTotalStakeableAssets(\n    accounts,\n    Array.isArray(ptxAttributes.stakingCurrenciesEnabled)\n      ? ptxAttributes.stakingCurrenciesEnabled\n      : [],\n    Array.isArray(ptxAttributes.partnerStakingCurrenciesEnabled)\n      ? ptxAttributes.partnerStakingCurrenciesEnabled\n      : [],\n  );\n  const stakeableAssetsList = stakeableAssets.map(\n    asset => `${asset.ticker} on ${asset.networkName}`,\n  );\n\n  const accountsWithFunds = accounts\n    ? [\n        ...new Set(\n          accounts\n            .filter(account => account?.balance.isGreaterThan(0))\n            .map(account => account?.currency?.ticker),\n        ),\n      ]\n    : [];\n\n  const tokenWithFunds = getTokensWithFunds(accounts);\n\n  return {\n    ...mandatoryProperties,\n    appVersion: __APP_VERSION__,\n    language,\n    appLanguage: language, // Needed for braze\n    region,\n    environment: process.env.SEGMENT_TEST ? \"test\" : __DEV__ ? \"development\" : \"production\",\n    platform: \"desktop\",\n    systemLanguage: systemLocale.language,\n    systemRegion: systemLocale.region,\n    osType,\n    osVersion,\n    sessionId,\n    sidebarCollapsed,\n    accountsWithFunds,\n    tokenWithFunds,\n    modelIdList: devices,\n    ...ptxAttributes,\n    ...deviceInfo,\n    ...ledgerSyncAttributes,\n    ...mevProtectionAttributes,\n    ...marketWidgetAttributes,\n    ...addAccountAttributes,\n    madAttributes,\n    isLDMKTransportEnabled: ldmkTransport?.enabled,\n    isLDMKConnectAppEnabled: ldmkConnectApp?.enabled,\n    lldSyncOnboardingIncr1: Boolean(lldSyncOnboardingIncr1?.enabled),\n    nanoOnboardingFundWallet: Boolean(nanoOnboardingFundWallet?.enabled),\n    // For tracking receive flow events during onboarding\n    ...(postOnboardingInProgress && !isOnboardingFlow ? { flow: \"post-onboarding\" } : {}),\n    ...(isOnboardingFlow ? { flow: \"Onboarding\", ...onboardingSyncFlow } : {}),\n    ...sessionReplayProperties,\n    isLDMKSolanaSignerEnabled: ldmkSolanaSigner?.enabled,\n    totalStakeableAssets: combinedIds.size,\n    stakeableAssets: stakeableAssetsList,\n  };\n};\n\nfunction initializeSegment() {\n  if (analyticsInstance) return;\n\n  const writeKey = process.env.SEGMENT_WRITE_KEY || \"olBQc203GA3fXVa48rJB9c3826CY1axp\";\n\n  // Initialize Segment with cdnSettings to avoid fetching settings from CDN\n  analyticsInstance = AnalyticsBrowser.load({\n    writeKey,\n    cdnSettings: {\n      integrations: {\n        \"Segment.io\": {\n          apiKey: writeKey,\n          apiHost: \"api.segment.io/v1\",\n        },\n      },\n    },\n  });\n}\n\nfunction getAnalytics(): AnalyticsBrowser | null {\n  return analyticsInstance;\n}\nexport const startAnalytics = async (store: ReduxStore) => {\n  if (!user || (!process.env.SEGMENT_TEST && (getEnv(\"MOCK\") || getEnv(\"PLAYWRIGHT_RUN\")))) return;\n  // calling user() first is essential because otherwise the store data will not reflect the user's preferences\n  // and hence canBeTracked will always be set to true...\n  const { id } = await user();\n  storeInstance = store;\n\n  const canBeTracked = trackingEnabledSelector(store.getState());\n  if (!canBeTracked) return;\n\n  // Initialize Segment with the write key from config\n  initializeSegment();\n\n  const analytics = getAnalytics();\n  if (!analytics) return;\n\n  const allProperties = {\n    ...extraProperties(store),\n    userId: id,\n    braze_external_id: id, // Needed for braze with this exact name\n  };\n  logger.analyticsStart(id, allProperties);\n  void analytics.identify(id, allProperties, {\n    context: getContext(),\n  });\n};\ntype Properties = Error | Record<string, unknown> | null;\nexport type LoggableEvent = {\n  eventName: string;\n  eventProperties?: Properties;\n  eventPropertiesWithoutExtra?: Properties;\n  date: Date;\n};\nexport const trackSubject = new ReplaySubject<LoggableEvent>(30);\nfunction sendTrack(event: string, properties: object | undefined | null) {\n  const analytics = getAnalytics();\n  if (!analytics) return;\n  void analytics.track(event, properties ?? undefined, {\n    context: getContext(),\n  });\n}\n\nconst confidentialityFilter = (properties?: Record<string, unknown> | null) => {\n  const { account, parentAccount } = properties || {};\n  const filterAccount = account\n    ? {\n        account:\n          typeof account === \"object\" ? getDefaultAccountName(account as AccountLike) : account,\n      }\n    : {};\n  const filterParentAccount = parentAccount\n    ? {\n        parentAccount:\n          typeof parentAccount === \"object\"\n            ? getDefaultAccountName(parentAccount as AccountLike)\n            : parentAccount,\n      }\n    : {};\n  return {\n    ...properties,\n    ...filterAccount,\n    ...filterParentAccount,\n  };\n};\n\nexport const updateIdentify = async () => {\n  if (!storeInstance || !trackingEnabledSelector(storeInstance.getState())) return;\n  const analytics = getAnalytics();\n  if (!analytics) return;\n  const { id } = await user();\n\n  const allProperties = {\n    ...extraProperties(storeInstance),\n    userId: id,\n    braze_external_id: id, // Needed for braze with this exact name\n  };\n  void analytics.identify(id, allProperties, {\n    context: getContext(),\n  });\n};\n/** Ensure PTX flag attributes are set as soon as feature flags load */\nrunOnceWhen(() => !!analyticsFeatureFlagMethod && !!getAnalytics(), updateIdentify);\n\nexport const track = (\n  eventName: string,\n  properties?: Record<string, unknown> | null,\n  mandatory?: boolean | null,\n) => {\n  if (!storeInstance || (!mandatory && !trackingEnabledSelector(storeInstance.getState()))) {\n    return;\n  }\n\n  const eventPropertiesWithoutExtra = {\n    page: currentRouteNameRef.current,\n    ...properties,\n  };\n\n  const allProperties = {\n    ...eventPropertiesWithoutExtra,\n    ...(mandatory ? getMandatoryProperties(storeInstance) : extraProperties(storeInstance)),\n    ...confidentialityFilter(properties),\n  };\n\n  logger.analyticsTrack(eventName, allProperties);\n  sendTrack(eventName, allProperties);\n  trackSubject.next({\n    eventName,\n    eventProperties: allProperties,\n    eventPropertiesWithoutExtra,\n    date: new Date(),\n  });\n};\n\n/**\n * Returns an enriched track function that uses the context to add contextual\n * props to events.\n *\n * For now it's only adding the \"drawer\" property if it's defined.\n * */\nexport function useTrack() {\n  const { analyticsDrawerName } = useContext(analyticsDrawerContext);\n  return useCallback(\n    (\n      eventName: string,\n      properties?: Record<string, unknown> | null,\n      mandatory?: boolean | null,\n    ) => {\n      track(\n        eventName,\n        {\n          ...(analyticsDrawerName ? { drawer: analyticsDrawerName } : {}),\n          ...(properties ?? {}),\n        },\n        mandatory,\n      );\n    },\n    [analyticsDrawerName],\n  );\n}\n\n/**\n * Track an event which will have the name `Page ${category}${name ? \" \" + name : \"\"}`.\n * Extra logic to update the route names used in \"screen\" and \"source\"\n * properties of further events can be optionally enabled with the parameters\n * `updateRoutes` and `refreshSource`.\n */\nexport const trackPage = (\n  /**\n   * First part of the event name string\n   */\n  category: string,\n  /**\n   * Second part of the event name string, will be concatenated to `category`\n   * after a whitespace if defined.\n   */\n  name?: string | null,\n  /**\n   * Event properties\n   */\n  properties?: object | null,\n  /**\n   * Should this function call update the previous & current route names.\n   * Previous and current route names are used to track:\n   * - the `screen` property in non-screen events (for instance `button_clicked` events)\n   * - the `source` property in further screen events\n   */\n  updateRoutes?: boolean,\n  /**\n   * Should this function call update the current route name.\n   * If true, it means that the full screen name (`category` + \" \" + `name`) will\n   * be used as a \"source\" property for further screen events.\n   * NB: the previous parameter `updateRoutes` must be true for this to have\n   * any effect.\n   */\n  refreshSource?: boolean,\n) => {\n  if (!storeInstance || !trackingEnabledSelector(storeInstance.getState())) {\n    return;\n  }\n\n  const fullScreenName = category + (name ? ` ${name}` : \"\");\n  if (updateRoutes) {\n    previousRouteNameRef.current = currentRouteNameRef.current;\n    if (refreshSource) {\n      currentRouteNameRef.current = fullScreenName;\n    }\n  }\n  const eventName = `Page ${fullScreenName}`;\n\n  const eventPropertiesWithoutExtra = {\n    source: previousRouteNameRef.current ?? undefined,\n    ...properties,\n  };\n  const allProperties = {\n    ...eventPropertiesWithoutExtra,\n    ...extraProperties(storeInstance),\n  };\n  logger.analyticsPage(category, name, allProperties);\n  sendTrack(eventName, allProperties);\n  trackSubject.next({\n    eventName,\n    eventProperties: allProperties,\n    eventPropertiesWithoutExtra,\n    date: new Date(),\n  });\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/apex/dark/continue.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/apex/dark/pin.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/apex/light/continue.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/apex/light/pin.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/blue/1PlugAndPinCode/data.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/blue/3EnterPinCode/data.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/blue/4QuitApp/data.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/blue/5AllowManager/data.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/blue/6OpenApp/data.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/blue/7Validate/data.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/charon/charon.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/common/confetti.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/common/loader.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/customLockScreen/apex.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/customLockScreen/flex.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/customLockScreen/stax.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/flex/dark/continue.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/flex/dark/onboardingSuccess.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/flex/dark/pin.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/flex/light/continue.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/flex/light/onboardingSuccess.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/flex/light/pin.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoS/1PlugAndPinCode/dark.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoS/1PlugAndPinCode/light.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoS/2FirmwareUpdating/dark.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoS/2FirmwareUpdating/light.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoS/3EnterPinCode/dark.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoS/3EnterPinCode/light.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoS/4QuitApp/dark.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoS/4QuitApp/light.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoS/5AllowManager/dark.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoS/5AllowManager/light.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoS/6OpenApp/dark.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoS/6OpenApp/light.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoS/7Validate/dark.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoS/7Validate/light.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoS/8InstallLoading/dark.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoS/8InstallLoading/light.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoSP/dark/continue.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoSP/dark/pin.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoSP/light/continue.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoSP/light/pin.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoX/RecoverWithProtect/dark.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoX/RecoverWithProtect/light.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoX/dark/continue.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoX/dark/paired.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoX/dark/pairing.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoX/dark/pin.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoX/light/continue.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoX/light/paired.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoX/light/pairing.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/nanoX/light/pin.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/stax/USBConnectionSuccess.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/stax/confirmLockscreen.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/stax/dark/continue.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/stax/dark/pin.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/stax/light/continue.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/animations/stax/light/pin.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/bridge/BridgeSyncContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/bridge/SyncNewAccounts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/bridge/cache.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/AbortButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/AccountSubHeader/AccountSubHeaderDrawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/AccountSubHeader/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/AccountTagDerivationMode.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":31,"column":26,"nodeType":"TSAsExpression","messageId":"never","endLine":31,"endColumn":66}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport styled from \"styled-components\";\nimport type { AccountLike, DerivationMode } from \"@ledgerhq/types-live\";\nimport { getTagDerivationMode } from \"@ledgerhq/coin-framework/derivation\";\nimport Text from \"~/renderer/components/Text\";\nconst CurrencyLabel = styled(Text).attrs(() => ({\n  color: \"neutral.c70\",\n  ff: \"Inter|SemiBold\",\n  fontSize: \"8px\",\n}))`\n  display: inline-block;\n  padding: 0 4px;\n  height: 14px;\n  line-height: 14px;\n  border-color: currentColor;\n  border-width: 1px;\n  border-style: solid;\n  border-radius: 4px;\n  text-align: center;\n  flex: 0 0 auto !important;\n  box-sizing: content-box;\n  text-transform: uppercase;\n  flex: unset;\n`;\ntype Props = {\n  account: AccountLike;\n  margin?: string;\n};\nexport default function AccountTagDerivationMode({ account, margin }: Props) {\n  if (account.type !== \"Account\") return null;\n  const derivationMode = account.derivationMode as DerivationMode; // FIXME types-live's DerivationMode is loose\n  const tag = getTagDerivationMode(account.currency, derivationMode);\n  return tag ? <CurrencyLabel margin={margin ?? \"0 8px\"}>{tag}</CurrencyLabel> : null;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/AccountsList/AccountRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/AccountsList/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Alert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/AnalyticsConsole/Event.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/AnalyticsConsole/Event.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/AnalyticsConsole/EventList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/AnalyticsConsole/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/AnalyticsConsole/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/AnalyticsConsole/useAnalyticsEventsLog.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/AnnouncementProviderWrapper.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/AppRegionDrag.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/AutoRepair.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/BalanceInfos/Placeholder.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/BalanceInfos/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/BigSpinner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/BoldToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Box/Box.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Box/Card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Box/Tabbable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Box/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Breadcrumb/AccountCrumb.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Breadcrumb/AssetCrumb.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Breadcrumb/MarketCrumb.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Breadcrumb/common.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Breadcrumb/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/BroadcastErrorDisclaimer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/BulletRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Button.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":220,"column":49,"nodeType":"TSAsExpression","messageId":"never","endLine":220,"endColumn":72},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":224,"column":25,"nodeType":"TSAsExpression","messageId":"never","endLine":224,"endColumn":85},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":231,"column":30,"nodeType":"TSAsExpression","messageId":"never","endLine":231,"endColumn":90}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { PureComponent } from \"react\";\nimport styled, { ThemedStyledProps, DefaultTheme } from \"styled-components\";\nimport {\n  space,\n  fontSize,\n  fontWeight,\n  color,\n  SpaceProps,\n  ColorProps,\n  FontSizeProps,\n  FontWeightProps,\n} from \"styled-system\";\nimport noop from \"lodash/noop\";\nimport get from \"lodash/get\";\nimport { track } from \"~/renderer/analytics/segment\";\nimport { isGlobalTabEnabled } from \"~/config/global-tab\";\nimport { darken, lighten, rgba } from \"~/renderer/styles/helpers\";\nimport fontFamily from \"~/renderer/styles/styled/fontFamily\";\nimport { focusedShadowStyle } from \"~/renderer/components/Box/Tabbable\";\nimport Spinner from \"~/renderer/components/Spinner\";\n\ntype BaseComponentProps = BaseProps & { ff?: string; fullWidth?: boolean };\ntype ButtonStyle = (p: ThemedStyledProps<BaseComponentProps, DefaultTheme>) => string;\nconst buttonStyles: Record<string, Record<string, ButtonStyle>> = {\n  default: {\n    default: p => `\n      box-shadow: ${p.isFocused ? focusedShadowStyle : \"\"};\n      ${p.disabled ? `color: ${p.theme.colors.neutral.c40}` : \"\"}\n    `,\n    active: p => `\n      background: ${rgba(p.theme.colors.neutral.c40, 0.2)};\n    `,\n    hover: p => `\n      background: ${rgba(p.theme.colors.neutral.c40, 0.1)};\n    `,\n  },\n  primary: {\n    default: p => `\n      background: ${\n        p.disabled\n          ? `${p.theme.colors.opacityDefault.c10} !important`\n          : p.inverted\n            ? p.theme.colors.neutral.c00\n            : p.theme.colors.primary.c80\n      };\n      color: ${\n        p.disabled\n          ? p.theme.colors.opacityDefault.c20\n          : p.inverted\n            ? p.theme.colors.primary.c80\n            : p.theme.colors.neutral.c00\n      };\n      box-shadow: ${\n        p.isFocused\n          ? `\n          0 0 0 1px ${darken(p.theme.colors.primary.c80, 0.3)} inset,\n          0 0 0 1px ${rgba(p.theme.colors.primary.c80, 0.5)},\n          0 0 0 3px ${rgba(p.theme.colors.primary.c80, 0.3)};`\n          : \"\"\n      }\n    `,\n    hover: p => `\n       background: ${\n         p.inverted\n           ? darken(p.theme.colors.neutral.c00, 0.05)\n           : lighten(p.theme.colors.primary.c80, 0.05)\n       };\n     `,\n    active: p => `\n       background: ${\n         p.inverted\n           ? darken(p.theme.colors.neutral.c00, 0.1)\n           : darken(p.theme.colors.primary.c80, 0.1)\n       };\n     `,\n  },\n  danger: {\n    default: p => `\n      background: ${\n        p.disabled ? `${p.theme.colors.opacityDefault.c10} !important` : p.theme.colors.alertRed\n      };\n      color: ${p.disabled ? p.theme.colors.neutral.c40 : p.theme.colors.neutral.c00};\n      box-shadow: ${\n        p.isFocused\n          ? `\n          0 0 0 1px ${darken(p.theme.colors.alertRed, 0.3)} inset,\n          0 0 0 1px ${rgba(p.theme.colors.alertRed, 0.5)},\n          0 0 0 3px ${rgba(p.theme.colors.alertRed, 0.3)};\n        `\n          : \"\"\n      }\n    `,\n    hover: p => `\n      background: ${lighten(p.theme.colors.alertRed, 0.1)};\n     `,\n    active: p => `\n      background: ${darken(p.theme.colors.alertRed, 0.1)};\n     `,\n  },\n  lighterPrimary: {\n    default: p => `\n      background: ${\n        p.disabled\n          ? `${p.theme.colors.opacityDefault.c10} !important`\n          : p.theme.colors.opacityDefault.c10\n      };\n      color: ${\n        p.disabled ? `${p.theme.colors.neutral.c40} !important` : p.theme.colors.primary.c80\n      };\n      box-shadow: ${\n        p.isFocused\n          ? `\n          0 0 0 1px ${darken(p.theme.colors.primary.c80, 0.3)} inset,\n          0 0 0 1px ${rgba(p.theme.colors.primary.c80, 0.5)},\n          0 0 0 3px ${rgba(p.theme.colors.primary.c80, 0.3)};`\n          : \"\"\n      }\n    `,\n    hover: p => `\n       background: ${lighten(p.theme.colors.opacityDefault.c10, 0.05)};\n     `,\n    active: p => `\n       background: ${darken(p.theme.colors.opacityDefault.c10, 0.1)};\n     `,\n  },\n  lighterDanger: {\n    default: p => `\n      color: ${\n        p.disabled ? `${p.theme.colors.opacityDefault.c10} !important` : p.theme.colors.alertRed\n      };\n    `,\n    hover: p => `\n      color: ${p.theme.colors.alertRed};\n     `,\n    active: p => `\n      color: ${p.theme.colors.alertRed};\n     `,\n  },\n  outline: {\n    default: p => {\n      const c = p.outlineColor\n        ? get(p.theme.colors, p.outlineColor) || p.outlineColor\n        : p.theme.colors.primary.c80;\n      return `\n        background: transparent;\n        border: 1px solid ${c};\n        color: ${c};\n        box-shadow: ${\n          p.isFocused\n            ? `\n            0 0 0 3px ${rgba(c, 0.3)};`\n            : \"\"\n        }\n      `;\n    },\n    hover: p => {\n      const c = p.outlineColor\n        ? get(p.theme.colors, p.outlineColor) || p.outlineColor\n        : p.theme.colors.primary.c80;\n      return `\n        background: ${rgba(c, 0.1)};\n      `;\n    },\n    active: p => {\n      const c = p.outlineColor\n        ? get(p.theme.colors, p.outlineColor) || p.outlineColor\n        : p.theme.colors.primary.c80;\n      return `\n        background: ${rgba(c, 0.15)};\n        color: ${darken(\n          p.outlineColor\n            ? get(p.theme.colors, p.outlineColor) || p.outlineColor\n            : p.theme.colors.primary.c80,\n          0.1,\n        )};\n        border-color: ${darken(\n          p.outlineColor\n            ? get(p.theme.colors, p.outlineColor) || p.outlineColor\n            : p.theme.colors.primary.c80,\n          0.1,\n        )};\n      `;\n    },\n  },\n  outlineGrey: {\n    default: p => `\n      background: transparent;\n      border: 1px solid ${p.theme.colors.neutral.c70};\n      color: ${p.theme.colors.neutral.c70};\n      box-shadow: ${p.isFocused ? focusedShadowStyle : \"\"}\n    `,\n    active: p => `\n      color: ${darken(p.theme.colors.neutral.c70, 0.1)};\n      border-color: ${darken(p.theme.colors.neutral.c70, 0.1)};\n    `,\n  },\n  icon: {\n    default: () => `\n      ${/*  @ts-expect-error TODO: isn't this weird? fontSize is a styled-system function */ \"\"}\n      font-size: ${fontSize[3]}px;\n      ${/*  @ts-expect-error TODO: isn't this weird? space is a styled-system function */ \"\"}\n      padding-left: ${space[1]}px;\n      ${/*  @ts-expect-error TODO: isn't this weird? space is a styled-system function */ \"\"}\n      padding-right: ${space[1]}px;\n    `,\n  },\n  isLoading: {\n    default: () => `\n      padding-left: 40px;\n      padding-right: 40px;\n      pointer-events: none;\n      opacity: 0.7;\n    `,\n  },\n};\nfunction getStyles(props: BaseComponentProps, state: string) {\n  let output = \"\";\n  let hasModifier = false;\n  for (const s in buttonStyles) {\n    if (buttonStyles.hasOwnProperty(s) && props[s as keyof typeof props] === true) {\n      const style = buttonStyles[s][state];\n      if (style) {\n        hasModifier = true;\n        output += style(props as ThemedStyledProps<BaseComponentProps, DefaultTheme>);\n      }\n    }\n  }\n  if (!hasModifier) {\n    const defaultStyle = buttonStyles.default[state];\n    if (defaultStyle) {\n      output += defaultStyle(props as ThemedStyledProps<BaseComponentProps, DefaultTheme>) || \"\";\n    }\n  }\n  return output;\n}\nconst LoadingWrapper = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\nconst ChildrenWrapper = styled.div<{ isLoading?: boolean }>`\n  opacity: ${p => (p.isLoading ? 0 : 1)};\n  flex-shrink: 1;\n  display: flex;\n  align-items: center;\n`;\n\ntype BaseProps = {\n  fontSize?: number;\n  small?: boolean;\n  isFocused?: boolean;\n  disabled?: boolean;\n  inverted?: boolean;\n  outlineColor?: string;\n} & SpaceProps &\n  ColorProps &\n  FontSizeProps &\n  FontWeightProps;\n\nexport const Base = styled.button.attrs<BaseProps>(p => ({\n  ff: \"Inter|SemiBold\",\n  fontSize: p.fontSize || (!p.small ? 4 : 3),\n  px: p.px ? p.px : !p.small ? 4 : 3,\n  py: !p.small ? 2 : 0,\n  color: p.color || p.theme.colors.neutral.c70,\n  bg: \"transparent\",\n}))<BaseComponentProps>`\n  ${space};\n  ${color};\n  ${fontSize};\n  ${fontWeight};\n  ${fontFamily};\n  border: none;\n  display: flex;\n  overflow: hidden;\n  position: relative;\n  flex-direction: row;\n  align-items: center;\n  border-radius: ${p => p.theme.radii[1]}px;\n  cursor: ${p => (p.disabled ? \"not-allowed\" : \"pointer\")};\n  height: ${p => (p.small ? 34 : 40)}px;\n  pointer-events: ${p => (p.disabled ? \"none\" : \"\")};\n  width: ${p => (p.fullWidth ? \"100%\" : \"auto\")};\n  outline: none;\n\n  ${p => getStyles(p, \"default\")};\n\n  &:hover {\n    ${p => getStyles(p, \"hover\")};\n  }\n  &:active {\n    ${p => getStyles(p, \"active\")};\n  }\n  &:focus {\n    ${p => getStyles(p, \"focus\")};\n  }\n`;\nexport type Props = {\n  children?: React.ReactNode;\n  icon?: boolean;\n  primary?: boolean;\n  inverted?: boolean;\n  // only used with primary for now\n  lighterPrimary?: boolean;\n  danger?: boolean;\n  lighterDanger?: boolean;\n  disabled?: boolean;\n  outline?: boolean;\n  fullWidth?: boolean;\n  outlineGrey?: boolean;\n  onClick?: (e?: React.MouseEvent) => void;\n  small?: boolean;\n  isLoading?: boolean;\n  event?: string;\n  eventProperties?: Record<string, unknown>;\n  mr?: number;\n  mx?: number;\n  innerRef?: React.ForwardedRef<HTMLButtonElement>;\n  style?: React.CSSProperties;\n} & React.ComponentProps<typeof Base>;\nclass ButtonInner extends PureComponent<\n  Props,\n  {\n    isFocused: boolean;\n  }\n> {\n  static defaultProps = {\n    onClick: noop,\n    primary: false,\n    small: false,\n    danger: false,\n    inverted: false,\n  };\n\n  state = {\n    isFocused: false,\n  };\n\n  handleFocus = () => {\n    if (isGlobalTabEnabled()) {\n      this.setState({\n        isFocused: true,\n      });\n    }\n  };\n\n  handleBlur = () => {\n    this.setState({\n      isFocused: false,\n    });\n  };\n\n  render() {\n    const { isFocused } = this.state;\n    const { disabled, innerRef } = this.props;\n    const { onClick, children, isLoading, event, eventProperties, ...rest } = this.props;\n    const isClickDisabled = disabled || isLoading;\n    const onClickHandler = (e: React.MouseEvent) => {\n      if (onClick) {\n        if (event) {\n          track(event, eventProperties);\n        }\n        onClick(e);\n      }\n    };\n    return (\n      <Base\n        {...rest}\n        ref={innerRef}\n        onClick={isClickDisabled ? undefined : onClickHandler}\n        isFocused={isFocused}\n        onFocus={this.handleFocus}\n        onBlur={this.handleBlur}\n      >\n        {isLoading ? (\n          <LoadingWrapper>\n            <Spinner size={16} />\n          </LoadingWrapper>\n        ) : null}\n        <ChildrenWrapper isLoading={isLoading}>{children}</ChildrenWrapper>\n      </Base>\n    );\n  }\n}\nconst Button = React.forwardRef<HTMLButtonElement, Props>((props, ref) => (\n  <ButtonInner {...props} innerRef={ref} />\n));\nexport default Button;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ButtonV3.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/BuyButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ByteSize.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ChangeDeviceLanguageAction.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ChangeDeviceLanguagePrompt.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Chart/Tooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Chart/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Chart/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ChartPreview/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CheckBox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CircleWrapper.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ClearCacheBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CollapsibleCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ConnectEnvsToSentry.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":36,"column":30,"nodeType":"TSAsExpression","messageId":"never","endLine":36,"endColumn":65},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":36,"column":37,"nodeType":"TSAsExpression","messageId":"never","endLine":36,"endColumn":51},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":41,"column":21,"nodeType":"TSAsExpression","messageId":"never","endLine":41,"endColumn":55},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":50,"column":34,"nodeType":"TSAsExpression","messageId":"never","endLine":50,"endColumn":62}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect } from \"react\";\nimport { ipcRenderer } from \"electron\";\nimport { EnvName, getEnv } from \"@ledgerhq/live-env\";\nimport { DEFAULT_FEATURES, useFeatureFlags } from \"@ledgerhq/live-common/featureFlags/index\";\nimport { FeatureId } from \"@ledgerhq/types-live\";\nimport { enabledExperimentalFeatures } from \"../experimental\";\nimport { setTags } from \"../../sentry/renderer\";\nimport { Primitive } from \"@sentry/types\";\n\ntype Tags = { [key: string]: Primitive };\n\nfunction setSentryTagsEverywhere(tags: Tags) {\n  ipcRenderer.invoke(\"set-sentry-tags\", tags);\n  setTags(tags);\n}\n\nconst MAX_KEYLEN = 32;\nfunction safekey(k: string) {\n  if (k.length > MAX_KEYLEN) {\n    const sep = \"..\";\n    const max = MAX_KEYLEN - sep.length;\n    const split1 = Math.floor(max / 2);\n    return k.slice(0, split1) + \"..\" + k.slice(k.length - (max - split1));\n  }\n  return k;\n}\n\nexport const ConnectEnvsToSentry = () => {\n  const featureFlags = useFeatureFlags();\n  useEffect(() => {\n    // This sync the Sentry tags to include the extra information in context of events\n    const syncTheTags = () => {\n      const tags: Tags = {};\n      // if there are experimental on, we will add them in tags\n      enabledExperimentalFeatures().forEach(key => {\n        tags[safekey(key)] = getEnv(key as EnvName) as Primitive;\n      });\n      // if there are features on, we will add them in tags\n      const features: { [key in FeatureId]?: boolean } = {};\n      Object.keys(DEFAULT_FEATURES).forEach(k => {\n        const key = k as keyof typeof DEFAULT_FEATURES;\n        const value = featureFlags.getFeature(key);\n        if (key && value && value.enabled !== DEFAULT_FEATURES[key]!.enabled) {\n          features[key] = value.enabled;\n        }\n      });\n\n      Object.keys(features).forEach(key => {\n        const safeKey = safekey(`f_${key}`);\n        tags[safeKey] = features[key as keyof typeof features];\n      });\n\n      setSentryTagsEverywhere(tags);\n    };\n    // We need to wait firebase to load the data and then we set once for all the tags\n    const timeout = setTimeout(syncTheTags, 5000);\n    // We also try to regularly update them so we are sure to get the correct tags (as these are dynamic)\n    const interval = window.setInterval(syncTheTags, 60000);\n    return () => {\n      clearTimeout(timeout);\n      clearInterval(interval);\n    };\n  }, [featureFlags]);\n  return null;\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ConnectTroubleshooting.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ConnectTroubleshootingHelpButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ContentCards/ActionCard/components.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ContentCards/ActionCard/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ContextMenu/AccountContextMenu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ContextMenu/ContextMenuItem.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ContextMenu/ContextMenuWrapper.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CopyWithFeedback.tsx","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":11,"column":20,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":11,"endColumn":39}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { PureComponent } from \"react\";\nimport styled from \"styled-components\";\nimport { withTranslation } from \"react-i18next\";\nimport { TFunction } from \"i18next\";\nimport { darken, lighten } from \"~/renderer/styles/helpers\";\nimport IconCopy from \"~/renderer/icons/Copy\";\nimport Box from \"~/renderer/components/Box\";\nlet clipboard: Electron.Clipboard | null = null;\nif (!process.env.STORYBOOK_ENV) {\n  // eslint-disable-next-line @typescript-eslint/no-var-requires\n  const electron = require(\"electron\");\n  clipboard = electron.clipboard; // eslint-disable-line\n}\ntype Props = {\n  t: TFunction;\n  text: string;\n};\ntype State = {\n  isCopied: boolean;\n};\nclass CopyWithFeedback extends PureComponent<Props, State> {\n  state = {\n    isCopied: false,\n  };\n\n  componentWillUnmount() {\n    this._isUnmounted = true;\n  }\n\n  _isUnmounted = false;\n  handleCopy = () => {\n    const { text } = this.props;\n    if (clipboard) clipboard.writeText(text);\n    this.setState({\n      isCopied: true,\n    });\n    setTimeout(() => {\n      this.setState({\n        isCopied: false,\n      });\n    }, 1e3);\n  };\n\n  render() {\n    const { t } = this.props;\n    const { isCopied } = this.state;\n    return (\n      <ClickableWrapper onClick={this.handleCopy}>\n        <IconCopy size={16} />\n        <span>{isCopied ? t(\"common.copied\") : t(\"common.copy\")}</span>\n      </ClickableWrapper>\n    );\n  }\n}\nconst ClickableWrapper = styled(Box).attrs(() => ({\n  horizontal: true,\n  alignItems: \"center\",\n  flow: 1,\n  color: \"wallet\",\n  fontSize: 4,\n  ff: \"Inter|SemiBold\",\n  cursor: \"default\", // this here needs reset because it inherits from cursor: text from parent\n}))`\n  &:hover {\n    color: ${p => lighten(p.theme.colors.wallet, 0.1)};\n  }\n  &:active {\n    color: ${p => darken(p.theme.colors.wallet, 0.1)};\n  }\n`;\nexport default withTranslation()(CopyWithFeedback);\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CounterValue.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CountervaluesMarketcapProvider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CountervaluesProvider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CryptoCurrencyIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CryptoCurrencyIconWithCount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CurrencyBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CurrencyDownStatusAlert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CurrencyUnitValue.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CustomImage/ContrastChoice.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CustomImage/CustomLockScreenDeviceAction/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CustomImage/CustomLockScreenDeviceAction/stepsRendering.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CustomImage/DeviceModelPicker.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CustomImage/FramedPicture.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":35,"column":10,"nodeType":"TSAsExpression","messageId":"never","endLine":42,"endColumn":27}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { Flex, Box, Icons } from \"@ledgerhq/react-ui\";\nimport styled, { useTheme } from \"styled-components\";\nimport StyleProviderV3 from \"~/renderer/styles/StyleProviderV3\";\nimport { getFramedPictureConfig, FramedPictureConfig } from \"./framedPictureConfigs\";\nimport { CLSSupportedDeviceModelId } from \"@ledgerhq/live-common/device/use-cases/isCustomLockScreenSupported\";\n\nconst absoluteFillObject = {\n  position: \"absolute\",\n  top: 0,\n  bottom: 0,\n  left: 0,\n  right: 0,\n};\n\nconst Container = styled(Box).attrs({\n  position: \"relative\",\n})``;\n\nconst AbsoluteBackgroundContainer = styled(Flex).attrs({\n  ...absoluteFillObject,\n})``;\n\nconst AbsoluteInnerImageContainer = styled(Flex).attrs({\n  overflow: \"hidden\",\n  position: \"absolute\",\n  flexDirection: \"row-reverse\",\n  justifyContent: \"flex-start\",\n})``;\n\nconst DEBUG = false;\n\nfunction scaleFrameConfig(frameConfig: FramedPictureConfig, scale: number): FramedPictureConfig {\n  const { backgroundSource, ...rest } = frameConfig;\n  return {\n    backgroundSource,\n    ...Object.fromEntries(\n      Object.entries(rest).map(([key, value]) => {\n        return [key, value * scale];\n      }),\n    ),\n  } as FramedPictureConfig;\n}\n\nconst DEFAULT_SCALE_COEFFICIENT = 0.65;\n/* The height of the confirmation button, could vary per device model later */\nconst BUTTON_HEIGHT = 40;\n\ntype Props = Partial<React.ComponentProps<\"img\">> & {\n  /** source of the image inside */\n  source?: string;\n  /** item to put in the background */\n  background?: React.ReactNode | undefined;\n  /** float between 0 and 1 */\n  loadingProgress?: number;\n  deviceModelId: CLSSupportedDeviceModelId;\n  scaleCoefficient?: number;\n  showConfirmationButton?: boolean;\n};\n\nconst CheckButton = styled(Flex).attrs({\n  width: \"50%\",\n  height: \"100%\",\n  backgroundColor: \"neutral.c90\",\n  ml: \"auto\",\n})``;\n\nconst FramedPicture: React.FC<Props> = ({\n  source,\n  loadingProgress = 1,\n  deviceModelId,\n  scaleCoefficient = DEFAULT_SCALE_COEFFICIENT,\n  showConfirmationButton = false,\n  background,\n  ...imageProps\n}) => {\n  const { colors } = useTheme();\n  const isLottie = !!background;\n  const frameConfig = getFramedPictureConfig(deviceModelId);\n  const {\n    frameHeight,\n    frameWidth,\n    innerWidth,\n    innerHeight,\n    innerRight,\n    innerTop,\n    innerLeft,\n    borderRightRadius,\n    borderLeftRadius,\n    innerBottomHeight,\n    backgroundSource,\n  } = scaleFrameConfig(frameConfig, scaleCoefficient || 1);\n\n  return (\n    <>\n      <Container height={frameHeight} width={frameWidth}>\n        <StyleProviderV3 selectedPalette=\"light\">\n          <AbsoluteBackgroundContainer height={frameHeight} width={frameWidth}>\n            {!background && backgroundSource ? (\n              <img\n                src={backgroundSource}\n                style={{\n                  height: frameHeight,\n                  width: frameWidth,\n                  objectFit: \"fill\",\n                }}\n              />\n            ) : null}\n          </AbsoluteBackgroundContainer>\n          <Flex height={frameHeight} justifyContent=\"center\" width={frameWidth}>\n            {background || null}\n          </Flex>\n          <AbsoluteInnerImageContainer\n            style={{\n              top: innerTop,\n              left: innerLeft,\n              width: innerWidth,\n              height: innerHeight,\n              borderTopRightRadius: borderRightRadius,\n              borderBottomRightRadius: borderRightRadius,\n              borderTopLeftRadius: borderLeftRadius,\n              borderBottomLeftRadius: borderLeftRadius,\n            }}\n            backgroundColor={colors.neutral.c30}\n          ></AbsoluteInnerImageContainer>\n          <AbsoluteInnerImageContainer\n            style={{\n              right: innerRight,\n              top: innerTop,\n              left: innerLeft,\n              height: loadingProgress * (innerHeight - (isLottie ? innerBottomHeight : 0)),\n              width: innerWidth,\n              backgroundColor: DEBUG ? \"red\" : undefined,\n            }}\n          >\n            {!DEBUG && source ? (\n              <img\n                {...imageProps}\n                src={source}\n                style={{\n                  height: innerHeight,\n                  width: innerWidth,\n                  objectFit: \"fill\",\n                  borderTopRightRadius: borderRightRadius,\n                  borderBottomRightRadius: borderRightRadius,\n                  borderTopLeftRadius: borderLeftRadius,\n                  borderBottomLeftRadius: borderLeftRadius,\n                }}\n              />\n            ) : null}\n          </AbsoluteInnerImageContainer>\n          {showConfirmationButton ? (\n            <Flex\n              width={`${innerWidth}px`}\n              height={`${BUTTON_HEIGHT}px`}\n              ml={`${innerLeft}px`}\n              mt={`-${innerBottomHeight + BUTTON_HEIGHT}px`}\n              backgroundColor={\"neutral.c20\"}\n              position={\"relative\"}\n              overflow={\"hidden\"}\n              borderBottomLeftRadius={borderLeftRadius}\n              borderBottomRightRadius={borderRightRadius}\n            >\n              <CheckButton>\n                <Icons.Check style={{ margin: \"auto\" }} color=\"constant.white\" />\n              </CheckButton>\n            </Flex>\n          ) : null}\n        </StyleProviderV3>\n      </Container>\n    </>\n  );\n};\n\nexport default FramedPicture;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CustomImage/ImageCropper.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has missing dependencies: 'onError' and 'rotationIncrements'. Either include them or remove the dependency array.","line":190,"column":6,"nodeType":"ArrayExpression","endLine":190,"endColumn":74,"suggestions":[{"desc":"Update the dependencies array to be: [debouncedCompleteCropPixel, targetDimensions, onResult, setLoading, rotationIncrements, onError]","fix":{"range":[6162,6230],"text":"[debouncedCompleteCropPixel, targetDimensions, onResult, setLoading, rotationIncrements, onError]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CustomImage/ImageDithering.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CustomImage/ImportImage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CustomImage/TestImage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CustomImage/dithering/config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CustomImage/dithering/processImage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CustomImage/dithering/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CustomImage/framedPictureConfigs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CustomImage/imageUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CustomImage/shared.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/CustomImage/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Delegation/ValidatorListHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Delegation/ValidatorRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Delegation/ValidatorSearchInput.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/DeviceAction/DeviceBlocker.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/DeviceAction/NoSuchAppOnProviderErrorComponent.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":86,"column":46,"nodeType":"TSAsExpression","messageId":"never","endLine":86,"endColumn":82}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback } from \"react\";\nimport { ErrorBody } from \"../ErrorBody\";\nimport { Wrapper } from \"./rendering\";\nimport { Trans } from \"react-i18next\";\nimport { Link, Text } from \"@ledgerhq/react-ui\";\nimport styled, { useTheme } from \"styled-components\";\nimport Box from \"../Box\";\nimport { Icons } from \"@ledgerhq/react-ui\";\nimport { urls } from \"~/config/urls\";\nimport { CircleWrapper } from \"../CircleWrapper\";\nimport { track } from \"~/renderer/analytics/segment\";\nimport { openURL } from \"~/renderer/linking\";\nimport TrackPage from \"~/renderer/analytics/TrackPage\";\n\nconst CtaContainer = styled(Box)`\n  margin-top: 32px;\n`;\n\nconst StyledLinkExploreButton = styled(Link)`\n  display: flex;\n  width: 100%;\n  height: 48px;\n  padding: 8px 24px;\n  justify-content: center;\n  align-items: center;\n  gap: 8px;\n  border-radius: 500px;\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: normal;\n  color: ${({ theme }) => theme.colors.neutral.c00};\n  background-color: ${({ theme }) => theme.colors.neutral.c100};\n  &:hover {\n    background-color: ${({ theme }) => theme.colors.neutral.c90};\n  }\n`;\n\nconst StyledLinkLearnMoreButton = styled(Link)`\n  margin-top: 16px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 8px;\n  font-size: 14px;\n  color: ${({ theme }) => theme.colors.neutral.c70};\n  font-style: normal;\n  font-weight: 600;\n  line-height: normal;\n`;\n\nconst PAGE_NAME = \"LNS Upsell Ledger Sync\";\n\nconst NoSuchAppOnProviderErrorComponent: React.FC<{\n  error: Error;\n  productName: string;\n  learnMoreLink?: string;\n  learnMoreTextKey?: string;\n}> = ({ error, productName, learnMoreLink, learnMoreTextKey }) => {\n  const theme = useTheme();\n\n  const handleOnOpenExternalLink = useCallback(\n    (url: string, trackEvent?: string, trackPayload?: Record<string, unknown>) => () => {\n      openURL(url);\n      if (trackEvent && trackPayload) {\n        track(trackEvent, trackPayload);\n      }\n    },\n    [],\n  );\n\n  const renderExploreIcon = () => <Icons.ExternalLink size=\"S\" />;\n\n  return (\n    <Wrapper id=\"error-NoSuchAppOnProvider\">\n      <TrackPage category={PAGE_NAME} />\n      <ErrorBody\n        top={\n          <CircleWrapper color={theme.colors.opacityDefault.c05} size={72}>\n            <Icons.DeleteCircleFill size=\"L\" color=\"error.c50\" />\n          </CircleWrapper>\n        }\n        title={\n          <Trans\n            i18nKey=\"errors.NoSuchAppOnProvider.title\"\n            values={{ productName, appName: (error as Error & { appName: string })?.appName }}\n          />\n        }\n        description={\n          <Trans i18nKey=\"errors.NoSuchAppOnProvider.description\" color=\"neutral.c100\">\n            <Text color=\"neutral.c100\" fontWeight=\"700\"></Text>\n          </Trans>\n        }\n      />\n\n      <CtaContainer>\n        <StyledLinkExploreButton\n          onClick={handleOnOpenExternalLink(urls.ledgerShop, \"button_clicked\", {\n            button: \"Explore more compatible devices\",\n            page: PAGE_NAME,\n          })}\n        >\n          <Trans i18nKey=\"errors.NoSuchAppOnProvider.exploreCTA\" />\n        </StyledLinkExploreButton>\n        {learnMoreLink && learnMoreTextKey && (\n          <StyledLinkLearnMoreButton\n            onClick={handleOnOpenExternalLink(learnMoreLink, \"button_clicked\", {\n              button: \"Learn more about LS\",\n              page: PAGE_NAME,\n            })}\n            Icon={renderExploreIcon}\n          >\n            <Trans i18nKey={learnMoreTextKey} />\n          </StyledLinkLearnMoreButton>\n        )}\n      </CtaContainer>\n    </Wrapper>\n  );\n};\n\nexport default NoSuchAppOnProviderErrorComponent;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/DeviceAction/UnsupportedFeatureErrorComponent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/DeviceAction/animations.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":434,"column":29,"nodeType":"TSAsExpression","messageId":"never","endLine":434,"endColumn":75}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/* eslint-disable @typescript-eslint/ban-ts-comment */\n/* eslint-disable camelcase */\nimport { DeviceModelId } from \"@ledgerhq/types-devices\";\nimport { Theme } from \"@ledgerhq/react-ui\";\n\nimport NANO_S_LIGHT_plugAndPinCode from \"~/renderer/animations/nanoS/1PlugAndPinCode/light.json\";\nimport NANO_S_DARK_plugAndPinCode from \"~/renderer/animations/nanoS/1PlugAndPinCode/dark.json\";\nimport NANO_S_LIGHT_enterPinCode from \"~/renderer/animations/nanoS/3EnterPinCode/light.json\";\nimport NANO_S_DARK_enterPinCode from \"~/renderer/animations/nanoS/3EnterPinCode/dark.json\";\nimport NANO_S_LIGHT_quitApp from \"~/renderer/animations/nanoS/4QuitApp/light.json\";\nimport NANO_S_DARK_quitApp from \"~/renderer/animations/nanoS/4QuitApp/dark.json\";\nimport NANO_S_LIGHT_openApp from \"~/renderer/animations/nanoS/6OpenApp/light.json\";\nimport NANO_S_DARK_openApp from \"~/renderer/animations/nanoS/6OpenApp/dark.json\";\nimport NANO_S_LIGHT_validate from \"~/renderer/animations/nanoS/7Validate/light.json\";\nimport NANO_S_DARK_validate from \"~/renderer/animations/nanoS/7Validate/dark.json\";\nimport NANO_S_LIGHT_firmwareUpdating from \"~/renderer/animations/nanoS/2FirmwareUpdating/light.json\";\nimport NANO_S_DARK_firmwareUpdating from \"~/renderer/animations/nanoS/2FirmwareUpdating/dark.json\";\nimport NANO_S_LIGHT_installLoading from \"~/renderer/animations/nanoS/8InstallLoading/light.json\";\nimport NANO_S_DARK_installLoading from \"~/renderer/animations/nanoS/8InstallLoading/dark.json\";\n\nimport NANO_X_LIGHT_recoverWithProtect from \"~/renderer/animations/nanoX/RecoverWithProtect/light.json\";\nimport NANO_X_DARK_recoverWithProtect from \"~/renderer/animations/nanoX/RecoverWithProtect/dark.json\";\n\nimport BLUE_LIGHT_plugAndPinCode from \"~/renderer/animations/blue/1PlugAndPinCode/data.json\";\nimport BLUE_LIGHT_enterPinCode from \"~/renderer/animations/blue/3EnterPinCode/data.json\";\nimport BLUE_LIGHT_quitApp from \"~/renderer/animations/blue/4QuitApp/data.json\";\nimport BLUE_LIGHT_allowManager from \"~/renderer/animations/blue/5AllowManager/data.json\";\nimport BLUE_LIGHT_openApp from \"~/renderer/animations/blue/6OpenApp/data.json\";\nimport BLUE_LIGHT_validate from \"~/renderer/animations/blue/7Validate/data.json\";\n\nimport STAX_USB_connection_success from \"~/renderer/animations/stax/USBConnectionSuccess.json\";\nimport STAX_confirmLockscreen from \"~/renderer/animations/stax/confirmLockscreen.json\";\n\n/* ⬆️ The imports above are old assets used somewhere and no new assets to replace them ⬆️ */\n\nimport NANOX_DARK_PIN from \"~/renderer/animations/nanoX/dark/pin.json\";\nimport NANOX_DARK_PAIRED from \"~/renderer/animations/nanoX/dark/paired.json\";\nimport NANOX_DARK_CONTINUE from \"~/renderer/animations/nanoX/dark/continue.json\";\nimport NANOX_LIGHT_PIN from \"~/renderer/animations/nanoX/light/pin.json\";\nimport NANOX_LIGHT_PAIRED from \"~/renderer/animations/nanoX/light/paired.json\";\nimport NANOX_LIGHT_CONTINUE from \"~/renderer/animations/nanoX/light/continue.json\";\n\nimport NANOSP_DARK_PIN from \"~/renderer/animations/nanoSP/dark/pin.json\";\nimport NANOSP_DARK_CONTINUE from \"~/renderer/animations/nanoSP/dark/continue.json\";\nimport NANOSP_LIGHT_PIN from \"~/renderer/animations/nanoSP/light/pin.json\";\nimport NANOSP_LIGHT_CONTINUE from \"~/renderer/animations/nanoSP/light/continue.json\";\n\n/* Lottie animations for devices with touchscreen */\nimport STAX_DARK_PIN from \"~/renderer/animations/stax/dark/pin.json\";\nimport STAX_DARK_CONTINUE from \"~/renderer/animations/stax/dark/continue.json\";\nimport STAX_LIGHT_PIN from \"~/renderer/animations/stax/light/pin.json\";\nimport STAX_LIGHT_CONTINUE from \"~/renderer/animations/stax/light/continue.json\";\n\nimport FLEX_DARK_PIN from \"~/renderer/animations/flex/dark/pin.json\";\nimport FLEX_DARK_CONTINUE from \"~/renderer/animations/flex/dark/continue.json\";\nimport FLEX_LIGHT_PIN from \"~/renderer/animations/flex/light/pin.json\";\nimport FLEX_LIGHT_CONTINUE from \"~/renderer/animations/flex/light/continue.json\";\n\nimport APEX_DARK_PIN from \"~/renderer/animations/apex/dark/pin.json\";\nimport APEX_DARK_CONTINUE from \"~/renderer/animations/apex/dark/continue.json\";\nimport APEX_LIGHT_PIN from \"~/renderer/animations/apex/light/pin.json\";\nimport APEX_LIGHT_CONTINUE from \"~/renderer/animations/apex/light/continue.json\";\n\nimport FLEX_LIGHT_ONBOARDING_SUCCESS from \"~/renderer/animations/flex/light/onboardingSuccess.json\";\nimport FLEX_DARK_ONBOARDING_SUCCESS from \"~/renderer/animations/flex/dark/onboardingSuccess.json\";\n\ntype ThemedAnimation = Record<Theme[\"theme\"], Record<string, unknown>>;\n\nexport type AnimationKey =\n  | \"plugAndPinCode\"\n  | \"enterPinCode\"\n  | \"quitApp\"\n  | \"allowManager\"\n  | \"openApp\"\n  | \"verify\"\n  | \"sign\"\n  | \"firmwareUpdating\"\n  | \"installLoading\"\n  | \"confirmLockscreen\"\n  | \"recoverWithProtect\"\n  | \"connectionSuccess\";\n\ntype DeviceAnimations<Key extends string = string> = { [key in Key]: ThemedAnimation };\n\nconst nanoS: DeviceAnimations = {\n  plugAndPinCode: {\n    light: NANO_S_LIGHT_plugAndPinCode,\n    dark: NANO_S_DARK_plugAndPinCode,\n  },\n  enterPinCode: {\n    light: NANO_S_LIGHT_enterPinCode,\n    dark: NANO_S_DARK_enterPinCode,\n  },\n  quitApp: {\n    light: NANO_S_LIGHT_quitApp,\n    dark: NANO_S_DARK_quitApp,\n  },\n  allowManager: {\n    light: NANO_S_LIGHT_validate,\n    dark: NANO_S_DARK_validate,\n  },\n  openApp: {\n    light: NANO_S_LIGHT_openApp,\n    dark: NANO_S_DARK_openApp,\n  },\n  verify: {\n    light: NANO_S_LIGHT_validate,\n    dark: NANO_S_DARK_validate,\n  },\n  sign: {\n    light: NANO_S_LIGHT_validate,\n    dark: NANO_S_DARK_validate,\n  },\n  firmwareUpdating: {\n    light: NANO_S_LIGHT_firmwareUpdating,\n    dark: NANO_S_DARK_firmwareUpdating,\n  },\n  installLoading: {\n    light: NANO_S_LIGHT_installLoading,\n    dark: NANO_S_DARK_installLoading,\n  },\n  confirmLockscreen: {\n    light: STAX_confirmLockscreen,\n    dark: STAX_confirmLockscreen,\n  },\n  recoverWithProtect: {\n    light: NANO_X_LIGHT_recoverWithProtect,\n    dark: NANO_X_DARK_recoverWithProtect,\n  },\n  connectionSuccess: {\n    light: STAX_USB_connection_success,\n    dark: STAX_USB_connection_success,\n  },\n};\n\nconst nanoX: DeviceAnimations = {\n  plugAndPinCode: {\n    light: NANOX_LIGHT_PIN,\n    dark: NANOX_DARK_PIN,\n  },\n  enterPinCode: {\n    light: NANOX_LIGHT_PIN,\n    dark: NANOX_DARK_PIN,\n  },\n  quitApp: {\n    light: NANOX_LIGHT_CONTINUE,\n    dark: NANOX_DARK_CONTINUE,\n  },\n  allowManager: {\n    light: NANOX_LIGHT_CONTINUE,\n    dark: NANOX_DARK_CONTINUE,\n  },\n  openApp: {\n    light: NANOX_LIGHT_CONTINUE,\n    dark: NANOX_DARK_CONTINUE,\n  },\n  verify: {\n    light: NANOX_LIGHT_CONTINUE,\n    dark: NANOX_DARK_CONTINUE,\n  },\n  sign: {\n    light: NANOX_LIGHT_CONTINUE,\n    dark: NANOX_DARK_CONTINUE,\n  },\n  firmwareUpdating: {\n    light: NANOX_LIGHT_PIN,\n    dark: NANOX_DARK_PIN,\n  },\n  installLoading: {\n    light: NANOX_LIGHT_CONTINUE,\n    dark: NANOX_DARK_CONTINUE,\n  },\n  recoverWithProtect: {\n    light: NANOX_LIGHT_PAIRED,\n    dark: NANOX_DARK_PAIRED,\n  },\n  connectionSuccess: {\n    light: NANOX_LIGHT_PAIRED,\n    dark: NANOX_DARK_PAIRED,\n  },\n};\n\nconst nanoSP: DeviceAnimations = {\n  plugAndPinCode: {\n    light: NANOSP_LIGHT_PIN,\n    dark: NANOSP_DARK_PIN,\n  },\n  enterPinCode: {\n    light: NANOSP_LIGHT_PIN,\n    dark: NANOSP_DARK_PIN,\n  },\n  quitApp: {\n    light: NANOSP_LIGHT_CONTINUE,\n    dark: NANOSP_DARK_CONTINUE,\n  },\n  allowManager: {\n    light: NANOSP_LIGHT_CONTINUE,\n    dark: NANOSP_DARK_CONTINUE,\n  },\n  openApp: {\n    light: NANOSP_LIGHT_CONTINUE,\n    dark: NANOSP_DARK_CONTINUE,\n  },\n  verify: {\n    light: NANOSP_LIGHT_CONTINUE,\n    dark: NANOSP_DARK_CONTINUE,\n  },\n  sign: {\n    light: NANOSP_LIGHT_CONTINUE,\n    dark: NANOSP_DARK_CONTINUE,\n  },\n  firmwareUpdating: {\n    light: NANOSP_LIGHT_PIN,\n    dark: NANOSP_DARK_PIN,\n  },\n  installLoading: {\n    light: NANOSP_LIGHT_CONTINUE,\n    dark: NANOSP_DARK_CONTINUE,\n  },\n  recoverWithProtect: {\n    light: NANOSP_LIGHT_CONTINUE,\n    dark: NANOSP_DARK_CONTINUE,\n  },\n  connectionSuccess: {\n    light: NANOSP_LIGHT_CONTINUE,\n    dark: NANOSP_DARK_CONTINUE,\n  },\n};\n\nconst blue: DeviceAnimations = {\n  plugAndPinCode: {\n    light: BLUE_LIGHT_plugAndPinCode,\n    dark: BLUE_LIGHT_plugAndPinCode,\n  },\n  enterPinCode: {\n    light: BLUE_LIGHT_enterPinCode,\n    dark: BLUE_LIGHT_enterPinCode,\n  },\n  quitApp: {\n    light: BLUE_LIGHT_quitApp,\n    dark: BLUE_LIGHT_quitApp,\n  },\n  allowManager: {\n    light: BLUE_LIGHT_allowManager,\n    dark: BLUE_LIGHT_allowManager,\n  },\n  openApp: {\n    light: BLUE_LIGHT_openApp,\n    dark: BLUE_LIGHT_openApp,\n  },\n  verify: {\n    light: BLUE_LIGHT_validate,\n    dark: BLUE_LIGHT_validate,\n  },\n  sign: {\n    light: BLUE_LIGHT_validate,\n    dark: BLUE_LIGHT_validate,\n  },\n  // Nb We are dropping the assets for blue soon, this is temp\n  firmwareUpdating: {\n    light: NANO_S_LIGHT_firmwareUpdating,\n    dark: NANO_S_DARK_firmwareUpdating,\n  },\n  installLoading: {\n    light: NANO_S_LIGHT_installLoading,\n    dark: NANO_S_DARK_installLoading,\n  },\n  confirmLockscreen: {\n    light: STAX_confirmLockscreen,\n    dark: STAX_confirmLockscreen,\n  },\n  recoverWithProtect: {\n    light: NANO_X_LIGHT_recoverWithProtect,\n    dark: NANO_X_DARK_recoverWithProtect,\n  },\n  connectionSuccess: {\n    light: STAX_USB_connection_success,\n    dark: STAX_USB_connection_success,\n  },\n};\n\nconst stax: DeviceAnimations = {\n  plugAndPinCode: {\n    light: STAX_LIGHT_PIN,\n    dark: STAX_DARK_PIN,\n  },\n  enterPinCode: {\n    light: STAX_LIGHT_PIN,\n    dark: STAX_DARK_PIN,\n  },\n  quitApp: {\n    light: STAX_LIGHT_CONTINUE,\n    dark: STAX_DARK_CONTINUE,\n  },\n  allowManager: {\n    light: STAX_LIGHT_CONTINUE,\n    dark: STAX_DARK_CONTINUE,\n  },\n  openApp: {\n    light: STAX_LIGHT_CONTINUE,\n    dark: STAX_DARK_CONTINUE,\n  },\n  verify: {\n    light: STAX_LIGHT_CONTINUE,\n    dark: STAX_DARK_CONTINUE,\n  },\n  sign: {\n    light: STAX_LIGHT_CONTINUE,\n    dark: STAX_DARK_CONTINUE,\n  },\n  firmwareUpdating: {\n    light: STAX_LIGHT_PIN,\n    dark: STAX_DARK_PIN,\n  },\n  installLoading: {\n    light: STAX_LIGHT_CONTINUE,\n    dark: STAX_DARK_CONTINUE,\n  },\n  recoverWithProtect: {\n    light: STAX_LIGHT_CONTINUE,\n    dark: STAX_DARK_CONTINUE,\n  },\n  connectionSuccess: {\n    light: STAX_LIGHT_CONTINUE,\n    dark: STAX_DARK_CONTINUE,\n  },\n};\n\nconst europa: DeviceAnimations = {\n  plugAndPinCode: {\n    light: FLEX_LIGHT_PIN,\n    dark: FLEX_DARK_PIN,\n  },\n  enterPinCode: {\n    light: FLEX_LIGHT_PIN,\n    dark: FLEX_DARK_PIN,\n  },\n  quitApp: {\n    light: FLEX_LIGHT_CONTINUE,\n    dark: FLEX_DARK_CONTINUE,\n  },\n  allowManager: {\n    light: FLEX_LIGHT_CONTINUE,\n    dark: FLEX_DARK_CONTINUE,\n  },\n  openApp: {\n    light: FLEX_LIGHT_CONTINUE,\n    dark: FLEX_DARK_CONTINUE,\n  },\n  verify: {\n    light: FLEX_LIGHT_CONTINUE,\n    dark: FLEX_DARK_CONTINUE,\n  },\n  sign: {\n    light: FLEX_LIGHT_CONTINUE,\n    dark: FLEX_DARK_CONTINUE,\n  },\n  firmwareUpdating: {\n    light: FLEX_LIGHT_PIN,\n    dark: FLEX_DARK_PIN,\n  },\n  installLoading: {\n    light: FLEX_LIGHT_CONTINUE,\n    dark: FLEX_DARK_CONTINUE,\n  },\n  recoverWithProtect: {\n    light: FLEX_LIGHT_CONTINUE,\n    dark: FLEX_DARK_CONTINUE,\n  },\n  connectionSuccess: {\n    light: FLEX_LIGHT_CONTINUE,\n    dark: FLEX_DARK_CONTINUE,\n  },\n  onboardingSuccess: {\n    light: FLEX_LIGHT_ONBOARDING_SUCCESS,\n    dark: FLEX_DARK_ONBOARDING_SUCCESS,\n  },\n};\n\nconst apex: DeviceAnimations = {\n  plugAndPinCode: {\n    light: APEX_LIGHT_PIN,\n    dark: APEX_DARK_PIN,\n  },\n  enterPinCode: {\n    light: APEX_LIGHT_PIN,\n    dark: APEX_DARK_PIN,\n  },\n  quitApp: {\n    light: APEX_LIGHT_CONTINUE,\n    dark: APEX_DARK_CONTINUE,\n  },\n  allowManager: {\n    light: APEX_LIGHT_CONTINUE,\n    dark: APEX_DARK_CONTINUE,\n  },\n  openApp: {\n    light: APEX_LIGHT_CONTINUE,\n    dark: APEX_DARK_CONTINUE,\n  },\n  verify: {\n    light: APEX_LIGHT_CONTINUE,\n    dark: APEX_DARK_CONTINUE,\n  },\n  sign: {\n    light: APEX_LIGHT_CONTINUE,\n    dark: APEX_DARK_CONTINUE,\n  },\n  firmwareUpdating: {\n    light: APEX_LIGHT_PIN,\n    dark: APEX_DARK_PIN,\n  },\n  installLoading: {\n    light: APEX_LIGHT_CONTINUE,\n    dark: APEX_DARK_CONTINUE,\n  },\n  recoverWithProtect: {\n    light: APEX_LIGHT_CONTINUE,\n    dark: APEX_DARK_CONTINUE,\n  },\n  connectionSuccess: {\n    light: APEX_LIGHT_CONTINUE,\n    dark: APEX_DARK_CONTINUE,\n  },\n};\n\nconst animations = { nanoX, nanoS, nanoSP, blue, stax, europa, apex };\n\nexport const getDeviceAnimation = (\n  deviceModelId: DeviceModelId,\n  theme: Theme[\"theme\"],\n  key: AnimationKey | \"onboardingSuccess\",\n) => {\n  const animationModelId = (process.env.OVERRIDE_MODEL_ID as DeviceModelId) || deviceModelId;\n  // Handles the case where OVERRIDE_MODEL_ID is incorrect\n  const animationModel = animations[animationModelId] || animations.nanoX;\n  const animationKey: ThemedAnimation | null = animationModel[key] ?? null;\n  if (!animationKey) {\n    return null;\n  }\n  return animationKey[theme];\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/DeviceAction/index.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":453,"column":30,"nodeType":"TSAsExpression","messageId":"never","endLine":453,"endColumn":65},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":465,"column":13,"nodeType":"TSAsExpression","messageId":"never","endLine":471,"endColumn":10},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":478,"column":25,"nodeType":"TSAsExpression","messageId":"never","endLine":481,"endColumn":28},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":505,"column":53,"nodeType":"TSAsExpression","messageId":"never","endLine":509,"endColumn":6},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":528,"column":31,"nodeType":"TSAsExpression","messageId":"never","endLine":528,"endColumn":74},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":553,"column":15,"nodeType":"TSAsExpression","messageId":"never","endLine":553,"endColumn":31},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":562,"column":26,"nodeType":"TSAsExpression","messageId":"never","endLine":562,"endColumn":61},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":587,"column":57,"nodeType":"TSAsExpression","messageId":"never","endLine":587,"endColumn":87},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":592,"column":10,"nodeType":"TSAsExpression","messageId":"never","endLine":592,"endColumn":24},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":608,"column":8,"nodeType":"TSAsExpression","messageId":"never","endLine":608,"endColumn":24},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":609,"column":8,"nodeType":"TSAsExpression","messageId":"never","endLine":609,"endColumn":24},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":610,"column":8,"nodeType":"TSAsExpression","messageId":"never","endLine":610,"endColumn":24},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":611,"column":8,"nodeType":"TSAsExpression","messageId":"never","endLine":611,"endColumn":24},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":612,"column":8,"nodeType":"TSAsExpression","messageId":"never","endLine":612,"endColumn":24},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":613,"column":8,"nodeType":"TSAsExpression","messageId":"never","endLine":613,"endColumn":24},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":619,"column":10,"nodeType":"TSAsExpression","messageId":"never","endLine":619,"endColumn":26},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":659,"column":61,"nodeType":"TSAsExpression","messageId":"never","endLine":664,"endColumn":6},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":659,"column":61,"nodeType":"TSAsExpression","messageId":"never","endLine":659,"endColumn":79},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":693,"column":40,"nodeType":"TSAsExpression","messageId":"never","endLine":696,"endColumn":6},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":693,"column":40,"nodeType":"TSAsExpression","messageId":"never","endLine":693,"endColumn":58}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":20,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { Component, useEffect } from \"react\";\nimport BigNumber from \"bignumber.js\";\nimport { Trans, useTranslation } from \"react-i18next\";\nimport { useDispatch, useSelector } from \"LLD/hooks/redux\";\nimport { Action } from \"@ledgerhq/live-common/hw/actions/types\";\nimport {\n  EConnResetError,\n  ImageDoesNotExistOnDevice,\n  LanguageInstallRefusedOnDevice,\n  NoSuchAppOnProvider,\n  OutdatedApp,\n} from \"@ledgerhq/live-common/errors\";\nimport { LatestFirmwareVersionRequired } from \"@ledgerhq/errors\";\nimport { getCurrentDevice } from \"~/renderer/reducers/devices\";\nimport {\n  addNewDeviceModel,\n  setLastSeenDeviceInfo,\n  setPreferredDeviceModel,\n} from \"~/renderer/actions/settings\";\nimport {\n  preferredDeviceModelSelector,\n  settingsStoreSelector as settingsSelector,\n  trackingEnabledSelector,\n} from \"~/renderer/reducers/settings\";\nimport { DeviceModelId } from \"@ledgerhq/devices\";\nimport AutoRepair from \"~/renderer/components/AutoRepair\";\nimport TransactionConfirm from \"~/renderer/components/TransactionConfirm\";\nimport TransactionRawConfirm from \"~/renderer/components/TransactionRawConfirm\";\nimport SignMessageConfirm from \"~/renderer/components/SignMessageConfirm\";\nimport useTheme from \"~/renderer/hooks/useTheme\";\nimport {\n  ManagerNotEnoughSpaceError,\n  TransportRaceCondition,\n  UnresponsiveDeviceError,\n  UpdateYourApp,\n  UserRefusedAddress,\n  UserRefusedAllowManager,\n  UserRefusedDeviceNameChange,\n  UserRefusedFirmwareUpdate,\n  UserRefusedOnDevice,\n} from \"@ledgerhq/errors\";\nimport {\n  DeviceNotOnboardedErrorComponent,\n  InstallingApp,\n  renderAllowLanguageInstallation,\n  renderAllowManager,\n  renderAllowOpeningApp,\n  renderAllowRemoveCustomLockscreen,\n  renderBootloaderStep,\n  renderConnectYourDevice,\n  renderError,\n  renderInstallingLanguage,\n  renderInWrongAppForAccount,\n  renderListingApps,\n  renderLoading,\n  renderLockedDeviceError,\n  renderRequestQuitApp,\n  renderRequiresAppInstallation,\n  renderSecureTransferDeviceConfirmation,\n  renderSwapDeviceConfirmation,\n  renderWarningOutdated,\n} from \"./rendering\";\nimport { useGetSwapTrackingProperties } from \"~/renderer/screens/exchange/Swap2/utils\";\nimport {\n  Account,\n  AccountLike,\n  AnyMessage,\n  DeviceInfo,\n  DeviceModelInfo,\n} from \"@ledgerhq/types-live\";\nimport {\n  ExchangeRate,\n  ExchangeSwap,\n  InitSwapResult,\n} from \"@ledgerhq/live-common/exchange/swap/types\";\nimport { Transaction, TransactionStatus } from \"@ledgerhq/live-common/generated/types\";\nimport { AppAndVersion } from \"@ledgerhq/live-common/hw/connectApp\";\nimport { Device } from \"@ledgerhq/types-devices\";\nimport { LedgerErrorConstructor } from \"@ledgerhq/errors/lib/helpers\";\nimport { TokenCurrency } from \"@ledgerhq/types-cryptoassets\";\nimport { getNoSuchAppProviderLearnMoreMetadataPerApp, isDeviceNotOnboardedError } from \"./utils\";\nimport { useKeepScreenAwake } from \"~/renderer/hooks/useKeepScreenAwake\";\nimport { walletSelector } from \"~/renderer/reducers/wallet\";\nimport { useTrackManagerSectionEvents } from \"~/renderer/analytics/hooks/useTrackManagerSectionEvents\";\nimport { useTrackReceiveFlow } from \"~/renderer/analytics/hooks/useTrackReceiveFlow\";\nimport { useTrackAddAccountModal } from \"~/renderer/analytics/hooks/useTrackAddAccountModal\";\nimport { useTrackExchangeFlow } from \"~/renderer/analytics/hooks/useTrackExchangeFlow\";\nimport { useTrackSendFlow } from \"~/renderer/analytics/hooks/useTrackSendFlow\";\nimport { HOOKS_TRACKING_LOCATIONS } from \"~/renderer/analytics/hooks/variables\";\nimport { useTrackSyncFlow } from \"~/renderer/analytics/hooks/useTrackSyncFlow\";\nimport { useTrackGenericDAppTransactionSend } from \"~/renderer/analytics/hooks/useTrackGenericDAppTransactionSend\";\nimport { useTrackTransactionChecksFlow } from \"~/renderer/analytics/hooks/useTrackTransactionChecksFlow\";\nimport { useTrackDmkErrorsEvents } from \"~/renderer/analytics/hooks/useTrackDmkErrorsEvents\";\nimport { identitiesSlice } from \"@ledgerhq/client-ids/store\";\nimport { DeviceId } from \"@ledgerhq/client-ids/ids\";\n\nexport type LedgerError = InstanceType<LedgerErrorConstructor<{ [key: string]: unknown }>>;\n\ntype PartialNullable<T> = {\n  [P in keyof T]?: T[P] | null;\n};\n\ntype States = PartialNullable<{\n  appAndVersion: AppAndVersion;\n  device: Device;\n  unresponsive: boolean;\n  isLocked: boolean;\n  error: LedgerError & {\n    name?: string;\n    managerAppName?: string;\n  };\n  isLoading: boolean;\n  allowManagerRequested: boolean;\n  allowRenamingRequested: boolean;\n  requestQuitApp: boolean;\n  deviceInfo: DeviceInfo;\n  deviceId: DeviceId | null | undefined;\n  latestFirmware: unknown;\n  onRepairModal: (open: boolean) => void;\n  requestOpenApp: string;\n  allowOpeningRequestedWording: string;\n  requiresAppInstallation: {\n    appName: string;\n    appNames: string[];\n  };\n  inWrongDeviceForAccount: {\n    accountName: string;\n  };\n  onRetry: () => void;\n  repairModalOpened: {\n    auto: boolean;\n  };\n  onAutoRepair: () => void;\n  closeRepairModal: () => void;\n  deviceSignatureRequested: boolean;\n  deviceStreamingProgress: number;\n  displayUpgradeWarning: boolean;\n  passWarning: () => void;\n  initSwapRequested: boolean;\n  initSwapError: Error;\n  initSwapResult: InitSwapResult | null;\n  installingLanguage: boolean;\n  languageInstallationRequested: boolean;\n  signMessageRequested: AnyMessage;\n  allowOpeningGranted: boolean;\n  completeExchangeStarted: boolean;\n  completeExchangeResult: Transaction;\n  completeExchangeError: Error;\n  imageRemoveRequested: boolean;\n  imageRemoved: boolean;\n  installingApp: boolean;\n  progress: number;\n  listingApps: boolean;\n  amountExpectedTo: string;\n  estimatedFees: string;\n  imageLoadRequested: boolean;\n  loadingImage: boolean;\n  imageLoaded: boolean;\n  imageCommitRequested: boolean;\n  manifestName: string;\n  manifestId: string;\n  transactionChecksOptInTriggered: boolean;\n  transactionChecksOptIn: boolean;\n}>;\n\ntype InnerProps<P> = {\n  Result?: React.ComponentType<P>;\n  onResult?: (_: NonNullable<P>) => void;\n  onError?: (_: Error) => Promise<void> | void;\n  renderOnResult?: (_: P) => React.JSX.Element | null;\n  onSelectDeviceLink?: () => void;\n  analyticsPropertyFlow?: string;\n  overridesPreferredDeviceModel?: DeviceModelId;\n  inlineRetry?: boolean; // Set to false if the retry mechanism is handled externally.\n  location?: HOOKS_TRACKING_LOCATIONS;\n};\n\ntype Props<H extends States, P> = InnerProps<P> & {\n  status: H;\n  payload?: P | null;\n};\n\nclass OnResult<P> extends Component<{ payload: P; onResult: (_: P) => void }> {\n  componentDidMount() {\n    const { onResult, payload } = this.props;\n    onResult?.(payload);\n  }\n\n  render() {\n    return null;\n  }\n}\n\nexport const DeviceActionDefaultRendering = <R, H extends States, P>({\n  status: hookState,\n  payload,\n  request,\n  Result,\n  onResult,\n  onError,\n  overridesPreferredDeviceModel,\n  inlineRetry = true,\n  analyticsPropertyFlow,\n  location,\n}: Props<H, P> & {\n  request?: R;\n}) => {\n  const {\n    appAndVersion,\n    device,\n    unresponsive,\n    isLocked,\n    error,\n    isLoading,\n    allowManagerRequested,\n    allowRenamingRequested,\n    imageRemoveRequested,\n    requestQuitApp,\n    deviceInfo,\n    deviceId,\n    latestFirmware,\n    repairModalOpened,\n    requestOpenApp,\n    allowOpeningRequestedWording,\n    installingApp,\n    progress,\n    listingApps,\n    requiresAppInstallation,\n    languageInstallationRequested,\n    installingLanguage,\n    inWrongDeviceForAccount,\n    onRetry,\n    onAutoRepair,\n    closeRepairModal,\n    onRepairModal,\n    deviceSignatureRequested,\n    deviceStreamingProgress,\n    transactionChecksOptInTriggered,\n    transactionChecksOptIn,\n    displayUpgradeWarning,\n    passWarning,\n    initSwapRequested,\n    initSwapError,\n    initSwapResult,\n    completeExchangeStarted,\n    completeExchangeResult,\n    completeExchangeError,\n    allowOpeningGranted,\n    signMessageRequested,\n    manifestId,\n    manifestName,\n  } = hookState;\n\n  const dispatch = useDispatch();\n  const preferredDeviceModel = useSelector(preferredDeviceModelSelector);\n  const swapDefaultTrack = useGetSwapTrackingProperties();\n  const stateSettings = useSelector(settingsSelector);\n  const walletState = useSelector(walletSelector);\n  const isTrackingEnabled = useSelector(trackingEnabledSelector);\n\n  useTrackManagerSectionEvents({\n    location: location === HOOKS_TRACKING_LOCATIONS.managerDashboard ? location : undefined,\n    device,\n    allowManagerRequested: hookState.allowManagerRequested,\n    clsImageRemoved: hookState.imageRemoved,\n    error,\n    isTrackingEnabled,\n  });\n\n  useTrackReceiveFlow({\n    location: location === HOOKS_TRACKING_LOCATIONS.receiveModal ? location : undefined,\n    device,\n    error,\n    inWrongDeviceForAccount,\n    isLocked,\n    isTrackingEnabled,\n  });\n\n  useTrackAddAccountModal({\n    location: location === HOOKS_TRACKING_LOCATIONS.addAccountModal ? location : undefined,\n    device,\n    error,\n    isTrackingEnabled,\n    requestOpenApp,\n    userMustConnectDevice: !isLoading && !device,\n    isLocked,\n  });\n\n  useTrackExchangeFlow({\n    location: location === HOOKS_TRACKING_LOCATIONS.exchange ? location : undefined,\n    device,\n    error,\n    isTrackingEnabled,\n    isLocked,\n    inWrongDeviceForAccount,\n    isRequestOpenAppExchange: requestOpenApp === \"Exchange\",\n  });\n\n  useTrackSyncFlow({\n    location: location === HOOKS_TRACKING_LOCATIONS.ledgerSync ? location : undefined,\n    device,\n    error,\n    allowManagerRequested: hookState.allowManagerRequested,\n    requestOpenApp,\n    isLedgerSyncAppOpen: appAndVersion?.name === \"Ledger Sync\",\n    isLocked,\n    isTrackingEnabled,\n    inWrongDeviceForAccount,\n  });\n\n  useTrackSendFlow({\n    location: location === HOOKS_TRACKING_LOCATIONS.sendModal ? location : undefined,\n    device,\n    error,\n    inWrongDeviceForAccount,\n    isLocked,\n    isTrackingEnabled,\n  });\n\n  useTrackGenericDAppTransactionSend({\n    location:\n      location === HOOKS_TRACKING_LOCATIONS.genericDAppTransactionSend ? location : undefined,\n    device,\n    error,\n    allowManagerRequested: hookState.allowManagerRequested,\n    requestOpenApp,\n    openedAppName: appAndVersion?.name,\n    isLocked,\n    inWrongDeviceForAccount,\n    isTrackingEnabled,\n  });\n\n  useTrackTransactionChecksFlow({\n    location,\n    device,\n    deviceInfo,\n    appAndVersion,\n    transactionChecksOptInTriggered,\n    transactionChecksOptIn,\n    isTrackingEnabled,\n  });\n\n  useTrackDmkErrorsEvents({ error });\n\n  const type = useTheme().theme;\n\n  const modelId = device ? device.modelId : overridesPreferredDeviceModel || preferredDeviceModel;\n\n  useEffect(() => {\n    if (modelId !== preferredDeviceModel) {\n      dispatch(setPreferredDeviceModel(modelId));\n    }\n  }, [dispatch, modelId, preferredDeviceModel]);\n\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    if (error && onError) {\n      onError(error);\n    }\n  }, [error, onError]);\n\n  useEffect(() => {\n    if (deviceInfo && device) {\n      const lastSeenDevice: DeviceModelInfo = {\n        modelId: device.modelId,\n        deviceInfo,\n        apps: [],\n      };\n      dispatch(setLastSeenDeviceInfo({ lastSeenDevice, latestFirmware }));\n      dispatch(addNewDeviceModel({ deviceModelId: lastSeenDevice.modelId }));\n    }\n  }, [dispatch, device, deviceInfo, latestFirmware]);\n\n  // Add deviceId to identities store when detected\n  useEffect(() => {\n    if (deviceId) {\n      dispatch(identitiesSlice.actions.addDeviceId(deviceId));\n    }\n  }, [dispatch, deviceId]);\n\n  if (displayUpgradeWarning && appAndVersion && passWarning) {\n    return renderWarningOutdated({ appName: appAndVersion.name, passWarning });\n  }\n\n  if (repairModalOpened && repairModalOpened.auto && closeRepairModal) {\n    return <AutoRepair onDone={closeRepairModal} />;\n  }\n\n  if (requestQuitApp) {\n    return renderRequestQuitApp({ modelId, type });\n  }\n\n  if (installingApp && requestOpenApp && request) {\n    const appName = requestOpenApp;\n    return (\n      <InstallingApp\n        type={type}\n        modelId={modelId}\n        appName={appName}\n        progress={progress ?? 0}\n        request={request}\n        analyticsPropertyFlow={analyticsPropertyFlow}\n      />\n    );\n  }\n\n  if (installingLanguage) {\n    return renderInstallingLanguage({ progress: progress ?? 0, t });\n  }\n\n  if (requiresAppInstallation) {\n    const { appName, appNames: maybeAppNames } = requiresAppInstallation;\n    const appNames = maybeAppNames?.length ? maybeAppNames : [appName];\n\n    return renderRequiresAppInstallation({ appNames });\n  }\n\n  if (allowRenamingRequested) {\n    return renderAllowManager({ modelId, type, requestType: \"rename\" });\n  }\n\n  if (allowManagerRequested) {\n    return renderAllowManager({ modelId, type });\n  }\n\n  if (languageInstallationRequested) {\n    return renderAllowLanguageInstallation({ modelId, type, t });\n  }\n  if (imageRemoveRequested) {\n    const refused = error instanceof UserRefusedOnDevice;\n    const noImage = error instanceof ImageDoesNotExistOnDevice;\n    if (error) {\n      if (refused || noImage) {\n        return renderError({\n          t,\n          inlineRetry,\n          error,\n          onRetry: refused ? onRetry : undefined,\n          info: true,\n        });\n      }\n    } else {\n      return renderAllowRemoveCustomLockscreen({ modelId, type });\n    }\n  }\n\n  if (listingApps) {\n    return renderListingApps();\n  }\n\n  if (completeExchangeStarted && !completeExchangeResult && !completeExchangeError && !isLoading) {\n    const { exchangeType } = request as { exchangeType: number };\n\n    // FIXME: could use a TS enum (when LLD will be in TS) or a JS object instead of raw numbers for switch values for clarity\n    switch (exchangeType) {\n      // swap\n      case 0x00: {\n        const {\n          transaction,\n          exchange,\n          provider,\n          rate = 1,\n          amountExpectedTo = 0,\n        } = request as {\n          transaction: Transaction;\n          exchange: ExchangeSwap;\n          provider: string;\n          rate: number;\n          amountExpectedTo: number;\n        };\n        const { estimatedFees } = hookState;\n\n        return renderSwapDeviceConfirmation({\n          modelId: device.modelId,\n          type,\n          transaction,\n          exchangeRate: {\n            provider,\n            rate: new BigNumber(rate),\n          } as ExchangeRate,\n          exchange,\n          swapDefaultTrack,\n          amountExpectedTo: amountExpectedTo.toString() ?? undefined,\n          estimatedFees: estimatedFees?.toString() ?? undefined,\n          stateSettings,\n          walletState,\n        });\n      }\n\n      case 0x01: // sell\n      case 0x02: // fund\n        return renderSecureTransferDeviceConfirmation({\n          exchangeType: exchangeType === 0x01 ? \"sell\" : \"fund\",\n          modelId,\n          type,\n        });\n\n      default:\n        return <div>{\"Confirm exchange on your device\"}</div>;\n    }\n  }\n\n  if (initSwapRequested && !initSwapResult && !initSwapError) {\n    const { transaction, exchange, exchangeRate } = request as {\n      transaction: Transaction;\n      exchange: ExchangeSwap;\n      exchangeRate: ExchangeRate;\n    };\n    const { amountExpectedTo, estimatedFees } = hookState;\n    return renderSwapDeviceConfirmation({\n      modelId,\n      type,\n      transaction,\n      exchangeRate,\n      exchange,\n      amountExpectedTo: amountExpectedTo ?? undefined,\n      estimatedFees: estimatedFees ?? undefined,\n      swapDefaultTrack,\n      stateSettings,\n      walletState,\n    });\n  }\n\n  if (allowOpeningRequestedWording || requestOpenApp) {\n    // requestOpenApp for Nano S 1.3.1 (need to ask user to open the app.)\n    const wording = allowOpeningRequestedWording || requestOpenApp || \"\";\n    const { tokenCurrency } = request as { tokenCurrency: TokenCurrency };\n    const tokenContext = tokenCurrency;\n    return renderAllowOpeningApp({\n      modelId,\n      type,\n      wording,\n      tokenContext,\n      isDeviceBlocker: !requestOpenApp,\n    });\n  }\n\n  if (inWrongDeviceForAccount) {\n    return renderInWrongAppForAccount({ t, onRetry });\n  }\n\n  if (unresponsive || error instanceof TransportRaceCondition) {\n    return renderError({\n      t,\n      error: new UnresponsiveDeviceError(),\n      onRetry,\n      withExportLogs: false,\n    });\n  }\n\n  if (!isLoading && error) {\n    const e = error as unknown;\n    if (\n      e instanceof ManagerNotEnoughSpaceError ||\n      e instanceof OutdatedApp ||\n      e instanceof UpdateYourApp\n    ) {\n      return renderError({\n        t,\n        error,\n        managerAppName: (error as { managerAppName: string }).managerAppName,\n      });\n    }\n\n    if (e instanceof LatestFirmwareVersionRequired) {\n      return renderError({\n        t,\n        error,\n        requireFirmwareUpdate: true,\n      });\n    }\n\n    // NB Until we find a better way, remap the error if it's 6d06 (LNS, LNSP, LNX) or 6d07 (Stax) and we haven't fallen\n    // into another handled case.\n    if (isDeviceNotOnboardedError(e)) {\n      return <DeviceNotOnboardedErrorComponent t={t} device={device} />;\n    }\n\n    if (e instanceof NoSuchAppOnProvider) {\n      return renderError({\n        t,\n        error,\n        withOpenManager: true,\n        withExportLogs: true,\n        ...(device && { device }),\n        ...getNoSuchAppProviderLearnMoreMetadataPerApp((request as { appName: string })?.appName),\n      });\n    }\n\n    // workaround to catch ECONNRESET error and show better message\n    if ((error as Error)?.message?.includes(\"ECONNRESET\")) {\n      return renderError({\n        t,\n        error: new EConnResetError(),\n        onRetry,\n        withExportLogs: true,\n      });\n    }\n\n    let withExportLogs = true;\n    let warning = false;\n    let withDescription = true;\n    // User rejections, should be rendered as warnings and not export logs.\n    // All the error rendering needs to be unified, the same way we do for ErrorIcon\n    // not handled here.\n    if (\n      (error as unknown) instanceof UserRefusedFirmwareUpdate ||\n      (error as unknown) instanceof UserRefusedAllowManager ||\n      (error as unknown) instanceof UserRefusedOnDevice ||\n      (error as unknown) instanceof UserRefusedAddress ||\n      (error as unknown) instanceof UserRefusedDeviceNameChange ||\n      (error as unknown) instanceof LanguageInstallRefusedOnDevice\n    ) {\n      withExportLogs = false;\n      warning = true;\n    }\n\n    if ((error as unknown) instanceof UserRefusedDeviceNameChange) {\n      withDescription = false;\n    }\n\n    return renderError({\n      t,\n      error,\n      warning,\n      onRetry,\n      withExportLogs,\n      device: device ?? undefined,\n      inlineRetry,\n      withDescription,\n    });\n  }\n\n  // Renders an error as long as LLD is using the \"event\" implementation of device actions\n  if (isLocked) {\n    return renderLockedDeviceError({ t, device, onRetry, inlineRetry });\n  }\n\n  if (!isLoading && !device) {\n    return renderConnectYourDevice({\n      modelId,\n      type,\n      unresponsive,\n      device,\n      onRepairModal,\n    });\n  }\n\n  if (isLoading || (allowOpeningGranted && !appAndVersion)) {\n    return renderLoading();\n  }\n\n  if (deviceInfo?.isBootloader && onAutoRepair) {\n    return renderBootloaderStep({ onAutoRepair });\n  }\n\n  if (request && device && deviceSignatureRequested) {\n    const { account, parentAccount, status, transaction } = request as unknown as {\n      account: AccountLike;\n      parentAccount: Account | null;\n      status: TransactionStatus;\n      transaction: Transaction;\n    };\n    if (account && status && transaction) {\n      return (\n        <TransactionConfirm\n          device={device}\n          account={account}\n          parentAccount={parentAccount}\n          transaction={transaction}\n          status={status}\n          manifestId={manifestId}\n          manifestName={manifestName}\n        />\n      );\n    } else if (account && typeof transaction === \"string\") {\n      // sign raw transaction case\n      return (\n        <TransactionRawConfirm\n          device={device}\n          account={account}\n          parentAccount={parentAccount}\n          transaction={transaction}\n          manifestId={manifestId}\n          manifestName={manifestName}\n        />\n      );\n    }\n  }\n\n  if (request && signMessageRequested) {\n    const { account, parentAccount } = request as unknown as {\n      account: AccountLike;\n      parentAccount: Account | null;\n    };\n    return (\n      <SignMessageConfirm\n        device={device}\n        account={account}\n        parentAccount={parentAccount}\n        signMessageRequested={signMessageRequested}\n      />\n    );\n  }\n\n  if (typeof deviceStreamingProgress === \"number\") {\n    return renderLoading({\n      children:\n        deviceStreamingProgress > 0 ? (\n          // with streaming event, we have accurate version of the wording\n          <Trans\n            i18nKey=\"send.steps.verification.streaming.accurate\"\n            values={{ percentage: (deviceStreamingProgress * 100).toFixed(0) + \"%\" }}\n          />\n        ) : (\n          // otherwise, we're not accurate (usually because we don't need to, it's fast case)\n\n          <Trans i18nKey=\"send.steps.verification.streaming.inaccurate\" />\n        ),\n    });\n  }\n\n  if (!payload) {\n    return null;\n  }\n\n  return (\n    <>\n      {Result ? <Result {...payload} /> : null}\n      {onResult ? <OnResult onResult={onResult} payload={payload} /> : null}\n    </>\n  );\n};\n\n/**\n * Perform an action involving a device.\n * @prop action: one of the actions/*\n * @prop request: an object that is the input of that action\n * @prop Result optional: an action produces a result, this gives a component to render it\n * @prop onResult optional: an action produces a result, this gives a callback to be called with it\n * @prop location optional: an action might need to know the location for analytics\n */\n\nexport default function DeviceAction<R, H extends States, P>({\n  action,\n  request,\n  location,\n  ...props\n}: InnerProps<P> & {\n  action: Action<R, H, P>;\n  request: R;\n}): React.JSX.Element {\n  const device = useSelector(getCurrentDevice);\n  const hookState = action.useHook(device, request);\n  const payload = action.mapResult(hookState);\n  useKeepScreenAwake(true);\n\n  return (\n    <DeviceActionDefaultRendering\n      status={hookState}\n      request={request}\n      payload={payload}\n      location={location}\n      {...props}\n    />\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/DeviceAction/rendering.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":852,"column":37,"nodeType":"TSAsExpression","messageId":"never","endLine":852,"endColumn":69},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":880,"column":40,"nodeType":"TSAsExpression","messageId":"never","endLine":880,"endColumn":68},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":880,"column":40,"nodeType":"TSAsExpression","messageId":"never","endLine":880,"endColumn":59},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":885,"column":22,"nodeType":"TSAsExpression","messageId":"never","endLine":885,"endColumn":50},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":885,"column":22,"nodeType":"TSAsExpression","messageId":"never","endLine":885,"endColumn":41},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":893,"column":39,"nodeType":"TSAsExpression","messageId":"never","endLine":893,"endColumn":67},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":893,"column":39,"nodeType":"TSAsExpression","messageId":"never","endLine":893,"endColumn":58}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-deprecated","severity":2,"message":"`ErrorTitle` is deprecated. use ErrorBody or its exported\nErrorTitle instead (up to date v3 design)","line":418,"column":8,"nodeType":"JSXIdentifier","messageId":"deprecatedWithReason","endLine":418,"endColumn":18,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-deprecated","severity":2,"message":"`ErrorDescription` is deprecated. use ErrorBody or its exported\nErrorTitle instead (up to date v3 design)","line":421,"column":8,"nodeType":"JSXIdentifier","messageId":"deprecatedWithReason","endLine":421,"endColumn":24,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-deprecated","severity":2,"message":"`ErrorTitle` is deprecated. use ErrorBody or its exported\nErrorTitle instead (up to date v3 design)","line":649,"column":6,"nodeType":"JSXIdentifier","messageId":"deprecatedWithReason","endLine":649,"endColumn":16,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-deprecated","severity":2,"message":"`ErrorDescription` is deprecated. use ErrorBody or its exported\nErrorTitle instead (up to date v3 design)","line":652,"column":6,"nodeType":"JSXIdentifier","messageId":"deprecatedWithReason","endLine":652,"endColumn":22,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/* eslint-disable @typescript-eslint/no-deprecated */\nimport React, { Fragment, useCallback, useContext, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { useDispatch } from \"LLD/hooks/redux\";\nimport { Trans, useTranslation } from \"react-i18next\";\nimport { TFunction } from \"i18next\";\nimport styled from \"styled-components\";\nimport { BigNumber } from \"bignumber.js\";\n\nimport { CryptoCurrency, TokenCurrency } from \"@ledgerhq/types-cryptoassets\";\nimport { Account } from \"@ledgerhq/types-live\";\nimport { ABTestingVariants } from \"@ledgerhq/types-live\";\nimport { DeviceModelId, getDeviceModel } from \"@ledgerhq/devices\";\nimport {\n  Button as ButtonV3,\n  Flex,\n  IconsLegacy,\n  InfiniteLoader,\n  ProgressLoader,\n  Text,\n  Theme,\n} from \"@ledgerhq/react-ui\";\nimport {\n  FirmwareNotRecognized,\n  LockedDeviceError,\n  UpdateYourApp,\n  LatestFirmwareVersionRequired,\n  WrongDeviceForAccount,\n  DisconnectedDevice,\n  UnsupportedFeatureError,\n} from \"@ledgerhq/errors\";\nimport { Transaction } from \"@ledgerhq/live-common/generated/types\";\nimport { ExchangeRate, ExchangeSwap } from \"@ledgerhq/live-common/exchange/swap/types\";\nimport { getNoticeType, getProviderName } from \"@ledgerhq/live-common/exchange/swap/utils/index\";\nimport { CompleteExchangeError } from \"@ledgerhq/live-common/exchange/error\";\nimport { useFeature } from \"@ledgerhq/live-common/featureFlags/index\";\nimport {\n  DeviceNotOnboarded,\n  NoSuchAppOnProvider,\n  TransactionRefusedOnDevice,\n} from \"@ledgerhq/live-common/errors\";\nimport { Device } from \"@ledgerhq/live-common/hw/actions/types\";\nimport { getMainAccount } from \"@ledgerhq/live-common/account/index\";\nimport { isSyncOnboardingSupported } from \"@ledgerhq/live-common/device/use-cases/screenSpecs\";\nimport { isDmkError } from \"@ledgerhq/live-common/deviceSDK/tasks/core\";\nimport { accountNameSelector, WalletState } from \"@ledgerhq/live-wallet/store\";\nimport { DmkError, isInvalidGetFirmwareMetadataResponseError } from \"@ledgerhq/live-dmk-desktop\";\nimport { isDisconnectedWhileSendingApduError } from \"@ledgerhq/live-dmk-desktop\";\n\nimport { urls } from \"~/config/urls\";\nimport { closeAllModal } from \"~/renderer/actions/modals\";\nimport { closePlatformAppDrawer } from \"~/renderer/actions/UI\";\nimport { track } from \"~/renderer/analytics/segment\";\nimport TrackPage, { setTrackingSource } from \"~/renderer/analytics/TrackPage\";\nimport Animation from \"~/renderer/animations\";\nimport Button, { Base as ButtonBase } from \"~/renderer/components/Button\";\nimport TranslatedError from \"~/renderer/components/TranslatedError\";\nimport Box from \"~/renderer/components/Box\";\nimport Alert from \"~/renderer/components/Alert\";\nimport ConnectTroubleshooting from \"~/renderer/components/ConnectTroubleshooting\";\nimport ExportLogsButton from \"~/renderer/components/ExportLogsButton\";\nimport ErrorIcon from \"~/renderer/components/ErrorIcon\";\nimport CurrencyUnitValue from \"~/renderer/components/CurrencyUnitValue\";\nimport { Rotating } from \"~/renderer/components/Spinner\";\nimport ProgressCircle from \"~/renderer/components/ProgressCircle\";\nimport CryptoCurrencyIcon from \"~/renderer/components/CryptoCurrencyIcon\";\nimport DeviceIllustration from \"~/renderer/components/DeviceIllustration\";\nimport Image from \"~/renderer/components/Image\";\nimport ProviderIcon from \"~/renderer/components/ProviderIcon\";\nimport ExternalLinkButton from \"../ExternalLinkButton\";\nimport { ErrorBody } from \"../ErrorBody\";\nimport LinkWithExternalIcon from \"../LinkWithExternalIcon\";\nimport { context, setDrawer } from \"~/renderer/drawers/Provider\";\nimport IconTriangleWarning from \"~/renderer/icons/TriangleWarning\";\nimport CrossCircle from \"~/renderer/icons/CrossCircle\";\nimport Nano from \"~/renderer/images/nanoS.v4.svg\";\nimport { openURL } from \"~/renderer/linking\";\nimport Installing from \"~/renderer/modals/UpdateFirmwareModal/Installing\";\nimport { currencySettingsLocaleSelector, SettingsState } from \"~/renderer/reducers/settings\";\nimport { DrawerFooter } from \"~/renderer/screens/exchange/Swap2/Form/DrawerFooter\";\nimport { withV3StyleProvider } from \"~/renderer/styles/StyleProviderV3\";\n\nimport { getDeviceAnimation } from \"./animations\";\nimport { DeviceBlocker } from \"./DeviceBlocker\";\nimport NoSuchAppOnProviderErrorComponent from \"./NoSuchAppOnProviderErrorComponent\";\nimport { UnsupportedFeatureErrorComponent } from \"./UnsupportedFeatureErrorComponent\";\n\nexport const AnimationWrapper = styled.div`\n  max-width: 600px;\n  width: fit-content;\n  overflow: hidden;\n  padding-bottom: 12px;\n  align-self: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 8px;\n`;\n\nconst ProgressWrapper = styled.div`\n  padding: 24px;\n  align-self: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n  min-height: 260px;\n  max-width: 100%;\n  margin: auto;\n`;\n\nexport const ConfirmWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  justify-content: center;\n  min-height: 260px;\n  max-width: 100%;\n`;\n\nconst Logo = styled.div<{ warning?: boolean; info?: boolean }>`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color: ${p =>\n    p.info\n      ? p.theme.colors.primary.c80\n      : p.warning\n        ? p.theme.colors.legacyWarning\n        : p.theme.colors.alertRed};\n`;\n\nexport const Header = styled.div`\n  display: flex;\n  flex: 1 0 0%;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-content: center;\n  align-items: center;\n`;\n\nexport const Footer = styled.div`\n  display: flex;\n  flex: 1 0 0%;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-content: center;\n  align-items: center;\n`;\n\nexport const Title = styled(Text).attrs({\n  fontWeight: \"semiBold\",\n  color: \"neutral.c100\",\n  textAlign: \"center\",\n  fontSize: 6,\n})`\n  white-space: pre-line;\n`;\n\nconst BulletText = styled(Text).attrs({\n  variant: \"body\",\n  fontWeight: \"medium\",\n  textAlign: \"start\",\n  whiteSpace: \"pre-line\",\n})``;\n\nexport const SubTitle = styled(Text).attrs({\n  variant: \"paragraph\",\n  color: \"neutral.c100\",\n  textAlign: \"center\",\n  fontSize: 3,\n})`\n  margin-top: 8px;\n`;\n\n/**\n * @deprecated use ErrorBody or its exported\n * ErrorTitle instead (up to date v3 design)\n * */\nconst ErrorTitle = styled(Text).attrs({\n  variant: \"paragraph\",\n  fontWeight: \"semiBold\",\n  color: \"neutral.c100\",\n  textAlign: \"center\",\n  fontSize: 6,\n})`\n  user-select: text;\n  margin-bottom: 10px;\n  margin-top: 20px;\n`;\n\n/**\n * @deprecated use ErrorBody or its exported\n * ErrorTitle instead (up to date v3 design)\n * */\nconst ErrorDescription = styled(Text).attrs({\n  variant: \"paragraph\",\n  color: \"neutral.c70\",\n  textAlign: \"center\",\n  fontSize: 4,\n  whiteSpace: \"pre-wrap\",\n})`\n  user-select: text;\n`;\n\nconst ButtonContainer = styled(Box).attrs(({ theme }) => ({\n  mt: 25,\n  horizontal: false,\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  gap: `${theme.space[4]}px`,\n}))<{ stretch?: boolean }>`\n  ${({ stretch }) => stretch && \"align-self: stretch;\"}\n`;\n\nconst ButtonGroup = styled(Box).attrs(({ theme }) => ({\n  horizontal: true,\n  alignItems: \"stretch\",\n  justifyContent: \"center\",\n  gap: `${theme.space[4]}px`,\n}))`\n  align-self: stretch;\n\n  ${ButtonBase} {\n    flex: 1 0 0;\n    justify-content: center;\n  }\n`;\n\nconst TroubleshootingWrapper = styled.div`\n  margin-top: auto;\n  margin-bottom: 16px;\n`;\n\nconst Circle = styled(Flex)`\n  height: 40px;\n  width: 40px;\n  border-radius: 40px;\n  background: ${p => p.theme.colors.opacityDefault.c10};\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Separator = styled.div`\n  width: calc(100% + 60px);\n  height: 1px;\n  background-color: ${({ theme }) => theme.colors.neutral.c30};\n  margin: 24px -30px;\n`;\n\nconst DeviceSwapSummaryStyled = styled.section`\n  margin: ${({ theme }) => theme.space[3]}px;\n  display: grid;\n  grid-template-columns: auto 1fr;\n  gap: ${({ theme }) => theme.space[4]}px;\n`;\n\nconst DeviceSwapSummaryValueStyled = styled.div`\n  font-weight: ${({ theme }) => theme.fontWeights.semiBold};\n  color: ${({ theme }) => theme.colors.neutral.c100};\n  font-size: 14px;\n  justify-self: flex-end;\n  max-width: 100%;\n  display: flex;\n  align-items: center;\n  gap: ${({ theme }) => theme.space[1]}px;\n`;\n\nconst DeviceSwapSummaryContainer = styled(Flex)`\n  margin: ${({ theme }) => theme.space[3]}px;\n  display: flex;\n  flex-direction: column;\n  gap: ${({ theme }) => theme.space[4]}px;\n  padding: ${({ theme }) => theme.space[6]}px;\n`;\n\nconst EllipsesTextStyled = styled(Text)`\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  flex-shrink: 1;\n  display: inline-block;\n  max-width: 100%;\n`;\n\nconst ButtonFooter = styled(Footer)`\n  width: 100%;\n  margin-top: 46px;\n`;\n\n// these are not components because we want reconciliation to not remount the sub elements\n\nexport const renderRequestQuitApp = ({\n  modelId,\n  type,\n}: {\n  modelId: DeviceModelId;\n  type: Theme[\"theme\"];\n}) => (\n  <Wrapper>\n    <Header />\n    <AnimationWrapper>\n      <Animation animation={getDeviceAnimation(modelId, type, \"quitApp\")} />\n    </AnimationWrapper>\n    <Footer>\n      <Title>\n        <Trans i18nKey=\"DeviceAction.quitApp\" />\n      </Title>\n    </Footer>\n  </Wrapper>\n);\n\nexport const renderVerifyUnwrapped = ({\n  modelId,\n  type,\n}: {\n  modelId: DeviceModelId;\n  type: Theme[\"theme\"];\n}) => (\n  <AnimationWrapper>\n    <DeviceBlocker />\n    <Animation animation={getDeviceAnimation(modelId, type, \"verify\")} />\n  </AnimationWrapper>\n);\n\nconst OpenManagerBtn = ({\n  closeAllModal,\n  closePlatformAppDrawer,\n  appName,\n  updateApp,\n  firmwareUpdate,\n  mt = 2,\n  ml = 0,\n}: {\n  closeAllModal: () => void;\n  closePlatformAppDrawer: () => void;\n  appName?: string;\n  updateApp?: boolean;\n  firmwareUpdate?: boolean;\n  mt?: number;\n  ml?: number;\n}) => {\n  const history = useHistory();\n  const { setDrawer } = useContext(context);\n\n  const onClick = useCallback(() => {\n    const urlParams = new URLSearchParams({\n      updateApp: updateApp ? \"true\" : \"false\",\n      firmwareUpdate: firmwareUpdate ? \"true\" : \"false\",\n      ...(appName ? { q: appName } : {}),\n    });\n    const search = urlParams.toString();\n    setTrackingSource(\"device action open manager button\");\n    history.push({\n      pathname: \"/manager\",\n      search: search ? `?${search}` : \"\",\n    });\n    closeAllModal();\n    closePlatformAppDrawer();\n    setDrawer(undefined);\n  }, [\n    updateApp,\n    firmwareUpdate,\n    appName,\n    history,\n    closeAllModal,\n    closePlatformAppDrawer,\n    setDrawer,\n  ]);\n\n  return (\n    <Button mt={mt} ml={ml} primary onClick={onClick}>\n      <Trans i18nKey=\"DeviceAction.openManager\" />\n    </Button>\n  );\n};\n\nconst OpenOnboardingBtn = () => {\n  const { setDrawer } = useContext(context);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const onClick = useCallback(() => {\n    setTrackingSource(\"device action open onboarding button\");\n    dispatch(closeAllModal());\n    setDrawer(undefined);\n    history.push(\"/onboarding\");\n  }, [dispatch, history, setDrawer]);\n\n  return (\n    <Button primary onClick={onClick}>\n      <Trans i18nKey=\"DeviceAction.openOnboarding\" />\n    </Button>\n  );\n};\n\nconst OpenManagerButton = connect(null, {\n  closeAllModal,\n  closePlatformAppDrawer,\n})(OpenManagerBtn);\n\nexport const renderRequiresAppInstallation = ({ appNames }: { appNames: string[] }) => {\n  const appNamesCSV = appNames.join(\", \");\n  return (\n    <Wrapper>\n      <Logo>\n        <CrossCircle size={44} />\n      </Logo>\n      <ErrorTitle>\n        <Trans i18nKey=\"DeviceAction.appNotInstalledTitle\" count={appNames.length} />\n      </ErrorTitle>\n      <ErrorDescription>\n        <Trans\n          i18nKey=\"DeviceAction.appNotInstalled\"\n          values={{ appName: appNamesCSV }}\n          count={appNames.length}\n        />\n      </ErrorDescription>\n      <Box mt={24}>\n        <OpenManagerButton appName={appNamesCSV} />\n      </Box>\n    </Wrapper>\n  );\n};\n\nexport const InstallingApp = ({\n  modelId,\n  type,\n  appName,\n  progress,\n  request,\n  analyticsPropertyFlow = \"unknown\",\n}: {\n  modelId: DeviceModelId;\n  type: Theme[\"theme\"];\n  appName: string;\n  progress: number;\n  request: {\n    currency?: CryptoCurrency;\n    account?: Account;\n    appName?: string;\n  };\n  analyticsPropertyFlow?: string;\n}) => {\n  const currency = request?.currency || request?.account?.currency;\n  const appNameToTrack = appName || request?.appName || currency?.managerAppName;\n  const cleanProgress = progress ? Math.round(progress * 100) : null;\n  useEffect(() => {\n    track(\"In-line app install\", { appName: appNameToTrack, flow: analyticsPropertyFlow });\n  }, [appNameToTrack, analyticsPropertyFlow]);\n  return (\n    <Wrapper data-testid=\"device-action-loader\">\n      <Header />\n      <AnimationWrapper>\n        <Animation animation={getDeviceAnimation(modelId, type, \"installLoading\")} />\n      </AnimationWrapper>\n      <Footer>\n        <Title>\n          <Trans i18nKey=\"DeviceAction.installApp\" values={{ appName }} />\n        </Title>\n        <SubTitle>\n          <Trans i18nKey=\"DeviceAction.installAppDescription\" />\n        </SubTitle>\n        {cleanProgress ? <Title>{`${cleanProgress}%`}</Title> : null}\n      </Footer>\n    </Wrapper>\n  );\n};\n\nexport const renderInstallingLanguage = ({ progress, t }: { progress: number; t: TFunction }) => {\n  return (\n    <Flex\n      flex={1}\n      alignItems=\"center\"\n      justifyContent=\"center\"\n      flexDirection=\"column\"\n      data-testid=\"installing-language-progress\"\n    >\n      <Box my={5} alignItems=\"center\">\n        <Flex alignItems=\"center\" justifyContent=\"center\" borderRadius={9999} size={60} mb={5}>\n          <ProgressLoader\n            stroke={8}\n            infinite={!progress}\n            progress={progress * 100}\n            showPercentage={true}\n          />\n        </Flex>\n        <Title>{t(\"deviceLocalization.installingLanguage\")}</Title>\n      </Box>\n    </Flex>\n  );\n};\n\nexport const renderListingApps = () => (\n  <Wrapper data-testid=\"device-action-loader\">\n    <Header />\n    <ProgressWrapper>\n      <Rotating size={58}>\n        <ProgressCircle hideProgress size={58} progress={0.06} />\n      </Rotating>\n    </ProgressWrapper>\n    <Footer>\n      <Title>\n        <Trans i18nKey=\"DeviceAction.listApps\" />\n      </Title>\n      <SubTitle>\n        <Trans i18nKey=\"DeviceAction.listAppsDescription\" />\n      </SubTitle>\n    </Footer>\n  </Wrapper>\n);\n\nexport const renderAllowManager = ({\n  modelId,\n  type,\n  requestType = \"manager\",\n}: {\n  modelId: DeviceModelId;\n  type: Theme[\"theme\"];\n  requestType?: \"manager\" | \"rename\";\n}) => {\n  const productName = getDeviceModel(modelId).productName;\n  return (\n    <Wrapper>\n      <DeviceBlocker />\n      <Header />\n      <AnimationWrapper>\n        <Animation animation={getDeviceAnimation(modelId, type, \"allowManager\")} />\n      </AnimationWrapper>\n      <Footer>\n        <Title>\n          {requestType === \"rename\" ? (\n            <Trans i18nKey=\"DeviceAction.allowRenaming\" />\n          ) : (\n            <Trans i18nKey=\"DeviceAction.allowManagerPermission\" values={{ productName }} />\n          )}\n        </Title>\n      </Footer>\n    </Wrapper>\n  );\n};\n\nexport const renderAllowLanguageInstallation = ({\n  modelId,\n  type,\n  t,\n}: {\n  modelId: DeviceModelId;\n  type: Theme[\"theme\"];\n  t: TFunction;\n}) => (\n  <Flex\n    flex={1}\n    flexDirection=\"column\"\n    justifyContent=\"center\"\n    alignItems=\"center\"\n    data-testid=\"allow-language-installation\"\n  >\n    <DeviceBlocker />\n    <AnimationWrapper>\n      <Animation animation={getDeviceAnimation(modelId, type, \"allowManager\")} />\n    </AnimationWrapper>\n    <Flex justifyContent=\"center\" mt={2}>\n      <Title>{t(`deviceLocalization.allowLanguageInstallation`)}</Title>\n    </Flex>\n  </Flex>\n);\n\nexport const renderAllowRemoveCustomLockscreen = ({\n  modelId,\n  type,\n}: {\n  modelId: DeviceModelId;\n  type: Theme[\"theme\"];\n}) => (\n  <Wrapper>\n    <DeviceBlocker />\n    <Header />\n    <AnimationWrapper>\n      <Animation animation={getDeviceAnimation(modelId, type, \"verify\")} />\n    </AnimationWrapper>\n    <Footer>\n      <Title>\n        <Trans\n          i18nKey=\"removeCustomLockscreen.confirmation\"\n          values={{ productName: getDeviceModel(modelId).productName }}\n        />\n      </Title>\n    </Footer>\n  </Wrapper>\n);\n\nexport const renderAllowOpeningApp = ({\n  modelId,\n  type,\n  wording,\n  tokenContext,\n  isDeviceBlocker,\n}: {\n  modelId: DeviceModelId;\n  type: Theme[\"theme\"];\n  wording: string;\n  tokenContext?: TokenCurrency;\n  isDeviceBlocker?: boolean;\n}) => (\n  <Wrapper>\n    {isDeviceBlocker ? <DeviceBlocker /> : null}\n    <Header />\n    <AnimationWrapper>\n      <Animation animation={getDeviceAnimation(modelId, type, \"openApp\")} />\n    </AnimationWrapper>\n    <Footer>\n      <Title>\n        <Trans i18nKey=\"DeviceAction.allowAppPermission\" values={{ wording }} />\n        {!tokenContext ? null : (\n          <>\n            {\"\\n\"}\n            <Trans\n              i18nKey=\"DeviceAction.allowAppPermissionSubtitleToken\"\n              values={{ token: tokenContext.name }}\n            />\n          </>\n        )}\n      </Title>\n    </Footer>\n  </Wrapper>\n);\n\nexport const renderWarningOutdated = ({\n  passWarning,\n  appName,\n}: {\n  passWarning: () => void;\n  appName: string;\n}) => (\n  <Wrapper id={`warning-outdated-app`}>\n    <Logo warning>\n      <IconTriangleWarning size={44} />\n    </Logo>\n    <ErrorTitle>\n      <Trans i18nKey=\"DeviceAction.outdated\" />\n    </ErrorTitle>\n    <ErrorDescription>\n      <Trans i18nKey=\"DeviceAction.outdatedDesc\" values={{ appName }} />\n    </ErrorDescription>\n    <ButtonContainer>\n      <Button secondary onClick={passWarning}>\n        <Trans i18nKey=\"common.continue\" />\n      </Button>\n      <OpenManagerButton ml={4} mt={0} appName={appName} updateApp />\n    </ButtonContainer>\n  </Wrapper>\n);\n\n// Quick fix: the tmpError LockedDeviceError should be catched\n// inside all the device actions and mapped to an event of type \"lockedDevice\".\n// With this fix, we can catch all the device action tmpError that were not catched upstream.\n// If LockedDeviceError is thrown from outside a device action and renderError was not called\n// it is still handled by GenericErrorView.\nexport const renderLockedDeviceError = ({\n  t,\n  device,\n  onRetry,\n  inlineRetry,\n}: {\n  t: TFunction;\n  device?: Device | null;\n  onRetry?: (() => void) | null | undefined;\n  inlineRetry?: boolean;\n}) => {\n  const productName = device ? getDeviceModel(device.modelId).productName : null;\n\n  return (\n    <Wrapper id=\"error-locked-device\">\n      <ErrorBody\n        Icon={IconsLegacy.LockAltMedium}\n        title={t(\"errors.LockedDeviceError.title\")}\n        description={\n          productName\n            ? t(\"errors.LockedDeviceError.descriptionWithProductName\", {\n                productName,\n              })\n            : t(\"errors.LockedDeviceError.description\")\n        }\n        buttons={\n          onRetry && inlineRetry ? (\n            <ButtonV3 size=\"large\" variant=\"main\" onClick={onRetry}>\n              {t(\"common.retry\")}\n            </ButtonV3>\n          ) : null\n        }\n      />\n    </Wrapper>\n  );\n};\n\nexport const DeviceNotOnboardedErrorComponent = withV3StyleProvider(\n  ({ t, device }: { t: TFunction; device?: Device | null }) => {\n    const productName = device ? getDeviceModel(device.modelId).productName : null;\n    const history = useHistory();\n    const { setDrawer } = useContext(context);\n    const dispatch = useDispatch();\n\n    const redirectToOnboarding = useCallback(() => {\n      setTrackingSource(\"device action open onboarding button\");\n      dispatch(closeAllModal());\n      setDrawer(undefined);\n      if (!device?.modelId) {\n        history.push(\"/onboarding\");\n      } else {\n        history.push(\n          isSyncOnboardingSupported(device.modelId)\n            ? `/sync-onboarding/${device.modelId}`\n            : \"/onboarding\",\n        );\n      }\n    }, [device?.modelId, dispatch, history, setDrawer]);\n\n    return (\n      <Wrapper id=\"error-device-not-onboarded\">\n        <ErrorBody\n          top={device ? <DeviceIllustration size={120} deviceId={device.modelId} /> : null}\n          title={t(\"errors.DeviceNotOnboardedDAError.title\")}\n          description={t(\"errors.DeviceNotOnboardedDAError.description\")}\n          buttons={\n            <ButtonV3\n              variant=\"main\"\n              size=\"large\"\n              onClick={redirectToOnboarding}\n              Icon={IconsLegacy.ArrowRightMedium}\n            >\n              {productName\n                ? t(\"errors.DeviceNotOnboardedDAError.goToOnboardingButtonWithProductName\", {\n                    productName,\n                  })\n                : t(\"errors.DeviceNotOnboardedDAError.goToOnboardingButton\")}\n            </ButtonV3>\n          }\n        />\n      </Wrapper>\n    );\n  },\n);\n\nconst FirmwareNotRecognizedErrorComponent: React.FC<{\n  onRetry?: (() => void) | null | undefined;\n}> = ({ onRetry }) => {\n  const { t } = useTranslation();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const goToExperimentalSettings = () => {\n    setDrawer();\n    dispatch(closeAllModal());\n    history.push(\"/settings/experimental\");\n  };\n  return (\n    <Wrapper>\n      <ErrorBody\n        Icon={IconsLegacy.InfoAltFillMedium}\n        iconColor=\"primary.c80\"\n        title={t(\"errors.FirmwareNotRecognized.title\")}\n        description={t(\"errors.FirmwareNotRecognized.description\")}\n        buttons={\n          <>\n            <ButtonV3 size=\"large\" variant=\"main\" onClick={goToExperimentalSettings}>\n              {t(\"errors.FirmwareNotRecognized.goToSettingsCTA\")}\n            </ButtonV3>\n            {onRetry ? (\n              <ButtonV3 size=\"large\" variant=\"shade\" onClick={onRetry}>\n                {t(\"common.retry\")}\n              </ButtonV3>\n            ) : null}\n          </>\n        }\n      />\n    </Wrapper>\n  );\n};\n\nexport const renderError = ({\n  error,\n  t,\n  withOpenManager,\n  onRetry,\n  withExportLogs,\n  list,\n  supportLink,\n  buyLedger,\n  warning,\n  info,\n  managerAppName,\n  requireFirmwareUpdate,\n  withOnboardingCTA,\n  device,\n  inlineRetry = true,\n  withDescription = true,\n  learnMoreLink,\n  learnMoreTextKey,\n  Icon,\n  stretch,\n}: {\n  error: Error | ErrorConstructor | DmkError;\n  t: TFunction;\n  withOpenManager?: boolean;\n  onRetry?: (() => void) | null | undefined;\n  withExportLogs?: boolean;\n  list?: boolean;\n  supportLink?: string;\n  learnMoreLink?: string;\n  learnMoreTextKey?: string;\n  buyLedger?: string;\n  warning?: boolean;\n  info?: boolean;\n  managerAppName?: string;\n  requireFirmwareUpdate?: boolean;\n  withOnboardingCTA?: boolean;\n  device?: Device | null;\n  inlineRetry?: boolean;\n  withDescription?: boolean;\n  stretch?: boolean;\n  Icon?: (props: { color?: string | undefined; size?: number | undefined }) => React.JSX.Element;\n}) => {\n  let tmpError = error;\n  // Redirects from renderError and not from DeviceActionDefaultRendering because renderError\n  // can be used directly by other component\n  if (tmpError instanceof LockedDeviceError) {\n    return renderLockedDeviceError({ t, onRetry, device, inlineRetry });\n  } else if (tmpError instanceof DeviceNotOnboarded) {\n    return <DeviceNotOnboardedErrorComponent t={t} device={device} />;\n  } else if (\n    tmpError instanceof FirmwareNotRecognized ||\n    isInvalidGetFirmwareMetadataResponseError(tmpError)\n  ) {\n    return <FirmwareNotRecognizedErrorComponent onRetry={onRetry} />;\n  } else if (tmpError instanceof CompleteExchangeError) {\n    if (tmpError.title === \"userRefused\") {\n      tmpError = new TransactionRefusedOnDevice();\n    }\n  } else if (tmpError instanceof NoSuchAppOnProvider) {\n    return (\n      <NoSuchAppOnProviderErrorComponent\n        error={tmpError}\n        productName={getDeviceModel(device?.modelId as DeviceModelId)?.productName}\n        learnMoreLink={learnMoreLink}\n        learnMoreTextKey={learnMoreTextKey}\n      />\n    );\n  } else if (tmpError instanceof UnsupportedFeatureError) {\n    return <UnsupportedFeatureErrorComponent />;\n  } else if (isDisconnectedWhileSendingApduError(tmpError)) {\n    tmpError = new DisconnectedDevice();\n  }\n\n  const supportLinkUrl = supportLink ?? urls.errors[isDmkError(error) ? error._tag : error?.name];\n\n  return (\n    <Wrapper id={`error-${isDmkError(error) ? error._tag : error.name}`}>\n      {requireFirmwareUpdate ? (\n        <TrackPage category=\"Firmware Update\" name=\"Error: App Unavailable Update Firmware\" />\n      ) : null}\n      <ErrorBody\n        Icon={\n          Icon\n            ? Icon\n            : () => (\n                <Logo info={info} warning={warning}>\n                  <ErrorIcon size={24} error={error} />\n                </Logo>\n              )\n        }\n        title={<TranslatedError error={tmpError as unknown as Error} noLink />}\n        description={\n          withDescription && (\n            <TranslatedError\n              dataTestId=\"error-description-deviceAction\"\n              error={tmpError as unknown as Error}\n              field=\"description\"\n            />\n          )\n        }\n        list={\n          list ? (\n            <ol style={{ textAlign: \"justify\" }}>\n              <TranslatedError error={tmpError as unknown as Error} field=\"list\" />\n            </ol>\n          ) : undefined\n        }\n      />\n      <ButtonContainer stretch={stretch}>\n        {managerAppName || requireFirmwareUpdate ? (\n          <OpenManagerButton\n            appName={managerAppName}\n            updateApp={tmpError instanceof UpdateYourApp}\n            firmwareUpdate={tmpError instanceof LatestFirmwareVersionRequired}\n          />\n        ) : (\n          <>\n            <ButtonGroup>\n              {withExportLogs ? (\n                <ExportLogsButton\n                  title={t(\"settings.exportLogs.title\")}\n                  small={false}\n                  primary={false}\n                  outlineGrey\n                />\n              ) : null}\n              {withOpenManager ? (\n                <OpenManagerButton mt={0} />\n              ) : onRetry && inlineRetry ? (\n                <Button primary onClick={onRetry}>\n                  {t(\"common.retry\")}\n                </Button>\n              ) : null}\n              {withOnboardingCTA ? <OpenOnboardingBtn /> : null}\n              {buyLedger ? (\n                <LinkWithExternalIcon\n                  label={t(\"common.buyLedger\")}\n                  onClick={() => openURL(buyLedger)}\n                />\n              ) : null}\n            </ButtonGroup>\n            {supportLinkUrl ? (\n              <ExternalLinkButton label={t(\"common.getSupport\")} url={supportLinkUrl} />\n            ) : null}\n          </>\n        )}\n      </ButtonContainer>\n    </Wrapper>\n  );\n};\n\nexport const renderInWrongAppForAccount = ({\n  t,\n  onRetry,\n}: {\n  t: TFunction;\n  onRetry?: (() => void) | null | undefined;\n}) =>\n  renderError({\n    t,\n    error: new WrongDeviceForAccount(\"\"),\n    withExportLogs: true,\n    onRetry,\n    stretch: true,\n  });\n\nexport const renderConnectYourDevice = ({\n  modelId,\n  type,\n  onRepairModal,\n  device,\n  unresponsive,\n}: {\n  modelId: DeviceModelId;\n  type: Theme[\"theme\"];\n  onRepairModal?: ((open: boolean) => void) | null;\n  device: Device;\n  unresponsive?: boolean | null;\n}) => (\n  <Wrapper>\n    <Header />\n    <AnimationWrapper>\n      <Animation animation={getDeviceAnimation(modelId, type, \"enterPinCode\")} />\n    </AnimationWrapper>\n    <Footer>\n      <Title>\n        <Trans\n          i18nKey={\n            unresponsive ? \"DeviceAction.unlockDevice\" : \"DeviceAction.connectAndUnlockDevice\"\n          }\n        />\n      </Title>\n      {!device && onRepairModal ? (\n        <TroubleshootingWrapper>\n          <ConnectTroubleshooting onRepair={onRepairModal} />\n        </TroubleshootingWrapper>\n      ) : null}\n    </Footer>\n  </Wrapper>\n);\n\nconst OpenSwapBtn = () => {\n  const { setDrawer } = useContext(context);\n  const dispatch = useDispatch();\n\n  const onClick = () => {\n    setTrackingSource(\"device action open swap button\");\n    dispatch(closePlatformAppDrawer());\n    setDrawer(undefined);\n  };\n\n  return (\n    <ButtonV3\n      variant=\"main\"\n      outline\n      size=\"large\"\n      width=\"calc(100% - 80px)\"\n      ml=\"40px\"\n      mr=\"40px\"\n      onClick={onClick}\n    >\n      <Trans i18nKey={\"swap.wrongDevice.changeProvider\"} />\n    </ButtonV3>\n  );\n};\n\nexport const HardwareUpdate = ({\n  i18nKeyTitle,\n  i18nKeyDescription,\n  i18nKeyValues,\n}: {\n  i18nKeyTitle: string;\n  i18nKeyDescription: string;\n  i18nKeyValues?: Record<string, string>;\n}) => (\n  <Wrapper>\n    <Header>\n      <Image resource={Nano} alt=\"NanoS\" mb=\"40px\"></Image>\n    </Header>\n    <Flex alignItems=\"center\" flexDirection=\"column\" rowGap=\"16px\" mr=\"40px\" ml=\"40px\">\n      <Title variant=\"body\" color=\"neutral.c100\">\n        <Trans i18nKey={i18nKeyTitle} values={i18nKeyValues} />\n      </Title>\n      <Text variant=\"body\" color=\"neutral.c70\" textAlign=\"center\">\n        <Trans i18nKey={i18nKeyDescription} values={i18nKeyValues} />\n      </Text>\n    </Flex>\n    <ButtonFooter>\n      <ButtonContainer width=\"100%\">\n        <ButtonV3\n          variant=\"main\"\n          size=\"large\"\n          width=\"calc(100% - 80px)\"\n          ml=\"40px\"\n          mr=\"40px\"\n          onClick={() => {\n            openURL(\"https://shop.ledger.com/pages/hardware-wallet\");\n          }}\n        >\n          <Trans i18nKey={\"swap.wrongDevice.cta\"} />\n        </ButtonV3>\n      </ButtonContainer>\n      <ButtonContainer width=\"100%\">\n        <OpenSwapBtn />\n      </ButtonContainer>\n    </ButtonFooter>\n  </Wrapper>\n);\n\nconst renderFirmwareUpdatingBase = ({\n  modelId,\n  type,\n  deviceHasPin,\n  downloadPhase,\n}: {\n  modelId: DeviceModelId;\n  type: Theme[\"theme\"];\n  deviceHasPin?: boolean;\n  downloadPhase?: { current: number; total: number };\n}) =>\n  deviceHasPin ? (\n    <Wrapper>\n      <Header />\n      <Box mb={8}>\n        <Animation animation={getDeviceAnimation(modelId, type, \"firmwareUpdating\")} />\n      </Box>\n      <Footer>\n        <Flex alignItems=\"flex-start\" flexDirection=\"column\">\n          <Flex alignItems=\"center\">\n            <Circle mr={6}>\n              <Text color=\"neutral.c100\" variant=\"body\">\n                {\"1\"}\n              </Text>\n            </Circle>\n            <BulletText flex={1}>\n              <Trans\n                i18nKey=\"DeviceAction.unlockDeviceAfterFirmwareUpdateStep1\"\n                values={{ productName: getDeviceModel(modelId).productName }}\n              />\n            </BulletText>\n          </Flex>\n          <Flex alignItems=\"center\" mt={6}>\n            <Circle mr={6}>\n              <Text color=\"neutral.c100\" variant=\"body\">\n                {\"2\"}\n              </Text>\n            </Circle>\n            <BulletText flex={1}>\n              <Trans\n                i18nKey=\"DeviceAction.unlockDeviceAfterFirmwareUpdateStep2\"\n                values={{ productName: getDeviceModel(modelId).productName }}\n              />\n            </BulletText>\n          </Flex>\n        </Flex>\n      </Footer>\n    </Wrapper>\n  ) : (\n    <Installing\n      isInstalling={!!(downloadPhase?.current && downloadPhase?.total)}\n      current={downloadPhase?.current}\n      total={downloadPhase?.total}\n      deviceModelId={modelId}\n    />\n  );\n\nexport const renderFirmwareUpdating = withV3StyleProvider(renderFirmwareUpdatingBase);\n\ninterface SwapConfirmationProps {\n  modelId: DeviceModelId;\n  type: Theme[\"theme\"];\n  transaction: Transaction;\n  exchangeRate: ExchangeRate;\n  exchange: ExchangeSwap;\n  amountExpectedTo?: string;\n  estimatedFees?: string;\n  swapDefaultTrack: Record<string, string | boolean>;\n  stateSettings: SettingsState;\n  walletState: WalletState;\n}\n\nconst SwapConfirmationDetailedView: React.FC<{\n  alertProperties: Record<string, unknown>;\n  noticeType: { message: string };\n  exchangeRate: { provider: string };\n  deviceSwapSummaryFields: [string, React.ReactNode][];\n  modelId: DeviceModelId;\n  type: Theme[\"theme\"];\n}> = ({ alertProperties, noticeType, exchangeRate, deviceSwapSummaryFields, modelId, type }) => (\n  <>\n    <Box flex={0}>\n      <Alert type=\"primary\" {...alertProperties} mb={5} mx={4}>\n        <Trans\n          i18nKey={`DeviceAction.swap.notice.${noticeType.message}`}\n          values={{ providerName: getProviderName(exchangeRate.provider) }}\n        />\n      </Alert>\n    </Box>\n    <DeviceSwapSummaryStyled data-testid=\"device-swap-summary\">\n      {deviceSwapSummaryFields.map(([key, value]) => (\n        <Fragment key={key}>\n          <Text fontWeight=\"medium\" color=\"neutral.c60\" fontSize=\"14px\">\n            <Trans i18nKey={`DeviceAction.swap2.${key}`} />\n          </Text>\n          <DeviceSwapSummaryValueStyled data-testid={key}>{value}</DeviceSwapSummaryValueStyled>\n        </Fragment>\n      ))}\n    </DeviceSwapSummaryStyled>\n    {renderVerifyUnwrapped({ modelId, type })}\n  </>\n);\n\nconst SwapConfirmationSimpleView: React.FC<{\n  modelId: DeviceModelId;\n  type: Theme[\"theme\"];\n  noticeType: { message: string };\n}> = ({ modelId, type, noticeType }) => (\n  <DeviceSwapSummaryContainer>\n    {renderVerifyUnwrapped({ modelId, type })}\n    <Text fontSize=\"24px\" fontWeight=\"semiBold\" textAlign=\"center\">\n      <Trans i18nKey=\"DeviceAction.swap.confirmSwap\" />\n    </Text>\n    <Text color=\"neutral.c70\" fontSize=\"14px\" textAlign=\"center\">\n      <Trans i18nKey={`DeviceAction.swap.simpleViewNotice.${noticeType.message}`} />\n    </Text>\n  </DeviceSwapSummaryContainer>\n);\n\nconst SwapDeviceConfirmation: React.FC<SwapConfirmationProps> = ({\n  modelId,\n  type,\n  transaction,\n  exchangeRate,\n  exchange,\n  amountExpectedTo,\n  estimatedFees,\n  swapDefaultTrack,\n  stateSettings,\n  walletState,\n}) => {\n  const ptxSwapDetailedView = useFeature(\"ptxSwapDetailedView\");\n  const isDetailedViewEnabled = !!ptxSwapDetailedView?.enabled;\n  const variant = ptxSwapDetailedView?.params?.variant ?? ABTestingVariants.variantA;\n  const variantViewName =\n    variant === ABTestingVariants.variantA ? \"ptxDrawerDetails\" : \"ptxNoDrawerDetails\";\n  const sourceAccountCurrency = exchange.fromCurrency;\n  const targetAccountCurrency = exchange.toCurrency;\n\n  const sourceAccountName =\n    accountNameSelector(walletState, {\n      accountId:\n        \"parentId\" in exchange.fromAccount && exchange.fromAccount.parentId\n          ? exchange.fromAccount.parentId\n          : exchange.fromAccount.id,\n    }) ?? sourceAccountCurrency.name;\n\n  // If account exists already then grab the name set.\n  // However if account has not yet been set then use the\n  // crypto/token currency name as the target account.\n  const targetAccountName =\n    accountNameSelector(walletState, {\n      accountId:\n        \"parentId\" in exchange.toAccount && exchange.toAccount.parentId\n          ? exchange.toAccount.parentId\n          : exchange.toAccount.id,\n    }) ?? targetAccountCurrency.name;\n\n  const providerName = getProviderName(exchangeRate.provider);\n  const noticeType = getNoticeType(exchangeRate.provider);\n  const alertProperties = noticeType.learnMore ? { learnMoreUrl: urls.swap.learnMore } : {};\n\n  const unitFromExchange = currencySettingsLocaleSelector(\n    stateSettings,\n    sourceAccountCurrency,\n  ).unit;\n  const unitToExchange = currencySettingsLocaleSelector(stateSettings, targetAccountCurrency).unit;\n  const unitMainAccount = currencySettingsLocaleSelector(\n    stateSettings,\n    getMainAccount(exchange.fromAccount, exchange.fromParentAccount).currency,\n  ).unit;\n\n  const deviceSwapSummaryFields = Object.entries({\n    amountSent: (\n      <CurrencyUnitValue\n        unit={unitFromExchange}\n        value={transaction.amount}\n        disableRounding\n        showCode\n        component={({ children }) => (\n          <EllipsesTextStyled title={typeof children === \"string\" ? children : \"\"}>\n            {children}\n          </EllipsesTextStyled>\n        )}\n      />\n    ),\n    amountReceived: (\n      <CurrencyUnitValue\n        unit={unitToExchange}\n        value={amountExpectedTo ? BigNumber(amountExpectedTo) : exchangeRate.toAmount}\n        disableRounding\n        showCode\n        component={({ children }) => (\n          <EllipsesTextStyled title={typeof children === \"string\" ? children : \"\"}>\n            {children}\n          </EllipsesTextStyled>\n        )}\n      />\n    ),\n    provider: (\n      <>\n        <ProviderIcon size=\"XXS\" name={exchangeRate.provider} />\n        <EllipsesTextStyled title={providerName}>{providerName}</EllipsesTextStyled>\n      </>\n    ),\n    fees: (\n      <CurrencyUnitValue\n        unit={unitMainAccount}\n        value={BigNumber(estimatedFees || 0)}\n        disableRounding\n        showCode\n        component={({ children }) => (\n          <EllipsesTextStyled title={typeof children === \"string\" ? children : \"\"}>\n            {children}\n          </EllipsesTextStyled>\n        )}\n      />\n    ),\n    sourceAccount: (\n      <>\n        {sourceAccountCurrency && <CryptoCurrencyIcon currency={sourceAccountCurrency} size={25} />}\n        <EllipsesTextStyled textTransform={\"capitalize\"} title={sourceAccountName}>\n          {sourceAccountName}\n        </EllipsesTextStyled>\n      </>\n    ),\n    targetAccount: (\n      <>\n        {targetAccountCurrency && <CryptoCurrencyIcon currency={targetAccountCurrency} size={25} />}\n        <EllipsesTextStyled textTransform={\"capitalize\"} title={targetAccountName}>\n          {targetAccountName}\n        </EllipsesTextStyled>\n      </>\n    ),\n  });\n\n  return (\n    <>\n      <ConfirmWrapper>\n        <TrackPage\n          category=\"Swap\"\n          name={`ModalStep-summary`}\n          sourcecurrency={sourceAccountCurrency?.name}\n          targetcurrency={targetAccountCurrency?.name}\n          provider={exchangeRate.provider}\n          ptxSwapDetailedViewVariant={variantViewName}\n          {...swapDefaultTrack}\n        />\n        {isDetailedViewEnabled ? (\n          <SwapConfirmationDetailedView\n            alertProperties={alertProperties}\n            noticeType={noticeType}\n            exchangeRate={exchangeRate}\n            deviceSwapSummaryFields={deviceSwapSummaryFields}\n            modelId={modelId}\n            type={type}\n          />\n        ) : (\n          <SwapConfirmationSimpleView modelId={modelId} type={type} noticeType={noticeType} />\n        )}\n      </ConfirmWrapper>\n      <Separator />\n      <DrawerFooter provider={exchangeRate.provider} />\n    </>\n  );\n};\n\nexport const renderSwapDeviceConfirmation = (props: SwapConfirmationProps) => (\n  <SwapDeviceConfirmation {...props} />\n);\n\nexport const renderSecureTransferDeviceConfirmation = ({\n  exchangeType,\n  modelId,\n  type,\n}: {\n  exchangeType: \"sell\" | \"fund\";\n  modelId: DeviceModelId;\n  type: Theme[\"theme\"];\n}) => (\n  <>\n    <Box flex={0}>\n      <Alert type=\"primary\" learnMoreUrl={urls.swap.learnMore} horizontal={false}>\n        <Trans i18nKey={`DeviceAction.${exchangeType}.notice`} />\n      </Alert>\n    </Box>\n    {renderVerifyUnwrapped({ modelId, type })}\n    <Box alignItems={\"center\"}>\n      <Text textAlign=\"center\" fontWeight=\"semiBold\" color=\"neutral.c100\" fontSize={5}>\n        <Trans i18nKey={`DeviceAction.${exchangeType}.confirm`} />\n      </Text>\n    </Box>\n  </>\n);\n\nexport const renderLoading = ({ children }: { children?: React.ReactNode } = {}) => (\n  <Wrapper data-testid=\"device-action-loader\">\n    <Header />\n    <Flex alignItems=\"center\" justifyContent=\"center\" borderRadius={9999} size={60} mb={5}>\n      <InfiniteLoader size={58} />\n    </Flex>\n    <Footer>\n      <Title>{children || <Trans i18nKey=\"DeviceAction.loading\" />}</Title>\n    </Footer>\n  </Wrapper>\n);\n\nexport const renderBootloaderStep = ({ onAutoRepair }: { onAutoRepair: () => void }) => (\n  <Wrapper>\n    <Title>\n      <Trans i18nKey=\"genuinecheck.deviceInBootloader\">\n        {\"placeholder\"}\n        <b>{\"placeholder\"}</b>\n        {\"placeholder\"}\n      </Trans>\n    </Title>\n    <Button mt={2} primary onClick={onAutoRepair}>\n      <Trans i18nKey=\"common.continue\" />\n    </Button>\n  </Wrapper>\n);\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/DeviceAction/utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/DeviceIllustration.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Discreet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Dot.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/DropDownSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/EarnRewardsInfoModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Ellipsis.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/EntryButton/EntryButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ErrorBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ErrorBody.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ErrorDisplay.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":34,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":34,"endColumn":22},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":35,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":35,"endColumn":22},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":36,"column":10,"nodeType":"TSAsExpression","messageId":"never","endLine":36,"endColumn":56},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":36,"column":10,"nodeType":"TSAsExpression","messageId":"never","endLine":36,"endColumn":26}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import {\n  ManagerNotEnoughSpaceError,\n  UpdateYourApp,\n  LatestFirmwareVersionRequired,\n} from \"@ledgerhq/errors\";\nimport { OutdatedApp } from \"@ledgerhq/live-common/errors\";\nimport { useTranslation } from \"react-i18next\";\nimport { renderError } from \"~/renderer/components/DeviceAction/rendering\";\nimport { DmkError } from \"@ledgerhq/live-dmk-desktop\";\n\nexport type ErrorDisplayProps = {\n  error: DmkError | Error;\n  onRetry?: () => void;\n  withExportLogs?: boolean;\n  list?: boolean;\n  supportLink?: string;\n  warning?: boolean;\n  Icon?: (props: { color?: string | undefined; size?: number | undefined }) => React.JSX.Element;\n};\n\nconst ErrorDisplay = ({\n  error,\n  onRetry,\n  withExportLogs,\n  list,\n  supportLink,\n  warning,\n  Icon,\n}: ErrorDisplayProps) => {\n  const { t } = useTranslation();\n\n  const managerAppName =\n    error instanceof ManagerNotEnoughSpaceError ||\n    (error as unknown) instanceof OutdatedApp ||\n    (error as unknown) instanceof UpdateYourApp\n      ? (error as unknown as { managerAppName: string }).managerAppName\n      : undefined;\n\n  return renderError({\n    t,\n    error,\n    onRetry,\n    managerAppName,\n    requireFirmwareUpdate: error instanceof LatestFirmwareVersionRequired,\n    withExportLogs,\n    list,\n    supportLink,\n    warning,\n    Icon,\n  });\n};\n\nexport default ErrorDisplay;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ErrorIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ExportLogsButton.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":106,"column":23,"nodeType":"TSAsExpression","messageId":"never","endLine":106,"endColumn":37}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ipcRenderer, webFrame } from \"electron\";\nimport React, { useState, useCallback } from \"react\";\nimport { useSelector } from \"LLD/hooks/redux\";\nimport { useTranslation } from \"react-i18next\";\nimport { getAllEnvs, getEnv } from \"@ledgerhq/live-env\";\nimport { Account } from \"@ledgerhq/types-live\";\nimport KeyHandler from \"react-key-handler\";\nimport logger from \"~/renderer/logger\";\nimport getUser from \"~/helpers/user\";\nimport Button, { Props as ButtonProps } from \"~/renderer/components/Button\";\nimport { accountsSelector } from \"~/renderer/reducers/accounts\";\nimport { useTechnicalDateTimeFn } from \"../hooks/useDateFormatter\";\nimport { saveLogs } from \"~/helpers/saveLogs\";\n\ntype RestProps = ButtonProps & {\n  icon?: boolean;\n  inverted?: boolean;\n  // only used with primary for now\n  lighterPrimary?: boolean;\n  danger?: boolean;\n  lighterDanger?: boolean;\n  disabled?: boolean;\n  isLoading?: boolean;\n  event?: string;\n  eventProperties?: object;\n  outline?: boolean;\n  outlineGrey?: boolean;\n};\ntype Props = {\n  primary?: boolean;\n  small?: boolean;\n  hookToShortcut?: boolean;\n  title?: React.ReactNode;\n  withoutAppData?: boolean;\n  accounts?: Account[];\n  customComponent?: React.FC<() => Promise<void>>;\n} & RestProps;\nconst ExportLogsBtnWrapper = (args: Props) => {\n  if (args.withoutAppData) {\n    return <ExportLogsBtn {...args} />;\n  } else {\n    return <ExportLogsBtnWithAccounts {...args} />;\n  }\n};\nconst ExportLogsBtnWithAccounts = (args: Props) => {\n  const accounts = useSelector(accountsSelector);\n  return <ExportLogsBtn {...args} accounts={accounts} />;\n};\nconst ExportLogsBtn = ({\n  hookToShortcut,\n  primary = true,\n  small = true,\n  title,\n  accounts = [],\n  customComponent,\n  ...rest\n}: Props) => {\n  const { t } = useTranslation();\n  const [exporting, setExporting] = useState(false);\n  const getDateTxt = useTechnicalDateTimeFn();\n  const exportLogs = useCallback(async () => {\n    const resourceUsage = webFrame.getResourceUsage();\n    const user = await getUser();\n    logger.log(\"exportLogsMeta\", {\n      resourceUsage,\n      release: __APP_VERSION__,\n      git_commit: __GIT_REVISION__,\n      environment: __DEV__ ? \"development\" : \"production\",\n      userAgent: window.navigator.userAgent,\n      userAnonymousId: user.id,\n      env: {\n        ...getAllEnvs(),\n      },\n      accountsIds: accounts.map(a => a.id),\n    });\n\n    let path;\n    if (!getEnv(\"PLAYWRIGHT_RUN\")) {\n      path = await ipcRenderer.invoke(\"show-save-dialog\", {\n        title: \"Export logs\",\n        defaultPath: `ledgerwallet-logs-${getDateTxt()}-${__GIT_REVISION__ || \"unversioned\"}.txt`,\n        filters: [\n          {\n            name: \"All Files\",\n            extensions: [\"txt\"],\n          },\n        ],\n      });\n    } else {\n      path = {\n        canceled: false,\n        filePath: \"./ledgerwallet-logs.txt\",\n      };\n    }\n\n    if (path) {\n      await saveLogs(path);\n    }\n  }, [accounts, getDateTxt]);\n  const handleExportLogs = useCallback(async () => {\n    if (exporting) return;\n    setExporting(true);\n    try {\n      await exportLogs();\n    } catch (error) {\n      logger.critical(error as Error);\n    } finally {\n      setExporting(false);\n    }\n  }, [exporting, setExporting, exportLogs]);\n  const onKeyHandle = useCallback(\n    (e: React.KeyboardEvent) => {\n      if (e.ctrlKey) {\n        handleExportLogs();\n      }\n    },\n    [handleExportLogs],\n  );\n  const text = title || t(\"settings.exportLogs.btn\");\n  if (customComponent) {\n    return customComponent(handleExportLogs);\n  }\n  return hookToShortcut ? (\n    <KeyHandler keyValue=\"e\" onKeyHandle={onKeyHandle} />\n  ) : (\n    <Button\n      data-testid=\"export-logs-button\"\n      small={small}\n      primary={primary}\n      event=\"ExportLogs\"\n      onClick={handleExportLogs}\n      {...rest}\n    >\n      {text}\n    </Button>\n  );\n};\nexport default ExportLogsBtnWrapper;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ExportOperationsBtn.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ExternalLink/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ExternalLinkButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/FadeInOutBox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/FakeLink.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/FeeSliderField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/FeesContainer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/FirebaseFeatureFlags.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/FirebaseRemoteConfig.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":104,"column":28,"nodeType":"TSAsExpression","messageId":"never","endLine":104,"endColumn":74}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useContext, useEffect, useState } from \"react\";\nimport { initializeApp, deleteApp } from \"firebase/app\";\nimport {\n  getRemoteConfig,\n  fetchAndActivate,\n  RemoteConfig,\n  getValue,\n  getAll,\n} from \"firebase/remote-config\";\nimport { LiveConfig } from \"@ledgerhq/live-config/LiveConfig\";\nimport { FirebaseRemoteConfigProvider as FirebaseProvider } from \"@ledgerhq/live-config/providers/index\";\nimport { DEFAULT_FEATURES, formatDefaultFeatures } from \"@ledgerhq/live-common/featureFlags/index\";\nimport { getFirebaseConfig } from \"~/firebase-setup\";\nimport isMatch from \"lodash/isMatch\";\nimport * as fs from \"fs\";\n\nexport const FirebaseRemoteConfigContext = React.createContext<{\n  config: RemoteConfig | null;\n  lastFetchTime: number;\n}>({ config: null, lastFetchTime: 0 });\n\nexport const useFirebaseRemoteConfig = () => useContext(FirebaseRemoteConfigContext);\n\nconst parseEnvFile = (fileContent: string) => {\n  const lines = fileContent.split(\"\\n\");\n  const envVariables: { [key: string]: string } = {};\n  lines.forEach(line => {\n    const [key, value] = line.split(\"=\");\n    if (key && value) {\n      // remove the double quotes from both ends of the value\n      envVariables[key.trim()] = value.trim().replace(/^\"(.*)\"$/, \"$1\");\n    }\n  });\n  return envVariables;\n};\n\nexport const FirebaseRemoteConfigProvider = ({\n  children,\n}: {\n  children: React.ReactNode;\n}): React.JSX.Element | null => {\n  const [config, setConfig] = useState<RemoteConfig | null>(null);\n  const [loaded, setLoaded] = useState<boolean>(false);\n  const [lastFetchTime, setLastFetchTime] = useState<number>(0);\n\n  useEffect(() => {\n    try {\n      const firebaseConfig = getFirebaseConfig();\n      initializeApp(firebaseConfig);\n    } catch (error) {\n      console.error(`Failed to initialize Firebase SDK with error: ${error}`);\n      setLoaded(true);\n    }\n    const remoteConfig = getRemoteConfig();\n    remoteConfig.settings.minimumFetchIntervalMillis = 0;\n    remoteConfig.defaultConfig = {\n      ...formatDefaultFeatures(DEFAULT_FEATURES),\n    };\n    setConfig(remoteConfig);\n\n    LiveConfig.setProvider(\n      new FirebaseProvider({\n        getValue: (key: string) => {\n          return getValue(remoteConfig, key);\n        },\n      }),\n    );\n\n    // check whether local default settings and firebase remote settings are consistent\n    const warnOnConfigMismatch = async () => {\n      if (!__DEV__) {\n        return;\n      }\n      const envs = [\"production\", \"staging\", \"testing\", \"development\"];\n      envs.forEach(async (env: string) => {\n        const envFilePath = `./.env.${env}`;\n        let apiKey, authDomain, projectId, storageBucket, messagingSenderId, appId, envVars;\n        try {\n          const fileContent = fs.readFileSync(envFilePath, \"utf8\");\n          envVars = parseEnvFile(fileContent);\n          apiKey = envVars[\"FIREBASE_API_KEY\"];\n          authDomain = envVars[\"FIREBASE_AUTH_DOMAIN\"];\n          projectId = envVars[\"FIREBASE_PROJECT_ID\"];\n          storageBucket = envVars[\"FIREBASE_STORAGE_BUCKET\"];\n          messagingSenderId = envVars[\"FIREBASE_MESSAGING_SENDER_ID\"];\n          appId = envVars[\"FIREBASE_APP_ID\"];\n        } catch {\n          apiKey = undefined;\n        }\n\n        const firebaseOptions = apiKey\n          ? { apiKey, authDomain, projectId, storageBucket, messagingSenderId, appId }\n          : getFirebaseConfig();\n        const firebaseApp = initializeApp(firebaseOptions, env);\n        const remoteConfig = getRemoteConfig(firebaseApp);\n        remoteConfig.settings.minimumFetchIntervalMillis = 0;\n        await fetchAndActivate(remoteConfig);\n        const allConfigs = getAll(remoteConfig);\n        for (const key in allConfigs) {\n          if (key.startsWith(\"config_\")) {\n            const value = allConfigs[key].asString();\n            const configType = LiveConfig.instance.config[key]?.type;\n            if (configType === \"object\" || configType === \"array\") {\n              if (!isMatch(LiveConfig.getDefaultValueByKey(key) as object, JSON.parse(value))) {\n                console.warn(\n                  `Config mismatch for ${key} in ${env}, Remote: ${value}, Local: ${JSON.stringify(\n                    LiveConfig.getDefaultValueByKey(key),\n                  )}`,\n                );\n              }\n            } else {\n              if (LiveConfig.getDefaultValueByKey(key)?.toString() !== value) {\n                console.warn(\n                  `Config mismatch for ${key} in ${env}, Remote: ${value}, Local: ${LiveConfig.getDefaultValueByKey(\n                    key,\n                  )?.toString()}`,\n                );\n              }\n            }\n          }\n        }\n        await deleteApp(firebaseApp);\n      });\n    };\n\n    const fetchAndActivateConfig = async () => {\n      try {\n        await warnOnConfigMismatch();\n      } catch {\n        // ignore the config check if any error occurs because it's not critical\n      }\n      try {\n        await fetchAndActivate(remoteConfig);\n        setLastFetchTime(Date.now());\n      } catch (error) {\n        console.error(`Failed to fetch Firebase remote config with error: ${error}`);\n      } finally {\n        setLoaded(true);\n      }\n    };\n    fetchAndActivateConfig();\n    // 5 minutes fetch interval. TODO: make this configurable\n    const intervalId = window.setInterval(fetchAndActivateConfig, 5 * 60 * 1000);\n    return () => clearInterval(intervalId);\n  }, [setConfig]);\n\n  if (!loaded) {\n    return null;\n  }\n\n  return (\n    <FirebaseRemoteConfigContext.Provider value={{ config, lastFetchTime }}>\n      {children}\n    </FirebaseRemoteConfigContext.Provider>\n  );\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/FirmwareUpdateBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/FirstLetterIcon.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/FlashMCU.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/FlipTicker.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/FormattedVal.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":89,"column":75,"nodeType":"TSAsExpression","messageId":"never","endLine":89,"endColumn":92},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":120,"column":31,"nodeType":"TSAsExpression","messageId":"never","endLine":120,"endColumn":45}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { BigNumber } from \"bignumber.js\";\nimport invariant from \"invariant\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { Unit } from \"@ledgerhq/types-cryptoassets\";\nimport { formatCurrencyUnit } from \"@ledgerhq/live-common/currencies/index\";\nimport { localeSelector, discreetModeSelector } from \"~/renderer/reducers/settings\";\nimport { getMarketColor } from \"~/renderer/styles/helpers\";\nimport Box from \"~/renderer/components/Box\";\nimport FlipTicker from \"~/renderer/components/FlipTicker\";\nimport Ellipsis from \"~/renderer/components/Ellipsis\";\nimport { BoxProps } from \"./Box/Box\";\nimport { Icons } from \"@ledgerhq/react-ui\";\n\nconst T = styled(Box).attrs((p: { color?: string; inline?: boolean; ff?: string } & BoxProps) => ({\n  ff: p.ff || \"Inter|Medium\",\n  horizontal: true,\n  color: p.color,\n}))<{\n  color?: string;\n  inline?: boolean;\n  ff?: string;\n}>`\n  white-space: pre;\n  text-overflow: ellipsis;\n  display: ${p => (p.inline ? \"inline-block\" : \"block\")};\n  flex-shrink: ${p => (p.noShrink ? \"0\" : \"1\")};\n  width: ${p => (p.inline ? \"\" : \"100%\")};\n  overflow: hidden;\n`;\nconst I = ({ color = undefined, children }: { color?: string; children: React.ReactNode }) => (\n  <Box color={color}>{children}</Box>\n);\n\nexport type OwnProps = {\n  unit?: Unit;\n  val?: BigNumber | number;\n  alwaysShowSign?: boolean;\n  showCode?: boolean;\n  withIcon?: boolean;\n  color?: string;\n  animateTicker?: boolean;\n  disableRounding?: boolean;\n  isPercent?: boolean;\n  subMagnitude?: number;\n  prefix?: React.ReactNode;\n  ellipsis?: boolean;\n  suffix?: string;\n  showAllDigits?: boolean;\n  alwaysShowValue?: boolean;\n  // overrides discreet mode\n  dynamicSignificantDigits?: number;\n  staticSignificantDigits?: number;\n  style?: React.CSSProperties;\n} & React.ComponentProps<typeof T>;\nconst mapStateToProps = createStructuredSelector({\n  discreet: discreetModeSelector,\n  locale: localeSelector,\n});\ntype Props = OwnProps & {\n  discreet: boolean;\n  locale: string;\n};\nfunction FormattedVal(props: Props) {\n  const {\n    animateTicker,\n    disableRounding,\n    unit,\n    isPercent,\n    alwaysShowSign,\n    showCode,\n    withIcon,\n    locale,\n    color,\n    ellipsis,\n    subMagnitude = 0,\n    prefix,\n    suffix,\n    showAllDigits,\n    alwaysShowValue,\n    discreet,\n    dynamicSignificantDigits,\n    staticSignificantDigits,\n    ...p\n  } = props;\n  const valProp = props.val;\n  let val: BigNumber = valProp instanceof BigNumber ? valProp : BigNumber(valProp as number);\n  invariant(val, \"FormattedVal require a `val` prop. Received `undefined`\");\n  const isZero = val.isZero();\n  const isNegative = val.isNegative() && !isZero;\n  let text: React.ReactNode = \"\";\n  if (isPercent) {\n    // FIXME move out the % feature of this component... totally unrelated to currency & annoying for flow type.\n    text = `${alwaysShowSign ? (isNegative ? \"- \" : \"+ \") : \"\"}${(isNegative\n      ? val.negated()\n      : val\n    ).toString()} %`;\n  } else {\n    invariant(unit, \"FormattedVal require a `unit` prop. Received `undefined`\");\n    if (withIcon && isNegative) {\n      val = val.negated();\n    }\n    text = formatCurrencyUnit(unit, val, {\n      alwaysShowSign,\n      disableRounding,\n      showCode,\n      locale,\n      subMagnitude,\n      discreet: alwaysShowValue ? false : discreet,\n      showAllDigits,\n      dynamicSignificantDigits,\n      staticSignificantDigits,\n    });\n  }\n  if (prefix && typeof prefix === \"string\") text = prefix + text;\n  if (suffix) text += suffix;\n  if (animateTicker) {\n    text = <FlipTicker value={text as string} />;\n  } else if (ellipsis) {\n    text = <Ellipsis>{text}</Ellipsis>;\n  }\n  const marketColor = getMarketColor({\n    isNegative,\n  });\n  return (\n    <T {...p} color={color || marketColor}>\n      {withIcon ? (\n        <Box horizontal alignItems=\"center\">\n          <Box data-testid={`arrow-${isNegative ? \"down\" : \"up\"}`} mr={1}>\n            <I color={marketColor}>\n              {isNegative ? (\n                <Icons.ArrowDownRight size={\"M\"} />\n              ) : isZero ? null : (\n                <Icons.ArrowUpRight size={\"M\"} />\n              )}\n            </I>\n          </Box>\n          <Box horizontal alignItems=\"center\">\n            {text}\n          </Box>\n        </Box>\n      ) : (\n        text\n      )}\n    </T>\n  );\n}\nconst m: React.ComponentType<OwnProps> = connect(mapStateToProps)(FormattedVal);\nexport default m;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Idler.ts","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useCallback received a function whose dependencies are unknown. Pass an inline function instead.","line":11,"column":3,"nodeType":"Identifier","endLine":11,"endColumn":14,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Illustration.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Image.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/InfoDisplay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Input.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":307,"column":16,"nodeType":"TSAsExpression","messageId":"never","endLine":307,"endColumn":55}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { fontSize, textAlign, fontWeight, color } from \"styled-system\";\nimport noop from \"lodash/noop\";\nimport fontFamily from \"~/renderer/styles/styled/fontFamily\";\nimport Box from \"~/renderer/components/Box\";\nimport TranslatedError from \"~/renderer/components/TranslatedError\";\nimport BigSpinner from \"~/renderer/components/BigSpinner\";\nimport { BoxProps } from \"./Box/Box\";\nimport { AddressesSanctionedError } from \"@ledgerhq/coin-framework/sanction/errors\";\n\nexport type InputError = Error | boolean | null | undefined;\n\nconst RenderLeftWrapper = styled(Box)`\n  align-items: center;\n  justify-content: center;\n`;\nconst RenderRightWrapper = styled(Box)`\n  margin-left: -10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  & > * {\n    flex: 1;\n  }\n`;\n\ntype InnerProps = {\n  noBorder?: boolean;\n  noBorderLeftRadius?: boolean;\n  noBoxShadow?: boolean;\n  isFocus?: boolean;\n  disabled?: boolean;\n  small?: boolean;\n  error?: InputError;\n  warning?: InputError;\n  editInPlace?: boolean;\n};\n\nexport const Container = styled(Box).attrs(() => ({\n  horizontal: true,\n}))<InnerProps>`\n  background: ${p =>\n    p.disabled ? p.theme.colors.background.default : p.theme.colors.background.card};\n\n  ${p =>\n    p.noBorderLeftRadius\n      ? `\n      border-top-right-radius: ${p.theme.radii[1]}px;\n      border-bottom-right-radius: ${p.theme.radii[1]}px;`\n      : `\n    border-radius: ${p.theme.radii[1]}px;\n  `}\n  border-width: ${p => (p.noBorder ? 0 : 1)}px;\n  border-style: solid;\n  border-color: ${p =>\n    p.error\n      ? p.theme.colors.pearl\n      : p.warning\n        ? p.theme.colors.legacyWarning\n        : p.isFocus\n          ? p.theme.colors.primary.c80\n          : p.theme.colors.neutral.c40};\n  box-shadow: ${p => (p.isFocus && !p.noBoxShadow ? `rgba(0, 0, 0, 0.05) 0 2px 2px` : \"none\")};\n  height: ${p => (p.small ? \"34\" : \"48\")}px;\n  position: relative;\n\n  &:not(:hover) {\n    background: ${p => (!p.isFocus && p.editInPlace ? \"transparent\" : undefined)};\n    border-color: ${p => (!p.isFocus && p.editInPlace ? \"transparent\" : undefined)};\n  }\n\n  ${p =>\n    p.error\n      ? `--status-color: ${p.theme.colors.pearl};`\n      : p.warning\n        ? `--status-color: ${p.theme.colors.legacyWarning};`\n        : p.isFocus\n          ? `--status-color: ${p.theme.colors.primary.c80};`\n          : \"\"}\n\n  ${p =>\n    (p.error || p.warning || p.isFocus) &&\n    `> ${RenderRightWrapper} *,\n    > ${RenderLeftWrapper} *{\n      color: var(--status-color);\n      border-color: var(--status-color);\n    }`}\n`;\n\ntype ErrorContainerInnerProps = {\n  hasError?: Error | boolean | null | undefined;\n};\n\nexport const ErrorContainer = styled(Box)<ErrorContainerInnerProps & BoxProps>`\n  padding: 0 15px;\n  margin-top: 0px;\n  font-size: 12px;\n  transition: all 0.4s ease-in-out;\n  will-change: max-height;\n  max-height: ${(p: ErrorContainerInnerProps) => (p.hasError ? 60 : 0)}px;\n  min-height: ${(p: ErrorContainerInnerProps) => (p.hasError ? 20 : 0)}px;\n  overflow: hidden;\n`;\n\nconst ErrorDisplay = styled(Box)`\n  color: ${p => p.theme.colors.pearl};\n`;\nconst WarningDisplay = styled(Box)`\n  color: ${p => p.theme.colors.legacyWarning};\n`;\nconst LoadingDisplay = styled(Box)`\n  position: absolute;\n  right: 0px;\n  top: 0px;\n  bottom: 0px;\n  width: 100%;\n  pointer-events: none;\n  flex-direction: row;\n  align-items: center;\n  display: flex;\n  justify-content: flex-end;\n  border-radius: 4px;\n  padding-right: 10px;\n`;\nexport const BaseContainer = styled(Box)``;\nconst Base = styled.input.attrs(() => ({\n  fontSize: 4,\n}))`\n  font-family: \"Inter\";\n  font-weight: 600;\n  color: ${p => p.theme.colors.neutral.c100};\n  border: 0;\n  ${fontFamily};\n  ${fontSize};\n  ${textAlign};\n  ${fontWeight};\n  ${color};\n  height: 100%;\n  outline: none;\n  padding: 0;\n  width: 100%;\n  background: none;\n  cursor: ${p => (p.disabled ? \"not-allowed\" : \"text\")};\n\n  &::placeholder {\n    color: ${p => p.theme.colors.neutral.c60};\n  }\n\n  &[type=\"date\"] {\n    ::-webkit-inner-spin-button,\n    ::-webkit-calendar-picker-indicator {\n      display: none;\n      -webkit-appearance: none;\n    }\n  }\n`;\n\nexport type Props = {\n  onChange?: (a: string) => void;\n  onBlur?: (a: React.FocusEvent<HTMLInputElement>) => void;\n  onEnter?: (a: React.KeyboardEvent<HTMLInputElement>) => void;\n  onEsc?: (a: React.KeyboardEvent<HTMLInputElement>) => void;\n  onFocus?: (a: React.FocusEvent<HTMLInputElement>) => void;\n  renderLeft?: React.ReactNode;\n  renderRight?: React.ReactNode;\n  containerProps?: object;\n  loading?: boolean;\n  error?: InputError;\n  warning?: InputError;\n  small?: boolean;\n  editInPlace?: boolean;\n  disabled?: boolean;\n  hideErrorMessage?: boolean;\n  value?: string;\n  placeholder?: string;\n  ff?: string;\n} & React.ComponentProps<typeof Base>;\n\nconst Input = function Input(\n  {\n    renderLeft = null,\n    renderRight = null,\n    containerProps,\n    editInPlace,\n    small = false,\n    error,\n    loading,\n    warning,\n    disabled,\n    onChange,\n    onEnter,\n    onEsc,\n    onFocus = noop,\n    onBlur = noop,\n    hideErrorMessage,\n    value,\n    ...props\n  }: Props,\n  inputRef: React.ForwardedRef<HTMLInputElement> | null,\n) {\n  const [isFocus, setFocus] = useState(false);\n\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      if (onChange) {\n        onChange(e.target.value);\n      }\n    },\n    [onChange],\n  );\n\n  const handleKeyDown = useCallback(\n    (e: React.KeyboardEvent<HTMLInputElement>) => {\n      // handle enter key\n      if (e.key === \"Enter\" && onEnter) {\n        onEnter(e);\n      } else if (e.key === \"Escape\" && onEsc) {\n        onEsc(e);\n      }\n    },\n    [onEnter, onEsc],\n  );\n\n  const handleClick = useCallback(() => {\n    if (inputRef && \"current\" in inputRef) inputRef.current?.focus();\n  }, [inputRef]);\n\n  const handleFocus = useCallback(\n    (e: React.FocusEvent<HTMLInputElement>) => {\n      setFocus(true);\n      if (onFocus) {\n        onFocus(e);\n      }\n    },\n    [onFocus],\n  );\n  const handleBlur = useCallback(\n    (e: React.FocusEvent<HTMLInputElement>) => {\n      setFocus(false);\n      if (onBlur) {\n        onBlur(e);\n      }\n    },\n    [onBlur],\n  );\n  return (\n    <Box shrink>\n      <Container\n        onClick={handleClick}\n        isFocus={isFocus}\n        shrink\n        {...containerProps}\n        disabled={disabled}\n        small={small}\n        error={error}\n        warning={warning}\n        editInPlace={editInPlace}\n      >\n        {!loading || isFocus ? <RenderLeftWrapper>{renderLeft}</RenderLeftWrapper> : null}\n        <BaseContainer px={3} grow shrink>\n          <Base\n            {...props}\n            placeholder={loading ? \"\" : props.placeholder}\n            value={loading ? \"\" : value}\n            // small={small}\n            disabled={disabled}\n            ref={inputRef}\n            onFocus={handleFocus}\n            onBlur={handleBlur}\n            onChange={handleChange}\n            onKeyDown={handleKeyDown}\n          />\n\n          {loading && !isFocus ? (\n            <LoadingDisplay>\n              <BigSpinner size={16} />\n            </LoadingDisplay>\n          ) : null}\n        </BaseContainer>\n        {renderRight ? <RenderRightWrapper>{renderRight}</RenderRightWrapper> : null}\n      </Container>\n\n      <ErrorContainer hasError={!hideErrorMessage && (error || warning)}>\n        {!hideErrorMessage ? (\n          error ? (\n            typeof error === \"boolean\" ? null : (\n              <ErrorDisplay id=\"input-error\" data-testid=\"input-error\">\n                <TranslatedError\n                  error={error}\n                  field={error instanceof AddressesSanctionedError ? \"description\" : undefined}\n                />\n              </ErrorDisplay>\n            )\n          ) : warning ? (\n            typeof warning === \"boolean\" ? null : (\n              <WarningDisplay id=\"input-warning\">\n                <TranslatedError error={warning} />\n              </WarningDisplay>\n            )\n          ) : null\n        ) : null}\n      </ErrorContainer>\n    </Box>\n  );\n};\nexport default React.forwardRef(Input) as typeof Input;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/InputCurrency.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/InputPassword.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/IsNewVersion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/IsSystemLanguageAvailable.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":27,"column":8,"nodeType":"TSAsExpression","messageId":"never","endLine":27,"endColumn":36}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"LLD/hooks/redux\";\nimport { openModal } from \"~/renderer/actions/modals\";\nimport { languageSelector, getInitialLanguageAndLocale } from \"~/renderer/reducers/settings\";\nimport { pushedLanguages } from \"~/config/languages\";\nimport { useSupportedLanguages } from \"../hooks/useSupportedLanguages\";\n\n// To reset os language proposition, change this date !\nconst lastAskedLanguageAvailable = \"2022-09-23\";\nexport function hasAnsweredLanguageAvailable() {\n  return global.localStorage.getItem(\"hasAnsweredLanguageAvailable\") === lastAskedLanguageAvailable;\n}\nexport function answerLanguageAvailable() {\n  return global.localStorage.setItem(\"hasAnsweredLanguageAvailable\", lastAskedLanguageAvailable);\n}\nconst IsSystemLanguageAvailable = () => {\n  const dispatch = useDispatch();\n  const currentLanguage = useSelector(languageSelector);\n  const { language: defaultLanguage } = getInitialLanguageAndLocale();\n  const supportedLocales = useSupportedLanguages(pushedLanguages).locales;\n\n  useEffect(() => {\n    if (\n      !hasAnsweredLanguageAvailable() &&\n      currentLanguage !== defaultLanguage &&\n      // TODO casting as string[] because of https://stackoverflow.com/questions/56565528/typescript-const-assertions-how-to-use-array-prototype-includes\n      (supportedLocales as string[]).includes(defaultLanguage)\n    ) {\n      dispatch(\n        openModal(\"MODAL_SYSTEM_LANGUAGE_AVAILABLE\", {\n          osLanguage: defaultLanguage,\n          currentLanguage,\n        }),\n      );\n    }\n  }, [defaultLanguage, dispatch, currentLanguage, supportedLocales]);\n  return null;\n};\nexport default IsSystemLanguageAvailable;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/IsTermOfUseUpdated.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/IsUnlocked.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/KeyboardContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Label.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/LabelInfoTooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/LabelWithExternalIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/LedgerLiveLogo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Link.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/LinkHelp.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/LinkShowQRCode.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/LinkWithExternalIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/LiveAppDrawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/LoadingPlaceholder.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/LowGasAlertBuyMore.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/MainSideBar/Hide.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":38,"column":37,"nodeType":"TSAsExpression","messageId":"never","endLine":38,"endColumn":79}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { Transition } from \"react-transition-group\";\nimport styled from \"styled-components\";\nimport Box from \"~/renderer/components/Box\";\n\nconst hideTransitionDuration = 200;\nconst hideTransitionStyles = {\n  entering: {\n    opacity: 1,\n    transition: `opacity ${hideTransitionDuration}ms`,\n  },\n  entered: {\n    opacity: 1,\n  },\n  exiting: {\n    opacity: 0,\n    transition: `opacity ${hideTransitionDuration}ms`,\n  },\n  exited: {\n    opacity: 0,\n    width: 0,\n  },\n};\nconst HideContainer = styled(Box)`\n  overflow: hidden;\n`;\nconst Hide = ({\n  visible,\n  children,\n  ...rest\n}: { visible: boolean; children: React.ReactNode } & React.ComponentProps<\n  typeof HideContainer\n>) => (\n  <Transition in={visible} timeout={hideTransitionDuration}>\n    {state => (\n      <HideContainer\n        {...rest}\n        style={hideTransitionStyles[state as keyof typeof hideTransitionStyles]}\n      >\n        {children}\n      </HideContainer>\n    )}\n  </Transition>\n);\nexport default Hide;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/MainSideBar/RecoverStatusDot.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":71,"column":9,"nodeType":"TSAsExpression","messageId":"never","endLine":71,"endColumn":64}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback, useEffect, useState } from \"react\";\nimport { getStoreValue } from \"~/renderer/store\";\nimport { LedgerRecoverSubscriptionStateInProgressEnum } from \"~/types/recoverSubscriptionState\";\nimport { useFeature } from \"@ledgerhq/live-common/featureFlags/index\";\nimport { Box, Icons } from \"@ledgerhq/react-ui\";\nimport useTheme from \"~/renderer/hooks/useTheme\";\nimport styled, { keyframes, css } from \"styled-components\";\n\ninterface RecoverStatusNotificationProps {\n  collapsed: boolean;\n}\nconst collapseAnim = keyframes`\n  0% {\n    opacity: 0;\n    top: -5px;\n    right: -5px;\n    transform: translateY(0);\n  }\n  100% {\n    opacity: 1;\n    top: 5px;\n    right: 5px;\n    transform: translateY(0);\n  }\n`;\nconst openAnim = keyframes`\n  0% {\n    opacity: 0;\n    top: 50%;\n    right: 10px;\n    transform: translateY(-50%);\n  }\n  100% {\n    opacity: 1;\n    top: 50%;\n    right: 10px;\n    transform: translateY(-50%);\n  }\n`;\nconst StyledBox = styled(Box)<{\n  opacity?: number;\n  collapsed?: boolean | null;\n}>`\n  opacity: ${p => p.opacity};\n  position: absolute;\n  top: -5px;\n  right: -5px;\n  transform: translateY(0);\n  opacity: 0;\n  animation: ${p =>\n      p.collapsed\n        ? css`\n            ${collapseAnim}\n          `\n        : css`\n            ${openAnim}\n          `}\n    200ms 500ms ease forwards;\n`;\n\nconst RecoverStatusDot = ({ collapsed }: RecoverStatusNotificationProps) => {\n  const { colors } = useTheme();\n  const recoverServices = useFeature(\"protectServicesDesktop\");\n  const protectID = recoverServices?.params?.protectId ?? \"protect-prod\";\n  const [displayRecoverDot, setDisplayRecoverDot] = useState<boolean>();\n\n  const getRecoverSubscriptionState = useCallback(async () => {\n    const storage = await getStoreValue(\"SUBSCRIPTION_STATE\", protectID);\n    setDisplayRecoverDot(\n      Object.values(LedgerRecoverSubscriptionStateInProgressEnum).includes(\n        storage as LedgerRecoverSubscriptionStateInProgressEnum,\n      ),\n    );\n  }, [protectID]);\n\n  useEffect(() => {\n    getRecoverSubscriptionState();\n  }, [getRecoverSubscriptionState]);\n\n  return displayRecoverDot ? (\n    <StyledBox collapsed={collapsed}>\n      <Icons.WarningRoundedFill\n        size=\"XS\"\n        style={{\n          color: colors.warning.c70,\n          right: \"-3px\",\n          top: \"-8px\",\n          position: \"absolute\",\n        }}\n      />\n    </StyledBox>\n  ) : null;\n};\n\nexport default RecoverStatusDot;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/MainSideBar/TopGradient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/MainSideBar/index.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":388,"column":51,"nodeType":"TSAsExpression","messageId":"never","endLine":388,"endColumn":96}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useSelector, useDispatch } from \"LLD/hooks/redux\";\nimport { Link, useHistory, useLocation, PromptProps } from \"react-router-dom\";\nimport { Transition } from \"react-transition-group\";\nimport styled from \"styled-components\";\nimport { useDeviceHasUpdatesAvailable } from \"@ledgerhq/live-common/manager/useDeviceHasUpdatesAvailable\";\nimport { useRemoteLiveAppManifest } from \"@ledgerhq/live-common/platform/providers/RemoteLiveAppProvider/index\";\nimport { FeatureToggle, useFeature } from \"@ledgerhq/live-common/featureFlags/index\";\nimport { Icons, Tag as TagComponent } from \"@ledgerhq/react-ui\";\nimport { accountsSelector, starredAccountsSelector } from \"~/renderer/reducers/accounts\";\nimport {\n  sidebarCollapsedSelector,\n  lastSeenDeviceSelector,\n  featureFlagsButtonVisibleSelector,\n  overriddenFeatureFlagsSelector,\n} from \"~/renderer/reducers/settings\";\nimport { isNavigationLocked } from \"~/renderer/reducers/application\";\nimport { openModal } from \"~/renderer/actions/modals\";\nimport { setSidebarCollapsed } from \"~/renderer/actions/settings\";\nimport useExperimental from \"~/renderer/hooks/useExperimental\";\nimport { setTrackingSource } from \"~/renderer/analytics/TrackPage\";\nimport { darken } from \"~/renderer/styles/helpers\";\nimport { SideBarList, SideBarListItem } from \"~/renderer/components/SideBar\";\nimport Box from \"~/renderer/components/Box\";\nimport Space from \"~/renderer/components/Space\";\nimport UpdateDot from \"~/renderer/components/Updater/UpdateDot\";\nimport { Dot } from \"~/renderer/components/Dot\";\nimport Stars from \"~/renderer/components/Stars\";\nimport useEnv from \"@ledgerhq/live-common/hooks/useEnv\";\nimport { BAANX_APP_ID } from \"~/renderer/screens/card/CardPlatformApp\";\nimport TopGradient from \"./TopGradient\";\nimport Hide from \"./Hide\";\nimport { track } from \"~/renderer/analytics/segment\";\nimport { useAccountPath } from \"@ledgerhq/live-common/hooks/recoverFeatureFlag\";\nimport { useGetStakeLabelLocaleBased } from \"~/renderer/hooks/useGetStakeLabelLocaleBased\";\nimport RecoverStatusDot from \"~/renderer/components/MainSideBar/RecoverStatusDot\";\nimport { useOpenSendFlow } from \"LLD/features/Send/hooks/useOpenSendFlow\";\n\ntype Location = Parameters<Exclude<PromptProps[\"message\"], string>>[0];\n\nconst MAIN_SIDEBAR_WIDTH = 230;\n\nconst MAX_STARRED_ACCOUNTS_DISPLAYED_IN_SMALL_SCREEN = 3;\nconst STARRED_ACCOUNT_ITEM_HEIGHT = 55;\n\nconst TagText = styled.div.attrs<{ collapsed?: boolean }>(p => ({\n  style: {\n    opacity: p.collapsed ? 1 : 0,\n  },\n}))<{ collapsed?: boolean }>`\n  margin-left: ${p => p.theme.space[3]}px;\n  transition: opacity 0.2s;\n`;\nconst Tag = styled(Link)`\n  display: flex;\n  justify-self: flex-end;\n  justify-content: flex-start;\n  align-items: center;\n  font-family: \"Inter\";\n  font-weight: bold;\n  font-size: 10px;\n  min-height: 36px;\n  padding: 0 12px;\n  border-radius: 8px;\n  margin: 0px 16px 12px;\n  color: ${p => p.theme.colors.neutral.c100};\n  background-color: ${p => p.theme.colors.opacityPurple.c10};\n  text-decoration: none;\n  cursor: pointer;\n  border: solid 1px rgba(0, 0, 0, 0);\n\n  &:hover {\n    background-color: ${p => darken(p.theme.colors.opacityDefault.c10, 0.05)};\n    border-color: ${p => p.theme.colors.wallet};\n  }\n`;\n\nconst CustomTag = styled(TagComponent)`\n  border-radius: 6px;\n  padding: 2px 6px 2px 6px;\n`;\n\nconst collapserSize = 24;\nconst collapsedWidth = 15 * 4 + 16; // 15 * 4 margins + 16 icon size\n\nconst Collapser = styled(Box).attrs(() => ({\n  alignItems: \"center\",\n  justifyContent: \"center\",\n}))<{\n  collapsed?: boolean;\n}>`\n  position: absolute;\n  top: ${48 - collapserSize / 2}px;\n  left: ${p => (p.collapsed ? collapsedWidth : MAIN_SIDEBAR_WIDTH) - collapserSize / 2}px;\n\n  width: ${collapserSize}px;\n  height: ${collapserSize}px;\n\n  cursor: pointer;\n  border-radius: 50%;\n  background: linear-gradient(\n      ${p => p.theme.colors.opacityDefault.c05} 0%,\n      ${p => p.theme.colors.opacityDefault.c05} 100%\n    ),\n    ${p => p.theme.colors.background.default};\n  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.05);\n  border: 1px solid ${p => p.theme.colors.opacityDefault.c05};\n  transition: all 0.5s;\n  z-index: 100;\n\n  &:hover {\n    background: linear-gradient(\n        ${p => p.theme.colors.opacityDefault.c10} 0%,\n        ${p => p.theme.colors.opacityDefault.c10} 100%\n      ),\n      ${p => p.theme.colors.background.default};\n  }\n\n  & > * {\n    transform: ${p => (p.collapsed ? \"\" : \"rotate(180deg)\")};\n    margin-left: ${p => (p.collapsed ? \"\" : \"-2px\")};\n    transition: transform 0.5s;\n  }\n`;\nconst Separator = styled(Box).attrs(() => ({\n  mx: 4,\n}))`\n  height: 1px;\n  background: ${p => p.theme.colors.neutral.c40};\n`;\nconst sideBarTransitionStyles = {\n  entering: {\n    flexBasis: MAIN_SIDEBAR_WIDTH,\n  },\n  entered: {\n    flexBasis: MAIN_SIDEBAR_WIDTH,\n  },\n  exiting: {\n    flexBasis: collapsedWidth,\n  },\n  exited: {\n    flexBasis: collapsedWidth,\n  },\n};\nconst enableTransitions = () =>\n  document.body &&\n  setTimeout(\n    () => document.body && document.body.classList.remove(\"stop-container-transition\"),\n    500,\n  );\nconst disableTransitions = () =>\n  document.body && document.body.classList.add(\"stop-container-transition\");\nconst sideBarTransitionSpeed = 500;\nconst SideBar = styled(Box).attrs(() => ({\n  relative: true,\n}))`\n  flex: 0 0 auto;\n  width: auto;\n  background: linear-gradient(\n      ${p => p.theme.colors.opacityDefault.c05} 0%,\n      ${p => p.theme.colors.opacityDefault.c05} 100%\n    ),\n    ${p => p.theme.colors.background.default};\n  transition: flex ${sideBarTransitionSpeed}ms;\n  will-change: flex;\n  transform: translate3d(0, 0, 10);\n\n  & > ${Collapser} {\n    opacity: 0;\n  }\n\n  &:hover {\n    > ${Collapser} {\n      opacity: 1;\n    }\n  }\n`;\nconst SideBarScrollContainer = styled(Box)`\n  overflow-y: scroll;\n  overflow-x: hidden;\n\n  flex: 1;\n\n  ::-webkit-scrollbar {\n    width: 0;\n    height: 0;\n  }\n`;\n\nconst TagContainerExperimental = ({ collapsed }: { collapsed: boolean }) => {\n  const isExperimental = useExperimental();\n  const hasFullNodeConfigured = useEnv(\"SATSTACK\"); // NB remove once full node is not experimental\n\n  const { t } = useTranslation();\n  return isExperimental || hasFullNodeConfigured ? (\n    <Tag\n      data-testid=\"drawer-experimental-button\"\n      to={{\n        pathname: \"/settings/experimental\",\n      }}\n      onClick={() => setTrackingSource(\"sidebar\")}\n    >\n      <Icons.Experiment size=\"S\" color=\"primary.c80\" />\n      <TagText collapsed={collapsed}>{t(\"common.experimentalFeature\")}</TagText>\n    </Tag>\n  ) : null;\n};\nconst TagContainerFeatureFlags = ({ collapsed }: { collapsed: boolean }) => {\n  const isFeatureFlagsButtonVisible = useSelector(featureFlagsButtonVisibleSelector);\n  const overriddenFeatureFlags = useSelector(overriddenFeatureFlagsSelector);\n  const { t } = useTranslation();\n  return isFeatureFlagsButtonVisible || Object.keys(overriddenFeatureFlags).length !== 0 ? (\n    <Tag\n      data-testid=\"drawer-feature-flags-button\"\n      to={{\n        pathname: \"/settings/developer\",\n        state: {\n          shouldOpenFeatureFlags: true,\n        },\n      }}\n      onClick={() => setTrackingSource(\"sidebar\")}\n    >\n      <Icons.Switch2 size=\"S\" color=\"primary.c80\" />\n      <TagText collapsed={collapsed}>{t(\"common.featureFlags\")}</TagText>\n    </Tag>\n  ) : null;\n};\n\n// Check if the selected tab is a Live-App under discovery tab\nconst checkLiveAppTabSelection = (location: Location, liveAppPaths: Array<string>) =>\n  liveAppPaths.find((liveTab: string) => location?.pathname?.includes(liveTab));\n\nconst MainSideBar = () => {\n  const history = useHistory();\n  const location = useLocation();\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  const earnLabel = useGetStakeLabelLocaleBased();\n  const manifest = useRemoteLiveAppManifest(BAANX_APP_ID);\n  const isCardDisabled = !manifest;\n\n  /** redux navigation locked state */\n  const navigationLocked = useSelector(isNavigationLocked);\n  const collapsed = useSelector(sidebarCollapsedSelector);\n  const lastSeenDevice = useSelector(lastSeenDeviceSelector);\n  const noAccounts = useSelector(accountsSelector).length === 0;\n  const totalStarredAccounts = useSelector(starredAccountsSelector).length;\n  const displayBlueDot = useDeviceHasUpdatesAvailable(lastSeenDevice);\n\n  const referralProgramConfig = useFeature(\"referralProgramDesktopSidebar\");\n  const recoverFeature = useFeature(\"protectServicesDesktop\");\n  const recoverHomePath = useAccountPath(recoverFeature);\n\n  const handleCollapse = useCallback(() => {\n    dispatch(setSidebarCollapsed(!collapsed));\n  }, [dispatch, collapsed]);\n  const push = useCallback(\n    (pathname: string) => {\n      if (location.pathname === pathname) return;\n      setTrackingSource(\"sidebar\");\n      history.push({\n        pathname,\n      });\n    },\n    [history, location.pathname],\n  );\n\n  const trackEntry = useCallback(\n    (entry: string, flagged = false) => {\n      track(\"menuentry_clicked\", {\n        entry,\n        page: history.location.pathname,\n        flagged,\n      });\n    },\n    [history.location.pathname],\n  );\n  const handleClickCard = useCallback(() => {\n    push(\"/card\");\n    trackEntry(\"card\");\n  }, [push, trackEntry]);\n  const handleClickDashboard = useCallback(() => {\n    push(\"/\");\n    trackEntry(\"/portfolio\");\n  }, [push, trackEntry]);\n  const handleClickMarket = useCallback(() => {\n    push(\"/market\");\n    trackEntry(\"market\");\n  }, [push, trackEntry]);\n  const handleClickManager = useCallback(() => {\n    push(\"/manager\");\n    trackEntry(\"manager\");\n  }, [push, trackEntry]);\n  const handleClickAccounts = useCallback(() => {\n    push(\"/accounts\");\n    trackEntry(\"accounts\");\n  }, [push, trackEntry]);\n  const handleClickCatalog = useCallback(() => {\n    push(\"/platform\");\n    trackEntry(\"platform\");\n  }, [push, trackEntry]);\n  const handleClickExchange = useCallback(() => {\n    push(\"/exchange\");\n    trackEntry(\"exchange\");\n  }, [push, trackEntry]);\n  const openSendFlow = useOpenSendFlow();\n  const handleClickEarn = useCallback(() => {\n    push(\"/earn\");\n    trackEntry(\"earn\");\n  }, [push, trackEntry]);\n  const handleClickSwap = useCallback(() => {\n    push(\"/swap\");\n    trackEntry(\"swap\");\n  }, [push, trackEntry]);\n  const handleClickRefer = useCallback(() => {\n    if (referralProgramConfig?.enabled && referralProgramConfig?.params?.path) {\n      push(referralProgramConfig?.params.path);\n      trackEntry(\"refer-a-friend\", referralProgramConfig?.params.isNew);\n    }\n  }, [push, referralProgramConfig, trackEntry]);\n  const maybeRedirectToAccounts = useCallback(() => {\n    return location.pathname === \"/manager\" && push(\"/accounts\");\n  }, [location.pathname, push]);\n  const handleOpenSendModal = useCallback(() => {\n    maybeRedirectToAccounts();\n    openSendFlow();\n  }, [maybeRedirectToAccounts, openSendFlow]);\n  const handleOpenReceiveModal = useCallback(() => {\n    maybeRedirectToAccounts();\n    dispatch(openModal(\"MODAL_RECEIVE\", undefined));\n  }, [dispatch, maybeRedirectToAccounts]);\n\n  const handleClickRecover = useCallback(() => {\n    const enabled = recoverFeature?.enabled;\n    const openRecoverFromSidebar = recoverFeature?.params?.openRecoverFromSidebar;\n    const liveAppId = recoverFeature?.params?.protectId;\n\n    if (enabled && openRecoverFromSidebar && liveAppId && recoverHomePath) {\n      history.push(recoverHomePath);\n    } else if (enabled) {\n      dispatch(openModal(\"MODAL_PROTECT_DISCOVER\", undefined));\n    }\n    track(\"button_clicked2\", {\n      button: \"Protect\",\n    });\n  }, [\n    recoverFeature?.enabled,\n    recoverFeature?.params?.openRecoverFromSidebar,\n    recoverFeature?.params?.protectId,\n    recoverHomePath,\n    history,\n    dispatch,\n  ]);\n\n  // Add your live-app path here if you don't want discovery and the live-app tabs to be both selected\n  const isLiveAppTabSelected = checkLiveAppTabSelection(\n    location,\n    [\n      referralProgramConfig?.params?.path, // Refer-a-friend\n    ].filter((path): path is string => !!path), // Filter undefined values,\n  );\n\n  const getMinHeightForStarredAccountsList = () => {\n    if (totalStarredAccounts === 0) {\n      return \"max-content\"; // let it take the full height of the placeholder\n    }\n\n    const minHeight =\n      Math.min(totalStarredAccounts, MAX_STARRED_ACCOUNTS_DISPLAYED_IN_SMALL_SCREEN) *\n      STARRED_ACCOUNT_ITEM_HEIGHT;\n\n    return minHeight + \"px\";\n  };\n\n  return (\n    <Transition\n      in={!collapsed}\n      timeout={sideBarTransitionSpeed}\n      onEnter={disableTransitions}\n      onExit={disableTransitions}\n      onEntered={enableTransitions}\n      onExited={enableTransitions}\n    >\n      {state => {\n        const secondAnim = !(state === \"entered\" && !collapsed);\n        return (\n          <SideBar style={sideBarTransitionStyles[state as keyof typeof sideBarTransitionStyles]}>\n            <Collapser\n              collapsed={collapsed}\n              onClick={handleCollapse}\n              data-testid=\"drawer-collapse-button\"\n            >\n              <Icons.ChevronRight size=\"S\" />\n            </Collapser>\n\n            <SideBarScrollContainer>\n              <TopGradient />\n              <Space of={60} />\n              <SideBarList collapsed={secondAnim}>\n                <SideBarListItem\n                  id={\"dashboard\"}\n                  label={t(\"dashboard.title\")}\n                  icon={Icons.Home}\n                  iconActiveColor=\"wallet\"\n                  onClick={handleClickDashboard}\n                  isActive={location.pathname === \"/\" || location.pathname.startsWith(\"/asset/\")}\n                  NotifComponent={<UpdateDot collapsed={collapsed} />}\n                  collapsed={secondAnim}\n                />\n                <SideBarListItem\n                  id={\"market\"}\n                  label={t(\"sidebar.market\")}\n                  icon={Icons.GraphAsc}\n                  iconActiveColor=\"wallet\"\n                  onClick={handleClickMarket}\n                  isActive={location.pathname.startsWith(\"/market\")}\n                  collapsed={secondAnim}\n                />\n                <SideBarListItem\n                  id={\"accounts\"}\n                  label={t(\"sidebar.accounts\")}\n                  icon={Icons.Wallet}\n                  iconActiveColor=\"wallet\"\n                  isActive={location.pathname.startsWith(\"/account\")}\n                  onClick={handleClickAccounts}\n                  disabled={noAccounts}\n                  collapsed={secondAnim}\n                />\n                <SideBarListItem\n                  id={\"send\"}\n                  label={t(\"send.title\")}\n                  icon={Icons.ArrowUp}\n                  iconActiveColor=\"wallet\"\n                  onClick={handleOpenSendModal}\n                  disabled={noAccounts || navigationLocked}\n                  collapsed={secondAnim}\n                />\n                <SideBarListItem\n                  id={\"receive\"}\n                  label={t(\"receive.title\")}\n                  icon={Icons.ArrowDown}\n                  iconActiveColor=\"wallet\"\n                  onClick={handleOpenReceiveModal}\n                  disabled={noAccounts || navigationLocked}\n                  collapsed={secondAnim}\n                />\n                <SideBarListItem\n                  id={\"swap\"}\n                  label={t(\"sidebar.swap\")}\n                  icon={Icons.Exchange}\n                  iconActiveColor=\"wallet\"\n                  onClick={handleClickSwap}\n                  isActive={location.pathname.startsWith(\"/swap\")}\n                  disabled={noAccounts}\n                  collapsed={secondAnim}\n                />\n                <SideBarListItem\n                  id={\"earn\"}\n                  label={earnLabel}\n                  icon={Icons.Percentage}\n                  iconActiveColor=\"wallet\"\n                  onClick={handleClickEarn}\n                  isActive={location.pathname === \"/earn\"}\n                  collapsed={secondAnim}\n                />\n                <SideBarListItem\n                  id={\"exchange\"}\n                  label={t(\"sidebar.exchange\")}\n                  icon={Icons.Dollar}\n                  iconActiveColor=\"wallet\"\n                  onClick={handleClickExchange}\n                  isActive={location.pathname === \"/exchange\"}\n                  disabled={noAccounts}\n                  collapsed={secondAnim}\n                />\n                <SideBarListItem\n                  id={\"catalog\"}\n                  label={t(\"sidebar.catalog\")}\n                  icon={Icons.Globe}\n                  iconActiveColor=\"wallet\"\n                  isActive={location.pathname.startsWith(\"/platform\") && !isLiveAppTabSelected}\n                  onClick={handleClickCatalog}\n                  collapsed={secondAnim}\n                />\n                <FeatureToggle featureId=\"referralProgramDesktopSidebar\">\n                  <SideBarListItem\n                    id={\"refer\"}\n                    label={t(\"sidebar.refer\")}\n                    icon={Icons.Gift}\n                    iconActiveColor=\"wallet\"\n                    onClick={handleClickRefer}\n                    isActive={\n                      referralProgramConfig?.params &&\n                      location.pathname.startsWith(referralProgramConfig.params.path)\n                    }\n                    collapsed={secondAnim}\n                    NotifComponent={\n                      referralProgramConfig?.params?.amount ? (\n                        <CustomTag active type=\"plain\" size=\"small\">\n                          {referralProgramConfig?.params.amount}\n                        </CustomTag>\n                      ) : referralProgramConfig?.params?.isNew ? (\n                        <CustomTag active type=\"plain\" size=\"small\">\n                          {t(\"common.new\")}\n                        </CustomTag>\n                      ) : null\n                    }\n                  />\n                </FeatureToggle>\n                <SideBarListItem\n                  id={\"card\"}\n                  label={t(\"sidebar.card\")}\n                  icon={Icons.CreditCard}\n                  iconActiveColor=\"wallet\"\n                  isActive={location.pathname === \"/card\"}\n                  onClick={handleClickCard}\n                  collapsed={secondAnim}\n                  disabled={isCardDisabled}\n                />\n                <FeatureToggle featureId=\"protectServicesDesktop\">\n                  <SideBarListItem\n                    id={\"recover\"}\n                    label={t(\"sidebar.recover\")}\n                    icon={Icons.ShieldCheck}\n                    iconActiveColor=\"wallet\"\n                    onClick={handleClickRecover}\n                    collapsed={secondAnim}\n                    NotifComponent={<RecoverStatusDot collapsed={collapsed} />}\n                  />\n                </FeatureToggle>\n                <SideBarListItem\n                  id={\"manager\"}\n                  label={t(\"sidebar.manager\")}\n                  icon={Icons.LedgerDevices}\n                  iconActiveColor=\"wallet\"\n                  onClick={handleClickManager}\n                  isActive={location.pathname === \"/manager\"}\n                  NotifComponent={displayBlueDot ? <Dot collapsed={collapsed} /> : null}\n                  collapsed={secondAnim}\n                />\n              </SideBarList>\n\n              <Space grow of={30} />\n              <Hide visible={secondAnim && totalStarredAccounts > 0} mb={\"-8px\"}>\n                <Separator />\n              </Hide>\n              <SideBarList\n                style={{\n                  maxHeight: \"max-content\",\n                  minHeight: getMinHeightForStarredAccountsList(),\n                }}\n                scroll\n                title={t(\"sidebar.stars\")}\n                collapsed={secondAnim}\n              >\n                <Stars pathname={location.pathname} collapsed={secondAnim} />\n              </SideBarList>\n            </SideBarScrollContainer>\n\n            <Box pt={4}>\n              <TagContainerExperimental collapsed={!secondAnim} />\n              <TagContainerFeatureFlags collapsed={!secondAnim} />\n            </Box>\n          </SideBar>\n        );\n      }}\n    </Transition>\n  );\n};\nexport default MainSideBar;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Markdown.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":146,"column":37,"nodeType":"TSAsExpression","messageId":"never","endLine":146,"endColumn":60}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { PureComponent } from \"react\";\nimport styled from \"styled-components\";\nimport ReactMarkdown from \"react-markdown\";\nimport { shell } from \"electron\";\nimport Box from \"~/renderer/components/Box\";\n\nexport const Notes = styled(Box).attrs(() => ({\n  ff: \"Inter\",\n  fontSize: 4,\n  color: \"neutral.c80\",\n  flow: 4,\n}))`\n  ul,\n  ol {\n    padding-left: 20px;\n  }\n\n  p {\n    margin: 2em 0;\n    text-align: justify;\n  }\n\n  code,\n  pre {\n    font-family: \"SFMono-Regular\", Consolas, \"Liberation Mono\", Menlo, Courier, monospace;\n  }\n\n  code {\n    padding: 0.2em 0.4em;\n    font-size: 0.9em;\n    background-color: ${p => p.theme.colors.background.default};\n    border-radius: 3px;\n  }\n\n  pre {\n    word-wrap: normal;\n\n    code {\n      word-break: normal;\n      white-space: pre;\n      background: transparent;\n    }\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    color: ${p => p.theme.colors.neutral.c100};\n    font-weight: bold;\n    margin-top: 24px;\n    margin-bottom: 16px;\n  }\n\n  h1 {\n    padding-bottom: 0.3em;\n    font-size: 1.33em;\n  }\n\n  h2 {\n    padding-bottom: 0.3em;\n    font-size: 1.25em;\n  }\n\n  h3 {\n    font-size: 1em;\n  }\n\n  h4 {\n    font-size: 0.875em;\n  }\n\n  h5,\n  h6 {\n    font-size: 0.85em;\n    color: #6a737d;\n  }\n\n  strong {\n    font-weight: bold;\n  }\n\n  img {\n    max-width: 100%;\n  }\n\n  hr {\n    height: 1px;\n    border: none;\n    background-color: ${p => p.theme.colors.neutral.c40};\n  }\n\n  blockquote {\n    padding: 0 1em;\n    border-left: 0.25em solid #dfe2e5;\n  }\n\n  table {\n    width: 100%;\n    ${p => p.theme.overflow.xy};\n    border-collapse: collapse;\n\n    th {\n      font-weight: bold;\n    }\n\n    th,\n    td {\n      padding: 6px 13px;\n      border: 1px solid #dfe2e5;\n    }\n\n    tr {\n      background-color: #fff;\n      border-top: 1px solid #c6cbd1;\n    }\n\n    tr:nth-child(2n) {\n      background-color: #f6f8fa;\n    }\n  }\n\n  input[type=\"Switch\"] {\n    margin-right: 0.5em;\n  }\n\n  strong {\n    font-weight: 700;\n  }\n`;\ntype Props = {\n  children: string;\n};\n\nexport default class Markdown extends PureComponent<Props> {\n  componentDidMount() {\n    if (this.parent) {\n      const links = this.parent.querySelectorAll(\"a\");\n      links.forEach(link => {\n        link.style.cursor = \"pointer\";\n        link.addEventListener(\"click\", (e: MouseEvent) => {\n          e.preventDefault();\n\n          const href = e.target && (e.target as typeof link).href;\n          if (href) shell.openExternal(href);\n        });\n      });\n    }\n  }\n\n  parent: HTMLDivElement | undefined | null;\n  render() {\n    const { children } = this.props;\n    return (\n      <div id=\"terms-markdown\" ref={c => (this.parent = c)}>\n        {/* @ts-expect-error ReactMarkdown being weird, also we are using v4, and v8 has been out for a while */}\n        <ReactMarkdown>{children}</ReactMarkdown>\n      </div>\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Modal/ModalBody.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Modal/ModalContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Modal/ModalFooter.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Modal/ModalHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Modal/index.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":81,"column":29,"nodeType":"TSAsExpression","messageId":"never","endLine":81,"endColumn":69},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":107,"column":10,"nodeType":"TSAsExpression","messageId":"never","endLine":110,"endColumn":21},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":108,"column":27,"nodeType":"TSAsExpression","messageId":"never","endLine":108,"endColumn":67},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":109,"column":25,"nodeType":"TSAsExpression","messageId":"never","endLine":109,"endColumn":63},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":187,"column":33,"nodeType":"TSAsExpression","messageId":"never","endLine":189,"endColumn":35},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":291,"column":16,"nodeType":"TSAsExpression","messageId":"never","endLine":291,"endColumn":94},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":291,"column":16,"nodeType":"TSAsExpression","messageId":"never","endLine":291,"endColumn":78}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { PureComponent } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { connect } from \"react-redux\";\nimport styled, { CSSProperties, DefaultTheme } from \"styled-components\";\nimport noop from \"lodash/noop\";\nimport { Transition, TransitionStatus } from \"react-transition-group\";\nimport { closeModal } from \"~/renderer/actions/modals\";\nimport { isModalOpened, getModalData } from \"~/renderer/reducers/modals\";\nimport { ModalData } from \"~/renderer/modals/types\";\nimport Snow, { isSnowTime } from \"~/renderer/extra/Snow\";\nimport { State } from \"~/renderer/reducers\";\nimport { Dispatch } from \"redux\";\nexport { default as ModalBody } from \"./ModalBody\";\n\nconst mapStateToProps = <Name extends keyof ModalData>(\n  state: State,\n  { name, isOpened, onBeforeOpen }: Props<Name>,\n) => {\n  const data = name ? getModalData(state, name) : undefined;\n  const modalOpened = isOpened || (name && isModalOpened(state, name));\n  if (onBeforeOpen && modalOpened) {\n    onBeforeOpen({ data });\n  }\n  return {\n    isOpened: !!modalOpened,\n    data,\n  };\n};\n\nconst mapDispatchToProps = <Name extends keyof ModalData>(\n  dispatch: Dispatch,\n  { name, onClose = noop }: Props<Name>,\n) => ({\n  onClose: name\n    ? () => {\n        dispatch(closeModal(name));\n        onClose();\n      }\n    : onClose,\n});\n\nconst transitionsOpacity = {\n  entering: {\n    opacity: 0,\n  },\n  entered: {\n    opacity: 1,\n  },\n  exiting: {\n    opacity: 0,\n  },\n  exited: {\n    opacity: 0,\n  },\n};\nconst transitionsScale = {\n  entering: {\n    transform: \"scale(1.1)\",\n  },\n  entered: {\n    transform: \"scale(1)\",\n  },\n  exiting: {\n    transform: \"scale(1.1)\",\n  },\n  exited: {\n    transform: \"scale(1.1)\",\n  },\n};\nconst Container = styled.div.attrs(\n  ({\n    state,\n    centered,\n    isOpened,\n  }: {\n    state: TransitionStatus;\n    centered?: boolean;\n    isOpened?: boolean;\n  }) => ({\n    style: {\n      ...transitionsOpacity[state as keyof typeof transitionsOpacity],\n      justifyContent: centered ? \"center\" : \"flex-start\",\n      pointerEvents: isOpened ? \"auto\" : \"none\",\n    },\n  }),\n)<{\n  state: TransitionStatus;\n  centered?: boolean;\n  isOpened?: boolean;\n  backdropColor?: boolean | null;\n}>`\n  background-color: ${p => (p.backdropColor ? \"rgba(0, 0, 0, 0.4)\" : \"rgba(0,0,0,0)\")};\n  opacity: 0;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 100;\n  padding: 60px 0 60px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  transition: opacity 200ms cubic-bezier(0.3, 1, 0.5, 0.8);\n`;\nconst BodyWrapper = styled.div.attrs(({ state }: { state: TransitionStatus }) => ({\n  style: {\n    ...transitionsOpacity[state as keyof typeof transitionsOpacity],\n    ...transitionsScale[state as keyof typeof transitionsScale],\n  } as CSSProperties,\n}))<{ state: TransitionStatus; width?: number }>`\n  background: ${p => p.theme.colors.background.card};\n  color: ${p => p.theme.colors.neutral.c80};\n  width: ${p => p.width || 500}px;\n  border-radius: 3px;\n  box-shadow: 0 10px 20px 0 rgba(0, 0, 0, 0.2);\n  flex-shrink: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n  transform: scale(1.1);\n  opacity: 0;\n  transition: all 200ms cubic-bezier(0.3, 1, 0.5, 0.8);\n  outline: none;\n`;\nexport type RenderProps<Name extends keyof ModalData> = {\n  onClose: () => void;\n  data: ModalData[Name];\n};\n\ntype Props<Name extends keyof ModalData> = {\n  isOpened?: boolean;\n  children?: React.ReactNode;\n  centered?: boolean;\n  onClose?: (() => void) | undefined;\n  onHide?: (() => void) | undefined;\n  render?: (a: RenderProps<Name>) => React.ReactNode;\n  data?: ModalData[Name];\n  preventBackdropClick?: boolean;\n  width?: number;\n  theme?: DefaultTheme;\n  name?: Name;\n  // eslint-disable-line\n  onBeforeOpen?: (a: { data: ModalData[Name] | undefined }) => void;\n  // eslint-disable-line\n  backdropColor?: boolean | undefined | null;\n  bodyStyle?: CSSProperties;\n};\nclass Modal<Name extends keyof ModalData> extends PureComponent<\n  Props<Name>,\n  {\n    directlyClickedBackdrop: boolean;\n  }\n> {\n  state = {\n    directlyClickedBackdrop: false,\n  };\n\n  componentDidMount() {\n    document.addEventListener(\"keyup\", this.handleKeyup);\n    document.addEventListener(\"keydown\", this.preventFocusEscape);\n  }\n\n  componentDidUpdate({ isOpened, onHide }: Props<Name>) {\n    if (!isOpened && onHide) onHide();\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"keyup\", this.handleKeyup);\n    document.removeEventListener(\"keydown\", this.preventFocusEscape);\n  }\n\n  handleKeyup = (e: KeyboardEvent) => {\n    const { onClose, preventBackdropClick } = this.props;\n    if (e.key === \"Escape\" && onClose && !preventBackdropClick) {\n      onClose();\n    }\n  };\n\n  preventFocusEscape = (e: KeyboardEvent) => {\n    if (e.key === \"Tab\") {\n      const { target } = e;\n      const focusableQuery =\n        \"input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), *[tabindex]\";\n      const modalWrapper = document.getElementById(\"modals\");\n      if (!modalWrapper || !(target instanceof window.HTMLElement)) return;\n      const focusableElements = modalWrapper.querySelectorAll(\n        focusableQuery,\n      ) as NodeListOf<HTMLElement>;\n      if (!focusableElements.length) return;\n      const firstFocusable = focusableElements[0];\n      const lastFocusable = focusableElements[focusableElements.length - 1];\n      if (e.shiftKey && firstFocusable.isSameNode(target)) {\n        lastFocusable.focus();\n        e.stopPropagation();\n        e.preventDefault();\n      } else if (!e.shiftKey && lastFocusable.isSameNode(target)) {\n        firstFocusable.focus();\n        e.stopPropagation();\n        e.preventDefault();\n      }\n    }\n  };\n\n  handleClickOnBackdrop = () => {\n    const { preventBackdropClick, onClose } = this.props;\n    const { directlyClickedBackdrop } = this.state;\n    if (directlyClickedBackdrop && !preventBackdropClick && onClose) {\n      onClose();\n    }\n  };\n\n  onDirectMouseDown = () =>\n    this.setState({\n      directlyClickedBackdrop: true,\n    });\n\n  onIndirectMouseDown = () =>\n    this.setState({\n      directlyClickedBackdrop: false,\n    });\n\n  /** combined with tab-index 0 this will allow tab navigation into the modal disabling tab navigation behind it */\n  setFocus = (r: HTMLDivElement) => {\n    /** only pull focus if focus is out of modal ie: no input autofocused in modal */\n    if (r && !r.contains(document.activeElement)) r.focus();\n  };\n\n  swallowClick = (e: React.UIEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  render() {\n    const domNode = document.getElementById(\"modals\");\n    const { children, render, centered, onClose, data, isOpened, width, backdropColor, bodyStyle } =\n      this.props;\n    const renderProps = {\n      onClose: onClose!,\n      data: data!,\n    };\n    const modal = (\n      <Transition\n        in={isOpened}\n        appear\n        mountOnEnter\n        unmountOnExit\n        timeout={{\n          appear: 100,\n          enter: 100,\n          exit: 200,\n        }}\n      >\n        {state => {\n          return (\n            <Container\n              data-testid=\"modal-backdrop\"\n              state={state}\n              centered={centered}\n              isOpened={isOpened}\n              onMouseDown={this.onDirectMouseDown}\n              onClick={this.handleClickOnBackdrop}\n              backdropColor={backdropColor}\n            >\n              {isSnowTime() ? <Snow numFlakes={100} /> : null}\n              <BodyWrapper\n                tabIndex={0}\n                ref={this.setFocus}\n                state={state}\n                width={width}\n                onClick={this.swallowClick}\n                onMouseDown={e => {\n                  this.onIndirectMouseDown();\n                  e.stopPropagation();\n                }}\n                data-testid=\"modal-container\"\n                style={bodyStyle}\n              >\n                {render && render(renderProps)}\n                {children}\n              </BodyWrapper>\n            </Container>\n          );\n        }}\n      </Transition>\n    );\n    return domNode ? createPortal(modal, domNode) : null;\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Modal) as unknown as typeof Modal; // to preserve generics\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ModalQuizz/Answer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ModalQuizz/ModalQuizz.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ModalStepper/CloseButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ModalStepper/ModalStepperBody.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ModalStepper/ProgressBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ModalStepper/ProgressHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ModalStepper/StepLeftSide.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ModalStepper/StepRightSide.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ModalStepper/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/NavigationGuard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/NotEnoughFundsToUnstake/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Help/HideRecoverySeed.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Help/PinHelp.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Help/RecoverySeed.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Help/RecoveryWarning.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/LangSwitcher.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/OnboardingNavHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/OnboardingUseCase.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Pedagogy/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/SelectDevice/DeviceSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/SelectDevice/DeviceSelectorOption.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/SelectDevice/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/SelectUseCase/Separator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/SelectUseCase/UseCaseOption.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/SelectUseCase/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/Tutorial/index.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":857,"column":25,"nodeType":"TSAsExpression","messageId":"never","endLine":862,"endColumn":4},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":857,"column":25,"nodeType":"TSAsExpression","messageId":"never","endLine":857,"endColumn":45}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useFeature } from \"@ledgerhq/live-common/featureFlags/index\";\nimport { useCustomPath } from \"@ledgerhq/live-common/hooks/recoverFeatureFlag\";\nimport {\n  Aside,\n  Button,\n  Drawer,\n  Flex,\n  IconsLegacy,\n  InfiniteLoader,\n  Logos,\n  ProgressBar,\n} from \"@ledgerhq/react-ui\";\nimport { Direction } from \"@ledgerhq/react-ui/components/layout/Drawer/index\";\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useDispatch, useSelector } from \"LLD/hooks/redux\";\nimport { Route, Switch, useHistory, useLocation } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport {\n  saveSettings,\n  setOnboardingUseCase,\n  setHasRedirectedToPostOnboarding,\n  setHasBeenUpsoldRecover,\n  setLastOnboardedDevice,\n} from \"~/renderer/actions/settings\";\nimport { track, trackPage } from \"~/renderer/analytics/segment\";\nimport { HideRecoverySeed } from \"~/renderer/components/Onboarding/Help/HideRecoverySeed\";\nimport { PinHelp } from \"~/renderer/components/Onboarding/Help/PinHelp\";\nimport { RecoverySeed } from \"~/renderer/components/Onboarding/Help/RecoverySeed\";\nimport { DeviceHowTo } from \"~/renderer/components/Onboarding/Screens/Tutorial/screens/DeviceHowTo\";\nimport { DeviceHowTo2 } from \"~/renderer/components/Onboarding/Screens/Tutorial/screens/DeviceHowTo2\";\nimport { ExistingRecoveryPhrase } from \"~/renderer/components/Onboarding/Screens/Tutorial/screens/ExistingRecoveryPhrase\";\nimport { GenuineCheck } from \"~/renderer/components/Onboarding/Screens/Tutorial/screens/GenuineCheck\";\nimport { HideRecoveryPhrase } from \"~/renderer/components/Onboarding/Screens/Tutorial/screens/HideRecoveryPhrase\";\nimport { HowToGetStarted } from \"~/renderer/components/Onboarding/Screens/Tutorial/screens/HowToGetStarted\";\nimport { ImportYourRecoveryPhrase } from \"~/renderer/components/Onboarding/Screens/Tutorial/screens/ImportYourRecoveryPhrase\";\nimport { NewRecoveryPhrase } from \"~/renderer/components/Onboarding/Screens/Tutorial/screens/NewRecoveryPhrase\";\nimport { PairMyNano } from \"~/renderer/components/Onboarding/Screens/Tutorial/screens/PairMyNano\";\nimport { PinCode } from \"~/renderer/components/Onboarding/Screens/Tutorial/screens/PinCode\";\nimport { PinCodeHowTo } from \"~/renderer/components/Onboarding/Screens/Tutorial/screens/PinCodeHowTo\";\nimport { QuizFailure } from \"~/renderer/components/Onboarding/Screens/Tutorial/screens/QuizFailure\";\nimport { QuizSuccess } from \"~/renderer/components/Onboarding/Screens/Tutorial/screens/QuizSuccess\";\nimport { RecoverHowTo } from \"~/renderer/components/Onboarding/Screens/Tutorial/screens/RecoverHowTo\";\nimport { RecoverPinCodeHowTo } from \"~/renderer/components/Onboarding/Screens/Tutorial/screens/RecoverPinCodeHowTo\";\nimport { RecoveryHowTo1 } from \"~/renderer/components/Onboarding/Screens/Tutorial/screens/RecoveryHowTo1\";\nimport { RecoveryHowTo2 } from \"~/renderer/components/Onboarding/Screens/Tutorial/screens/RecoveryHowTo2\";\nimport { RecoveryHowTo3 } from \"~/renderer/components/Onboarding/Screens/Tutorial/screens/RecoveryHowTo3\";\nimport { UseRecoverySheet } from \"~/renderer/components/Onboarding/Screens/Tutorial/screens/UseRecoverySheet\";\nimport { openURL } from \"~/renderer/linking\";\nimport { QuizzPopin } from \"~/renderer/modals/OnboardingQuizz/OnboardingQuizzModal\";\nimport { useLocalizedUrl } from \"~/renderer/hooks/useLocalizedUrls\";\nimport RecoveryWarning from \"../../Help/RecoveryWarning\";\nimport { OnboardingUseCase } from \"../../OnboardingUseCase\";\nimport { urls } from \"~/config/urls\";\nimport { useRecoverRestoreOnboarding } from \"~/renderer/hooks/useRecoverRestoreOnboarding\";\nimport { useRedirectToPostOnboardingCallback } from \"~/renderer/hooks/useAutoRedirectToPostOnboarding\";\nimport { SecureYourCrypto } from \"~/renderer/components/Onboarding/Screens/Tutorial/screens/SecureYourCrypto\";\nimport { WelcomeToWalletWithFunds } from \"~/renderer/components/Onboarding/Screens/Tutorial/screens/WelcomeToWalletWithFunds\";\nimport { WelcomeToWalletWithoutFunds } from \"~/renderer/components/Onboarding/Screens/Tutorial/screens/WelcomeToWalletWithoutFunds\";\nimport {\n  onboardingIsSyncFlowSelector,\n  onboardingReceiveFlowSelector,\n  onboardingReceiveSuccessSelector,\n  setIsOnboardingReceiveFlow,\n  setOnboardingSyncFlow,\n} from \"~/renderer/reducers/onboarding\";\nimport { useOpenAssetFlow } from \"LLD/features/ModularDialog/hooks/useOpenAssetFlow\";\nimport { ModularDrawerLocation } from \"LLD/features/ModularDrawer\";\nimport { DeviceModelId } from \"@ledgerhq/devices\";\nimport { EnableSync } from \"~/renderer/components/Onboarding/Screens/Tutorial/screens/EnableSync\";\nimport { trustchainSelector } from \"@ledgerhq/ledger-key-ring-protocol/lib-es/store\";\nimport useLedgerSyncEntryPointViewModel from \"LLD/features/LedgerSyncEntryPoints/useLedgerSyncEntryPointViewModel\";\nimport { EntryPoint } from \"LLD/features/LedgerSyncEntryPoints/types\";\nimport WalletSyncDrawer from \"LLD/features/WalletSync/components/Drawer\";\nimport { AnalyticsPage } from \"LLD/features/WalletSync/hooks/useLedgerSyncAnalytics\";\nimport { walletSyncDrawerVisibilitySelector } from \"~/renderer/reducers/walletSync\";\n\nconst FlowStepperContainer = styled(Flex)`\n  width: 100%;\n  height: 100%;\n`;\n\nconst FlowStepperContentContainer = styled(Flex)`\n  height: 100%;\n  width: 50%;\n  padding: ${p => p.theme.space[10]}px;\n`;\n\nconst FlowStepperContent = styled(Flex)`\n  min-width: 514px;\n  max-width: 1022px;\n  height: 100%;\n  width: 70%;\n`;\n\nconst StepContent = styled.div`\n  flex-grow: 1;\n  margin-top: ${p => p.theme.space[10]}px;\n  margin-bottom: ${p => p.theme.space[10]}px;\n  width: 100%;\n`;\n\ntype FlowStepperProps = {\n  illustration?: React.ReactNode;\n  content?: React.ReactNode;\n  AsideFooter?: React.ElementType;\n  ProgressBar?: React.ReactNode;\n  continueLabel?: string;\n  continueLabelSecondary?: string;\n  continueLoading?: boolean;\n  continueDisabled?: boolean;\n  backLabel?: string;\n  disableBack?: boolean;\n  children: React.ReactNode;\n  handleBack?: () => void;\n  handleContinue: () => void;\n  handleContinueSecondary?: () => void;\n};\n\nconst FooterContainer = styled(Flex).attrs({ rowGap: 3, height: 120 })`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n`;\n\nconst FlowStepper: React.FC<FlowStepperProps> = ({\n  illustration,\n  AsideFooter,\n  continueLabel,\n  continueLabelSecondary,\n  backLabel,\n  continueLoading,\n  continueDisabled,\n  disableBack,\n  ProgressBar,\n  children,\n  handleBack,\n  handleContinue,\n  handleContinueSecondary,\n}) => {\n  const urlFaq = useLocalizedUrl(urls.faq);\n  const nanoOnboardingFundWalletFeature = useFeature(\"nanoOnboardingFundWallet\")?.enabled;\n\n  const handleHelp = () => openURL(urlFaq);\n\n  const { t } = useTranslation();\n\n  const Footer = (\n    <FooterContainer>{AsideFooter ? <AsideFooter onClick={handleHelp} /> : null}</FooterContainer>\n  );\n\n  return (\n    <FlowStepperContainer>\n      {!nanoOnboardingFundWalletFeature && (\n        <Aside\n          backgroundColor=\"constant.purple\"\n          header={\n            <Flex justifyContent=\"center\">\n              <Logos.LedgerLiveRegular width={155} height={32} />\n            </Flex>\n          }\n          footer={Footer}\n          width=\"324px\"\n          p={10}\n          position=\"relative\"\n        >\n          {illustration}\n        </Aside>\n      )}\n      <FlowStepperContentContainer flexGrow={1} justifyContent=\"center\">\n        <FlowStepperContent flexDirection=\"column\" /* Agrandir ici */>\n          {ProgressBar}\n          <StepContent>{children}</StepContent>\n          <Flex justifyContent={handleBack ? \"space-between\" : \"flex-end\"}>\n            {handleBack && (\n              <Button\n                iconPosition=\"left\"\n                onClick={handleBack}\n                disabled={disableBack}\n                variant=\"main\"\n                outline\n                Icon={() => <IconsLegacy.ArrowLeftMedium size={18} />}\n              >\n                {backLabel || t(\"common.back\")}\n              </Button>\n            )}\n            <Flex columnGap=\"16px\">\n              {handleContinueSecondary && (\n                <Button\n                  data-testid=\"v3-tutorial-continue-secondary\"\n                  onClick={handleContinueSecondary}\n                  disabled={continueLoading || continueDisabled}\n                >\n                  {continueLabelSecondary || t(\"common.continue\")}\n                </Button>\n              )}\n              <Button\n                data-testid=\"v3-tutorial-continue\"\n                onClick={handleContinue}\n                disabled={continueLoading || continueDisabled}\n                variant=\"main\"\n                iconSize={18}\n                Icon={continueLoading ? InfiniteLoader : IconsLegacy.ArrowRightMedium}\n              >\n                {continueLabel || t(\"common.continue\")}\n              </Button>\n            </Flex>\n          </Flex>\n        </FlowStepperContent>\n      </FlowStepperContentContainer>\n    </FlowStepperContainer>\n  );\n};\n\nexport enum ScreenId {\n  howToGetStarted = \"how-to-get-started\",\n  deviceHowTo = \"device-how-to\",\n  deviceHowTo2 = \"device-how-to-2\",\n  pinCode = \"pin-code\",\n  pinCodeHowTo = \"pin-code-how-to\",\n  newRecoveryPhrase = \"new-recovery-phrase\",\n  useRecoverySheet = \"use-recovery-sheet\",\n  recoveryHowTo = \"recovery-how-to\",\n  recoveryHowTo2 = \"recovery-how-to-2\",\n  recoveryHowTo3 = \"recovery-how-to-3\",\n  hideRecoveryPhrase = \"hide-recovery-phrase\",\n  importYourRecoveryPhrase = \"import-your-recovery-phrase\",\n  existingRecoveryPhrase = \"existing-recovery-phrase\",\n  quizSuccess = \"quiz-success\",\n  quizFailure = \"quiz-failure\",\n  pairMyNano = \"pair-my-nano\",\n  genuineCheck = \"genuine-check\",\n  recoverHowTo = \"recover-how-to\",\n  enableSync = \"enable-sync\",\n  secureYourCrypto = \"secure-your-crypto\",\n  welcomeToWalletWithFunds = \"welcome-to-wallet-with-funds\",\n  welcomeToWalletWithoutFunds = \"welcome-to-wallet-without-funds\",\n}\n\ntype ScreenComponent =\n  | typeof HowToGetStarted\n  | typeof DeviceHowTo\n  | typeof DeviceHowTo2\n  | typeof PinCode\n  | typeof PinCodeHowTo\n  | typeof NewRecoveryPhrase\n  | typeof UseRecoverySheet\n  | typeof RecoveryHowTo1\n  | typeof RecoveryHowTo2\n  | typeof RecoveryHowTo3\n  | typeof HideRecoveryPhrase\n  | typeof ImportYourRecoveryPhrase\n  | typeof ExistingRecoveryPhrase\n  | typeof QuizSuccess\n  | typeof QuizFailure\n  | typeof PairMyNano\n  | typeof GenuineCheck\n  | typeof RecoverHowTo\n  | typeof SecureYourCrypto\n  | typeof WelcomeToWalletWithFunds\n  | typeof WelcomeToWalletWithoutFunds;\n\ninterface IScreen {\n  id: ScreenId;\n  component: ScreenComponent;\n  useCases?: OnboardingUseCase[];\n  next: () => void;\n  nextSecondary?: () => void;\n  previous?: () => void;\n  canContinue?: boolean;\n  props?: { [key: string]: unknown };\n}\n\ntype Props = {\n  useCase: OnboardingUseCase;\n  deviceModelId: DeviceModelId | null;\n};\n\nfunction useRedirectToPortfolio({\n  enabled,\n  useCase,\n}: {\n  enabled: boolean;\n  useCase: OnboardingUseCase;\n}) {\n  const redirectToPostOnboarding = useRedirectToPostOnboardingCallback();\n  useEffect(() => {\n    if (enabled) {\n      /**\n       * There is a lag if we call history.push(\"/\") directly.\n       * To improve the UX in that situation, we have to first commit a \"loading\"\n       * state and then when that state is rendered (which will be when this\n       * block is executed), on the following commit we can call\n       * history.push(\"/\").\n       */\n      const timeout: ReturnType<typeof setTimeout> = setTimeout(() => {\n        redirectToPostOnboarding();\n      }, 0);\n      return () => {\n        clearTimeout(timeout);\n      };\n    }\n  }, [enabled, redirectToPostOnboarding, useCase]);\n}\n\nconst USE_CASE_SEED_CONFIG = {\n  [OnboardingUseCase.setupDevice]: \"new_seed\",\n  [OnboardingUseCase.recoveryPhrase]: \"restore_seed\",\n  [OnboardingUseCase.recover]: \"recover_seed\",\n  [OnboardingUseCase.connectDevice]: \"connect\",\n};\n\nexport default function Tutorial({ useCase, deviceModelId }: Props) {\n  const trackProperties = useMemo(() => {\n    return {\n      seedConfiguration: USE_CASE_SEED_CONFIG[useCase],\n      deviceModelId,\n      flow: \"Onboarding\",\n    };\n  }, [deviceModelId, useCase]);\n  const history = useHistory<{ fromRecover: boolean } | undefined>();\n  const [quizzOpen, setQuizOpen] = useState(false);\n  const syncDrawerOpen = useSelector(walletSyncDrawerVisibilitySelector);\n  const isOnboardingReceiveFlow = useSelector(onboardingReceiveFlowSelector);\n  const isOnboardingSyncFlow = useSelector(onboardingIsSyncFlowSelector);\n  const isOnboardingReceiveSuccess = useSelector(onboardingReceiveSuccessSelector);\n  const trustchain = useSelector(trustchainSelector);\n  const isLedgerSyncActive = Boolean(trustchain?.rootId);\n  const nanoOnboardingFundWalletFeature = useFeature(\"nanoOnboardingFundWallet\")?.enabled;\n  const nanoOnboardingEnableSyncFeature = useFeature(\"lldOnboardingEnableSync\")?.params?.nanos;\n  const initialIsLedgerSyncActive = useRef(isLedgerSyncActive);\n  const hasSyncStep = nanoOnboardingEnableSyncFeature && !initialIsLedgerSyncActive.current;\n  const { t } = useTranslation();\n  const { pathname } = useLocation();\n  const recoverFF = useFeature(\"protectServicesDesktop\");\n  const recoverRestorePath = useCustomPath(recoverFF, \"restore\", \"lld-restore-with-recover\");\n  const recoverDiscoverPath = useMemo(() => {\n    return `/recover/${recoverFF?.params?.protectId}?redirectTo=disclaimerRestore`;\n  }, [recoverFF?.params?.protectId]);\n\n  const [userUnderstandConsequences, setUserUnderstandConsequences] = useState(false);\n  const [userChosePinCodeHimself, setUserChosePinCodeHimself] = useState(false);\n\n  const [connectedDevice, setConnectedDevice] = useState<Device | null>(null);\n\n  const [onboardingDone, setOnboardingDone] = useState(false);\n\n  const [helpPinCode, setHelpPinCode] = useState(false);\n  const [helpRecoveryPhrase, setHelpRecoveryPhrase] = useState(false);\n  const [helpHideRecoveryPhrase, setHelpHideRecoveryPhrase] = useState(false);\n  const [helpRecoveryPhraseWarning, setHelpRecoveryPhraseWarning] = useState(false);\n\n  const urlSplit = useMemo(() => pathname.split(\"/\"), [pathname]);\n  const currentStep = useMemo(() => urlSplit[urlSplit.length - 1], [urlSplit]);\n  const path = useMemo(() => urlSplit.slice(0, urlSplit.length - 1).join(\"/\"), [urlSplit]);\n\n  const dispatch = useDispatch();\n\n  useRedirectToPortfolio({\n    enabled: onboardingDone,\n    useCase,\n  });\n\n  // Keep the state coming from react-router in a local state\n  // as location.state will be undefined when navigating to other steps\n  const [fromRecover, setFromRecover] = useState(false);\n  useEffect(() => {\n    if (history.location.state) {\n      setFromRecover(history.location.state.fromRecover);\n    }\n  }, [history.location.state]);\n\n  const { openAssetFlow } = useOpenAssetFlow(\n    { location: ModularDrawerLocation.ADD_ACCOUNT },\n    \"receive\",\n    \"MODAL_RECEIVE\",\n  );\n\n  const { openDrawer, closeDrawer } = useLedgerSyncEntryPointViewModel({\n    entryPoint: EntryPoint.onboarding,\n    needEligibleDevice: true,\n    onboardingNewDevice: true,\n  });\n\n  const completeOnboarding = useCallback(() => {\n    dispatch(\n      saveSettings({\n        hasCompletedOnboarding: true,\n      }),\n    );\n    dispatch(setLastOnboardedDevice(connectedDevice));\n    dispatch(setOnboardingUseCase(useCase));\n    dispatch(setHasRedirectedToPostOnboarding(false));\n    dispatch(setHasBeenUpsoldRecover(false));\n    track(\"Onboarding - End\", trackProperties);\n    setOnboardingDone(true);\n  }, [dispatch, connectedDevice, useCase, trackProperties]);\n\n  const screens = useMemo<IScreen[]>(() => {\n    const unfilteredScreens = [\n      {\n        id: ScreenId.howToGetStarted,\n        component: HowToGetStarted,\n        useCases: [OnboardingUseCase.setupDevice],\n        next: () => {\n          track(\"Onboarding - Get started step 1\", trackProperties);\n          history.push(`${path}/${ScreenId.deviceHowTo}`);\n        },\n        previous: () => history.push(\"/onboarding/select-use-case\"),\n      },\n      {\n        id: ScreenId.deviceHowTo,\n        component: DeviceHowTo,\n        useCases: [OnboardingUseCase.setupDevice],\n        next: () => history.push(`${path}/${ScreenId.pinCode}`),\n        previous: () => history.push(`${path}/${ScreenId.howToGetStarted}`),\n      },\n      {\n        id: ScreenId.deviceHowTo2,\n        component: DeviceHowTo2,\n        useCases: [OnboardingUseCase.setupDevice, OnboardingUseCase.recoveryPhrase],\n        next: () => {\n          if (useCase === OnboardingUseCase.setupDevice) {\n            history.push(`${path}/${ScreenId.deviceHowTo2}`);\n          }\n          // useCase === UseCase.recoveryPhrase\n          else {\n            history.push(`${path}/${ScreenId.pinCode}`);\n          }\n        },\n        previous: () => {\n          if (useCase === OnboardingUseCase.setupDevice) {\n            history.push(`${path}/${ScreenId.howToGetStarted}`);\n          }\n          // useCase === UseCase.recoveryPhrase\n          else {\n            history.push(`${path}/${ScreenId.importYourRecoveryPhrase}`);\n          }\n        },\n      },\n      {\n        id: ScreenId.pinCode,\n        component: PinCode,\n        props: {\n          toggleUserChosePinCodeHimself: () => {\n            setUserChosePinCodeHimself(!userChosePinCodeHimself);\n          },\n          userChosePinCodeHimself,\n        },\n        useCases: [\n          OnboardingUseCase.setupDevice,\n          OnboardingUseCase.recoveryPhrase,\n          OnboardingUseCase.recover,\n        ],\n        canContinue: userChosePinCodeHimself,\n        next: () => {\n          if (useCase === OnboardingUseCase.setupDevice) {\n            track(\"Onboarding - Pin code step 1\", trackProperties);\n          }\n          history.push(`${path}/${ScreenId.pinCodeHowTo}`);\n        },\n        previous: () => {\n          if (useCase === OnboardingUseCase.setupDevice) {\n            history.push(`${path}/${ScreenId.deviceHowTo}`);\n          } else if (useCase === OnboardingUseCase.recover) {\n            history.push(`${path}/${ScreenId.recoverHowTo}`);\n          }\n          // useCase === UseCase.recoveryPhrase\n          else {\n            history.push(`${path}/${ScreenId.deviceHowTo2}`);\n          }\n        },\n      },\n      {\n        id: ScreenId.pinCodeHowTo,\n        component: useCase === OnboardingUseCase.recover ? RecoverPinCodeHowTo : PinCodeHowTo,\n        useCases: [\n          OnboardingUseCase.setupDevice,\n          OnboardingUseCase.recoveryPhrase,\n          OnboardingUseCase.recover,\n        ],\n        next: () => {\n          if (useCase === OnboardingUseCase.setupDevice) {\n            track(\"Onboarding - Pin code step 2\", trackProperties);\n            // setHelpPinCode(true);\n          }\n          setHelpPinCode(true);\n          // useCase === UseCase.recoveryPhrase\n          /* else {\n              history.push(`${path}/${ScreenId.existingRecoveryPhrase}`);\n            } */\n        },\n        previous: () => history.push(`${path}/${ScreenId.pinCode}`),\n      },\n      {\n        id: ScreenId.newRecoveryPhrase,\n        component: NewRecoveryPhrase,\n        props: {\n          toggleUserUnderstandConsequences: () => {\n            setUserUnderstandConsequences(!userUnderstandConsequences);\n          },\n          userUnderstandConsequences,\n        },\n        useCases: [OnboardingUseCase.setupDevice],\n        canContinue: userUnderstandConsequences,\n        next: () => {\n          if (useCase === OnboardingUseCase.setupDevice) {\n            track(\"Onboarding - Recovery step 1\", trackProperties);\n          }\n          history.push(`${path}/${ScreenId.useRecoverySheet}`);\n        },\n        previous: () => history.push(`${path}/${ScreenId.pinCodeHowTo}`),\n      },\n      {\n        id: ScreenId.useRecoverySheet,\n        component: UseRecoverySheet,\n        useCases: [OnboardingUseCase.setupDevice],\n        next: () => {\n          if (useCase === OnboardingUseCase.setupDevice) {\n            track(\"Onboarding - Recovery step 2\", trackProperties);\n          }\n          history.push(`${path}/${ScreenId.recoveryHowTo3}`);\n        },\n        previous: () => history.push(`${path}/${ScreenId.newRecoveryPhrase}`),\n      },\n      {\n        id: ScreenId.recoveryHowTo,\n        component: RecoveryHowTo1,\n        useCases: [OnboardingUseCase.recoveryPhrase],\n        next: () => history.push(`${path}/${ScreenId.recoveryHowTo2}`),\n        previous: () => history.push(`${path}/${ScreenId.existingRecoveryPhrase}`),\n      },\n      {\n        id: ScreenId.recoveryHowTo2,\n        component: RecoveryHowTo2,\n        useCases: [OnboardingUseCase.recoveryPhrase],\n        next: () => {\n          setHelpRecoveryPhrase(true);\n        },\n        previous: () => history.push(`${path}/${ScreenId.recoveryHowTo}`),\n      },\n      {\n        id: ScreenId.recoveryHowTo3,\n        component: RecoveryHowTo3,\n        useCases: [OnboardingUseCase.setupDevice],\n        next: () => {\n          if (useCase === OnboardingUseCase.setupDevice) {\n            track(\"Onboarding - Recovery step 3\", trackProperties);\n          }\n          setHelpRecoveryPhrase(true);\n        },\n        previous: () => history.push(`${path}/${ScreenId.useRecoverySheet}`),\n      },\n      {\n        id: ScreenId.hideRecoveryPhrase,\n        component: HideRecoveryPhrase,\n        props: {\n          handleHelp: () => {\n            track(\"Onboarding - Recovery step 4 - HELP CLICK\", trackProperties);\n            setHelpHideRecoveryPhrase(true);\n          },\n        },\n        useCases: [OnboardingUseCase.setupDevice],\n        next: () => {\n          if (useCase === OnboardingUseCase.setupDevice) {\n            track(\"Onboarding - Recovery step 4\", trackProperties);\n          }\n          setHelpHideRecoveryPhrase(true);\n        },\n        previous: () => history.push(`${path}/${ScreenId.recoveryHowTo3}`),\n      },\n      {\n        id: ScreenId.importYourRecoveryPhrase,\n        component: ImportYourRecoveryPhrase,\n        useCases: [OnboardingUseCase.setupDevice, OnboardingUseCase.recoveryPhrase],\n        next: () => history.push(`${path}/${ScreenId.deviceHowTo2}`),\n        previous: () => {\n          if (useCase === OnboardingUseCase.setupDevice) {\n            history.push(\"/onboarding/select-use-case\");\n          } else {\n            history.push(\"/onboarding/select-use-case\");\n          }\n        },\n      },\n      {\n        id: ScreenId.existingRecoveryPhrase,\n        component: ExistingRecoveryPhrase,\n        props: {\n          userUnderstandConsequences,\n          toggleUserUnderstandConsequences: () => {\n            setUserUnderstandConsequences(!userUnderstandConsequences);\n          },\n        },\n        useCases: [OnboardingUseCase.recoveryPhrase],\n        next: () => history.push(`${path}/${ScreenId.recoveryHowTo}`),\n        previous: () => history.push(`${path}/${ScreenId.pinCodeHowTo}`),\n        canContinue: userUnderstandConsequences,\n      },\n      {\n        id: ScreenId.quizSuccess,\n        component: QuizSuccess,\n        useCases: [OnboardingUseCase.setupDevice],\n        next: () => {\n          if (useCase === OnboardingUseCase.setupDevice) {\n            track(\"Onboarding - Pair start\", trackProperties);\n          }\n          history.push(`${path}/${ScreenId.pairMyNano}`);\n        },\n        previous: () => history.push(`${path}/${ScreenId.hideRecoveryPhrase}`),\n      },\n      {\n        id: ScreenId.quizFailure,\n        component: QuizFailure,\n        useCases: [OnboardingUseCase.setupDevice],\n        next: () => {\n          if (useCase === OnboardingUseCase.setupDevice) {\n            track(\"Onboarding - Pair start\", trackProperties);\n          }\n          history.push(`${path}/${ScreenId.pairMyNano}`);\n        },\n        previous: () => history.push(`${path}/${ScreenId.hideRecoveryPhrase}`),\n      },\n      {\n        id: ScreenId.pairMyNano,\n        component: PairMyNano,\n        next: () => {\n          if (useCase === OnboardingUseCase.setupDevice) {\n            track(\"Onboarding - Genuine Check\", trackProperties);\n          }\n          if (useCase === OnboardingUseCase.recover) {\n            history.push(`${path}/${ScreenId.recoverHowTo}`);\n            return;\n          }\n          history.push(`${path}/${ScreenId.genuineCheck}`);\n        },\n        previous: () => {\n          if (useCase === OnboardingUseCase.recover && fromRecover) {\n            history.push(recoverDiscoverPath);\n          } else if (\n            [OnboardingUseCase.connectDevice, OnboardingUseCase.recover].includes(useCase)\n          ) {\n            history.push(\"/onboarding/select-use-case\");\n          } else if (useCase === OnboardingUseCase.setupDevice) {\n            history.push(`${path}/${ScreenId.hideRecoveryPhrase}`);\n          }\n          // useCase === UseCase.recoveryPhrase\n          else {\n            history.push(`${path}/${ScreenId.recoveryHowTo2}`);\n          }\n        },\n      },\n      {\n        id: ScreenId.genuineCheck,\n        component: GenuineCheck,\n        props: {\n          connectedDevice,\n          setConnectedDevice,\n        },\n        canContinue: !!connectedDevice,\n        next: () => {\n          if (useCase === OnboardingUseCase.setupDevice) {\n            if (nanoOnboardingFundWalletFeature) {\n              if (hasSyncStep) {\n                history.push(`${path}/${ScreenId.enableSync}`);\n                return;\n              } else {\n                history.push(`${path}/${ScreenId.secureYourCrypto}`);\n                return;\n              }\n            }\n          }\n          completeOnboarding();\n        },\n        previous: () => history.push(`${path}/${ScreenId.pairMyNano}`),\n      },\n      {\n        id: ScreenId.recoverHowTo,\n        component: RecoverHowTo,\n        useCases: [OnboardingUseCase.recover],\n        next: () => {\n          // TODO in next ticket\n          history.push(`${path}/${ScreenId.pinCode}`);\n        },\n        previous: () =>\n          fromRecover\n            ? history.push(recoverDiscoverPath)\n            : history.push(\"/onboarding/select-use-case\"),\n      },\n      {\n        id: ScreenId.enableSync,\n        component: EnableSync,\n        useCases: [OnboardingUseCase.setupDevice],\n        next: () => {\n          track(\"button_clicked\", {\n            button: \"Continue\",\n            ...trackProperties,\n          });\n          dispatch(setOnboardingSyncFlow({ seedConfiguration: trackProperties.seedConfiguration }));\n          openDrawer();\n        },\n        nextSecondary: () => {\n          track(\"button_clicked\", { button: \"Maybe later\", ...trackProperties });\n          trackPage(\"Set up device: Ledger Sync Reject\", null, { ...trackProperties });\n          history.push(`${path}/${ScreenId.secureYourCrypto}`);\n        },\n        previous: () => history.push(`${path}/${ScreenId.genuineCheck}`),\n      },\n      {\n        id: ScreenId.secureYourCrypto,\n        component: SecureYourCrypto,\n        useCases: [OnboardingUseCase.setupDevice],\n        next: () => {\n          track(\"Onboarding - Secure my crypto\", trackProperties);\n          dispatch(\n            setIsOnboardingReceiveFlow({\n              isFlow: true,\n              isSuccess: false,\n            }),\n          );\n          openAssetFlow();\n        },\n        nextSecondary: () => {\n          track(\"Onboarding - Maybe later\", trackProperties);\n          history.push(`${path}/${ScreenId.welcomeToWalletWithoutFunds}`);\n        },\n        previous: () => {\n          if (hasSyncStep) {\n            history.push(`${path}/${ScreenId.enableSync}`);\n            return;\n          }\n          history.push(`${path}/${ScreenId.genuineCheck}`);\n        },\n      },\n      {\n        id: ScreenId.welcomeToWalletWithFunds,\n        component: WelcomeToWalletWithFunds,\n        useCases: [OnboardingUseCase.setupDevice],\n        next: completeOnboarding,\n      },\n      {\n        id: ScreenId.welcomeToWalletWithoutFunds,\n        component: WelcomeToWalletWithoutFunds,\n        useCases: [OnboardingUseCase.setupDevice],\n        next: completeOnboarding,\n      },\n    ];\n\n    if (nanoOnboardingFundWalletFeature) {\n      if (hasSyncStep) {\n        return unfilteredScreens;\n      } else {\n        return unfilteredScreens.filter(({ id }) => id !== ScreenId.enableSync);\n      }\n    }\n\n    return unfilteredScreens.filter(\n      ({ id }) =>\n        ![\n          ScreenId.enableSync,\n          ScreenId.secureYourCrypto,\n          ScreenId.welcomeToWalletWithFunds,\n          ScreenId.welcomeToWalletWithoutFunds,\n        ].includes(id),\n    );\n  }, [\n    completeOnboarding,\n    connectedDevice,\n    dispatch,\n    fromRecover,\n    history,\n    nanoOnboardingFundWalletFeature,\n    openAssetFlow,\n    openDrawer,\n    path,\n    recoverDiscoverPath,\n    trackProperties,\n    useCase,\n    userChosePinCodeHimself,\n    userUnderstandConsequences,\n    hasSyncStep,\n  ]);\n\n  const steps = useMemo(() => {\n    const stepList = [\n      {\n        name: \"getStarted\",\n        screens: [\n          ScreenId.howToGetStarted,\n          ScreenId.deviceHowTo,\n          ScreenId.deviceHowTo2,\n          ScreenId.importYourRecoveryPhrase,\n        ],\n      },\n      {\n        name: \"pinCode\",\n        screens: [ScreenId.pinCode, ScreenId.pinCodeHowTo],\n      },\n      {\n        name: \"recoveryPhrase\",\n        screens: [\n          ScreenId.newRecoveryPhrase,\n          ScreenId.useRecoverySheet,\n          ScreenId.existingRecoveryPhrase,\n          ScreenId.recoveryHowTo,\n          ScreenId.recoveryHowTo2,\n          ScreenId.recoveryHowTo3,\n        ],\n      },\n      {\n        name: \"hideRecoveryPhrase\",\n        screens: [ScreenId.hideRecoveryPhrase, ScreenId.quizSuccess, ScreenId.quizFailure],\n      },\n      {\n        name: \"pairNano\",\n        screens: [ScreenId.pairMyNano, ScreenId.genuineCheck],\n      },\n    ];\n\n    if (useCase === OnboardingUseCase.recoveryPhrase) {\n      // Remove step : hideRecoveryPhrase\n      stepList.splice(3, 1);\n    }\n\n    if (useCase === OnboardingUseCase.setupDevice && nanoOnboardingFundWalletFeature) {\n      if (hasSyncStep) {\n        stepList.push({\n          name: \"enableSync\",\n          screens: [ScreenId.enableSync],\n        });\n      }\n      stepList.push({\n        name: \"secureYourCrypto\",\n        screens: [\n          ScreenId.secureYourCrypto,\n          ScreenId.welcomeToWalletWithFunds,\n          ScreenId.welcomeToWalletWithoutFunds,\n        ],\n      });\n    }\n\n    return stepList;\n  }, [nanoOnboardingFundWalletFeature, useCase, hasSyncStep]);\n\n  const currentScreenIndex = useMemo(\n    () => screens.findIndex(s => s.id === currentStep),\n    [currentStep, screens],\n  );\n  const {\n    component,\n    canContinue,\n    next,\n    nextSecondary,\n    previous,\n    id: currentScreenId,\n  } = screens[currentScreenIndex];\n  const CurrentScreen = component as unknown as {\n    Illustration: React.JSX.Element;\n    Footer: React.ElementType;\n    continueLabel: string;\n    continueLabelSecondary: string;\n  };\n\n  const screenStepIndex = useMemo(\n    () => steps.findIndex(s => !!s.screens.find(screenId => screenId === currentScreenId)),\n    [currentScreenId, steps],\n  );\n\n  const useCaseScreens = useMemo(\n    () =>\n      screens.filter(screen => {\n        return !screen.useCases || screen.useCases.includes(useCase);\n      }),\n    [screens, useCase],\n  );\n\n  const progressSteps = useMemo(\n    () =>\n      steps.map(({ name }) => ({\n        key: name,\n        label: t(`onboarding.screens.tutorial.steps.${name}`),\n      })),\n    [steps, t],\n  );\n\n  const quizSucceeds = useCallback(() => {\n    setQuizOpen(false);\n    history.push(`${path}/quiz-success`);\n  }, [history, path]);\n\n  const quizFails = useCallback(() => {\n    setQuizOpen(false);\n    history.push(`${path}/quiz-failure`);\n  }, [history, path]);\n\n  const handleNextInDrawer = useCallback(\n    (closeCurrentDrawer: (bool: boolean) => void, targetPath: string | object) => {\n      closeCurrentDrawer(false);\n      history.push(targetPath);\n    },\n    [history],\n  );\n\n  const { confirmRecoverOnboardingStatus } = useRecoverRestoreOnboarding();\n\n  const handleNextPin = useCallback(() => {\n    let targetPath: string | object = `${path}/${ScreenId.existingRecoveryPhrase}`;\n\n    if (useCase === OnboardingUseCase.recover && recoverRestorePath) {\n      const [pathname, search] = recoverRestorePath.split(\"?\");\n      targetPath = {\n        pathname,\n        search: search ? `?${search}` : undefined,\n        state: { deviceId: connectedDevice?.deviceId },\n      };\n\n      confirmRecoverOnboardingStatus();\n    }\n\n    if (useCase === OnboardingUseCase.setupDevice) {\n      targetPath = `${path}/${ScreenId.newRecoveryPhrase}`;\n    }\n\n    handleNextInDrawer(setHelpPinCode, targetPath);\n  }, [\n    confirmRecoverOnboardingStatus,\n    connectedDevice?.deviceId,\n    handleNextInDrawer,\n    path,\n    recoverRestorePath,\n    useCase,\n  ]);\n\n  useEffect(() => {\n    if (!isOnboardingReceiveFlow && isOnboardingReceiveSuccess) {\n      dispatch(\n        setIsOnboardingReceiveFlow({\n          isFlow: false,\n          isSuccess: false,\n        }),\n      );\n      history.push(`${path}/${ScreenId.welcomeToWalletWithFunds}`);\n    }\n  }, [\n    isOnboardingReceiveFlow,\n    isOnboardingReceiveSuccess,\n    history,\n    path,\n    currentScreenId,\n    dispatch,\n  ]);\n\n  useEffect(() => {\n    if (isLedgerSyncActive && currentStep === ScreenId.enableSync && !syncDrawerOpen) {\n      trackPage(\"Set up device: Step 4 Ledger Sync Success\", null, trackProperties);\n      history.push(`${path}/${ScreenId.secureYourCrypto}`);\n    }\n  }, [isLedgerSyncActive, history, path, currentStep, syncDrawerOpen, trackProperties]);\n\n  useEffect(() => {\n    if (isOnboardingSyncFlow && currentStep !== ScreenId.enableSync) {\n      dispatch(setOnboardingSyncFlow(null));\n    }\n  }, [dispatch, isOnboardingSyncFlow, currentStep]);\n\n  return (\n    <>\n      <QuizzPopin isOpen={quizzOpen} onWin={quizSucceeds} onLose={quizFails} onClose={quizFails} />\n      <Drawer isOpen={helpPinCode} onClose={() => setHelpPinCode(false)} direction={Direction.Left}>\n        <Flex px={40} height=\"100%\">\n          `\n          <PinHelp handleNextInDrawer={handleNextPin} />\n        </Flex>\n      </Drawer>\n      <Drawer\n        isOpen={helpRecoveryPhrase}\n        onClose={() => setHelpRecoveryPhrase(false)}\n        direction={Direction.Left}\n      >\n        <Flex px={40} height=\"100%\">\n          <RecoverySeed\n            handleNextInDrawer={() =>\n              handleNextInDrawer(\n                setHelpRecoveryPhrase,\n                useCase === OnboardingUseCase.setupDevice\n                  ? `${path}/${ScreenId.hideRecoveryPhrase}`\n                  : `${path}/${ScreenId.pairMyNano}`,\n              )\n            }\n          />\n        </Flex>\n      </Drawer>\n      <Drawer\n        isOpen={helpHideRecoveryPhrase}\n        onClose={() => setHelpHideRecoveryPhrase(false)}\n        direction={Direction.Left}\n      >\n        <Flex px={40} height=\"100%\">\n          <HideRecoverySeed\n            handleNextInDrawer={() => {\n              setQuizOpen(true);\n              handleNextInDrawer(\n                setHelpHideRecoveryPhrase,\n                `${path}/${ScreenId.hideRecoveryPhrase}`,\n              );\n            }}\n          />\n        </Flex>\n      </Drawer>\n      <Drawer\n        isOpen={helpRecoveryPhraseWarning}\n        onClose={() => setHelpRecoveryPhraseWarning(false)}\n        direction={Direction.Left}\n      >\n        <Flex px={40}>\n          <RecoveryWarning />\n        </Flex>\n      </Drawer>\n\n      <WalletSyncDrawer\n        currentPage={AnalyticsPage.Onboarding}\n        onClose={() => {\n          closeDrawer();\n        }}\n      />\n\n      <FlowStepper\n        illustration={CurrentScreen.Illustration}\n        AsideFooter={CurrentScreen.Footer}\n        continueDisabled={canContinue === false}\n        ProgressBar={\n          useCase !== OnboardingUseCase.connectDevice && useCase !== OnboardingUseCase.recover ? (\n            <ProgressBar steps={progressSteps} currentIndex={screenStepIndex} />\n          ) : (\n            <></>\n          )\n        }\n        continueLabel={CurrentScreen.continueLabel}\n        continueLabelSecondary={CurrentScreen.continueLabelSecondary}\n        continueLoading={onboardingDone}\n        handleContinue={next}\n        handleContinueSecondary={nextSecondary}\n        handleBack={previous}\n      >\n        <Switch>\n          {useCaseScreens.map(({ component, id, props: screenProps = {} }) => {\n            return (\n              <Route\n                key={id}\n                path={`${path}/${id}`}\n                render={props => {\n                  const Screen: React.ElementType = component;\n                  return <Screen {...props} {...screenProps} {...trackProperties} />;\n                }}\n              />\n            );\n          })}\n        </Switch>\n      </FlowStepper>\n    </>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/Tutorial/screens/DeviceHowTo.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":49,"column":22,"nodeType":"TSAsExpression","messageId":"never","endLine":49,"endColumn":90}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useContext } from \"react\";\nimport { useTranslation, Trans } from \"react-i18next\";\nimport { Bullet, Title, Column, AnimationContainer, AsideFooter } from \"../shared\";\nimport Animation from \"~/renderer/animations\";\nimport { getDeviceAnimation } from \"~/renderer/components/DeviceAction/animations\";\nimport { OnboardingContext } from \"../../../index\";\nimport useTheme from \"~/renderer/hooks/useTheme\";\n\nconst steps = [\n  {\n    text: \"onboarding.screens.tutorial.screens.deviceHowTo.turnOn.title\",\n    subText: \"onboarding.screens.tutorial.screens.deviceHowTo.turnOn.descr\",\n  },\n  {\n    text: \"onboarding.screens.tutorial.screens.deviceHowTo.browse.title\",\n    subText: \"onboarding.screens.tutorial.screens.deviceHowTo.browse.descr\",\n  },\n  {\n    text: \"onboarding.screens.tutorial.screens.deviceHowTo.select.title\",\n    subText: \"onboarding.screens.tutorial.screens.deviceHowTo.select.descr\",\n  },\n  {\n    text: \"onboarding.screens.tutorial.screens.deviceHowTo.follow.title\",\n    subText: \"onboarding.screens.tutorial.screens.deviceHowTo.follow.descr\",\n  },\n];\n\nexport function DeviceHowTo() {\n  const { t } = useTranslation();\n\n  return (\n    <Column>\n      <Title>{t(\"onboarding.screens.tutorial.screens.howToGetStarted.title\")}</Title>\n      {steps.map((step, index) => (\n        <Bullet key={index} bulletText={index + 1} text={t(step.text)} subText={t(step.subText)} />\n      ))}\n    </Column>\n  );\n}\n\nconst DeviceHowToAnimation = () => {\n  const { deviceModelId } = useContext(OnboardingContext);\n  const { theme } = useTheme();\n\n  return (\n    <AnimationContainer>\n      {deviceModelId && (\n        <Animation\n          animation={getDeviceAnimation(deviceModelId, theme, \"plugAndPinCode\") as object}\n        />\n      )}\n    </AnimationContainer>\n  );\n};\n\nDeviceHowTo.Illustration = <DeviceHowToAnimation />;\n\nconst Footer = (props: object) => {\n  const { t } = useTranslation();\n  return (\n    <AsideFooter\n      {...props}\n      text={t(\"onboarding.screens.tutorial.screens.deviceHowTo.help.descr\")}\n    />\n  );\n};\n\nDeviceHowTo.Footer = Footer;\n\nDeviceHowTo.continueLabel = (\n  <Trans i18nKey=\"onboarding.screens.tutorial.screens.deviceHowTo.buttons.next\" />\n);\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/Tutorial/screens/DeviceHowTo2.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/Tutorial/screens/EnableSync.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/Tutorial/screens/ExistingRecoveryPhrase.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/Tutorial/screens/GenuineCheck.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/Tutorial/screens/HideRecoveryPhrase.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/Tutorial/screens/HowToGetStarted.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/Tutorial/screens/ImportYourRecoveryPhrase.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/Tutorial/screens/NewRecoveryPhrase.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/Tutorial/screens/PairMyNano.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/Tutorial/screens/PinCode.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/Tutorial/screens/PinCodeHowTo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/Tutorial/screens/QuizFailure.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/Tutorial/screens/QuizSuccess.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/Tutorial/screens/RecoverHowTo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/Tutorial/screens/RecoverPinCodeHowTo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/Tutorial/screens/RecoveryHowTo1.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/Tutorial/screens/RecoveryHowTo2.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/Tutorial/screens/RecoveryHowTo3.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/Tutorial/screens/SecureYourCrypto.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/Tutorial/screens/UseRecoverySheet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/Tutorial/screens/WelcomeToWalletWithFunds.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/Tutorial/screens/WelcomeToWalletWithoutFunds.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/Tutorial/shared.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/Welcome/WelcomeOld.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/Screens/Welcome/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/ScrollArea.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Onboarding/preloadAssets.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/OnboardingAppInstall/AllowManagerModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/OnboardingAppInstall/AppInstallItem.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/OnboardingAppInstall/CancelModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/OnboardingAppInstall/DefaultAppsIllustration.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/OnboardingAppInstall/InstallSetOfApps.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/OnboardingAppInstall/LockedModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/OnboardingAppInstall/RestoreAppsIllustration.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/OnboardingAppInstall/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/OpenUserDataDirectoryBtn.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/OperationsList/AccountCell.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/OperationsList/AddressCell.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":112,"column":24,"nodeType":"TSAsExpression","messageId":"never","endLine":112,"endColumn":71,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/OperationsList/AmountCell.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/OperationsList/ConfirmationCell.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/OperationsList/ConfirmationCheck.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":60,"column":13,"nodeType":"TSAsExpression","messageId":"never","endLine":60,"endColumn":36,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/OperationsList/DateCell.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/OperationsList/EditOperationPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/OperationsList/Operation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/OperationsList/OperationDate.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/OperationsList/OperationsListV1/index.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":118,"column":8,"nodeType":"TSAsExpression","messageId":"never","endLine":118,"endColumn":30,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":118,"column":32,"nodeType":"TSAsExpression","messageId":"never","endLine":118,"endColumn":60,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/OperationsList/SectionTitle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/OperationsList/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/OperationsList/tests/splitAddress.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/OptionRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ParentCryptoCurrencyIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/PerCurrencySelectAccount/state.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Pills.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/PillsDaysCount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/PillsDaysSelect.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Placeholder.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/PlaceholderChart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Platform/AppCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Platform/AppDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/PlatformAppProviderWrapper.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Popover.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/PostOnboardingHub/EuropaBannerIllustration.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/PostOnboardingHub/PostOnboardingActionRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/PostOnboardingHub/PostOnboardingHubBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/PostOnboardingHub/PostOnboardingHubContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/PostOnboardingHub/PostOnboardingMockAction.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/PostOnboardingHub/StaxBannerIllustration.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/PostOnboardingHub/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/PostOnboardingHub/logic/PostOnboardingProviderWrapped.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/PostOnboardingHub/logic/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/PostOnboardingHub/logic/useCheckAccountWithFunds.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/PostOnboardingHub/logic/useCompleteAction.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/PostOnboardingHub/logic/useNavigateToPostOnboardingHubCallback.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/PostOnboardingScreen/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Price.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Progress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ProgressCircle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ProviderIcon/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ProviderIcon/styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/QRCode.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/QRCodeCameraPickerCanvas.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ReadOnlyAddressField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Receive2NoDevice.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/RecipientAddress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/RecoverBanner/RecoverBanner.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":40,"column":20,"nodeType":"TSAsExpression","messageId":"never","endLine":40,"endColumn":65}],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":68,"column":32,"nodeType":"TSAsExpression","messageId":"never","endLine":70,"endColumn":32,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":75,"column":32,"nodeType":"TSAsExpression","messageId":"never","endLine":77,"endColumn":32,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":82,"column":32,"nodeType":"TSAsExpression","messageId":"never","endLine":84,"endColumn":32,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Flex, ProgressLoader, Text, Icons } from \"@ledgerhq/react-ui\";\nimport React, { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useFeature } from \"@ledgerhq/live-common/featureFlags/index\";\nimport { getStoreValue, setStoreValue } from \"~/renderer/store\";\nimport { useCustomPath } from \"@ledgerhq/live-common/hooks/recoverFeatureFlag\";\nimport { useTranslation } from \"react-i18next\";\nimport { RecoverBannerType } from \"./types\";\nimport ActionCard from \"../ContentCards/ActionCard\";\nimport { Card } from \"../Box\";\nimport styled from \"styled-components\";\nimport { LedgerRecoverSubscriptionStateEnum } from \"~/types/recoverSubscriptionState\";\nimport useTheme from \"~/renderer/hooks/useTheme\";\n\nconst maxStepNumber = Object.keys(LedgerRecoverSubscriptionStateEnum).length;\n\nconst Wrapper = styled(Card)`\n  background-color: ${p => p.theme.colors.opacityPurple.c10};\n  margin: 20px 0;\n`;\n\n/**\n * @prop children: if a child is passed, it will be rendered instead of the default banner. this allows to do a passthroughs to have first the recover banner, then the rest of the content.\n */\nexport default function RecoverBanner({ children }: { children?: React.ReactNode }) {\n  const { colors } = useTheme();\n  const [storageData, setStorageData] = useState<LedgerRecoverSubscriptionStateEnum>(\n    LedgerRecoverSubscriptionStateEnum.NO_SUBSCRIPTION,\n  );\n  const [displayBannerData, setDisplayBannerData] = useState<boolean>();\n  const [stepNumber, setStepNumber] = useState<number>(0);\n\n  const recoverServices = useFeature(\"protectServicesDesktop\");\n  const recoverBannerIsEnabled = recoverServices?.params?.bannerSubscriptionNotification;\n  const protectID = recoverServices?.params?.protectId ?? \"protect-prod\";\n\n  const getStorageSubscriptionState = useCallback(async () => {\n    const storage = await getStoreValue(\"SUBSCRIPTION_STATE\", protectID);\n    const displayBanner = await getStoreValue(\"DISPLAY_BANNER\", protectID);\n    setStorageData(storage as LedgerRecoverSubscriptionStateEnum);\n    setDisplayBannerData(displayBanner === \"true\");\n  }, [protectID]);\n\n  useEffect(() => {\n    getStorageSubscriptionState();\n  }, [getStorageSubscriptionState]);\n\n  const { t } = useTranslation();\n  const history = useHistory();\n\n  const recoverResumeActivatePath = useCustomPath(\n    recoverServices,\n    \"resumeActivate\",\n    \"lld-banner-unfinished-onboarding\",\n    \"recover-launch\",\n  );\n\n  const recoverBannerSelected: RecoverBannerType | undefined = useMemo(() => {\n    let recoverBannerWording: RecoverBannerType;\n\n    switch (storageData) {\n      case LedgerRecoverSubscriptionStateEnum.NO_SUBSCRIPTION:\n        setStepNumber(1);\n        return undefined;\n      case LedgerRecoverSubscriptionStateEnum.STARGATE_SUBSCRIBE:\n        setStepNumber(2);\n        // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n        recoverBannerWording = t(\"dashboard.recoverBanner.subscribeDone\", {\n          returnObjects: true,\n        }) as RecoverBannerType;\n        break;\n      case LedgerRecoverSubscriptionStateEnum.BACKUP_VERIFY_IDENTITY:\n        setStepNumber(3);\n        // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n        recoverBannerWording = t(\"dashboard.recoverBanner.verifyIdentity\", {\n          returnObjects: true,\n        }) as RecoverBannerType;\n        break;\n      case LedgerRecoverSubscriptionStateEnum.BACKUP_DEVICE_CONNECTION:\n        setStepNumber(4);\n        // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n        recoverBannerWording = t(\"dashboard.recoverBanner.connectDevice\", {\n          returnObjects: true,\n        }) as RecoverBannerType;\n        break;\n      case LedgerRecoverSubscriptionStateEnum.BACKUP_DONE:\n        setStepNumber(5);\n        return undefined;\n      default:\n        setStepNumber(0);\n        return undefined;\n    }\n\n    return recoverBannerWording;\n  }, [storageData, t]);\n\n  const onRedirectRecover = () => {\n    if (recoverResumeActivatePath) {\n      history.push(recoverResumeActivatePath);\n    }\n  };\n\n  const onCloseBanner = () => {\n    setStoreValue(\"DISPLAY_BANNER\", \"false\", protectID);\n    setDisplayBannerData(false);\n  };\n\n  const passthroughs = children || null;\n  if (!recoverBannerIsEnabled || !recoverBannerSelected || !displayBannerData) return passthroughs;\n\n  const isWarning = stepNumber > 2;\n\n  return (\n    <Wrapper>\n      <ActionCard\n        leftContent={\n          <Flex alignItems=\"center\" justifyContent=\"center\" ml={3} width={40}>\n            <ProgressLoader\n              progress={(stepNumber * 100) / maxStepNumber}\n              radius={20}\n              stroke={4}\n              showPercentage={false}\n              frontStrokeColor={isWarning ? colors.warning.c70 : undefined}\n            />\n            {isWarning ? (\n              <Icons.WarningFill color=\"warning.c70\" size=\"XS\" />\n            ) : (\n              <Text\n                display=\"block\"\n                flex={1}\n                textAlign=\"center\"\n                fontSize=\"12px\"\n                lineHeight=\"15px\"\n                fontWeight=\"medium\"\n              >\n                {`${stepNumber}/${maxStepNumber - 1}`}\n              </Text>\n            )}\n          </Flex>\n        }\n        title={recoverBannerSelected.title}\n        description={recoverBannerSelected.description}\n        actions={{\n          primary: {\n            label: recoverBannerSelected.primaryCta,\n            action: onRedirectRecover,\n          },\n          dismiss: {\n            label: recoverBannerSelected.secondaryCta,\n            action: onCloseBanner,\n          },\n        }}\n      />\n    </Wrapper>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/RecoverBanner/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/RecoverRestore/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/RenderError.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/RepairDeviceButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/RequestAmount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/RetryButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ScrollLoadingList.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":58,"column":16,"nodeType":"TSAsExpression","messageId":"never","endLine":58,"endColumn":100}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback, useState, useRef, memo, useEffect } from \"react\";\nimport debounce from \"lodash/debounce\";\nimport styled from \"styled-components\";\nimport Box from \"~/renderer/components/Box\";\nconst ScrollContainer = styled(Box).attrs(p => ({\n  pl: p.theme.overflow.trackSize,\n  mb: -40,\n}))`\n  ${p => p.theme.overflow.yAuto};\n`;\ntype ScrollLoadingListProps<D> = {\n  data: Array<D>;\n  renderItem: (a: D, index: number) => React.ReactNode;\n  noResultPlaceholder?: React.ReactNode | null;\n  scrollEndThreshold?: number;\n  bufferSize?: number;\n  style?: React.CSSProperties;\n};\nfunction ScrollLoadingList<D>({\n  data,\n  renderItem,\n  noResultPlaceholder,\n  scrollEndThreshold = 200,\n  bufferSize = 20,\n  style,\n}: ScrollLoadingListProps<D>) {\n  const scrollRef = useRef<HTMLDivElement | null>(null);\n  const [scrollOffset, setScrollOffset] = useState(bufferSize);\n\n  /**\n   * We are reseting scroll after each change of data\n   * to the top position\n   */\n  useEffect(() => {\n    if (scrollRef.current) scrollRef.current.scrollTop = 0;\n    setScrollOffset(bufferSize);\n  }, [data, scrollRef, bufferSize]);\n  const handleScroll = useCallback(() => {\n    const target = scrollRef && scrollRef.current;\n    if (\n      // the offset was off when :\n      // - do a first search with few results and scroll on the bottom of it\n      // - then do one more search but with no result\n      // - and redo a research with a result, no items will be display in the scrollContainer\n      // we don't allow the value 0 to be able to set the offset to prevent this\n      target &&\n      target.scrollTop + target.offsetHeight >= target.scrollHeight - scrollEndThreshold\n    )\n      setScrollOffset(Math.min(data.length, scrollOffset + bufferSize));\n  }, [setScrollOffset, scrollOffset, data.length, bufferSize, scrollEndThreshold]);\n  return (\n    <ScrollContainer ref={scrollRef} onScroll={debounce(handleScroll, 50)} style={style}>\n      {data.slice(0, scrollOffset).map(renderItem)}\n      {data.length <= 0 && noResultPlaceholder}\n    </ScrollContainer>\n  );\n}\nexport default memo<ScrollLoadingListProps<unknown>>(ScrollLoadingList) as typeof ScrollLoadingList;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Select/createRenderers.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":56,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":56,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1486,1489],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1486,1489],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":58,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":58,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1596,1599],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1596,1599],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":60,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":60,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1701,1704],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1701,1704],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":64,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":64,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1847,1850],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1847,1850],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":64,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":64,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1852,1855],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1852,1855],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":93,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":93,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2777,2780],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2777,2780],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Select/createStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Select/index.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":133,"column":67,"nodeType":"TSAsExpression","messageId":"never","endLine":133,"endColumn":85},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":145,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":145,"endColumn":23},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":275,"column":18,"nodeType":"TSAsExpression","messageId":"never","endLine":275,"endColumn":80},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":297,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":297,"endColumn":51},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":339,"column":17,"nodeType":"TSAsExpression","messageId":"never","endLine":339,"endColumn":30},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":358,"column":16,"nodeType":"TSAsExpression","messageId":"never","endLine":358,"endColumn":80},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":358,"column":16,"nodeType":"TSAsExpression","messageId":"never","endLine":358,"endColumn":63}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":29,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1151,1154],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1151,1154],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":32,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1314,1317],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1314,1317],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":133,"column":82,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":133,"endColumn":85,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3895,3898],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3895,3898],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":145,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":145,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4376,4379],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4376,4379],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":244,"column":8,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":244,"endColumn":11,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6970,6973],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6970,6973],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":297,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":297,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8129,8132],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8129,8132],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":301,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":301,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8265,8268],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8265,8268],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":304,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":304,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8390,8393],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8390,8393],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":339,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":339,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9357,9360],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9357,9360],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { PureComponent } from \"react\";\nimport ReactSelect, {\n  components,\n  GroupBase,\n  MenuListProps,\n  Props as ReactSelectProps,\n  StylesConfig,\n  OnChangeValue,\n} from \"react-select\";\nimport AsyncReactSelect from \"react-select/async\";\nimport { withTranslation } from \"react-i18next\";\nimport { FixedSizeList as List } from \"react-window\";\nimport styled, { DefaultTheme, withTheme } from \"styled-components\";\nimport debounce from \"lodash/debounce\";\nimport createStyles from \"./createStyles\";\nimport createRenderers from \"./createRenderers\";\n\nexport type Props<\n  OptionType = { label: string; value: string },\n  IsMulti extends boolean = false,\n  GroupType extends GroupBase<OptionType> = GroupBase<OptionType>,\n> = {\n  onChange: (a?: OnChangeValue<OptionType, IsMulti> | null) => void;\n  // custom renders\n  renderOption?: (a: { data: OptionType; isDisabled: boolean }) => React.ReactNode;\n  renderValue?: (a: { data: OptionType; isDisabled: boolean }) => React.ReactNode;\n  /** @deprecated Use renderValue instead - accepts various legacy formats */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  renderSelected?: (a: any) => React.ReactNode;\n  /** @deprecated Not used in react-select v5 */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  itemToString?: (item: any) => string;\n  // optional\n  async?: boolean;\n  isRight?: boolean;\n  isLeft?: boolean;\n  small?: boolean;\n  width?: number;\n  minWidth?: number;\n  virtual?: boolean;\n  rowHeight?: number;\n  disableOptionPadding?: boolean;\n  error?: Error | undefined | null;\n  fakeFocusRight?: boolean;\n  // NB at least a different rendering for now\n  stylesMap?: (\n    a: StylesConfig<OptionType, IsMulti, GroupType>,\n  ) => StylesConfig<OptionType, IsMulti, GroupType>;\n  extraRenderers?: {\n    [x: string]: (props: unknown) => React.ReactNode;\n  };\n  // Allows overriding react-select components. See: https://react-select.com/components\n  disabledTooltipText?: string;\n  theme?: DefaultTheme;\n} & Omit<ReactSelectProps<OptionType, IsMulti, GroupType>, \"onChange\">;\n\nconst Row = styled.div`\n  max-width: 100%;\n`;\n\nclass MenuList<\n  OptionType,\n  IsMulti extends boolean,\n  GroupType extends GroupBase<OptionType> = GroupBase<OptionType>,\n> extends PureComponent<\n  MenuListProps<OptionType, IsMulti, GroupType> &\n    Props<OptionType, IsMulti, GroupType> & {\n      lastItemIndex?: number;\n      keepLastScrollPosition?: boolean;\n      onScrollEnd?: () => void;\n    }\n> {\n  state: {\n    children: OptionType[] | null;\n    currentIndex: number;\n  } = {\n    children: null,\n    currentIndex: 0,\n  };\n\n  static getDerivedStateFromProps(\n    {\n      children,\n      lastItemIndex,\n      keepLastScrollPosition,\n    }: {\n      children: React.ReactNode;\n      lastItemIndex: number;\n      keepLastScrollPosition: boolean;\n    },\n    state: { children: React.ReactNode },\n  ) {\n    if (children !== state.children) {\n      let currentIndex: number;\n      if (keepLastScrollPosition && lastItemIndex) {\n        currentIndex = lastItemIndex;\n      } else {\n        currentIndex = Array.isArray(children)\n          ? Math.max(\n              children.findIndex(({ props: { isFocused } }) => isFocused),\n              0,\n            )\n          : 0;\n      }\n\n      return {\n        children,\n        currentIndex,\n      };\n    }\n    return null;\n  }\n\n  componentDidMount() {\n    this.scrollList();\n  }\n\n  componentDidUpdate() {\n    this.scrollList();\n  }\n\n  scrollList = () => {\n    const { currentIndex } = this.state;\n    if (this.list && this.list.current) {\n      this.list.current.scrollToItem(currentIndex);\n    }\n  };\n\n  list = React.createRef<List>();\n  render() {\n    const { options, maxHeight, getValue, onScrollEnd, selectProps } = this.props;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const { noOptionsMessage, rowHeight = 48, inputValue = \"\" } = selectProps as any;\n    const { children } = this.state;\n    if (!children) return null;\n    const [value] = getValue();\n    const initialOffset = options.indexOf(value) * rowHeight;\n    const minHeight = Math.min(...[maxHeight, rowHeight * children.length]);\n\n    if (!children.length && noOptionsMessage?.({ inputValue })) {\n      return <components.NoOptionsMessage {...this.props} innerProps={{}} />;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (children as any[]).forEach(key => {\n      if (key?.props?.innerProps) {\n        delete key.props.innerProps.onMouseMove; // NB: Removes lag on hover, see https://github.com/JedWatson/react-select/issues/3128#issuecomment-433834170\n        delete key.props.innerProps.onMouseOver;\n      }\n    });\n\n    const handleScroll = ({\n      scrollOffset,\n      scrollUpdateWasRequested,\n    }: {\n      scrollOffset: number;\n      scrollUpdateWasRequested: boolean;\n    }) => {\n      if (!scrollUpdateWasRequested && onScrollEnd) {\n        const totalHeight = children.length * rowHeight;\n        const visibleHeight = minHeight;\n        const lastScrollOffset = scrollOffset + visibleHeight;\n\n        if (lastScrollOffset >= totalHeight - 10 && onScrollEnd) {\n          onScrollEnd();\n        }\n      }\n    };\n\n    return (\n      <List\n        data-testid=\"select-options-list\"\n        ref={this.list}\n        width=\"100%\"\n        style={{\n          overflowX: \"hidden\",\n        }}\n        height={minHeight}\n        overscanCount={8}\n        itemCount={children.length}\n        itemSize={rowHeight}\n        initialScrollOffset={initialOffset}\n        onScroll={handleScroll}\n      >\n        {({ index, style }) => (\n          <Row style={style}>\n            {/* @ts-expect-error I have no idea what's up here */}\n            {children[index]}\n          </Row>\n        )}\n      </List>\n    );\n  }\n}\nclass Select<\n  OptionType = { label: string; value: string },\n  IsMulti extends boolean = false,\n  GroupType extends GroupBase<OptionType> = GroupBase<OptionType>,\n> extends PureComponent<\n  Props<OptionType, IsMulti, GroupType> & {\n    lastItemIndex?: number | undefined;\n    keepLastScrollPosition?: boolean;\n    onScrollEnd?: () => void;\n  }\n> {\n  componentDidMount() {\n    if (this.ref && this.props.autoFocus) {\n      this.timeout = requestAnimationFrame(() => this.ref?.focus());\n    }\n    window.addEventListener(\"resize\", this.resizeHandler);\n  }\n\n  componentWillUnmount() {\n    if (this.timeout) {\n      cancelAnimationFrame(this.timeout);\n    }\n    window.removeEventListener(\"resize\", this.resizeHandler);\n  }\n\n  resizeHandler = debounce(\n    () => {\n      if (this.ref) this.ref.blur();\n    },\n    200,\n    {\n      leading: true,\n    },\n  );\n\n  handleChange: ReactSelectProps<OptionType, IsMulti, GroupType>[\"onChange\"] = (\n    value,\n    { action },\n  ) => {\n    const { onChange } = this.props;\n    if (action === \"select-option\") {\n      onChange(value);\n    }\n    if (action === \"pop-value\") {\n      onChange(null);\n    }\n  };\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  ref: any;\n  timeout: number | undefined;\n  render() {\n    const {\n      async,\n      value,\n      isClearable,\n      isSearchable,\n      isDisabled,\n      isLoading,\n      isRight,\n      isLeft,\n      placeholder,\n      options,\n      renderOption,\n      renderValue,\n      width,\n      minWidth,\n      small,\n      theme,\n      error,\n      stylesMap,\n      virtual = true,\n      rowHeight = small ? 34 : 48,\n      autoFocus,\n      extraRenderers,\n      lastItemIndex,\n      keepLastScrollPosition,\n      onScrollEnd,\n      ...props\n    } = this.props;\n    const Comp = (async ? AsyncReactSelect : ReactSelect) as typeof ReactSelect;\n    const baseStyles =\n      theme &&\n      createStyles(theme, {\n        width,\n        minWidth,\n        small,\n        isRight,\n        isLeft,\n        error,\n        rowHeight,\n      });\n    const baseStylesWithPlaceholder = {\n      ...baseStyles,\n      placeholder: (base: React.CSSProperties) => ({\n        ...base,\n        color: theme?.colors.neutral.c60,\n      }),\n    };\n\n    const styles = stylesMap\n      ? // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        stylesMap(baseStylesWithPlaceholder as any)\n      : baseStylesWithPlaceholder;\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const customComponents: any = virtual\n      ? {\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          MenuList: (props: any) => (\n            <MenuList\n              {...props}\n              lastItemIndex={lastItemIndex}\n              keepLastScrollPosition={keepLastScrollPosition}\n              onScrollEnd={onScrollEnd}\n            />\n          ),\n          ...createRenderers({\n            renderOption,\n            renderValue,\n            selectProps: this.props,\n          }),\n          ...(extraRenderers || {}),\n        }\n      : {\n          ...createRenderers({\n            renderOption,\n            renderValue,\n            selectProps: this.props,\n          }),\n          ...(extraRenderers || {}),\n        };\n\n    return (\n      <Comp\n        {...props}\n        ref={c => (this.ref = c)}\n        autoFocus={autoFocus}\n        value={value}\n        maxMenuHeight={rowHeight * 4.5}\n        classNamePrefix=\"select\"\n        options={options}\n        components={customComponents}\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        styles={styles as any}\n        placeholder={placeholder}\n        isDisabled={isDisabled}\n        isLoading={isLoading}\n        isClearable={isClearable}\n        isSearchable={isSearchable}\n        menuPlacement=\"auto\"\n        blurInputOnSelect={false}\n        backspaceRemovesValue\n        captureMenuScroll={false}\n        menuShouldBlockScroll\n        menuPortalTarget={document.body}\n        // @ts-expect-error rowHeight is a custom prop passed through selectProps\n        rowHeight={rowHeight}\n        onChange={this.handleChange}\n      />\n    );\n  }\n}\nexport default withTranslation()(withTheme(Select)) as unknown as typeof Select;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SelectAccount.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":322,"column":10,"nodeType":"TSAsExpression","messageId":"never","endLine":322,"endColumn":24,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SelectCurrency.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":44,"column":51,"nodeType":"TSAsExpression","messageId":"never","endLine":44,"endColumn":89},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":104,"column":12,"nodeType":"TSAsExpression","messageId":"never","endLine":110,"endColumn":30},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":211,"column":51,"nodeType":"TSAsExpression","messageId":"never","endLine":211,"endColumn":76},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":218,"column":26,"nodeType":"TSAsExpression","messageId":"never","endLine":218,"endColumn":51},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":231,"column":22,"nodeType":"TSAsExpression","messageId":"never","endLine":231,"endColumn":47},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":237,"column":26,"nodeType":"TSAsExpression","messageId":"never","endLine":237,"endColumn":51}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback, useMemo, useState, memo } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport styled from \"styled-components\";\nimport Fuse from \"fuse.js\";\nimport { CryptoOrTokenCurrency, TokenCurrency } from \"@ledgerhq/types-cryptoassets\";\nimport useEnv from \"@ledgerhq/live-common/hooks/useEnv\";\nimport { useCurrenciesByMarketcap } from \"@ledgerhq/live-common/currencies/hooks\";\nimport { getEnv } from \"@ledgerhq/live-env\";\nimport Select from \"~/renderer/components/Select\";\nimport { CreateStylesReturnType } from \"~/renderer/components/Select/createStyles\";\nimport Box from \"~/renderer/components/Box\";\nimport CryptoCurrencyIcon from \"~/renderer/components/CryptoCurrencyIcon\";\nimport Text from \"./Text\";\nimport { StylesConfig } from \"react-select\";\n\ntype CurrencyOption = CryptoOrTokenCurrency & {\n  value: CryptoOrTokenCurrency;\n  label: CryptoOrTokenCurrency[\"name\"];\n  currency: CryptoOrTokenCurrency;\n  isDisabled: boolean;\n};\n\ntype Props = {\n  onChange: (a?: CryptoOrTokenCurrency | null) => void;\n  currencies: CryptoOrTokenCurrency[];\n  value?: CurrencyOption[\"currency\"] | null;\n  placeholder?: string;\n  autoFocus?: boolean;\n  minWidth?: number;\n  width?: number;\n  rowHeight?: number;\n  isCurrencyDisabled?: (a: CryptoOrTokenCurrency) => boolean;\n  isDisabled?: boolean;\n  id?: string;\n  renderValueOverride?: ({ data }: { data: CurrencyOption }) => React.ReactNode;\n  stylesMap?: (a: StylesConfig<CurrencyOption>) => CreateStylesReturnType<CurrencyOption>;\n  onMenuOpen?: () => void;\n  small?: boolean;\n  onMenuScrollToBottom?: () => void;\n  lastItemIndex?: number;\n  keepLastScrollPosition?: boolean;\n  isLoading?: boolean;\n};\nconst getOptionValue = (data: CurrencyOption) => (data.currency as CryptoOrTokenCurrency).id;\n\n// TODO: I removed the {...props} that was passed to Select. We might need to check out it doesnt break other stuff\nconst SelectCurrency = ({\n  onChange,\n  value,\n  placeholder,\n  currencies,\n  autoFocus,\n  minWidth,\n  width,\n  rowHeight = 47,\n  renderValueOverride,\n  isCurrencyDisabled,\n  isDisabled,\n  id,\n  stylesMap,\n  onMenuOpen,\n  small,\n  onMenuScrollToBottom,\n  lastItemIndex,\n  keepLastScrollPosition,\n  isLoading,\n}: Props) => {\n  const { t } = useTranslation();\n  const devMode = useEnv(\"MANAGER_DEV_MODE\");\n  let c = currencies;\n  if (!devMode) {\n    c = c.filter(c => c.type !== \"CryptoCurrency\" || !c.isTestnetFor);\n  }\n  const [searchInputValue, setSearchInputValue] = useState(\"\");\n  const cryptos = useCurrenciesByMarketcap(c);\n  const onChangeCallback = useCallback(\n    (item: CurrencyOption) => onChange(item ? item.currency : null),\n    [onChange],\n  );\n  const noOptionsMessage = useCallback(\n    ({ inputValue }: { inputValue: string }) =>\n      inputValue\n        ? t(\"common.selectCurrencyNoOption\", {\n            currencyName: inputValue,\n          })\n        : t(\"common.selectCurrencyEmptyOption\"),\n    [t],\n  );\n  const options: CurrencyOption[] = useMemo(\n    () =>\n      cryptos.map(c => ({\n        ...c,\n        value: c,\n        label: c.name,\n        currency: c,\n        isDisabled: isCurrencyDisabled ? isCurrencyDisabled(c) : false,\n      })),\n    [isCurrencyDisabled, cryptos],\n  );\n\n  const selectedOption: CurrencyOption | null = useMemo(\n    () =>\n      value\n        ? ({\n            ...value,\n            value: value,\n            label: value.name,\n            currency: value,\n            isDisabled: isCurrencyDisabled ? isCurrencyDisabled(value) : false,\n          } as CurrencyOption)\n        : null,\n    [value, isCurrencyDisabled],\n  );\n\n  const fuseOptions = useMemo(\n    () => ({\n      threshold: 0.1,\n      keys: getEnv(\"CRYPTO_ASSET_SEARCH_KEYS\"),\n      shouldSort: false,\n    }),\n    [],\n  );\n\n  const filteredOptions = useMemo(() => {\n    const fuse = new Fuse(options, fuseOptions);\n    return searchInputValue.length > 0\n      ? fuse.search(searchInputValue).map(res => res.item)\n      : options;\n  }, [searchInputValue, options, fuseOptions]);\n\n  return (\n    <Select\n      id={id}\n      autoFocus={autoFocus}\n      value={selectedOption}\n      options={filteredOptions}\n      filterOption={null}\n      getOptionValue={getOptionValue}\n      renderOption={renderOption}\n      onMenuOpen={onMenuOpen}\n      renderValue={renderValueOverride || renderOption}\n      onInputChange={v => setSearchInputValue(v)}\n      inputValue={searchInputValue}\n      placeholder={placeholder || t(\"common.selectCurrency\")}\n      noOptionsMessage={noOptionsMessage}\n      // @ts-expect-error Select hell again\n      onChange={onChangeCallback}\n      minWidth={minWidth}\n      width={width}\n      isDisabled={isDisabled}\n      rowHeight={rowHeight}\n      stylesMap={stylesMap}\n      small={small}\n      onScrollEnd={onMenuScrollToBottom}\n      lastItemIndex={lastItemIndex}\n      keepLastScrollPosition={keepLastScrollPosition}\n      isLoading={isLoading}\n    />\n  );\n};\nconst OptionMultilineContainer = styled(Box)`\n  line-height: 1.3em;\n`;\n\nconst OptionBox = styled(Box)`\n  display: grid;\n  grid-template-columns: auto 1fr auto;\n  align-items: center;\n  vertical-align: middle;\n  grid-gap: 10px;\n`;\n\nconst OptionTitleBox = styled(Box).attrs(() => ({\n  color: \"neutral.c100\",\n  ff: \"Inter|SemiBold\",\n  fontSize: 4,\n}))`\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: block;\n`;\n\nconst CurrencyLabel = styled(Text).attrs(() => ({\n  color: \"neutral.c70\",\n  ff: \"Inter|SemiBold\",\n  fontSize: 2,\n}))`\n  padding: 0 6px;\n  height: 24px;\n  line-height: 24px;\n  border-color: currentColor;\n  border-width: 1px;\n  border-style: solid;\n  border-radius: 4px;\n  text-align: center;\n  flex: 0 0 auto;\n  box-sizing: content-box;\n`;\nexport function CurrencyOption({\n  currency,\n  singleLineLayout = true,\n  hideParentTag = false,\n  tagVariant = \"default\",\n}: {\n  currency: CryptoOrTokenCurrency;\n  singleLineLayout?: boolean;\n  hideParentTag?: boolean;\n  tagVariant?: \"default\" | \"thin\";\n}) {\n  const isParentTagDisplayed = !hideParentTag && (currency as TokenCurrency).parentCurrency;\n  const textContents = singleLineLayout ? (\n    <>\n      <OptionTitleBox title={`${currency.name} (${currency.ticker})`}>\n        {`${currency.name} (${currency.ticker})`}\n      </OptionTitleBox>\n      {isParentTagDisplayed ? (\n        <CurrencyLabel>{(currency as TokenCurrency).parentCurrency.name}</CurrencyLabel>\n      ) : null}\n    </>\n  ) : (\n    <>\n      <OptionMultilineContainer flex=\"1\">\n        <Text ff=\"Inter|SemiBold\" fontSize={4} color=\"neutral.c100\">\n          {currency.name}\n        </Text>\n        <Box horizontal alignItems=\"center\">\n          <Text color=\"neutral.c60\" ff=\"Inter|Medium\" fontSize={3}>\n            {currency.ticker}{\" \"}\n            {isParentTagDisplayed && tagVariant === \"thin\"\n              ? `(${(currency as TokenCurrency).parentCurrency.name})`\n              : null}\n          </Text>\n        </Box>\n      </OptionMultilineContainer>\n      {isParentTagDisplayed && tagVariant === \"default\" ? (\n        <CurrencyLabel>{(currency as TokenCurrency).parentCurrency.name}</CurrencyLabel>\n      ) : null}\n    </>\n  );\n  return (\n    <OptionBox role=\"option\">\n      <CryptoCurrencyIcon currency={currency} size={30} />\n      {textContents}\n    </OptionBox>\n  );\n}\nconst renderOption = <C extends CurrencyOption>({ data }: { data: C }) => (\n  <CurrencyOption currency={data.currency} />\n);\nexport default memo<Props>(SelectCurrency);\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SelectFeeStrategy.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SendFeeMode.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SideBar/SideBarList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SideBar/SideBarListItem.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":108,"column":22,"nodeType":"TSAsExpression","messageId":"never","endLine":108,"endColumn":71}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { PureComponent } from \"react\";\nimport styled, { DefaultTheme } from \"styled-components\";\nimport Hide from \"~/renderer/components/MainSideBar/Hide\";\nimport Box, { Tabbable } from \"~/renderer/components/Box\";\nimport Tooltip from \"~/renderer/components/Tooltip\";\n\ninterface IconProps {\n  size: \"S\" | \"XS\" | \"M\" | \"L\" | \"XL\" | undefined;\n}\n\nexport type Props = {\n  label: string | ((a: Props) => React.ReactNode);\n  desc?: (a: Props) => React.ReactNode;\n  icon?: ({ size }: IconProps) => React.JSX.Element;\n  iconSize?: IconProps[\"size\"];\n  disabled?: boolean;\n  iconActiveColor: string | undefined;\n  NotifComponent?: React.ReactNode;\n  onClick?: (arg: React.SyntheticEvent) => void;\n  isActive?: boolean;\n  collapsed?: boolean;\n  id: string;\n};\n\nclass SideBarListItem extends PureComponent<Props> {\n  render() {\n    const {\n      icon: Icon,\n      iconSize = \"S\",\n      label,\n      desc,\n      iconActiveColor,\n      NotifComponent,\n      onClick,\n      isActive,\n      disabled,\n      collapsed,\n      id,\n    } = this.props;\n    const renderedLabel =\n      typeof label === \"function\" ? (\n        label(this.props)\n      ) : (\n        <span\n          style={{\n            overflow: \"hidden\",\n            textOverflow: \"ellipsis\",\n            whiteSpace: \"nowrap\",\n          }}\n        >\n          {label}\n        </span>\n      );\n    return (\n      <Tooltip arrow={false} content={renderedLabel} enabled={!!collapsed} placement=\"right\">\n        <Container\n          data-testid={`drawer-${id}-button`}\n          isActive={!disabled && isActive}\n          data-active={isActive ? \"true\" : \"false\"}\n          iconActiveColor={iconActiveColor}\n          onClick={disabled ? undefined : onClick}\n          disabled={disabled}\n        >\n          {!!Icon && <Icon size={iconSize} />}\n          <Box grow shrink>\n            <Hide visible={!collapsed}>\n              <Box horizontal justifyContent=\"space-between\" alignItems=\"center\">\n                {renderedLabel}\n                {!!desc && desc(this.props)}\n              </Box>\n            </Hide>\n          </Box>\n          {NotifComponent}\n        </Container>\n      </Tooltip>\n    );\n  }\n}\nconst Container = styled(Tabbable).attrs(() => ({\n  alignItems: \"center\",\n  borderRadius: 2,\n  ff: \"Inter|SemiBold\",\n  flow: 3,\n  horizontal: true,\n  px: 3,\n  py: 2,\n}))<{\n  isActive?: boolean;\n  iconActiveColor?: string;\n}>`\n  position: relative;\n  width: 100%;\n  cursor: ${p => (p.disabled ? \"not-allowed\" : \"pointer\")};\n  color: ${p => (p.isActive ? p.theme.colors.neutral.c100 : p.theme.colors.opacityDefault.c70)};\n  background: ${p => (p.isActive ? p.theme.colors.opacityDefault.c05 : \"\")};\n  opacity: ${p => (p.disabled ? 0.5 : 1)};\n\n  &:active {\n    background: ${p => !p.disabled && p.theme.colors.opacityDefault.c05};\n  }\n\n  &:hover {\n    background: ${p => !p.disabled && p.theme.colors.opacityDefault.c05};\n  }\n\n  ${p => {\n    const iconActiveColor =\n      p.theme.colors[p.iconActiveColor as keyof DefaultTheme[\"colors\"]] || p.iconActiveColor;\n    const color = p.isActive ? iconActiveColor : p.theme.colors.opacityDefault.c70;\n    return `\n      svg { color: ${color}; }\n    `;\n  }};\n`;\nexport default SideBarListItem;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SideBar/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SideDrawer.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":24,"column":35,"nodeType":"TSAsExpression","messageId":"never","endLine":24,"endColumn":81},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":45,"column":27,"nodeType":"TSAsExpression","messageId":"never","endLine":45,"endColumn":65},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":81,"column":36,"nodeType":"TSAsExpression","messageId":"never","endLine":81,"endColumn":83},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":130,"column":10,"nodeType":"TSAsExpression","messageId":"never","endLine":130,"endColumn":28}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useCallback, useRef } from \"react\";\nimport { useSelector } from \"LLD/hooks/redux\";\nimport styled from \"styled-components\";\nimport { color } from \"styled-system\";\nimport { Transition, TransitionStatus } from \"react-transition-group\";\nimport { createFocusTrap, FocusTrap } from \"focus-trap\";\nimport { createPortal } from \"react-dom\";\nimport { modalsStateSelector } from \"~/renderer/reducers/modals\";\nimport { useDeviceBlocked } from \"./DeviceAction/DeviceBlocker\";\nimport SideDrawerHeader from \"./SideDrawerHeader\";\n\nconst DURATION = 250;\nconst transitionBackdropStyles = {\n  entering: {},\n  entered: {\n    opacity: 1,\n  },\n  exiting: {\n    pointerEvents: \"none\",\n  },\n  exited: {},\n};\nconst DrawerBackdrop = styled.div.attrs(({ state }: { state: TransitionStatus }) => ({\n  style: transitionBackdropStyles[state as keyof typeof transitionBackdropStyles],\n}))<{ state: TransitionStatus }>`\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background-color: rgba(0, 0, 0, 0.65);\n  will-change: opacity;\n  opacity: 0;\n  transition: opacity ${DURATION}ms ease-out;\n`;\nconst transitionStyles = {\n  entering: {},\n  entered: {\n    transform: \"translateX(0)\",\n  },\n  exiting: {},\n  exited: {},\n};\nconst DrawerContent = styled.div.attrs(({ state }: { state: TransitionStatus }) => ({\n  style: transitionStyles[state as keyof typeof transitionStyles],\n  bg: \"background.card\",\n}))<{ state: TransitionStatus; direction: \"left\" | \"right\" }>`\n  position: absolute;\n  top: 0;\n  left: ${p => (p.direction === \"right\" ? 0 : \"unset\")};\n  right: ${p => (p.direction === \"left\" ? 0 : \"unset\")};\n  bottom: 0;\n  z-index: 1;\n  box-sizing: border-box;\n  width: 80%;\n  ${color};\n  transform: translateX(\n    ${p => (p.direction === \"right\" ? -100 : p.direction === \"left\" ? 100 : 0)}%\n  );\n  transition: transform ${DURATION}ms ease-out;\n  max-width: 500px;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  will-change: transform;\n  overflow: hidden;\n  -webkit-app-region: no-drag;\n`;\nconst transitionContainerStyles = {\n  entering: {},\n  entered: {},\n  exiting: {\n    pointerEvents: \"none\",\n  },\n  exited: {\n    pointerEvents: \"none\",\n    visibility: \"hidden\",\n  },\n};\nconst DrawerContainer = styled.div.attrs(({ state }: { state: TransitionStatus }) => ({\n  style: transitionContainerStyles[state as keyof typeof transitionContainerStyles],\n}))<{ state: TransitionStatus }>`\n  color: ${p => p.theme.colors.neutral.c90};\n  position: fixed;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  overflow: hidden;\n  -webkit-app-region: no-drag;\n  z-index: 50;\n`;\nexport type DrawerProps = {\n  children?: React.ReactNode;\n  isOpen?: boolean;\n  onRequestClose?: (a: React.MouseEvent | KeyboardEvent) => void;\n  onRequestBack?: (a: React.MouseEvent | KeyboardEvent) => void;\n  direction?: \"right\" | \"left\";\n  paper?: boolean;\n  title?: string;\n  preventBackdropClick?: boolean;\n  forceDisableFocusTrap?: boolean;\n  style?: React.CSSProperties;\n  withPaddingTop?: boolean;\n  closeButtonComponent?: React.ComponentType<{\n    onRequestClose: (mouseEvent: React.MouseEvent<Element, MouseEvent>) => void;\n  }>;\n};\n\nexport function SideDrawer({\n  children,\n  isOpen = false,\n  onRequestClose,\n  onRequestBack,\n  direction = \"right\",\n  title,\n  preventBackdropClick = false,\n  forceDisableFocusTrap = false,\n  closeButtonComponent,\n  ...props\n}: DrawerProps) {\n  const domNode = document.getElementById(\"modals\");\n  const deviceBlocked = useDeviceBlocked();\n\n  const onKeyPress = useCallback(\n    (e: React.MouseEvent | KeyboardEvent) => {\n      if (\n        isOpen &&\n        !preventBackdropClick &&\n        (e as KeyboardEvent).key === \"Escape\" &&\n        onRequestClose &&\n        !deviceBlocked\n      ) {\n        e.preventDefault();\n        onRequestClose(e);\n      }\n    },\n    [isOpen, preventBackdropClick, onRequestClose, deviceBlocked],\n  );\n  useEffect(() => {\n    window.addEventListener(\"keydown\", onKeyPress, false);\n    return () => {\n      window.removeEventListener(\"keydown\", onKeyPress, false);\n    };\n  }, [onKeyPress]);\n  const focusTrapElem = useRef<typeof DrawerContainer>(null);\n  const focusTrap = useRef<FocusTrap | null>(null);\n  const modalsState = useSelector(modalsStateSelector);\n  const shouldDisableFocusTrap = Object.values(modalsState).some(state => state?.isOpened);\n  useEffect(() => {\n    if (forceDisableFocusTrap) {\n      return;\n    }\n    if (isOpen && focusTrapElem.current && !shouldDisableFocusTrap) {\n      focusTrap.current = createFocusTrap(focusTrapElem.current, {\n        fallbackFocus: focusTrapElem.current,\n        escapeDeactivates: false,\n        clickOutsideDeactivates: false,\n        preventScroll: true,\n      });\n      focusTrap.current?.activate();\n    } else if (shouldDisableFocusTrap) {\n      focusTrap.current?.deactivate();\n      focusTrap.current = null;\n    }\n    return () => {\n      focusTrap.current?.deactivate();\n      focusTrap.current = null;\n    };\n  }, [isOpen, shouldDisableFocusTrap, forceDisableFocusTrap]);\n  return domNode\n    ? createPortal(\n        <Transition\n          in={isOpen}\n          timeout={{\n            appear: 0,\n            enter: DURATION,\n            exit: DURATION * 3, // leaves extra time for the animation to end before unmount\n          }}\n          unmountOnExit\n        >\n          {state => (\n            <DrawerContainer\n              state={state}\n              ref={focusTrapElem}\n              tabIndex=\"-1\"\n              data-testid=\"side-drawer-container\"\n            >\n              <DrawerContent\n                {...props}\n                state={state}\n                direction={direction}\n                data-testid=\"drawer-content\"\n              >\n                <SideDrawerHeader\n                  onRequestClose={onRequestClose}\n                  onRequestBack={onRequestBack}\n                  title={title}\n                  closeButtonComponent={closeButtonComponent}\n                />\n                {children}\n              </DrawerContent>\n              <DrawerBackdrop\n                state={state}\n                onClick={preventBackdropClick || deviceBlocked ? undefined : onRequestClose}\n                data-testid=\"drawer-overlay\"\n              />\n            </DrawerContainer>\n          )}\n        </Transition>,\n        domNode,\n      )\n    : null;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SideDrawerHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SignMessageConfirm/SignMessageConfirmField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SignMessageConfirm/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Slider.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":110,"column":13,"nodeType":"TSAsExpression","messageId":"never","endLine":110,"endColumn":28},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":113,"column":26,"nodeType":"TSAsExpression","messageId":"never","endLine":113,"endColumn":41},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":115,"column":22,"nodeType":"TSAsExpression","messageId":"never","endLine":115,"endColumn":37},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":128,"column":41,"nodeType":"TSAsExpression","messageId":"never","endLine":128,"endColumn":60},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":130,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":130,"endColumn":50},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":143,"column":41,"nodeType":"TSAsExpression","messageId":"never","endLine":143,"endColumn":60}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useRef, useCallback, useEffect } from \"react\";\nimport { DefaultTheme, withTheme } from \"styled-components\";\nimport IconOpposingChevrons from \"~/renderer/icons/OpposingChevrons\";\nimport { lighten } from \"~/renderer/styles/helpers\";\nimport { Theme as OldTheme } from \"~/renderer/styles/theme\";\n\nconst getPalette = (theme: DefaultTheme) => ({\n  default: {\n    primary: theme.colors.primary.c80,\n    primaryHover: lighten(theme.colors.primary.c80, 0.1),\n    secondary: theme.colors.neutral.c40,\n    buttonInner: theme.colors.neutral.c00,\n  },\n  error: {\n    primary: theme.colors.alertRed,\n    primaryHover: lighten(theme.colors.alertRed, 0.1),\n    secondary: theme.colors.neutral.c40,\n    buttonInner: theme.colors.neutral.c00,\n  },\n});\n\ntype Props = {\n  steps: number;\n  value: number;\n  error: Error | undefined | null;\n  onChange: (a: number) => void;\n  theme: DefaultTheme;\n};\n\nfunction xForEvent(node: HTMLDivElement | null, e: MouseEvent) {\n  if (!node) throw new Error(\"node expected\");\n  const { clientX } = e;\n  const { left } = node.getBoundingClientRect();\n  return clientX - left;\n}\n\nconst Handle = React.memo(function Handle({\n  active,\n  x,\n  colors,\n}: {\n  active: boolean;\n  x: number;\n  colors: OldTheme[\"colors\"];\n}) {\n  const [hover, setHover] = useState(false);\n  const onMouseEnter = useCallback(() => setHover(true), []);\n  const onMouseLeave = useCallback(() => setHover(false), []);\n  const size = 14;\n  const style: React.CSSProperties = {\n    boxSizing: \"border-box\",\n    cursor: active ? \"ew-resize\" : \"pointer\",\n    WebkitTapHighlightColor: \"rgba(0,0,0,0)\",\n    boxShadow: \"0 6px 8px 0 rgba(0, 0, 0, 0.09)\",\n    left: `${(100 * x).toPrecision(3)}%`,\n    width: 2 * size,\n    height: 2 * size,\n    borderRadius: 2 * size,\n    position: \"absolute\",\n    backgroundColor: hover || active ? colors.primaryHover : colors.primary,\n    border: \"2px solid\",\n    borderColor: colors.buttonInner,\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    transition: \"100ms transform\",\n    transform: `translate(-${size + 2}px,-${size + 2}px) scale(${active ? 1.1 : 1})`,\n  };\n  return (\n    <div style={style} onMouseEnter={onMouseEnter} onMouseLeave={onMouseLeave}>\n      <IconOpposingChevrons size={12} color={colors.buttonInner} />\n    </div>\n  );\n});\nconst Track = React.memo(function Track({ x, colors }: { x: number; colors: OldTheme[\"colors\"] }) {\n  return (\n    <div\n      style={{\n        width: `${(100 * x).toPrecision(3)}%`,\n        height: 6,\n        borderRadius: 6,\n        backgroundColor: colors.primary,\n      }}\n    />\n  );\n});\nconst Slider = ({ steps, value, onChange, error, theme }: Props) => {\n  const [down, setDown] = useState<{\n    touchId: number;\n    x: number;\n  } | null>(null);\n  const root = useRef<HTMLDivElement>(null);\n  const internalPadding = 12;\n  const reverseX = useCallback(\n    (x: number) => {\n      if (!root.current) return 0;\n      const { width } = root.current.getBoundingClientRect();\n      return Math.max(\n        0,\n        Math.min(\n          Math.round(((x - internalPadding) / (width - internalPadding * 2)) * (steps - 1)),\n          steps - 1,\n        ),\n      );\n    },\n    [steps, root],\n  );\n  const concernedEvent = useCallback(\n    (e: unknown) => {\n      if (!(e as TouchEvent).targetTouches) {\n        return e;\n      }\n      if (!down) return (e as TouchEvent).targetTouches[0];\n      const touchId = down.touchId;\n      const items = (e as TouchEvent).changedTouches;\n      for (let i = 0; i < items.length; ++i) {\n        if (items[i].identifier === touchId) return items[i];\n      }\n      return null;\n    },\n    [down],\n  );\n  const onHandleStart = useCallback(\n    (e: MouseEvent) => {\n      const event = concernedEvent(e);\n      if (!event) return;\n      e.preventDefault();\n      const x = xForEvent(root.current, event as MouseEvent);\n      setDown({\n        touchId: (event as { identifier: number }).identifier,\n        x,\n      });\n      const valuePos = reverseX(x);\n      if (value !== valuePos) onChange(valuePos);\n    },\n    [root, concernedEvent, reverseX, onChange, value],\n  );\n  const onHandleMove = useCallback(\n    (e: MouseEvent) => {\n      const event = concernedEvent(e);\n      if (!event) return;\n      e.preventDefault();\n      const x = xForEvent(root.current, event as MouseEvent);\n      const valuePos = reverseX(x);\n      if (value !== valuePos) onChange(valuePos);\n    },\n    [root, concernedEvent, reverseX, value, onChange],\n  );\n  const onHandleEnd = useCallback(\n    (e: MouseEvent) => {\n      const event = concernedEvent(e);\n      if (!event) return;\n      setDown(null);\n    },\n    [concernedEvent],\n  );\n  const onHandleAbort = onHandleEnd;\n  useEffect(\n    // eslint-disable-next-line consistent-return\n    () => {\n      const { body } = document;\n      if (down && body) {\n        window.addEventListener(\"mousemove\", onHandleMove);\n        window.addEventListener(\"mouseup\", onHandleEnd);\n\n        body.addEventListener(\"mouseleave\", onHandleAbort);\n        return () => {\n          window.removeEventListener(\"mousemove\", onHandleMove);\n          window.removeEventListener(\"mouseup\", onHandleEnd);\n\n          body.removeEventListener(\"mouseleave\", onHandleAbort);\n        };\n      }\n    },\n    [down, onHandleAbort, onHandleEnd, onHandleMove],\n  );\n  const events = {\n    onTouchStart: onHandleStart,\n    onTouchEnd: onHandleEnd,\n    onTouchMove: onHandleMove,\n    onTouchCancel: onHandleAbort,\n    onMouseDown: onHandleStart,\n  };\n  const x = value / (steps - 1);\n  const palette = getPalette(theme);\n  const colors = palette[error ? \"error\" : \"default\"];\n  return (\n    // @ts-expect-error weird events stuff\n    <div\n      ref={root}\n      {...events}\n      style={{\n        boxSizing: \"border-box\",\n        position: \"relative\",\n        display: \"flex\",\n        alignItems: \"center\",\n        padding: \"10px 0\",\n      }}\n    >\n      <div\n        style={{\n          width: \"100%\",\n          height: 6,\n          borderRadius: 6,\n          backgroundColor: colors.secondary,\n          position: \"relative\",\n        }}\n      >\n        <Track colors={colors} x={x} />\n        <div\n          style={{\n            width: \"100%\",\n            padding: `0 ${internalPadding}px`,\n            boxSizing: \"border-box\",\n          }}\n        >\n          <div\n            style={{\n              position: \"relative\",\n            }}\n          >\n            <Handle colors={colors} active={!!down} x={x} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default withTheme(Slider);\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Space.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SpendableAmount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SpendableBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Spinner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Spoiler.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Stars/Item.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Stars/Star.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Stars/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/StepProgress.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/StepRecipientSeparator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Stepper/Breadcrumb.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Stepper/Step.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Stepper/index.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":113,"column":55,"nodeType":"TSAsExpression","messageId":"never","endLine":113,"endColumn":77,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":131,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":131,"endColumn":66,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":143,"column":23,"nodeType":"TSAsExpression","messageId":"never","endLine":143,"endColumn":70,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":153,"column":16,"nodeType":"TSAsExpression","messageId":"never","endLine":155,"endColumn":23,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/StepperNumber.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SuccessAnimatedIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SuccessDisplay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Switch.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SyncOnboarding/DeviceConnection/Searching.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":50,"column":22,"nodeType":"TSAsExpression","messageId":"never","endLine":50,"endColumn":96}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback, useContext, useEffect } from \"react\";\nimport { Flex, Link, Text } from \"@ledgerhq/react-ui\";\nimport { useTranslation } from \"react-i18next\";\nimport { DeviceModelId, getDeviceModel } from \"@ledgerhq/devices\";\nimport { useHistory } from \"react-router-dom\";\nimport OnboardingNavHeader from \"../../Onboarding/OnboardingNavHeader\";\nimport { OnboardingContext } from \"../../Onboarding\";\nimport { getDeviceAnimation } from \"~/renderer/components/DeviceAction/animations\";\nimport Animation from \"~/renderer/animations\";\nimport useTheme from \"~/renderer/hooks/useTheme\";\nimport { useSelector } from \"LLD/hooks/redux\";\nimport { getCurrentDevice } from \"~/renderer/reducers/devices\";\nimport { isSyncOnboardingSupported } from \"@ledgerhq/live-common/device/use-cases/isSyncOnboardingSupported\";\n\nexport type SyncOnboardingDeviceConnectionSearchingProps = {\n  deviceModelId: DeviceModelId;\n};\n\nconst SyncOnboardingDeviceConnectionSearching = ({\n  deviceModelId,\n}: SyncOnboardingDeviceConnectionSearchingProps) => {\n  const { t } = useTranslation();\n  const deviceModelName = getDeviceModel(deviceModelId).productName;\n  const history = useHistory();\n  const { setDeviceModelId } = useContext(OnboardingContext);\n  const theme = useTheme();\n  const currentDevice = useSelector(getCurrentDevice);\n\n  useEffect(() => {\n    if (\n      currentDevice &&\n      currentDevice.modelId !== deviceModelId &&\n      !isSyncOnboardingSupported(deviceModelId)\n    ) {\n      setDeviceModelId(currentDevice.modelId);\n      history.replace(\"/onboarding/select-use-case\");\n    }\n  }, [currentDevice, deviceModelId, history, setDeviceModelId]);\n\n  const handleConnectionTrouble = useCallback(() => {\n    setDeviceModelId(deviceModelId);\n    history.push(\"/USBTroubleshooting\");\n  }, [deviceModelId, history, setDeviceModelId]);\n\n  return (\n    <Flex position=\"relative\" height=\"100%\" width=\"100%\" flexDirection=\"column\">\n      <OnboardingNavHeader onClickPrevious={() => history.push(\"/onboarding/select-device\")} />\n      <Flex flex={1} alignItems=\"center\" justifyContent=\"center\" flexDirection=\"column\">\n        <Animation\n          animation={getDeviceAnimation(deviceModelId, theme.theme, \"plugAndPinCode\") as object}\n          width={\"200px\"}\n        />\n        <Text variant=\"h3Inter\" color=\"neutral.c100\" mt={6} maxWidth={480} textAlign=\"center\">\n          {t(\"syncOnboarding.connection.searching.title\", { deviceModelName })}\n        </Text>\n      </Flex>\n      <Link\n        position=\"absolute\"\n        ml=\"auto\"\n        mr=\"auto\"\n        left={0}\n        right={0}\n        bottom={12}\n        onClick={handleConnectionTrouble}\n        color=\"neutral.c60\"\n        type=\"shade\"\n        size=\"large\"\n      >\n        {t(\"syncOnboarding.connection.searching.connectionTrouble\")}\n      </Link>\n    </Flex>\n  );\n};\n\nexport default SyncOnboardingDeviceConnectionSearching;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SyncOnboarding/DeviceConnection/Success.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":30,"column":22,"nodeType":"TSAsExpression","messageId":"never","endLine":30,"endColumn":100}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Flex, Text } from \"@ledgerhq/react-ui\";\nimport { Device } from \"@ledgerhq/live-common/hw/actions/types\";\nimport { getDeviceModel } from \"@ledgerhq/devices\";\nimport { useHistory } from \"react-router-dom\";\nimport OnboardingNavHeader from \"../../Onboarding/OnboardingNavHeader\";\nimport { getDeviceAnimation } from \"~/renderer/components/DeviceAction/animations\";\nimport Animation from \"~/renderer/animations\";\nimport useTheme from \"~/renderer/hooks/useTheme\";\n\nexport type SyncOnboardingDeviceConnectionSuccessProps = {\n  device: Device;\n};\n\nconst SyncOnboardingDeviceConnectionSuccess = ({\n  device,\n}: SyncOnboardingDeviceConnectionSuccessProps) => {\n  const { t } = useTranslation();\n  const history = useHistory();\n\n  const deviceName = device.deviceName ?? getDeviceModel(device.modelId).productName;\n  const theme = useTheme();\n\n  return (\n    <Flex height=\"100%\" width=\"100%\" flexDirection=\"column\">\n      <OnboardingNavHeader onClickPrevious={() => history.push(\"/onboarding/select-device\")} />\n      <Flex flex={1} alignItems=\"center\" justifyContent=\"center\" flexDirection=\"column\">\n        <Animation\n          animation={getDeviceAnimation(device.modelId, theme.theme, \"connectionSuccess\") as object}\n          width={\"200px\"}\n        />\n        <Text variant=\"h3Inter\" color=\"neutral.c100\" mt={6} maxWidth={480}>\n          {t(\"syncOnboarding.connection.success.title\", { deviceName })}\n        </Text>\n      </Flex>\n    </Flex>\n  );\n};\n\nexport default SyncOnboardingDeviceConnectionSuccess;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SyncOnboarding/DeviceConnection/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SyncOnboarding/Manual/EarlySecurityChecks/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SyncOnboarding/Manual/EarlySecurityChecks/Bullet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SyncOnboarding/Manual/EarlySecurityChecks/DeviceNotGenuineDrawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SyncOnboarding/Manual/EarlySecurityChecks/DrawerFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SyncOnboarding/Manual/EarlySecurityChecks/ErrorDrawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SyncOnboarding/Manual/EarlySecurityChecks/ExitChecksDrawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SyncOnboarding/Manual/EarlySecurityChecks/SoftwareCheckAllowSecureChannelDrawer.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":20,"column":29,"nodeType":"TSAsExpression","messageId":"never","endLine":20,"endColumn":95}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Flex, Text } from \"@ledgerhq/react-ui\";\nimport { DeviceModelId } from \"@ledgerhq/devices\";\nimport { useTheme } from \"styled-components\";\nimport Animation from \"~/renderer/animations\";\nimport { getDeviceAnimation } from \"~/renderer/components/DeviceAction/animations\";\nimport { DeviceBlocker } from \"../../../DeviceAction/DeviceBlocker\";\n\nexport type Props = {\n  deviceModelId: DeviceModelId;\n};\n\nconst SoftwareCheckAllowSecureChannelDrawer = ({ deviceModelId }: Props) => {\n  const { t } = useTranslation();\n  const { theme } = useTheme();\n\n  return (\n    <Flex flexDirection=\"column\" alignItems=\"center\" justifyContent=\"center\" height=\"100%\">\n      <Animation animation={getDeviceAnimation(deviceModelId, theme, \"allowManager\") as object} />\n      <Text variant=\"h5Inter\" fontWeight=\"semiBold\" mt={6}>\n        {t(\"syncOnboarding.manual.softwareCheckAllowSecureChannelDrawer.title\")}\n      </Text>\n      <DeviceBlocker />\n    </Flex>\n  );\n};\n\nexport default SoftwareCheckAllowSecureChannelDrawer;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SyncOnboarding/Manual/EarlySecurityChecks/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SyncOnboarding/Manual/EarlySecurityChecks/useChangeLanguagePrompt.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SyncOnboarding/Manual/Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SyncOnboarding/Manual/LockedDeviceDrawer.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":23,"column":20,"nodeType":"TSAsExpression","messageId":"never","endLine":23,"endColumn":92}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Flex, Text } from \"@ledgerhq/react-ui\";\nimport { DeviceModelId, getDeviceModel } from \"@ledgerhq/devices\";\nimport { useTheme } from \"styled-components\";\nimport Animation from \"~/renderer/animations\";\nimport { getDeviceAnimation } from \"~/renderer/components/DeviceAction/animations\";\nimport { withV3StyleProvider } from \"~/renderer/styles/StyleProviderV3\";\nimport { DeviceBlocker } from \"../../DeviceAction/DeviceBlocker\";\n\nexport type Props = {\n  deviceModelId: DeviceModelId;\n};\n\nconst LockedDeviceDrawer = ({ deviceModelId }: Props) => {\n  const { t } = useTranslation();\n  const theme = useTheme();\n  const productName = getDeviceModel(deviceModelId).productName;\n\n  return (\n    <Flex flexDirection=\"column\" justifyContent=\"center\" alignItems=\"center\" height=\"100%\">\n      <Animation\n        animation={getDeviceAnimation(deviceModelId, theme.theme, \"enterPinCode\") as object}\n      />\n      <Text variant=\"h5Inter\" fontWeight=\"semiBold\" mt={6}>\n        {t(\"syncOnboarding.manual.softwareCheckLockedDeviceDrawer.title\", {\n          deviceName: productName,\n        })}\n      </Text>\n      <DeviceBlocker />\n    </Flex>\n  );\n};\n\nexport default withV3StyleProvider(LockedDeviceDrawer);\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SyncOnboarding/Manual/SyncOnboardingCompanion/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SyncOnboarding/Manual/TroubleshootingDrawer.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":49,"column":15,"nodeType":"TSAsExpression","messageId":"never","endLine":49,"endColumn":93}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback } from \"react\";\nimport { Flex, Text, Button, Link } from \"@ledgerhq/react-ui\";\nimport { useHistory } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport { useTheme } from \"styled-components\";\nimport { DeviceModelId } from \"@ledgerhq/devices\";\nimport Animation from \"~/renderer/animations\";\nimport { getDeviceAnimation } from \"~/renderer/components/DeviceAction/animations\";\nimport { track } from \"~/renderer/analytics/segment\";\nimport { analyticsFlowName } from \"./shared\";\nimport TrackPage from \"~/renderer/analytics/TrackPage\";\nimport { withV3StyleProvider } from \"~/renderer/styles/StyleProviderV3\";\n\nexport type Props = {\n  onClose: () => void;\n  lastKnownDeviceId: DeviceModelId;\n};\n\n/**\n * Drawer when the device has connection issues\n */\nconst TroubleshootingDrawer: React.FC<Props> = ({ onClose, lastKnownDeviceId }) => {\n  const { t } = useTranslation();\n  const history = useHistory();\n  const theme = useTheme();\n\n  const handleFixClicked = useCallback(() => {\n    history.replace(\"/USBTroubleshooting\");\n    track(\"button_clicked2\", {\n      button: \"fix it\",\n      page: \"drawer troubleshoot USB connection\",\n      flow: analyticsFlowName,\n    });\n  }, [history]);\n\n  return (\n    <>\n      <TrackPage\n        category=\"drawer troubleshoot USB connection\"\n        type=\"drawer\"\n        flow={analyticsFlowName}\n        error=\"troubleshoot USB connection\"\n        refreshSource={false}\n      />\n      <Flex flexDirection=\"column\" height=\"100%\" px={14}>\n        <Flex flexDirection=\"column\" flex={1} justifyContent={\"center\"}>\n          <Animation\n            animation={\n              getDeviceAnimation(lastKnownDeviceId, theme.theme, \"plugAndPinCode\") as object\n            }\n          />\n          <Text mt={12} variant=\"h5Inter\" textAlign=\"center\" fontWeight=\"semiBold\">\n            {t(\"syncOnboarding.manual.troubleshootingDrawer.title\")}\n          </Text>\n          <Text variant=\"body\" textAlign=\"center\" mt={3} color=\"neutral.c70\">\n            {t(\"syncOnboarding.manual.troubleshootingDrawer.description\")}\n          </Text>\n        </Flex>\n        <Flex flexDirection=\"column\" px={16} pb={9}>\n          <Button variant=\"main\" onClick={handleFixClicked}>\n            {t(\"syncOnboarding.manual.troubleshootingDrawer.fixButton\")}\n          </Button>\n          <Link mt={6} onClick={onClose}>\n            {t(\"syncOnboarding.manual.troubleshootingDrawer.closeButton\")}\n          </Link>\n        </Flex>\n      </Flex>\n    </>\n  );\n};\n\nexport default withV3StyleProvider(TroubleshootingDrawer);\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SyncOnboarding/Manual/assets/index.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SyncOnboarding/Manual/index.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":187,"column":10,"nodeType":"TSAsExpression","messageId":"never","endLine":187,"endColumn":31}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Flex, InfiniteLoader } from \"@ledgerhq/react-ui\";\nimport { useSelector } from \"LLD/hooks/redux\";\nimport { Result } from \"@ledgerhq/live-common/hw/actions/manager\";\nimport { useOnboardingStatePolling } from \"@ledgerhq/live-common/onboarding/hooks/useOnboardingStatePolling\";\nimport { useToggleOnboardingEarlyCheck } from \"@ledgerhq/live-common/deviceSDK/hooks/useToggleOnboardingEarlyChecks\";\nimport { OnboardingStep } from \"@ledgerhq/live-common/hw/extractOnboardingState\";\nimport { Device } from \"@ledgerhq/live-common/hw/actions/types\";\nimport { DeviceModelId } from \"@ledgerhq/devices\";\nimport { stringToDeviceModelId } from \"@ledgerhq/devices/helpers\";\nimport { getCurrentDevice } from \"~/renderer/reducers/devices\";\nimport Header from \"./Header\";\nimport { RecoverState } from \"~/renderer/screens/recover/Player\";\nimport SyncOnboardingCompanion from \"./SyncOnboardingCompanion\";\nimport EarlySecurityChecks from \"./EarlySecurityChecks\";\nimport { setDrawer } from \"~/renderer/drawers/Provider\";\nimport ExitChecksDrawer from \"./EarlySecurityChecks/ExitChecksDrawer\";\nimport { renderError } from \"../../DeviceAction/rendering\";\nimport { useTranslation } from \"react-i18next\";\nimport { useChangeLanguagePrompt } from \"./EarlySecurityChecks/useChangeLanguagePrompt\";\nimport DeviceAction from \"../../DeviceAction\";\nimport TroubleshootingDrawer from \"./TroubleshootingDrawer\";\nimport LockedDeviceDrawer from \"./LockedDeviceDrawer\";\nimport { LockedDeviceError, UnexpectedBootloader } from \"@ledgerhq/errors\";\nimport { FinalFirmware } from \"@ledgerhq/types-live\";\nimport { useConnectManagerAction } from \"~/renderer/hooks/useConnectAppAction\";\n\nconst POLLING_PERIOD_MS = 1000;\nconst DESYNC_TIMEOUT_MS = 20000;\n\nexport type SyncOnboardingScreenProps = {\n  /**\n   * A device model used to render the animation and text.\n   * Needed because the device object can be null if disconnected.\n   *\n   * Should be DeviceModelId. react-router 5 seems to only handle [K in keyof Params]?: string props\n   */\n  deviceModelId: string;\n};\n\n/**\n * Synchronous onboarding screen composed of the \"early security/onboarding checks\" step and the \"synchronous companion\" step\n *\n * This screen polls the state of the device to:\n * - toggle the onboarding early checks (enter/exit) on the device if needed\n * - know which steps it should display\n */\nconst SyncOnboardingScreen: React.FC<SyncOnboardingScreenProps> = ({\n  deviceModelId: strDeviceModelId,\n}) => {\n  const action = useConnectManagerAction();\n  const history = useHistory<RecoverState>();\n  const { t } = useTranslation();\n  const ref = useRef<HTMLDivElement | null>(null);\n  const device = useSelector(getCurrentDevice);\n  const deviceModelId = stringToDeviceModelId(strDeviceModelId, DeviceModelId.stax);\n\n  const [mustRecoverIfBootloader, setMustRecoverIfBootloader] = useState(true);\n  const [isBootloader, setIsBootloader] = useState(false);\n  // Needed because `device` object can be null or changed if disconnected/reconnected\n  const [lastSeenDevice, setLastSeenDevice] = useState<Device | null>(device ?? null);\n  useEffect(() => {\n    if (device) {\n      setLastSeenDevice(device);\n    }\n  }, [device]);\n\n  const [isTroubleshootingDrawerOpen, setTroubleshootingDrawerOpen] = useState<boolean>(false);\n\n  const [currentStep, setCurrentStep] = useState<\"loading\" | \"early-security-check\" | \"companion\">(\n    \"loading\",\n  );\n  const [companionStep, setCompanionStep] = useState<\"first-step\" | \"second-step\">(\"first-step\");\n  const [isPollingOn, setIsPollingOn] = useState<boolean>(true);\n  const [toggleOnboardingEarlyCheckType, setToggleOnboardingEarlyCheckType] = useState<\n    null | \"enter\" | \"exit\"\n  >(null);\n  const [fwUpdateInterrupted, setFwUpdateInterrupted] = useState<FinalFirmware | null>(null);\n\n  /* The early security checks are run again after a firmware update. */\n  const [isInitialRunOfSecurityChecks, setIsInitialRunOfSecurityChecks] = useState(true);\n\n  const {\n    onboardingState,\n    allowedError,\n    fatalError,\n    lockedDevice,\n    resetStates: resetPollingStates,\n  } = useOnboardingStatePolling({\n    device: lastSeenDevice,\n    pollingPeriodMs: POLLING_PERIOD_MS,\n    stopPolling: !isPollingOn || isBootloader,\n  });\n\n  const { state: toggleOnboardingEarlyCheckState } = useToggleOnboardingEarlyCheck({\n    deviceId: lastSeenDevice?.deviceId ?? \"\",\n    deviceName: lastSeenDevice?.deviceName ?? null,\n    toggleType: toggleOnboardingEarlyCheckType,\n  });\n\n  // Called when the ESC is complete\n  const notifyOnboardingEarlyCheckEnded = useCallback(() => {\n    setToggleOnboardingEarlyCheckType(\"exit\");\n  }, []);\n\n  // Called when the companion component thinks the device is not in a correct state anymore\n  const notifyOnboardingEarlyCheckShouldReset = useCallback(() => {\n    setIsPollingOn(true);\n    setCurrentStep(\"loading\");\n    resetPollingStates();\n    setMustRecoverIfBootloader(true);\n  }, [resetPollingStates]);\n\n  const restartChecksAfterUpdate = useCallback(() => {\n    setIsInitialRunOfSecurityChecks(false);\n    notifyOnboardingEarlyCheckShouldReset();\n  }, [notifyOnboardingEarlyCheckShouldReset]);\n\n  useEffect(() => {\n    if (lockedDevice) {\n      setDrawer(\n        LockedDeviceDrawer,\n        {\n          deviceModelId,\n        },\n        {\n          forceDisableFocusTrap: true,\n          preventBackdropClick: true,\n        },\n      );\n    } else if (isTroubleshootingDrawerOpen) {\n      setDrawer(\n        TroubleshootingDrawer,\n        {\n          lastKnownDeviceId: deviceModelId,\n          onClose: () => {\n            history.push(\"/onboarding/select-device\");\n            setDrawer();\n          },\n        },\n        {\n          forceDisableFocusTrap: true,\n          onRequestClose: () => {\n            history.push(\"/onboarding/select-device\");\n          },\n        },\n      );\n    }\n    return () => setDrawer();\n  }, [deviceModelId, history, isTroubleshootingDrawerOpen, lockedDevice]);\n\n  // Handles current step and toggling onboarding early check logics\n  useEffect(() => {\n    if (!onboardingState) {\n      return;\n    }\n    const { currentOnboardingStep, isOnboarded } = onboardingState;\n\n    if (\n      !isOnboarded &&\n      [\n        OnboardingStep.WelcomeScreen1,\n        OnboardingStep.WelcomeScreen2,\n        OnboardingStep.WelcomeScreen3,\n        OnboardingStep.WelcomeScreen4,\n        OnboardingStep.WelcomeScreenReminder,\n      ].includes(currentOnboardingStep)\n    ) {\n      setIsPollingOn(false);\n      setToggleOnboardingEarlyCheckType(\"enter\");\n    } else if (!isOnboarded && currentOnboardingStep === OnboardingStep.OnboardingEarlyCheck) {\n      setIsPollingOn(false);\n      // Resets the `useToggleOnboardingEarlyCheck` hook. Avoids having a case where for ex\n      // check type == \"exit\" and toggle status still being == \"success\" from the previous toggle\n      setToggleOnboardingEarlyCheckType(null);\n      setCurrentStep(\"early-security-check\");\n      setMustRecoverIfBootloader(false);\n    } else {\n      setIsPollingOn(false);\n      setCurrentStep(\"companion\");\n    }\n  }, [onboardingState]);\n\n  // A fatal error during polling triggers directly an error message\n  useEffect(() => {\n    if ((fatalError as unknown) instanceof UnexpectedBootloader) {\n      setIsBootloader(true);\n    } else if (fatalError) {\n      setIsPollingOn(false);\n      setTroubleshootingDrawerOpen(true);\n    }\n  }, [fatalError]);\n\n  // An allowed error during polling (which makes the polling retry) only triggers an error message after a timeout\n  useEffect(() => {\n    let timeout: ReturnType<typeof setTimeout>;\n\n    if (allowedError && !(allowedError instanceof LockedDeviceError)) {\n      timeout = setTimeout(() => {\n        setIsPollingOn(false);\n        setTroubleshootingDrawerOpen(true);\n      }, DESYNC_TIMEOUT_MS);\n    }\n\n    return () => {\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n    };\n  }, [allowedError]);\n\n  // Handles onboarding early check toggle result\n  useEffect(() => {\n    if (toggleOnboardingEarlyCheckState.toggleStatus === \"none\") return;\n\n    if (toggleOnboardingEarlyCheckState.toggleStatus === \"failure\") {\n      // If an error occurred during the toggling the safe backup is to bring the device to the \"companion\" step\n      // This will happen for older firmware that does not handle this new action.\n      setToggleOnboardingEarlyCheckType(null);\n      setCurrentStep(\"companion\");\n    }\n\n    // After a successful \"enter\" or \"exit\", the polling is restarted to know the device state\n    if (\n      toggleOnboardingEarlyCheckType !== null &&\n      toggleOnboardingEarlyCheckState.toggleStatus === \"success\"\n    ) {\n      // Resets the toggle hook\n      setToggleOnboardingEarlyCheckType(null);\n      setIsPollingOn(true);\n      // Not setting the `currentStep` to \"loading\" here to avoid UI flash\n    }\n  }, [toggleOnboardingEarlyCheckState, toggleOnboardingEarlyCheckType]);\n\n  useChangeLanguagePrompt({\n    device: currentStep === \"early-security-check\" && device ? device : undefined,\n  });\n\n  const onLostDevice = useCallback(() => {\n    setTroubleshootingDrawerOpen(true);\n  }, []);\n\n  const isEarlySecurityChecks = currentStep === \"early-security-check\" && lastSeenDevice;\n\n  const handleClose = useCallback(() => {\n    const exit = () => history.push(\"/onboarding/select-device\");\n    if (isEarlySecurityChecks) {\n      setDrawer(\n        ExitChecksDrawer,\n        {\n          onClose: () => setDrawer(),\n          onClickExit: () => {\n            exit();\n            setDrawer();\n          },\n          deviceModelId,\n        },\n        { forceDisableFocusTrap: true },\n      );\n    } else {\n      exit();\n    }\n  }, [deviceModelId, history, isEarlySecurityChecks]);\n\n  const [contentScroll, setContentScroll] = useState(0);\n\n  const onContentScroll = (e: React.UIEvent<HTMLDivElement>) => {\n    const { currentTarget } = e;\n    if (currentTarget instanceof HTMLDivElement) {\n      const scrollTop = currentTarget.scrollTop;\n      setContentScroll(scrollTop);\n    }\n  };\n\n  let stepContent = (\n    <Flex height=\"100%\" width=\"100%\" justifyContent=\"center\" alignItems=\"center\">\n      <InfiniteLoader />\n    </Flex>\n  );\n\n  const error = fatalError || allowedError;\n  if (currentStep !== \"companion\" && error !== null) {\n    stepContent = (\n      <Flex height=\"100%\" width=\"100%\" justifyContent=\"center\" alignItems=\"center\">\n        {renderError({\n          t,\n          device,\n          error,\n          onRetry: isPollingOn ? undefined : notifyOnboardingEarlyCheckShouldReset,\n        })}\n      </Flex>\n    );\n  } else if (currentStep === \"early-security-check\" && lastSeenDevice) {\n    stepContent = (\n      <EarlySecurityChecks\n        device={lastSeenDevice}\n        isDeviceConnected={!!device}\n        onComplete={notifyOnboardingEarlyCheckEnded}\n        restartChecksAfterUpdate={restartChecksAfterUpdate}\n        isInitialRunOfSecurityChecks={isInitialRunOfSecurityChecks}\n        setFwUpdateInterrupted={setFwUpdateInterrupted}\n        fwUpdateInterrupted={fwUpdateInterrupted}\n      />\n    );\n  } else if (currentStep === \"companion\" && lastSeenDevice) {\n    stepContent = (\n      <SyncOnboardingCompanion\n        device={lastSeenDevice}\n        notifySyncOnboardingShouldReset={notifyOnboardingEarlyCheckShouldReset}\n        onLostDevice={onLostDevice}\n        parentRef={ref}\n        setCompanionStep={setCompanionStep}\n      />\n    );\n  }\n\n  const onDeviceActionResult = useCallback(({ deviceInfo: { isBootloader } }: Result) => {\n    setIsBootloader(isBootloader);\n  }, []);\n\n  return (\n    <Flex\n      ref={ref}\n      width=\"100%\"\n      height=\"100%\"\n      overflow=\"scroll\"\n      flexDirection=\"column\"\n      justifyContent=\"flex-start\"\n      onScroll={onContentScroll}\n    >\n      {isBootloader && mustRecoverIfBootloader ? (\n        /**\n         * In case a firmware update gets interrupted and the device is in\n         * Bootloader mode, we display this device action which will prompt the\n         * user to finish the update.\n         * */\n        <DeviceAction onResult={onDeviceActionResult} action={action} request={null} />\n      ) : (\n        <>\n          <Header\n            device={lastSeenDevice}\n            onClose={handleClose}\n            displayTitle={currentStep === \"companion\" && lastSeenDevice && contentScroll > 30}\n            companionStep={companionStep}\n          />\n          {stepContent}\n        </>\n      )}\n    </Flex>\n  );\n};\n\nexport default SyncOnboardingScreen;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SyncOnboarding/Manual/shared.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SyncOnboarding/Manual/types.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/SyncOnboarding/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TabBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TableContainer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Text.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ThemeConsole/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ThrowBlock.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ToastOverlay/TimeBasedProgressBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ToastOverlay/Toast.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ToastOverlay/index.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useCallback has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","line":25,"column":5,"nodeType":"ArrayExpression","endLine":25,"endColumn":7,"suggestions":[{"desc":"Update the dependencies array to be: [dispatch]","fix":{"range":[846,848],"text":"[dispatch]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/ToggleButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TokenRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Tooltip.tsx","messages":[],"suppressedMessages":[{"ruleId":"tailwindcss/no-custom-classname","severity":2,"message":"Classname 'bg-' is not a Tailwind CSS class!","line":71,"column":7,"nodeType":"JSXAttribute","messageId":"customClassnameDetected","endLine":71,"endColumn":60,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TopBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TopBar/ActivityIndicator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TopBar/NotificationIndicator/AnnouncementPanel.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useMemo has a missing dependency: 'groupNotifications'. Either include it or remove the dependency array.","line":254,"column":5,"nodeType":"ArrayExpression","endLine":254,"endColumn":25,"suggestions":[{"desc":"Update the dependencies array to be: [groupNotifications, notificationsCards]","fix":{"range":[6734,6754],"text":"[groupNotifications, notificationsCards]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TopBar/NotificationIndicator/InformationDrawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TopBar/NotificationIndicator/ServiceStatusPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TopBar/NotificationIndicator/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TopBar/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TopBar/shared.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TrackAppStart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TransactionConfirm/ConfirmAlert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TransactionConfirm/ConfirmFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TransactionConfirm/ConfirmTitle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TransactionConfirm/TransactionConfirmField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TransactionConfirm/index.test.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":60,"column":25,"nodeType":"TSAsExpression","messageId":"never","endLine":60,"endColumn":61},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":61,"column":20,"nodeType":"TSAsExpression","messageId":"never","endLine":66,"endColumn":23},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":73,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":73,"endColumn":27},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":74,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":74,"endColumn":33},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":75,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":75,"endColumn":33},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":76,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":76,"endColumn":35},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":77,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":77,"endColumn":37},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":81,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":81,"endColumn":45},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":84,"column":17,"nodeType":"TSAsExpression","messageId":"never","endLine":84,"endColumn":42},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":84,"column":17,"nodeType":"TSAsExpression","messageId":"never","endLine":84,"endColumn":32},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":95,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":95,"endColumn":45},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":113,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":113,"endColumn":45},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":134,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":134,"endColumn":45},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":156,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":156,"endColumn":45},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":179,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":179,"endColumn":45},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":201,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":201,"endColumn":45},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":217,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":217,"endColumn":45},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":232,"column":26,"nodeType":"TSAsExpression","messageId":"never","endLine":235,"endColumn":43},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":232,"column":26,"nodeType":"TSAsExpression","messageId":"never","endLine":235,"endColumn":17},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":236,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":236,"endColumn":45},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":256,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":256,"endColumn":45},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":273,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":273,"endColumn":35},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":279,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":279,"endColumn":45}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":23,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { render, screen } from \"tests/testSetup\";\nimport TransactionConfirm from \"./index\";\nimport { useDeviceTransactionConfig } from \"@ledgerhq/live-common/hooks/useDeviceTransactionConfig\";\nimport { getLLDCoinFamily } from \"~/renderer/families\";\nimport useTheme from \"~/renderer/hooks/useTheme\";\nimport { useAccountUnit } from \"~/renderer/hooks/useAccountUnit\";\nimport { getMainAccount } from \"@ledgerhq/live-common/account/index\";\nimport { DeviceTransactionField } from \"@ledgerhq/live-common/transaction/deviceTransactionConfig\";\nimport { Account } from \"@ledgerhq/types-live\";\nimport { Transaction, TransactionStatus } from \"@ledgerhq/live-common/generated/types\";\nimport { BigNumber } from \"bignumber.js\";\nimport { getDeviceAnimation } from \"../DeviceAction/animations\";\nimport { Device } from \"@ledgerhq/live-common/hw/actions/types\";\nimport { getCryptoCurrencyById } from \"@ledgerhq/cryptoassets/currencies\";\nimport { DeviceModelId } from \"@ledgerhq/types-devices\";\n\njest.mock(\"@ledgerhq/live-common/hooks/useDeviceTransactionConfig\");\njest.mock(\"~/renderer/families\");\njest.mock(\"~/renderer/hooks/useTheme\");\njest.mock(\"~/renderer/hooks/useAccountUnit\");\njest.mock(\"@ledgerhq/live-common/account/index\");\njest.mock(\"../DeviceAction/animations\");\njest.mock(\"~/renderer/animations\", () => ({ __esModule: true, default: () => null }));\n\nconst mockDevice: Device = {\n  deviceId: \"test-device\",\n  modelId: DeviceModelId.nanoX,\n  wired: true,\n};\n\nconst mockCurrency = getCryptoCurrencyById(\"bitcoin\");\n\nconst mockAccount: Account = {\n  id: \"account-1\",\n  type: \"Account\",\n  currency: mockCurrency,\n  balance: new BigNumber(1000000),\n  spendableBalance: new BigNumber(1000000),\n  blockHeight: 1,\n  freshAddress: \"test-address\",\n  seedIdentifier: \"seed-id\",\n  derivationMode: \"\" as const,\n  index: 0,\n  freshAddressPath: \"44'/0'/0'/0/0\",\n  operations: [],\n  pendingOperations: [],\n  lastSyncDate: new Date(),\n  creationDate: new Date(),\n  operationsCount: 0,\n  balanceHistoryCache: {\n    HOUR: { latestDate: null, balances: [] },\n    DAY: { latestDate: null, balances: [] },\n    WEEK: { latestDate: null, balances: [] },\n  },\n  swapHistory: [],\n  used: false,\n};\n\nconst mockTransaction = { family: \"bitcoin\" } as Transaction;\nconst mockStatus = {\n  amount: new BigNumber(50000),\n  estimatedFees: new BigNumber(1000),\n  errors: {},\n  warnings: {},\n} as TransactionStatus;\n\nconst mockUnit = { code: \"BTC\", magnitude: 8, name: \"Bitcoin\" };\n\ndescribe(\"TransactionConfirm\", () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n    (useTheme as jest.Mock).mockReturnValue({ colors: { palette: { type: \"dark\" } } });\n    (useAccountUnit as jest.Mock).mockReturnValue(mockUnit);\n    (getMainAccount as jest.Mock).mockReturnValue(mockAccount);\n    (getLLDCoinFamily as jest.Mock).mockReturnValue(undefined);\n    (getDeviceAnimation as jest.Mock).mockReturnValue({ name: \"test-animation\", loop: true });\n  });\n\n  it(\"returns null when device is not provided\", () => {\n    (useDeviceTransactionConfig as jest.Mock).mockReturnValue({ fields: [], loading: false });\n    const { container } = render(\n      <TransactionConfirm\n        device={null as unknown as Device}\n        account={mockAccount}\n        parentAccount={null}\n        transaction={mockTransaction}\n        status={mockStatus}\n      />,\n    );\n    expect(container.firstChild).toBeNull();\n  });\n\n  it(\"renders loading state without fields\", () => {\n    (useDeviceTransactionConfig as jest.Mock).mockReturnValue({ fields: [], loading: true });\n    const { container } = render(\n      <TransactionConfirm\n        device={mockDevice}\n        account={mockAccount}\n        parentAccount={null}\n        transaction={mockTransaction}\n        status={mockStatus}\n      />,\n    );\n    expect(container).toBeInTheDocument();\n  });\n\n  it(\"renders amount field correctly\", () => {\n    const amountField: DeviceTransactionField = {\n      type: \"amount\",\n      label: \"Amount\",\n    };\n    (useDeviceTransactionConfig as jest.Mock).mockReturnValue({\n      fields: [amountField],\n      loading: false,\n    });\n    render(\n      <TransactionConfirm\n        device={mockDevice}\n        account={mockAccount}\n        parentAccount={null}\n        transaction={mockTransaction}\n        status={mockStatus}\n      />,\n    );\n    expect(screen.getByText(\"Amount\")).toBeInTheDocument();\n  });\n\n  it(\"renders fees field correctly\", () => {\n    const feesField: DeviceTransactionField = {\n      type: \"fees\",\n      label: \"Fees\",\n    };\n    (useDeviceTransactionConfig as jest.Mock).mockReturnValue({\n      fields: [feesField],\n      loading: false,\n    });\n    render(\n      <TransactionConfirm\n        device={mockDevice}\n        account={mockAccount}\n        parentAccount={null}\n        transaction={mockTransaction}\n        status={mockStatus}\n      />,\n    );\n    expect(screen.getByText(\"Fees\")).toBeInTheDocument();\n  });\n\n  it(\"renders address field correctly\", () => {\n    const addressField: DeviceTransactionField = {\n      type: \"address\",\n      label: \"Recipient\",\n      address: \"test-address-123\",\n    };\n    (useDeviceTransactionConfig as jest.Mock).mockReturnValue({\n      fields: [addressField],\n      loading: false,\n    });\n    render(\n      <TransactionConfirm\n        device={mockDevice}\n        account={mockAccount}\n        parentAccount={null}\n        transaction={mockTransaction}\n        status={mockStatus}\n      />,\n    );\n    expect(screen.getByText(\"Recipient\")).toBeInTheDocument();\n    expect(screen.getByText(\"test-address-123\")).toBeInTheDocument();\n  });\n\n  it(\"renders text field correctly\", () => {\n    const textField: DeviceTransactionField = {\n      type: \"text\",\n      label: \"Memo\",\n      value: \"test-memo\",\n    };\n    (useDeviceTransactionConfig as jest.Mock).mockReturnValue({\n      fields: [textField],\n      loading: false,\n    });\n    render(\n      <TransactionConfirm\n        device={mockDevice}\n        account={mockAccount}\n        parentAccount={null}\n        transaction={mockTransaction}\n        status={mockStatus}\n      />,\n    );\n    expect(screen.getByText(\"Memo\")).toBeInTheDocument();\n    expect(screen.getByText(\"test-memo\")).toBeInTheDocument();\n  });\n\n  it(\"filters out Address label field\", () => {\n    const fields: DeviceTransactionField[] = [\n      { type: \"text\", label: \"Amount\", value: \"1 BTC\" },\n      { type: \"text\", label: \"Address\", value: \"should-be-filtered\" },\n    ];\n    (useDeviceTransactionConfig as jest.Mock).mockReturnValue({ fields, loading: false });\n    render(\n      <TransactionConfirm\n        device={mockDevice}\n        account={mockAccount}\n        parentAccount={null}\n        transaction={mockTransaction}\n        status={mockStatus}\n      />,\n    );\n    expect(screen.getByText(\"Amount\")).toBeInTheDocument();\n    expect(screen.queryByText(\"should-be-filtered\")).not.toBeInTheDocument();\n  });\n\n  it(\"extracts transaction type from fields\", () => {\n    const fields: DeviceTransactionField[] = [{ type: \"text\", label: \"Type\", value: \"DELEGATE\" }];\n    (useDeviceTransactionConfig as jest.Mock).mockReturnValue({ fields, loading: false });\n    render(\n      <TransactionConfirm\n        device={mockDevice}\n        account={mockAccount}\n        parentAccount={null}\n        transaction={mockTransaction}\n        status={mockStatus}\n      />,\n    );\n    expect(screen.getByText(\"Type\")).toBeInTheDocument();\n  });\n\n  it(\"warns for unknown field type\", () => {\n    const consoleWarnSpy = jest.spyOn(console, \"warn\").mockImplementation();\n    const unknownField = {\n      type: \"unknown\",\n      label: \"Unknown\",\n    } as unknown as DeviceTransactionField;\n    (useDeviceTransactionConfig as jest.Mock).mockReturnValue({\n      fields: [unknownField],\n      loading: false,\n    });\n    render(\n      <TransactionConfirm\n        device={mockDevice}\n        account={mockAccount}\n        parentAccount={null}\n        transaction={mockTransaction}\n        status={mockStatus}\n      />,\n    );\n    expect(consoleWarnSpy).toHaveBeenCalledWith(\n      expect.stringContaining(\"field unknown is not implemented\"),\n    );\n    consoleWarnSpy.mockRestore();\n  });\n\n  it(\"renders with manifestId and manifestName\", () => {\n    (useDeviceTransactionConfig as jest.Mock).mockReturnValue({ fields: [], loading: false });\n    const { container } = render(\n      <TransactionConfirm\n        device={mockDevice}\n        account={mockAccount}\n        parentAccount={null}\n        transaction={mockTransaction}\n        status={mockStatus}\n        manifestId=\"test-manifest-id\"\n        manifestName=\"Test Manifest\"\n      />,\n    );\n    expect(container).toBeInTheDocument();\n  });\n\n  it(\"renders custom family title\", () => {\n    const CustomTitle = () => <div>Custom Title</div>;\n    (getLLDCoinFamily as jest.Mock).mockReturnValue({\n      transactionConfirmFields: {\n        title: CustomTitle,\n        fieldComponents: {},\n      },\n    });\n    (useDeviceTransactionConfig as jest.Mock).mockReturnValue({ fields: [], loading: false });\n    render(\n      <TransactionConfirm\n        device={mockDevice}\n        account={mockAccount}\n        parentAccount={null}\n        transaction={mockTransaction}\n        status={mockStatus}\n      />,\n    );\n    expect(screen.getByText(\"Custom Title\")).toBeInTheDocument();\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TransactionConfirm/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TransactionRawConfirm/ConfirmAlert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TransactionRawConfirm/ConfirmFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TransactionRawConfirm/ConfirmTitle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TransactionRawConfirm/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TransactionsPendingConfirmationWarning.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TranslatedError/ErrorWithAnchor.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TranslatedError/ErrorWithAnchor.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TranslatedError/TranslatedError.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":87,"column":16,"nodeType":"TSAsExpression","messageId":"never","endLine":87,"endColumn":45}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Convention:\n// - errors we throw on our app will use a different error.name per error type\n// - an error can have parameters, to use them, just use field of the Error object, that's what we give to `t()`\n// - returned value is intentially not styled (is universal). wrap this in whatever you need\n\nimport React, { useEffect, useMemo } from \"react\";\nimport { Trans, useTranslation } from \"react-i18next\";\nimport logger from \"~/renderer/logger\";\nimport Text from \"../Text\";\nimport ExternalLink from \"../ExternalLink\";\nimport { openURL } from \"~/renderer/linking\";\nimport { urls } from \"~/config/urls\";\nimport { useErrorLinks } from \"./hooks/useErrorLinks\";\nimport { isDmkError } from \"@ledgerhq/live-dmk-desktop\";\nimport { ErrorWithAnchorContent } from \"./ErrorWithAnchor\";\ntype Props = {\n  error: Error | undefined | null;\n  field?: \"title\" | \"description\" | \"list\";\n  noLink?: boolean;\n  fallback?: React.ReactNode;\n  dataTestId?: string;\n};\n\ntype ErrorListProps = {\n  translation: object;\n};\n\nfunction ErrorList({ translation }: ErrorListProps) {\n  return (\n    <>\n      {Object.entries(translation).map(([key, str]) =>\n        typeof str === \"string\" ? <li key={key}>{str}</li> : null,\n      )}\n    </>\n  );\n}\n\nexport function TranslatedError({\n  error,\n  fallback,\n  field = \"title\",\n  noLink,\n  dataTestId,\n}: Props): React.JSX.Element {\n  const { t } = useTranslation();\n\n  const errorName = error?.name;\n\n  const translationKey = useMemo(() => `errors.${errorName}.${field}`, [errorName, field]);\n\n  const isValidError = useMemo(() => error instanceof Error, [error]);\n  const links = useErrorLinks(error);\n\n  const args = useMemo(() => {\n    if (isValidError) {\n      return {\n        ...error,\n        message: error?.message,\n        returnObjects: true,\n      };\n    }\n    return {};\n  }, [error, isValidError]);\n\n  const translation = useMemo(() => {\n    const translation = t(translationKey, { ...args });\n    return translation === translationKey ? undefined : translation;\n  }, [args, t, translationKey]);\n\n  useEffect(() => {\n    if (!isValidError) {\n      logger.critical(`TranslatedError invalid usage: ${String(error)}`);\n    }\n  }, [isValidError, error]);\n\n  if (!error || !isValidError) {\n    // NOTE: Temporary handling of DMK errors\n    if (isDmkError(error)) {\n      const translatedKey = `errors.${error._tag}.${field}`;\n      const translated = t(translatedKey);\n      if (translated !== translatedKey) {\n        return <Text>{translated}</Text>;\n      } else {\n        const message =\n          field === \"title\"\n            ? error._tag\n            : (error?.originalError as Error)?.message ?? error.message ?? error._tag;\n\n        return <Text>{t(`errors.generic.${field}`, { message })}</Text>;\n      }\n    }\n\n    return <></>;\n  }\n\n  if (!translation) {\n    if (fallback) return <>{fallback}</>;\n    const errorKey = `errors.generic.${field}`;\n    const errorTranslation = t(errorKey, args);\n    return errorKey === errorTranslation ? <></> : <>{errorTranslation}</>;\n  }\n\n  if (typeof translation !== \"string\") {\n    return <ErrorList translation={translation} />;\n  }\n\n  // Specific to Ledger Status API\n  const hasAnchorsInTranslation = translation.includes(\"<a\");\n\n  return (\n    <>\n      {hasAnchorsInTranslation ? (\n        <ErrorWithAnchorContent html={translation} dataTestId={dataTestId} />\n      ) : (\n        <span data-testid={dataTestId}>\n          <Trans i18nKey={translationKey} components={{ ...links }} values={args} />\n        </span>\n      )}\n\n      {urls.errors[error.name] && !noLink && (\n        <>\n          {\" \"}\n          <Text ff=\"Inter|SemiBold\">\n            <ExternalLink\n              label={t(\"common.learnMore\")}\n              onClick={() => openURL(urls.errors[error.name])}\n            />\n          </Text>\n        </>\n      )}\n    </>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TranslatedError/hooks/useErrorLinks.test.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":21,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":23,"endColumn":26},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":21,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":23,"endColumn":17},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":30,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":32,"endColumn":26},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":30,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":32,"endColumn":17},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":42,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":44,"endColumn":26},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":42,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":44,"endColumn":17},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":55,"column":24,"nodeType":"TSAsExpression","messageId":"never","endLine":55,"endColumn":78},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":55,"column":24,"nodeType":"TSAsExpression","messageId":"never","endLine":55,"endColumn":69},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":56,"column":27,"nodeType":"TSAsExpression","messageId":"never","endLine":56,"endColumn":72},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":56,"column":27,"nodeType":"TSAsExpression","messageId":"never","endLine":56,"endColumn":63},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":57,"column":27,"nodeType":"TSAsExpression","messageId":"never","endLine":57,"endColumn":62},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":57,"column":27,"nodeType":"TSAsExpression","messageId":"never","endLine":57,"endColumn":53},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":60,"column":29,"nodeType":"TSAsExpression","messageId":"never","endLine":60,"endColumn":77},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":60,"column":29,"nodeType":"TSAsExpression","messageId":"never","endLine":60,"endColumn":68}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useErrorLinks } from \"./useErrorLinks\";\nimport { renderHook } from \"tests/testSetup\";\n\nconst renderUseErrorLinks = (error?: Error | null) => {\n  return renderHook(() => useErrorLinks(error));\n};\n\ndescribe(\"useErrorLinks\", () => {\n  it(\"returns empty object when no error is provided\", () => {\n    const { result } = renderUseErrorLinks();\n    expect(result.current).toEqual({});\n  });\n\n  it(\"returns empty object when error has no links\", () => {\n    const error = new Error(\"Test error\");\n    const { result } = renderUseErrorLinks(error);\n    expect(result.current).toEqual({});\n  });\n\n  it(\"creates links for absolute URLs\", () => {\n    const error = {\n      links: [\"https://example.com\", \"http://test.com\"],\n    } as unknown as Error;\n    const { result } = renderUseErrorLinks(error);\n\n    expect(Object.keys(result.current)).toHaveLength(2);\n  });\n\n  it(\"creates buttons for relative URLs\", () => {\n    const error = {\n      links: [\"/relative/path?param=value\"],\n    } as unknown as Error;\n    const { result } = renderUseErrorLinks(error);\n    const currentResult = result.current;\n    expect(currentResult).toBeInstanceOf(Object);\n    expect(Object.keys(currentResult)).toHaveLength(1);\n\n    expect(currentResult[\"link0\"].props[\"data-testid\"]).toBe(\"translated-error-link-0\");\n  });\n\n  it(\"filters out invalid links\", () => {\n    const error = {\n      links: [\"https://example.com\", 123, null, undefined, \"/relative/path\"],\n    } as unknown as Error;\n    const { result } = renderUseErrorLinks(error);\n    const currentResult = result.current;\n\n    expect(Object.keys(currentResult)).toHaveLength(2);\n\n    expect(currentResult[\"link0\"].props[\"data-testid\"]).toBe(\"translated-error-link-0\");\n    expect(currentResult[\"link1\"].props[\"data-testid\"]).toBe(\"translated-error-link-1\");\n  });\n\n  it(\"handles the condition getSafeStringLinks correctly\", () => {\n    const validError = { links: [\"https://example.com\"] } as unknown as Error;\n    const invalidError1 = { links: \"not-an-array\" } as unknown as Error;\n    const invalidError2 = { noLinks: [] } as unknown as Error;\n\n    //https://ledgerhq.atlassian.net/browse/LIVE-14178\n    const errorInOperator = \"Invalid extension provided\" as unknown as Error;\n\n    const { result: resultValid } = renderUseErrorLinks(validError);\n    expect(Object.keys(resultValid.current)).toHaveLength(1);\n\n    const { result: resultInvalid1 } = renderUseErrorLinks(invalidError1);\n    expect(resultInvalid1.current).toEqual({});\n\n    const { result: resultInvalid2 } = renderUseErrorLinks(invalidError2);\n    expect(resultInvalid2.current).toEqual({});\n\n    const { result: resultErrorInOperator } = renderUseErrorLinks(errorInOperator);\n    expect(resultErrorInOperator.current).toEqual({});\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TranslatedError/hooks/useErrorLinks.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useMemo has a missing dependency: 'history'. Either include it or remove the dependency array.","line":46,"column":6,"nodeType":"ArrayExpression","endLine":46,"endColumn":23,"suggestions":[{"desc":"Update the dependencies array to be: [history, safeStringLinks]","fix":{"range":[1453,1470],"text":"[history, safeStringLinks]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TranslatedError/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TranslatedError/styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TranslatedError/utils/index.test.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":19,"column":33,"nodeType":"TSAsExpression","messageId":"never","endLine":19,"endColumn":68},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":19,"column":33,"nodeType":"TSAsExpression","messageId":"never","endLine":19,"endColumn":59},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":23,"column":21,"nodeType":"TSAsExpression","messageId":"never","endLine":23,"endColumn":66},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":23,"column":21,"nodeType":"TSAsExpression","messageId":"never","endLine":23,"endColumn":57},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":28,"column":21,"nodeType":"TSAsExpression","messageId":"never","endLine":28,"endColumn":66},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":28,"column":21,"nodeType":"TSAsExpression","messageId":"never","endLine":28,"endColumn":57},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":35,"column":21,"nodeType":"TSAsExpression","messageId":"never","endLine":37,"endColumn":28},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":35,"column":21,"nodeType":"TSAsExpression","messageId":"never","endLine":37,"endColumn":19},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":42,"column":21,"nodeType":"TSAsExpression","messageId":"never","endLine":44,"endColumn":28},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":42,"column":21,"nodeType":"TSAsExpression","messageId":"never","endLine":44,"endColumn":19},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":49,"column":21,"nodeType":"TSAsExpression","messageId":"never","endLine":49,"endColumn":86},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":49,"column":21,"nodeType":"TSAsExpression","messageId":"never","endLine":49,"endColumn":77}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { getSafeStringLinks, isAbsoluteUrl } from \"./index\";\n\ndescribe(\"getSafeStringLinks\", () => {\n  describe(\"returns an empty array\", () => {\n    it(\"when error is undefined\", () => {\n      expect(getSafeStringLinks(undefined)).toEqual([]);\n    });\n\n    it(\"when error is null\", () => {\n      expect(getSafeStringLinks(null)).toEqual([]);\n    });\n\n    it(\"when error has no links\", () => {\n      const error = new Error(\"Test error\");\n      expect(getSafeStringLinks(error)).toEqual([]);\n    });\n\n    it(\"when error is not an object\", () => {\n      expect(getSafeStringLinks(\"not-an-object\" as unknown as Error)).toEqual([]);\n    });\n\n    it(\"when error does not have 'links' property\", () => {\n      const error = { message: \"Test error\" } as unknown as Error;\n      expect(getSafeStringLinks(error)).toEqual([]);\n    });\n\n    it(\"when 'links' is not an array\", () => {\n      const error = { links: \"not-an-array\" } as unknown as Error;\n      expect(getSafeStringLinks(error)).toEqual([]);\n    });\n  });\n\n  describe(\"filters and returns valid links\", () => {\n    it(\"filters out non-string links\", () => {\n      const error = {\n        links: [\"https://example.com\", 123, null, undefined, \"/relative/path\"],\n      } as unknown as Error;\n      expect(getSafeStringLinks(error)).toEqual([\"https://example.com\", \"/relative/path\"]);\n    });\n\n    it(\"returns all string links\", () => {\n      const error = {\n        links: [\"https://example.com\", \"/relative/path\"],\n      } as unknown as Error;\n      expect(getSafeStringLinks(error)).toEqual([\"https://example.com\", \"/relative/path\"]);\n    });\n\n    it(\"returns filtered string links when 'links' is a valid array\", () => {\n      const error = { links: [\"https://example.com\", 123, null] } as unknown as Error;\n      expect(getSafeStringLinks(error)).toEqual([\"https://example.com\"]);\n    });\n  });\n});\n\ndescribe(\"isAbsoluteUrl\", () => {\n  it(\"returns true for absolute URLs\", () => {\n    expect(isAbsoluteUrl(\"https://example.com\")).toBe(true);\n    expect(isAbsoluteUrl(\"http://example.com\")).toBe(true);\n  });\n\n  it(\"returns false for relative URLs\", () => {\n    expect(isAbsoluteUrl(\"/relative/path\")).toBe(false);\n    expect(isAbsoluteUrl(\"relative/path\")).toBe(false);\n  });\n\n  it(\"returns false for invalid URLs\", () => {\n    expect(isAbsoluteUrl(\"invalid-url\")).toBe(false);\n    expect(isAbsoluteUrl(\"\")).toBe(false);\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TranslatedError/utils/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TriggerAppReady.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/TroubleshootNetworkButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/UTXOAddressAlert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Updater/Banner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Updater/UpdateDot.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Updater/UpdaterContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Updater/UpdaterTopBanner.test.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":18,"column":15,"nodeType":"TSAsExpression","messageId":"never","endLine":18,"endColumn":37},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":31,"column":15,"nodeType":"TSAsExpression","messageId":"never","endLine":31,"endColumn":47},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":63,"column":15,"nodeType":"TSAsExpression","messageId":"never","endLine":63,"endColumn":37}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { MaybeUpdateContextType, UpdaterContext } from \"./UpdaterContext\";\nimport UpdaterTopBanner, { VISIBLE_STATUS } from \"./Banner\";\nimport { act, render, screen } from \"tests/testSetup\";\n\nconst defaultContext = {\n  version: \"1.0.0\",\n  quitAndInstall: jest.fn(),\n  downloadProgress: 42,\n  setStatus: jest.fn(),\n  error: null,\n};\n\ndescribe(\"UpdaterTopBanner\", () => {\n  it.each(VISIBLE_STATUS)(\"should render TopBanner for status '%s'\", status => {\n    const context: MaybeUpdateContextType = {\n      ...defaultContext,\n      status: status as UpdateStatus,\n    };\n    render(\n      <UpdaterContext.Provider value={context}>\n        <UpdaterTopBanner />\n      </UpdaterContext.Provider>,\n    );\n    expect(screen.queryByTestId(\"layout-app-update-banner\")).toBeInTheDocument();\n  });\n\n  it(\"should not render TopBanner for unknown status\", () => {\n    const context: MaybeUpdateContextType = {\n      ...defaultContext,\n      status: \"unknown-status\" as UpdateStatus,\n    };\n    render(\n      <UpdaterContext.Provider value={context}>\n        <UpdaterTopBanner />\n      </UpdaterContext.Provider>,\n    );\n    expect(screen.queryByTestId(\"layout-app-update-banner\")).not.toBeInTheDocument();\n  });\n\n  it(\"should not render TopBanner if context is missing version\", () => {\n    const context: MaybeUpdateContextType = {\n      ...defaultContext,\n      status: \"download-progress\",\n      quitAndInstall: jest.fn(),\n      downloadProgress: 42,\n      version: undefined,\n    };\n    render(\n      <UpdaterContext.Provider value={context}>\n        <UpdaterTopBanner />\n      </UpdaterContext.Provider>,\n    );\n    expect(screen.queryByTestId(\"layout-app-update-banner\")).not.toBeInTheDocument();\n  });\n\n  it.each([\n    [\"check-success\", \"update.quitAndInstall\"],\n    [\"error\", \"update.reDownload\"],\n  ])(\"should render a clickable element in right for status '%s'\", (status, matcherOrKey) => {\n    const context: MaybeUpdateContextType = {\n      ...defaultContext,\n      status: status as UpdateStatus,\n    };\n    const { i18n } = render(\n      <UpdaterContext.Provider value={context}>\n        <UpdaterTopBanner />\n      </UpdaterContext.Provider>,\n    );\n\n    expect(screen.getByText(i18n.t(matcherOrKey))).toBeInTheDocument();\n  });\n\n  it(\"should render the right progress text for status 'download-progress'\", () => {\n    const context: MaybeUpdateContextType = {\n      ...defaultContext,\n      status: \"download-progress\",\n      downloadProgress: 42,\n    };\n    render(\n      <UpdaterContext.Provider value={context}>\n        <UpdaterTopBanner />\n      </UpdaterContext.Provider>,\n    );\n    expect(screen.getByText(/42% completed/)).toBeInTheDocument();\n  });\n\n  it(\"should update the banner text when language changes\", async () => {\n    const context: MaybeUpdateContextType = {\n      ...defaultContext,\n      status: \"update-available\",\n    };\n    const { i18n } = render(\n      <UpdaterContext.Provider value={context}>\n        <UpdaterTopBanner />\n      </UpdaterContext.Provider>,\n    );\n\n    expect(\n      screen.getByText(`Update to Ledger Wallet version ${context.version} is available`),\n    ).toBeInTheDocument();\n    await act(async () => {\n      await i18n.changeLanguage(\"fr\");\n    });\n\n    expect(\n      screen.getByText(`Mise à jour disponible vers la version Ledger Wallet ${context.version}`),\n    ).toBeInTheDocument();\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Updater/useIsUpdateAvailable.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/VaultSignerBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/WarnBox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Web3AppWebview/LiveAppSDKLogic.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Web3AppWebview/NetworkError.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Web3AppWebview/NoAccountOverlay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Web3AppWebview/PlatformAPIWebview.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useCallback has a missing dependency: 'webviewRef'. Either include it or remove the dependency array.","line":374,"column":8,"nodeType":"ArrayExpression","endLine":374,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [webviewRef]","fix":{"range":[12806,12808],"text":"[webviewRef]"}}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has missing dependencies: 'tracking' and 'webviewRef'. Either include them or remove the dependency array.","line":400,"column":8,"nodeType":"ArrayExpression","endLine":400,"endColumn":33,"suggestions":[{"desc":"Update the dependencies array to be: [manifest, handleMessage, tracking, webviewRef]","fix":{"range":[13498,13523],"text":"[manifest, handleMessage, tracking, webviewRef]"}}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useCallback has a missing dependency: 'webviewRef'. Either include it or remove the dependency array.","line":418,"column":8,"nodeType":"ArrayExpression","endLine":418,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [webviewRef]","fix":{"range":[14042,14044],"text":"[webviewRef]"}}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has a missing dependency: 'webviewRef'. Either include it or remove the dependency array.","line":435,"column":8,"nodeType":"ArrayExpression","endLine":435,"endColumn":36,"suggestions":[{"desc":"Update the dependencies array to be: [handleLoad, handleDomReady, webviewRef]","fix":{"range":[14541,14569],"text":"[handleLoad, handleDomReady, webviewRef]"}}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react/no-unknown-property","severity":2,"message":"Invalid property 'preload' found on tag 'webview', but it is only allowed on: audio, video","line":459,"column":11,"nodeType":"JSXAttribute","messageId":"invalidPropOnTag","endLine":459,"endColumn":81,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react/no-unknown-property","severity":2,"message":"Unknown property 'allowpopups' found","line":468,"column":11,"nodeType":"JSXAttribute","messageId":"unknownProp","endLine":468,"endColumn":29,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Web3AppWebview/WalletAPIWebview.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useMemo has a missing dependency: 'webviewRef'. Either include it or remove the dependency array.","line":364,"column":6,"nodeType":"ArrayExpression","endLine":364,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [webviewRef]","fix":{"range":[11644,11646],"text":"[webviewRef]"}}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has a missing dependency: 'serverRef'. Either include it or remove the dependency array.","line":383,"column":6,"nodeType":"ArrayExpression","endLine":383,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [server, serverRef]","fix":{"range":[12032,12040],"text":"[server, serverRef]"}}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useCallback has a missing dependency: 'webviewRef'. Either include it or remove the dependency array.","line":419,"column":6,"nodeType":"ArrayExpression","endLine":419,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [webviewRef]","fix":{"range":[12953,12955],"text":"[webviewRef]"}}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react/no-unknown-property","severity":2,"message":"Invalid property 'preload' found on tag 'webview', but it is only allowed on: audio, video","line":536,"column":11,"nodeType":"JSXAttribute","messageId":"invalidPropOnTag","endLine":536,"endColumn":77,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react/no-unknown-property","severity":2,"message":"Unknown property 'allowpopups' found","line":545,"column":11,"nodeType":"JSXAttribute","messageId":"unknownProp","endLine":545,"endColumn":29,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react/no-unknown-property","severity":2,"message":"Unknown property 'webpreferences' found","line":547,"column":11,"nodeType":"JSXAttribute","messageId":"unknownProp","endLine":547,"endColumn":89,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Web3AppWebview/helpers.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":103,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":103,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3280,3283],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3280,3283],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useImperativeHandle has a missing dependency: 'serverRef'. Either include it or remove the dependency array.","line":110,"column":5,"nodeType":"ArrayExpression","endLine":110,"endColumn":7,"suggestions":[{"desc":"Update the dependencies array to be: [serverRef]","fix":{"range":[3441,3443],"text":"[serverRef]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Web3AppWebview/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Web3AppWebview/styled.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/Web3AppWebview/types.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":42,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":42,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1345,1348],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1345,1348],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/WebPTXPlayer/CustomHandlers.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":99,"column":31,"nodeType":"TSAsExpression","messageId":"never","endLine":101,"endColumn":33}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import {\n  handlers as exchangeHandlers,\n  ExchangeType,\n} from \"@ledgerhq/live-common/wallet-api/Exchange/server\";\nimport trackingWrapper from \"@ledgerhq/live-common/wallet-api/Exchange/tracking\";\nimport {\n  WalletAPICustomHandlers,\n  AccountIdFormatsResponse,\n} from \"@ledgerhq/live-common/wallet-api/types\";\nimport { Account, AccountLike, Operation } from \"@ledgerhq/types-live\";\nimport React, { useCallback, useMemo } from \"react\";\nimport { useDispatch, useSelector } from \"LLD/hooks/redux\";\nimport { closePlatformAppDrawer, openExchangeDrawer } from \"~/renderer/actions/UI\";\nimport { currentRouteNameRef } from \"~/renderer/analytics/screenRefs\";\nimport { track } from \"~/renderer/analytics/segment\";\nimport { context } from \"~/renderer/drawers/Provider\";\nimport WebviewErrorDrawer from \"~/renderer/screens/exchange/Swap2/Form/WebviewErrorDrawer\";\nimport { WebviewProps } from \"../Web3AppWebview/types\";\nimport { getAccountIdFromWalletAccountId } from \"@ledgerhq/live-common/wallet-api/converters\";\nimport { openModal } from \"~/renderer/actions/modals\";\nimport {\n  getParentAccount,\n  isTokenAccount,\n  makeEmptyTokenAccount,\n} from \"@ledgerhq/coin-framework/account/helpers\";\nimport {\n  decodeTokenAccountIdSync,\n  decodeTokenAccountId,\n} from \"@ledgerhq/coin-framework/account/index\";\nimport logger from \"~/renderer/logger\";\nimport { useStake } from \"LLD/hooks/useStake\";\nimport { StakeFlowProps } from \"~/renderer/screens/stake\";\nimport { useHistory } from \"react-router\";\nimport { walletSelector } from \"~/renderer/reducers/wallet\";\nimport { objectToURLSearchParams } from \"@ledgerhq/live-common/wallet-api/helpers\";\nimport { useRemoteLiveAppContext } from \"@ledgerhq/live-common/platform/providers/RemoteLiveAppProvider/index\";\nimport { useLocalLiveAppContext } from \"@ledgerhq/live-common/wallet-api/LocalLiveAppProvider/index\";\nimport { usesEncodedAccountIdFormat } from \"@ledgerhq/live-common/wallet-api/utils/deriveAccountIdForManifest\";\n\nexport function usePTXCustomHandlers(manifest: WebviewProps[\"manifest\"], accounts: AccountLike[]) {\n  const dispatch = useDispatch();\n  const { setDrawer } = React.useContext(context);\n  const { getRouteToPlatformApp } = useStake();\n  const history = useHistory();\n  const walletState = useSelector(walletSelector);\n  const { state: liveAppRegistryState } = useRemoteLiveAppContext();\n  const { state: localLiveAppState } = useLocalLiveAppContext();\n\n  // Helper to get manifest by ID - checks local first, then remote\n  const getManifestById = useCallback(\n    (liveAppId: string) => {\n      // Check local manifests first (takes precedence)\n      const localManifest = localLiveAppState?.find(app => app.id === liveAppId);\n      if (localManifest) return localManifest;\n\n      // Fall back to remote manifests\n      return (\n        liveAppRegistryState.value?.liveAppFilteredById?.[liveAppId] ||\n        liveAppRegistryState.value?.liveAppById?.[liveAppId]\n      );\n    },\n    [liveAppRegistryState, localLiveAppState],\n  );\n\n  const tracking = useMemo(\n    () =>\n      trackingWrapper(\n        (\n          eventName: string,\n          properties?: Record<string, unknown> | null,\n          mandatory?: boolean | null,\n        ) =>\n          track(\n            eventName,\n            {\n              ...properties,\n              flowInitiatedFrom:\n                currentRouteNameRef.current === \"Platform Catalog\"\n                  ? \"Discover\"\n                  : currentRouteNameRef.current,\n            },\n            mandatory,\n          ),\n      ),\n    [],\n  );\n\n  const getAccount = useCallback(\n    async (accountId: string): Promise<AccountLike | null> => {\n      const foundAccount = accounts.find(acc => acc.id === accountId);\n\n      if (foundAccount) {\n        return foundAccount;\n      }\n\n      if (accountId.includes(\"+\")) {\n        const { accountId: parentAccountId } = decodeTokenAccountIdSync(accountId);\n\n        const parentAccount = accounts.find(\n          acc => acc.type === \"Account\" && acc.id === parentAccountId,\n        ) as Account | undefined;\n\n        const { token } = await decodeTokenAccountId(accountId);\n\n        if (parentAccount && token) {\n          return makeEmptyTokenAccount(parentAccount, token);\n        }\n      }\n\n      return null;\n    },\n    [accounts],\n  );\n\n  const startStakeFlow = useCallback(\n    (props: {\n      account: AccountLike;\n      parentAccount: Account | undefined;\n      alwaysShowNoFunds: StakeFlowProps[\"alwaysShowNoFunds\"];\n      entryPoint: StakeFlowProps[\"entryPoint\"];\n      source: StakeFlowProps[\"source\"];\n      returnTo?: string;\n    }) => {\n      const { account, parentAccount, alwaysShowNoFunds, entryPoint, source, returnTo } = props;\n      const platformAppRoute = getRouteToPlatformApp(account, walletState, parentAccount, returnTo);\n\n      if (alwaysShowNoFunds || account.spendableBalance.isZero()) {\n        dispatch(\n          openModal(\"MODAL_NO_FUNDS_STAKE\", {\n            account,\n            parentAccount,\n            entryPoint,\n          }),\n        );\n      } else if (platformAppRoute) {\n        // Convert state object to query parameters to trigger middleware in child app\n        const stateObj = {\n          ...platformAppRoute.state,\n          returnTo,\n        };\n        const queryParams = objectToURLSearchParams(stateObj);\n\n        // Push to history with both state and query params\n        const searchStr = `?${queryParams.toString() ?? \"\"}`;\n\n        history.push({\n          pathname: platformAppRoute.pathname.toString(),\n          search: searchStr,\n          state: stateObj, // Keep state object for components that rely on it\n        });\n      } else {\n        dispatch(openModal(\"MODAL_START_STAKE\", { account, parentAccount, source }));\n      }\n    },\n    [dispatch, getRouteToPlatformApp, history, walletState],\n  );\n\n  return useMemo<WalletAPICustomHandlers>(() => {\n    return {\n      ...exchangeHandlers({\n        accounts,\n        tracking,\n        manifest,\n        uiHooks: {\n          \"custom.exchange.start\": ({ exchangeParams, onSuccess, onCancel }) => {\n            dispatch(\n              openExchangeDrawer({\n                type: \"EXCHANGE_START\",\n                ...exchangeParams,\n                exchangeType: ExchangeType[exchangeParams.exchangeType],\n                onResult: result => {\n                  onSuccess(result.nonce, result.device);\n                },\n                onCancel: cancelResult => {\n                  onCancel(cancelResult.error, cancelResult.device);\n                },\n              }),\n            );\n          },\n          \"custom.exchange.complete\": ({ exchangeParams, onSuccess, onCancel }) => {\n            dispatch(\n              openExchangeDrawer({\n                type: \"EXCHANGE_COMPLETE\",\n                ...exchangeParams,\n                onResult: (operation: Operation) => {\n                  onSuccess(operation.hash);\n                },\n                onCancel: (error: Error) => {\n                  console.error(error);\n                  onCancel(error);\n                },\n              }),\n            );\n          },\n          \"custom.exchange.error\": ({ error }) => {\n            dispatch(closePlatformAppDrawer());\n            setDrawer(WebviewErrorDrawer, error);\n            return Promise.resolve();\n          },\n          \"custom.isReady\": async () => {\n            console.info(\"Earn Live App Loaded\");\n          },\n          \"custom.exchange.swap\": ({ exchangeParams, onSuccess, onCancel }) => {\n            let cancelCalled = false;\n            const safeOnCancel = (error: Error) => {\n              if (!cancelCalled) {\n                console.error(error);\n                cancelCalled = true;\n                onCancel(error);\n              }\n            };\n\n            dispatch(\n              openExchangeDrawer({\n                type: \"EXCHANGE_COMPLETE\",\n                ...exchangeParams,\n                onResult: operation => {\n                  if (operation && exchangeParams.swapId) {\n                    // return success to swap live app\n                    onSuccess({\n                      operationHash: operation.hash,\n                      swapId: exchangeParams.swapId,\n                    });\n                  }\n                },\n                onCancel: safeOnCancel,\n              }),\n            );\n          },\n        },\n      }),\n      \"custom.navigate\": async request => {\n        const { action } = request.params || {};\n\n        if (!action) {\n          throw new Error(\"Missing action parameter\");\n        }\n\n        if (action === \"go-back\") {\n          // Handle back navigation using history\n          history.goBack();\n          return { success: true };\n        } else if (action === \"redirect-provider\") {\n          const { currencyId, accountId, source } = request.params || {};\n\n          if (!currencyId) {\n            throw new Error(\"Missing currencyId parameter\");\n          }\n\n          if (!accountId) {\n            throw new Error(\"Missing accountId parameter\");\n          }\n\n          // Find the account that matches the accountId\n          const matchingAccountId = getAccountIdFromWalletAccountId(accountId);\n          if (!matchingAccountId) {\n            throw new Error(\"Invalid accountId format\");\n          }\n\n          const matchingAccount = accounts.find(acc => acc.id === matchingAccountId);\n          if (!matchingAccount) {\n            throw new Error(`No matching account found for currency ${currencyId}`);\n          }\n\n          let parentAccount: Account | undefined;\n\n          // Get parent account if it's a token account\n          if (matchingAccount.type === \"TokenAccount\") {\n            const tokenAccount = matchingAccount;\n            const foundParentAccount = accounts.find(\n              a => a.type === \"Account\" && a.id === tokenAccount.parentId,\n            );\n            parentAccount = foundParentAccount?.type === \"Account\" ? foundParentAccount : undefined;\n          }\n\n          startStakeFlow({\n            account: matchingAccount,\n            parentAccount,\n            alwaysShowNoFunds: false,\n            entryPoint: \"get-funds\",\n            source,\n          });\n          return { success: true };\n        }\n        throw new Error(\"Unknown navigation action\");\n      },\n      \"custom.getFunds\": async request => {\n        const accountId = request.params?.accountId;\n\n        if (!accountId) {\n          throw new Error(\"accountId is required\");\n        }\n\n        try {\n          const id = getAccountIdFromWalletAccountId(accountId);\n          if (!id) {\n            throw new Error(\"Invalid accountId\");\n          }\n          const account = await getAccount(id);\n\n          if (!account) {\n            throw new Error(\"Account not found\");\n          }\n\n          dispatch(\n            openModal(\"MODAL_NO_FUNDS_STAKE\", {\n              account,\n              parentAccount: isTokenAccount(account)\n                ? getParentAccount(account, accounts)\n                : undefined,\n            }),\n          );\n\n          return Promise.resolve();\n        } catch (error) {\n          logger.error(\"Error in custom.getFunds handler\", error);\n          throw error;\n        }\n      },\n      \"custom.getAccountIdFormats\": async request => {\n        const { liveAppIds } = request.params || {};\n\n        if (!liveAppIds) {\n          throw new Error(\"Missing liveAppIds parameter\");\n        }\n\n        if (!Array.isArray(liveAppIds)) {\n          throw new Error(\"liveAppIds must be an array\");\n        }\n\n        try {\n          const results: AccountIdFormatsResponse = {};\n\n          // For each liveAppId, fetch the manifest and check if it uses uuid format\n          for (const liveAppId of liveAppIds) {\n            try {\n              const fetchedManifest = getManifestById(liveAppId);\n\n              if (fetchedManifest) {\n                results[liveAppId] = usesEncodedAccountIdFormat(fetchedManifest)\n                  ? \"encoded\"\n                  : \"uuid\";\n              } else {\n                // If manifest not found, default to \"encoded\" (safer fallback)\n                results[liveAppId] = \"encoded\";\n              }\n            } catch {\n              // On error, default to \"encoded\" format\n              results[liveAppId] = \"encoded\";\n            }\n          }\n\n          return results;\n        } catch (error) {\n          logger.error(\"Error in custom.getAccountIdFormats handler\", error);\n          throw error;\n        }\n      },\n    };\n  }, [\n    accounts,\n    tracking,\n    manifest,\n    dispatch,\n    setDrawer,\n    history,\n    startStakeFlow,\n    getManifestById,\n    getAccount,\n  ]);\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/WebPTXPlayer/TopBar.test.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":84,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":84,"endColumn":41},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":84,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":84,"endColumn":28},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":97,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":97,"endColumn":41},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":97,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":97,"endColumn":28},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":109,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":109,"endColumn":41},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":109,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":109,"endColumn":28}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { WebviewState } from \"../Web3AppWebview/types\";\nimport { LiveAppManifest } from \"@ledgerhq/live-common/platform/types\";\nimport { TopBar } from \"./TopBar\";\nimport { MemoryRouter } from \"react-router\";\nimport { render, screen } from \"@testing-library/react\";\nimport { useSelector } from \"LLD/hooks/redux\";\n\njest.mock(\"LLD/hooks/redux\", () => {\n  return {\n    useSelector: jest.fn(),\n  };\n});\n\njest.mock(\"react-i18next\", () => ({\n  useTranslation: () => ({\n    t: (key: string) => key,\n  }),\n  Trans: ({ i18nKey }: { i18nKey: string }) => <span>{i18nKey}</span>,\n}));\n\nconst mockManifest: LiveAppManifest | undefined = {\n  id: \"buy-sell-ui\",\n  name: \"Buy / Sell\",\n  private: false,\n  url: \"http://localhost:3000\",\n  homepageUrl: \"http://localhost:3000\",\n  icon: \"\",\n  platforms: [\"android\", \"ios\", \"desktop\"],\n  providerTestBaseUrl: \"\",\n  providerTestId: \"\",\n  apiVersion: \"^2.0.0\",\n  manifestVersion: \"2\",\n  branch: \"experimental\",\n  categories: [\"exchange\", \"buy\"],\n  currencies: \"*\",\n  content: {\n    shortDescription: {\n      en: \"Purchase Bitcoin, Ethereum and more crypto with a selection of providers.\",\n    },\n    description: {\n      en: \"Purchase Bitcoin, Ethereum and more crypto with a selection of providers.\",\n    },\n  },\n  permissions: [\"account.list\", \"account.request\", \"currency.list\", \"wallet.userId\", \"wallet.info\"],\n  domains: [\"http://\", \"https://\", \"http://localhost:3000\"],\n  visibility: \"complete\",\n};\n\nconst mockWebviewAPIRef = {\n  current: {\n    reload: jest.fn(),\n    goBack: jest.fn(),\n    goForward: jest.fn(),\n    openDevTools: jest.fn(),\n    loadURL: jest.fn(),\n    clearHistory: jest.fn(),\n    notify: jest.fn(),\n  },\n};\n\nconst mockWebviewState: WebviewState = {\n  url: \"http://localhost:3000\",\n  canGoBack: false,\n  canGoForward: false,\n  title: \"Buy / Sell\",\n  loading: false,\n  isAppUnavailable: false,\n};\n\ndescribe(\"TopBar\", () => {\n  const mobileView = { display: false, width: 355 };\n  const setMobileView = jest.fn();\n\n  const defaultProps = {\n    manifest: mockManifest,\n    webviewAPIRef: mockWebviewAPIRef,\n    webviewState: mockWebviewState,\n    setMobileView,\n    mobileView,\n  };\n\n  it(\"does not render if isInternalApp is true and dev tools are disabled\", () => {\n    (useSelector as unknown as jest.Mock).mockReturnValue(false);\n\n    render(\n      <MemoryRouter initialEntries={[\"/\"]}>\n        <TopBar {...defaultProps} />\n      </MemoryRouter>,\n    );\n\n    expect(screen.queryByText(\"common.sync.refresh\")).toBeNull();\n    expect(screen.queryByText(\"common.sync.devTools\")).toBeNull();\n  });\n\n  it(\"renders refresh and dev tools buttons when dev tools are enabled\", () => {\n    (useSelector as unknown as jest.Mock).mockReturnValue(true);\n\n    render(\n      <MemoryRouter initialEntries={[\"/\"]}>\n        <TopBar {...defaultProps} />\n      </MemoryRouter>,\n    );\n    expect(screen.getByText(\"common.sync.refresh\")).toBeInTheDocument();\n    expect(screen.getByText(\"common.sync.devTools\")).toBeInTheDocument();\n  });\n\n  it(\"renders only refresh button when on an external app and dev tools disabled\", () => {\n    (useSelector as unknown as jest.Mock).mockReturnValue(false);\n\n    render(\n      <MemoryRouter initialEntries={[\"/\"]}>\n        <TopBar {...defaultProps} manifest={{ ...mockManifest, id: \"\" }} />\n      </MemoryRouter>,\n    );\n    expect(screen.getByText(\"common.backToMatchingURL\")).toBeInTheDocument();\n    expect(screen.getByText(\"common.sync.refresh\")).toBeInTheDocument();\n    expect(screen.queryByText(\"common.sync.devTools\")).toBeNull();\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/WebPTXPlayer/TopBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/WebPTXPlayer/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/WebPlatformPlayer/CustomHandlers.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":127,"column":29,"nodeType":"TSAsExpression","messageId":"never","endLine":127,"endColumn":75},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":145,"column":23,"nodeType":"TSAsExpression","messageId":"never","endLine":145,"endColumn":37}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useMemo } from \"react\";\nimport { ipcRenderer } from \"electron\";\nimport { useTranslation } from \"react-i18next\";\nimport { useDispatch } from \"LLD/hooks/redux\";\nimport { AccountLike } from \"@ledgerhq/types-live\";\nimport { useToasts } from \"@ledgerhq/live-common/notifications/ToastProvider/index\";\nimport { addPendingOperation } from \"@ledgerhq/live-common/account/index\";\nimport { WalletAPICustomHandlers } from \"@ledgerhq/live-common/wallet-api/types\";\nimport { handlers as acreHandlers } from \"@ledgerhq/live-common/wallet-api/ACRE/server\";\nimport trackingWrapper from \"@ledgerhq/live-common/wallet-api/ACRE/tracking\";\nimport { track } from \"~/renderer/analytics/segment\";\nimport { openModal } from \"~/renderer/actions/modals\";\nimport { setDrawer } from \"~/renderer/drawers/Provider\";\nimport { OperationDetails } from \"~/renderer/drawers/OperationDetails\";\nimport { currentRouteNameRef } from \"~/renderer/analytics/screenRefs\";\nimport { replaceAccounts, updateAccountWithUpdater } from \"~/renderer/actions/accounts\";\nimport { WebviewProps } from \"../Web3AppWebview/types\";\nimport { setAccountName } from \"@ledgerhq/live-wallet/lib-es/store\";\nimport { handlers as deeplinkHandlers } from \"@ledgerhq/live-common/wallet-api/CustomDeeplink/server\";\n\nexport function useACRECustomHandlers(manifest: WebviewProps[\"manifest\"], accounts: AccountLike[]) {\n  const { pushToast } = useToasts();\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n\n  const tracking = useMemo(\n    () =>\n      trackingWrapper(\n        (\n          eventName: string,\n          properties?: Record<string, unknown> | null,\n          mandatory?: boolean | null,\n        ) =>\n          track(\n            eventName,\n            {\n              ...properties,\n              flowInitiatedFrom:\n                currentRouteNameRef.current === \"Platform Catalog\"\n                  ? \"Discover\"\n                  : currentRouteNameRef.current,\n            },\n            mandatory,\n          ),\n      ),\n    [],\n  );\n\n  return useMemo<WalletAPICustomHandlers>(() => {\n    return {\n      ...acreHandlers({\n        accounts,\n        tracking,\n        manifest,\n        uiHooks: {\n          \"custom.acre.messageSign\": ({\n            account,\n            message,\n            options,\n            onSuccess,\n            onError,\n            onCancel,\n          }) => {\n            ipcRenderer.send(\"show-app\", {});\n            dispatch(\n              openModal(\"MODAL_SIGN_MESSAGE\", {\n                isACRE: true,\n                account,\n                message,\n                useApp: options?.hwAppId,\n                dependencies: options?.dependencies,\n                onConfirmationHandler: onSuccess,\n                onFailHandler: onError,\n                onClose: onCancel,\n              }),\n            );\n          },\n          \"custom.acre.transactionSign\": ({\n            account,\n            parentAccount,\n            signFlowInfos: { canEditFees, hasFeesProvided, liveTx },\n            options,\n            onSuccess,\n            onError,\n          }) => {\n            ipcRenderer.send(\"show-app\", {});\n            dispatch(\n              openModal(\"MODAL_SIGN_TRANSACTION\", {\n                isACRE: true,\n                canEditFees,\n                stepId: canEditFees && !hasFeesProvided ? \"amount\" : \"summary\",\n                transactionData: liveTx,\n                useApp: options?.hwAppId,\n                dependencies: options?.dependencies,\n                account,\n                parentAccount,\n                onResult: onSuccess,\n                onCancel: onError,\n                manifestId: manifest.id,\n                manifestName: manifest.name,\n              }),\n            );\n          },\n          \"custom.acre.transactionBroadcast\": (\n            account,\n            parentAccount,\n            mainAccount,\n            optimisticOperation,\n          ) => {\n            dispatch(\n              updateAccountWithUpdater(mainAccount.id, account =>\n                addPendingOperation(account, optimisticOperation),\n              ),\n            );\n\n            pushToast({\n              id: optimisticOperation.id,\n              type: \"operation\",\n              title: t(\"platform.flows.broadcast.toast.title\"),\n              text: t(\"platform.flows.broadcast.toast.text\"),\n              icon: \"info\",\n              callback: () => {\n                tracking.broadcastOperationDetailsClick(manifest);\n                setDrawer(OperationDetails, {\n                  operationId: optimisticOperation.id,\n                  accountId: account.id,\n                  parentId: parentAccount?.id as string | undefined | null,\n                });\n              },\n            });\n          },\n          \"custom.acre.registerAccount\": ({\n            parentAccount,\n            accountName,\n            existingAccounts,\n            onSuccess,\n            onError,\n          }) => {\n            try {\n              // Desktop: Limitation, can't add one single account, only REPLACE_ACCOUNT redux store action has 'DB:' prefix and make the storage\n              dispatch(replaceAccounts([parentAccount, ...existingAccounts]));\n              dispatch(setAccountName(parentAccount.id, accountName));\n              onSuccess();\n            } catch (error) {\n              onError(error as Error);\n            }\n          },\n        },\n      }),\n    };\n  }, [accounts, tracking, manifest, dispatch, pushToast, t]);\n}\n\nexport function useDeeplinkCustomHandlers() {\n  return useMemo<WalletAPICustomHandlers>(() => {\n    return {\n      ...deeplinkHandlers({\n        uiHooks: {\n          \"custom.deeplink.open\": params => {\n            if (params) {\n              ipcRenderer.send(\"deep-linking\", params.url);\n            }\n          },\n        },\n      }),\n    };\n  }, []);\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/WebPlatformPlayer/LiveAppDisclaimer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/WebPlatformPlayer/LiveAppIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/WebPlatformPlayer/TopBar.test.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":75,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":75,"endColumn":41},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":75,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":75,"endColumn":28},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":88,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":88,"endColumn":41},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":88,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":88,"endColumn":28},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":100,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":100,"endColumn":41},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":100,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":100,"endColumn":28},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":113,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":113,"endColumn":41},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":113,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":113,"endColumn":28},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":130,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":130,"endColumn":41},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":130,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":130,"endColumn":28}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { LiveAppManifest } from \"@ledgerhq/live-common/platform/types\";\nimport { useSelector } from \"LLD/hooks/redux\";\nimport { render, screen, fireEvent } from \"tests/testSetup\";\nimport { MemoryRouter } from \"react-router\";\nimport { TopBar } from \"./TopBar\";\nimport { WebviewState } from \"../Web3AppWebview/types\";\n\njest.mock(\"LLD/hooks/redux\", () => ({\n  useSelector: jest.fn(),\n  useDispatch: () => jest.fn(),\n}));\n\nconst mockManifest: LiveAppManifest | undefined = {\n  id: \"earn\",\n  name: \"Earn\",\n  private: false,\n  url: \"http://localhost:3000\",\n  homepageUrl: \"http://localhost:3000\",\n  icon: \"\",\n  platforms: [\"android\", \"ios\", \"desktop\"],\n  providerTestBaseUrl: \"\",\n  providerTestId: \"\",\n  apiVersion: \"^2.0.0\",\n  manifestVersion: \"2\",\n  branch: \"experimental\",\n  categories: [\"earn\"],\n  currencies: \"*\",\n  content: {\n    shortDescription: {\n      en: \"Earn dashboard\",\n    },\n    description: {\n      en: \"Earn dashboard\",\n    },\n  },\n  permissions: [\"account.list\", \"account.request\", \"currency.list\", \"wallet.userId\", \"wallet.info\"],\n  domains: [\"http://\", \"https://\", \"http://localhost:3000\"],\n  visibility: \"complete\",\n};\n\nconst mockWebviewAPIRef = {\n  current: {\n    reload: jest.fn(),\n    goBack: jest.fn(),\n    goForward: jest.fn(),\n    openDevTools: jest.fn(),\n    loadURL: jest.fn(),\n    clearHistory: jest.fn(),\n    notify: jest.fn(),\n  },\n};\n\nconst mockWebviewState: WebviewState = {\n  url: \"http://localhost:3000\",\n  canGoBack: false,\n  canGoForward: false,\n  title: \"Earn\",\n  loading: false,\n  isAppUnavailable: false,\n};\n\ndescribe(\"Top Bar\", () => {\n  const mobileView = { display: false, width: 355 };\n  const setMobileView = jest.fn();\n  const defaultProps = {\n    manifest: mockManifest,\n    webviewAPIRef: mockWebviewAPIRef,\n    webviewState: mockWebviewState,\n    mobileView,\n    setMobileView,\n  };\n\n  it(\"does not render if isInternalApp is true and dev tools are disabled\", () => {\n    (useSelector as unknown as jest.Mock).mockReturnValue(false);\n\n    render(\n      <MemoryRouter initialEntries={[\"/\"]}>\n        <TopBar {...defaultProps} />\n      </MemoryRouter>,\n    );\n\n    expect(screen.queryByText(\"common.sync.refresh\")).toBeNull();\n    expect(screen.queryByText(\"common.sync.devTools\")).toBeNull();\n  });\n\n  it(\"renders refresh and dev tools buttons when dev tools are enabled\", () => {\n    (useSelector as unknown as jest.Mock).mockReturnValue(true);\n\n    render(\n      <MemoryRouter initialEntries={[\"/\"]}>\n        <TopBar {...defaultProps} />\n      </MemoryRouter>,\n    );\n    expect(screen.getByText(\"Refresh\")).toBeInTheDocument();\n    expect(screen.getByText(\"Dev tools\")).toBeInTheDocument();\n  });\n\n  it(\"renders only refresh button when on an external app and dev tools disabled\", () => {\n    (useSelector as unknown as jest.Mock).mockReturnValue(false);\n    const internalManifest = { ...mockManifest, id: \"\" };\n\n    render(\n      <MemoryRouter initialEntries={[\"/\"]}>\n        <TopBar {...defaultProps} manifest={internalManifest} />\n      </MemoryRouter>,\n    );\n    expect(screen.getByText(\"Refresh\")).toBeInTheDocument();\n    expect(screen.queryByText(\"common.sync.devTools\")).toBeNull();\n  });\n\n  it(\"toggles mobile view when mobile view switch is clicked\", () => {\n    (useSelector as unknown as jest.Mock).mockReturnValue(true);\n    const mockSetMobileView = jest.fn();\n\n    render(\n      <MemoryRouter initialEntries={[\"/\"]}>\n        <TopBar {...defaultProps} setMobileView={mockSetMobileView} />\n      </MemoryRouter>,\n    );\n\n    const mobileViewToggle = screen.getByTestId(\"mobile-view-toggle\");\n\n    fireEvent.click(mobileViewToggle);\n\n    expect(mockSetMobileView).toHaveBeenCalledWith(expect.any(Function));\n  });\n\n  it(\"updates mobile width when input value changes\", () => {\n    (useSelector as unknown as jest.Mock).mockReturnValue(true);\n    const mockSetMobileView = jest.fn();\n    const mobileViewDisplayed = { display: true, width: 355 };\n\n    render(\n      <MemoryRouter initialEntries={[\"/\"]}>\n        <TopBar\n          {...defaultProps}\n          mobileView={mobileViewDisplayed}\n          setMobileView={mockSetMobileView}\n        />\n      </MemoryRouter>,\n    );\n    const widthInput = screen.getByTestId(\"mobile-view-width-input\");\n    fireEvent.change(widthInput, { target: { value: \"400\" } });\n\n    expect(mockSetMobileView).toHaveBeenCalled();\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/WebPlatformPlayer/TopBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/WebPlatformPlayer/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/WebRecoverPlayer/TopBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/WebRecoverPlayer/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/debug/DebugFirmwareUpdater.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/debug/DebugMock.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":314,"column":14,"nodeType":"TSAsExpression","messageId":"never","endLine":314,"endColumn":45},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":321,"column":22,"nodeType":"TSAsExpression","messageId":"never","endLine":321,"endColumn":58},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":329,"column":50,"nodeType":"TSAsExpression","messageId":"never","endLine":329,"endColumn":75},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":382,"column":20,"nodeType":"TSAsExpression","messageId":"never","endLine":382,"endColumn":52},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":457,"column":18,"nodeType":"TSAsExpression","messageId":"never","endLine":457,"endColumn":64},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":476,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":476,"endColumn":84},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":477,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":477,"endColumn":67},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":478,"column":15,"nodeType":"TSAsExpression","messageId":"never","endLine":478,"endColumn":60}],"suppressedMessages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":18,"column":1,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":18,"endColumn":67,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[828,894],"text":"// @ts-expect-error should move mocks inside project and import in tests"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":20,"column":1,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":20,"endColumn":67,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[979,1045],"text":"// @ts-expect-error should move mocks inside project and import in tests"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-deprecated","severity":2,"message":"`isStopped` is deprecated. Internal implementation detail, do not use directly. Will be made internal in v8.","line":344,"column":28,"nodeType":"Identifier","messageId":"deprecatedWithReason","endLine":344,"endColumn":37,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-deprecated","severity":2,"message":"`observers` is deprecated. Internal implementation detail, do not use directly. Will be made internal in v8.","line":366,"column":20,"nodeType":"Identifier","messageId":"deprecatedWithReason","endLine":366,"endColumn":29,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-deprecated","severity":2,"message":"`isStopped` is deprecated. Internal implementation detail, do not use directly. Will be made internal in v8.","line":366,"column":49,"nodeType":"Identifier","messageId":"deprecatedWithReason","endLine":366,"endColumn":58,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-deprecated","severity":2,"message":"`observers` is deprecated. Internal implementation detail, do not use directly. Will be made internal in v8.","line":379,"column":21,"nodeType":"Identifier","messageId":"deprecatedWithReason","endLine":379,"endColumn":30,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/* eslint-disable @typescript-eslint/ban-ts-comment */\n/* eslint-disable @typescript-eslint/no-deprecated */\n\nimport React, { useCallback, useState } from \"react\";\nimport { getEnv } from \"@ledgerhq/live-env\";\nimport Text from \"~/renderer/components/Text\";\nimport { ReplaySubject } from \"rxjs\";\nimport { deserializeError } from \"@ledgerhq/errors\";\nimport { fromTransactionRaw } from \"@ledgerhq/live-common/transaction/index\";\nimport {\n  deviceInfo155,\n  deviceInfo210lo5,\n  mockListAppsResult as innerMockListAppResult,\n} from \"@ledgerhq/live-common/apps/mock\";\nimport { AppType, DeviceInfo } from \"@ledgerhq/types-live\";\nimport { useAnnouncements } from \"@ledgerhq/live-common/notifications/AnnouncementProvider/index\";\nimport { useFilteredServiceStatus } from \"@ledgerhq/live-common/notifications/ServiceStatusProvider/index\";\n// @ts-ignore should move mocks inside project and import in tests\nimport { addMockAnnouncement } from \"../../../../tests/mocks/notificationsHelpers\";\n// @ts-ignore should move mocks inside project and import in tests\nimport { toggleMockIncident } from \"../../../../tests/mocks/serviceStatusHelpers\";\nimport useInterval from \"~/renderer/hooks/useInterval\";\nimport Box from \"~/renderer/components/Box\";\nimport { Item, MockContainer, EllipsesText, MockedGlobalStyle } from \"./shared\";\nimport { DeviceModelId } from \"@ledgerhq/types-devices\";\nimport { ListAppsResult } from \"@ledgerhq/live-common/apps/types\";\nimport { AnnouncementDeviceModelId } from \"@ledgerhq/live-common/notifications/AnnouncementProvider/types\";\nimport { getAllFeatureFlags } from \"@ledgerhq/live-common/e2e/index\";\nimport { getAllEnvs } from \"@ledgerhq/live-env\";\nimport { ipcRenderer } from \"electron\";\nimport { memoryLogger } from \"~/renderer/logger\";\nimport { getJSONStringifyReplacer } from \"~/helpers/saveLogs\";\n\nconst mockListAppsResult = (\n  appDesc: string,\n  installedDesc: string,\n  deviceInfo: DeviceInfo,\n  deviceModelId?: DeviceModelId,\n): ListAppsResult => {\n  // Nb Should move this polyfill to live-common eventually.\n  const result = innerMockListAppResult(appDesc, installedDesc, deviceInfo, deviceModelId);\n  Object.keys(result?.appByName).forEach(key => {\n    result.appByName[key] = {\n      ...result.appByName[key],\n      type: AppType.currency,\n    };\n  });\n  return result;\n};\n/**\n * List of events that will be displayed in the quick-link section of the mock menu\n * to ease the usability when mock is done manually instead of through playwright.\n */\nconst helpfulEvents = [\n  {\n    name: \"opened\",\n    event: {\n      type: \"opened\",\n    },\n  },\n  {\n    name: \"deviceChange\",\n    event: {\n      type: \"deviceChange\",\n      device: null,\n    },\n  },\n  {\n    name: \"listApps\",\n    event: {\n      type: \"listingApps\",\n      deviceInfo: deviceInfo155,\n    },\n  },\n  {\n    name: \"result\",\n    event: {\n      type: \"result\",\n      result: mockListAppsResult(\n        \"Bitcoin,Tron,Litecoin,Ethereum,Ripple,Stellar\",\n        \"Bitcoin,Tron,Litecoin,Ethereum\",\n        deviceInfo155,\n      ),\n    },\n  },\n  {\n    name: \"resultOutdated\",\n    event: {\n      type: \"result\",\n      result: mockListAppsResult(\n        \"Bitcoin,Tron,Litecoin,Ethereum,Ripple,Stellar\",\n        \"Bitcoin,Tron,Litecoin,Ethereum (outdated)\",\n        deviceInfo155,\n      ),\n    },\n  },\n  {\n    name: \"permission requested\",\n    event: {\n      type: \"device-permission-requested\",\n    },\n  },\n  {\n    name: \"permission granted\",\n    event: {\n      type: \"device-permission-granted\",\n    },\n  },\n  {\n    name: \"quitApp\",\n    event: {\n      type: \"appDetected\",\n    },\n  },\n  {\n    name: \"unresponsiveDevice\",\n    event: {\n      type: \"unresponsiveDevice\",\n    },\n  },\n  {\n    name: \"complete\",\n    event: {\n      type: \"complete\",\n    },\n  },\n];\nconst swapEvents = [\n  {\n    name: \"result without Exchange\",\n    event: {\n      type: \"result\",\n      result: mockListAppsResult(\n        \"Bitcoin,Tron,Litecoin,Ethereum,Ripple,Stellar\",\n        \"Bitcoin,Tron,Litecoin,Ethereum\",\n        deviceInfo155,\n      ),\n    },\n  },\n  {\n    name: \"result with outdated Exchange\",\n    event: {\n      type: \"result\",\n      result: mockListAppsResult(\n        \"Bitcoin,Tron,Litecoin,Ethereum,Ripple,Stellar,Exchange\",\n        \"Exchange(outdated),Tron,Bitcoin,Ethereum\",\n        deviceInfo155,\n      ),\n    },\n  },\n  {\n    name: \"result with Exchange\",\n    event: {\n      type: \"result\",\n      result: mockListAppsResult(\n        \"Bitcoin,Tron,Litecoin,Ethereum,Ripple,Stellar,Exchange\",\n        \"Exchange,Tron,Bitcoin,Ethereum\",\n        deviceInfo155,\n      ),\n    },\n  },\n  {\n    name: \"result with only Exchange\",\n    event: {\n      type: \"result\",\n      result: mockListAppsResult(\n        \"Bitcoin,Tron,Litecoin,Ethereum,Ripple,Stellar,Exchange\",\n        \"Exchange\",\n        deviceInfo155,\n      ),\n    },\n  },\n  {\n    name: \"result with only Exchange+BTC\",\n    event: {\n      type: \"result\",\n      result: mockListAppsResult(\n        \"Bitcoin,Tron,Litecoin,Ethereum,Ripple,Stellar,Exchange\",\n        \"Exchange,Bitcoin\",\n        deviceInfo155,\n      ),\n    },\n  },\n  {\n    name: \"init-swap-requested\",\n    event: {\n      type: \"init-swap-requested\",\n    },\n  },\n  {\n    name: \"init-swap-error\",\n    event: {\n      type: \"init-swap-error\",\n      error: {\n        name: \"SwapGenericAPIError\",\n      },\n    },\n  },\n  {\n    name: \"init-swap-result\",\n    event: {\n      type: \"init-swap-result\",\n      initSwapResult: {\n        transaction: fromTransactionRaw({\n          family: \"bitcoin\",\n          recipient: \"1Cz2ZXb6Y6AacXJTpo4RBjQMLEmscuxD8e\",\n          amount: \"1\",\n          feePerByte: \"1\",\n          networkInfo: {\n            family: \"bitcoin\",\n            feeItems: {\n              items: [\n                {\n                  key: \"0\",\n                  speed: \"high\",\n                  feePerByte: \"3\",\n                },\n                {\n                  key: \"1\",\n                  speed: \"standard\",\n                  feePerByte: \"2\",\n                },\n                {\n                  key: \"2\",\n                  speed: \"low\",\n                  feePerByte: \"1\",\n                },\n              ],\n              defaultFeePerByte: \"1\",\n            },\n          },\n          rbf: false,\n          utxoStrategy: {\n            strategy: 0,\n            excludeUTXOs: [],\n          },\n        }),\n        swapId: \"12345\",\n      },\n    },\n  },\n];\nconst localizationEvents = [\n  {\n    name: \"listAppsWithLocalization\",\n    event: {\n      type: \"listingApps\",\n      deviceInfo: deviceInfo210lo5,\n    },\n  },\n  {\n    name: \"resultWithLocalization\",\n    event: {\n      type: \"result\",\n      result: mockListAppsResult(\n        \"Bitcoin,Tron,Litecoin,Ethereum,Ripple,Stellar\",\n        \"Bitcoin,Tron,Litecoin,Ethereum (outdated)\",\n        deviceInfo210lo5,\n      ),\n    },\n  },\n  {\n    name: \"requestLanguageInstallation\",\n    event: {\n      type: \"devicePermissionRequested\",\n    },\n  },\n  {\n    name: \"languageInstallationProgress50\",\n    event: {\n      type: \"progress\",\n      progress: 0.5,\n    },\n  },\n  {\n    name: \"languageInstallationComplete\",\n    event: {\n      type: \"languageInstalled\",\n    },\n  },\n];\n\ninterface RawEvents {\n  [key: string]: unknown;\n}\nwindow.getAllFeatureFlags = getAllFeatureFlags;\nwindow.getAllEnvs = getAllEnvs;\nwindow.saveLogs = async (path: string): Promise<void> => {\n  const memoryLogs = memoryLogger.getMemoryLogs();\n\n  try {\n    // Serializes ourself with `stringify` to avoid \"object could not be cloned\" errors from the electron IPC serializer.\n    //Uses getJSONStringifyReplacer to replace circular references with \"[Circular]\"\n    const memoryLogsStr = JSON.stringify(memoryLogs, getJSONStringifyReplacer(), 2);\n    // Requests the main process to save logs in a file\n    await ipcRenderer.invoke(\n      \"save-logs\",\n      {\n        canceled: false,\n        filePath: path,\n      },\n      memoryLogsStr,\n    );\n  } catch (error) {\n    console.error(\"Error while requesting to save logs from the renderer process\", error);\n  }\n};\n\nif (getEnv(\"MOCK\")) {\n  window.mock = {\n    fromTransactionRaw,\n    events: {\n      test: 0,\n      queue: [] as Record<string, unknown>[],\n      history: [],\n      subject: new ReplaySubject<unknown>(),\n      get parseRawEvents() {\n        return (rawEvents: RawEvents | RawEvents[], maybeKey?: string): unknown => {\n          if (rawEvents && typeof rawEvents === \"object\") {\n            if (maybeKey === \"error\") {\n              return deserializeError(rawEvents) as Error;\n            }\n            if (Array.isArray(rawEvents)) return rawEvents.map(rE => this.parseRawEvents(rE));\n            const event: Record<string, unknown> = {};\n            // clone the object if and only if it is a basic object. to not convert BigNumber\n            if (Object.getPrototypeOf(rawEvents) === Object.prototype) {\n              for (const k in rawEvents) {\n                if (rawEvents.hasOwnProperty(k)) {\n                  event[k] = this.parseRawEvents(rawEvents[k] as RawEvents, k);\n                }\n              }\n              return event;\n            }\n          }\n          return rawEvents;\n        };\n      },\n      get emitter() {\n        return () => {\n          // Cleanup the queue of complete events\n          while (this.queue.length && this.queue[0].type === \"complete\") {\n            this.queue.shift();\n          }\n          if (this.subject.isStopped) {\n            this.subject = new ReplaySubject<unknown>();\n          }\n          return this.subject;\n        };\n      },\n      get mockDeviceEvent() {\n        return (...o: RawEvents[]) => {\n          const rE = this.parseRawEvents(o);\n          if (Array.isArray(rE)) {\n            for (const e of rE) this.queue.push(e);\n          }\n        };\n      },\n      exposed: {\n        mockListAppsResult,\n        deviceInfo155,\n      },\n    },\n  };\n  const observerAwareEventLoop = () => {\n    const { subject, queue, history } = window.mock.events;\n    while (subject.observers.length && !subject.isStopped && queue.length) {\n      const event = queue.shift();\n      if (!event) return;\n      if (event.type === \"complete\") {\n        subject.complete();\n        window.mock.events.subject = new ReplaySubject<unknown>();\n      } else {\n        subject.next(event);\n      }\n      history.push(event);\n    }\n\n    // If no observers consume \"complete\" events that are on top of the list\n    while (!subject.observers.length && queue.length && queue[0].type === \"complete\") {\n      const event = queue.shift();\n      subject.complete();\n      history.push(event as Record<string, unknown>);\n      window.mock.events.subject = new ReplaySubject<unknown>();\n    }\n    setTimeout(observerAwareEventLoop, 400);\n  };\n  observerAwareEventLoop();\n}\n\nexport const mockedEventEmitter = getEnv(\"MOCK\") ? window.mock.events.emitter : null;\nconst DebugMock = () => {\n  const [queue, setQueue] = useState(window.mock.events.queue);\n  const [history, setHistory] = useState(window.mock.events.history);\n  const [nonce, setNonce] = useState(0);\n  const [expanded, setExpanded] = useState(true);\n  const [expandedQueue, setExpandedQueue] = useState(true);\n  const [expandedSwap, setExpandedSwap] = useState(false);\n  const [expandedLocalization, setExpandedLocalization] = useState(false);\n  const [expandedQuick, setExpandedQuick] = useState(false);\n  const [expandedHistory, setExpandedHistory] = useState(true);\n  const [expandedNotif, setExpandedNotif] = useState(false);\n  const [notifPlatform, setNotifPlatform] = useState(\"\");\n  const [notifAppVersions, setNotifAppVersions] = useState(\"\");\n  const [notifLiveCommonVersions, setNotifLiveCommonVersions] = useState(\"\");\n  const [notifCurrencies, setNotifCurrencies] = useState(\"\");\n  const [notifDeviceVersion, setNotifDeviceVersion] = useState(\"\");\n  const [notifDeviceModelId, setNotifDeviceModelId] = useState(\"\");\n  const [notifDeviceApps, setNotifDeviceApps] = useState(\"\");\n  const [notifLanguages, setNotifLanguages] = useState(\"\");\n  const [notifExtra, setNotifExtra] = useState(\"\");\n  const { updateCache } = useAnnouncements();\n  const { updateData } = useFilteredServiceStatus();\n  useInterval(() => {\n    setQueue(window.mock.events.queue);\n    setHistory(window.mock.events.history);\n    setNonce(nonce + 1);\n  }, 2000);\n  const toggleExpanded = useCallback(() => setExpanded(!expanded), [expanded, setExpanded]);\n  const toggleExpandedQueue = useCallback(() => setExpandedQueue(!expandedQueue), [expandedQueue]);\n  const toggleExpandedQuick = useCallback(() => setExpandedQuick(!expandedQuick), [expandedQuick]);\n  const toggleExpandedHistory = useCallback(\n    () => setExpandedHistory(!expandedHistory),\n    [expandedHistory],\n  );\n  const toggleExpandedSwap = useCallback(() => setExpandedSwap(!expandedSwap), [expandedSwap]);\n  const toggleExpandedLocalization = useCallback(\n    () => setExpandedLocalization(!expandedLocalization),\n    [expandedLocalization],\n  );\n  const toggleExpandedNotif = useCallback(() => setExpandedNotif(!expandedNotif), [expandedNotif]);\n  const queueEvent = useCallback(\n    (event: RawEvents) => {\n      setQueue([...queue, event]);\n      window.mock.events.mockDeviceEvent(event);\n    },\n    [queue, setQueue],\n  );\n  const unQueueEventByIndex = useCallback(\n    (i: number) => {\n      window.mock.events.queue.splice(i, 1);\n      setQueue(window.mock.events.queue);\n    },\n    [setQueue],\n  );\n  const formatInputValue = useCallback((inputValue: string): string[] | undefined | null => {\n    const val: string[] = inputValue.replace(/\\s/g, \"\").split(\",\").filter(Boolean);\n    return val.length > 0 ? val : undefined;\n  }, []);\n  const onNotifClick = useCallback(() => {\n    const params = {\n      currencies: formatInputValue(notifCurrencies),\n      platforms: formatInputValue(notifPlatform),\n      appVersions: formatInputValue(notifAppVersions),\n      liveCommonVersions: formatInputValue(notifLiveCommonVersions),\n      languages: formatInputValue(notifLanguages),\n    };\n    const keys = Object.keys(params) as (keyof typeof params)[];\n    const formattedParams = keys\n      .filter(k => !!params[k] && params[k]!.length > 0)\n      .reduce(\n        (sum, k) => ({\n          ...sum,\n          [k]: params[k],\n        }),\n        {},\n      );\n    let extra = {};\n    try {\n      extra = JSON.parse(notifExtra) || {};\n    } catch (e) {\n      console.error(e);\n    }\n    addMockAnnouncement({\n      ...formattedParams,\n      device: {\n        modelIds: formatInputValue(notifDeviceModelId) as AnnouncementDeviceModelId,\n        versions: formatInputValue(notifDeviceVersion) as string[],\n        apps: formatInputValue(notifDeviceApps) as string[],\n      },\n      ...extra,\n    });\n    updateCache();\n  }, [\n    formatInputValue,\n    notifCurrencies,\n    notifDeviceApps,\n    notifDeviceModelId,\n    notifDeviceVersion,\n    notifExtra,\n    notifLanguages,\n    notifPlatform,\n    notifAppVersions,\n    notifLiveCommonVersions,\n    updateCache,\n  ]);\n\n  const setValue = useCallback(\n    (setter: (value: string) => void) =>\n      (evt: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) =>\n        setter(evt.target.value),\n    [],\n  );\n  return (\n    <MockContainer id={`${nonce}`}>\n      <Box>\n        <Item\n          id={`${nonce}`}\n          color=\"neutral.c100\"\n          ff=\"Inter|Medium\"\n          fontSize={3}\n          onClick={toggleExpanded}\n        >\n          {expanded ? \"mock [ - ]\" : \"m\"}\n        </Item>\n      </Box>\n      {expanded ? (\n        <>\n          {queue.length ? (\n            <Box px={1}>\n              <Text\n                color=\"neutral.c100\"\n                ff=\"Inter|SemiBold\"\n                fontSize={3}\n                onClick={toggleExpandedQueue}\n              >\n                {\"queue \"}\n                {expandedQueue ? \"[ - ]\" : \"[ + ]\"}\n              </Text>\n              {expandedQueue\n                ? queue.map((e, i) => (\n                    <Box horizontal key={i}>\n                      <Text\n                        style={{\n                          marginLeft: 10,\n                        }}\n                        ff=\"Inter|Medium\"\n                        color=\"neutral.c100\"\n                        fontSize={3}\n                        onClick={() => unQueueEventByIndex(i)}\n                      >\n                        {\"[ x ] \"}\n                      </Text>\n                      <EllipsesText title={JSON.stringify(e)}>{JSON.stringify(e)}</EllipsesText>\n                    </Box>\n                  ))\n                : null}\n            </Box>\n          ) : null}\n          {history.length ? (\n            <Box px={1}>\n              <Text\n                color=\"neutral.c100\"\n                ff=\"Inter|SemiBold\"\n                fontSize={3}\n                onClick={toggleExpandedHistory}\n              >\n                {\"history \"}\n                {expandedHistory ? \"[ - ]\" : \"[ + ]\"}\n              </Text>\n              {expandedHistory\n                ? history.map((e, i) => (\n                    <Box horizontal key={i} onClick={() => queueEvent(e)}>\n                      <EllipsesText title={JSON.stringify(e)}>{JSON.stringify(e)}</EllipsesText>\n                    </Box>\n                  ))\n                : null}\n            </Box>\n          ) : null}\n          {/* Events here are supposed to be generic and not for a specific flow */}\n          <Box px={1}>\n            <Text\n              color=\"neutral.c100\"\n              ff=\"Inter|SemiBold\"\n              fontSize={3}\n              onClick={toggleExpandedQuick}\n            >\n              {\"quick-list \"}\n              {expandedQuick ? \"[ - ]\" : \"[ + ]\"}\n            </Text>\n            {expandedQuick\n              ? helpfulEvents.map(({ name, event }, i) => (\n                  <Text\n                    mx={1}\n                    ff=\"Inter|Regular\"\n                    color=\"neutral.c100\"\n                    fontSize={3}\n                    key={i}\n                    onClick={() => queueEvent(event)}\n                  >\n                    {name}\n                  </Text>\n                ))\n              : null}\n          </Box>\n          <Box px={1}>\n            <Text\n              color=\"neutral.c100\"\n              ff=\"Inter|SemiBold\"\n              fontSize={3}\n              onClick={toggleExpandedSwap}\n            >\n              {\"swap \"}\n              {expandedSwap ? \"[ - ]\" : \"[ + ]\"}\n            </Text>\n            {expandedSwap\n              ? swapEvents.map(({ name, event }, i) => (\n                  <Text\n                    ff=\"Inter|Regular\"\n                    color=\"neutral.c100\"\n                    fontSize={3}\n                    key={i}\n                    onClick={() => queueEvent(event)}\n                  >\n                    {name}\n                  </Text>\n                ))\n              : null}\n          </Box>\n          <Box px={1}>\n            <Text\n              color=\"neutral.c100\"\n              ff=\"Inter|SemiBold\"\n              fontSize={3}\n              onClick={toggleExpandedLocalization}\n            >\n              {\"localization \"}\n              {expandedLocalization ? \"[ - ]\" : \"[ + ]\"}\n            </Text>\n            {expandedLocalization\n              ? localizationEvents.map(({ name, event }, i) => (\n                  <Text\n                    ff=\"Inter|Regular\"\n                    color=\"neutral.c100\"\n                    fontSize={3}\n                    key={i}\n                    onClick={() => queueEvent(event)}\n                  >\n                    {name}\n                  </Text>\n                ))\n              : null}\n          </Box>\n          <Box px={1}>\n            <Text\n              color=\"neutral.c100\"\n              ff=\"Inter|SemiBold\"\n              fontSize={3}\n              onClick={toggleExpandedNotif}\n            >\n              {\"notif \"}\n              {expandedNotif ? \"[ - ]\" : \"[ + ]\"}\n            </Text>\n            {expandedNotif ? (\n              <>\n                <input\n                  type=\"text\"\n                  placeholder=\"currencies separated by ','\"\n                  value={notifCurrencies}\n                  onChange={setValue(setNotifCurrencies)}\n                />\n                <input\n                  type=\"text\"\n                  placeholder=\"platforms separated by ','\"\n                  value={notifPlatform}\n                  onChange={setValue(setNotifPlatform)}\n                />\n                <input\n                  type=\"text\"\n                  placeholder=\"languages separated by ','\"\n                  value={notifLanguages}\n                  onChange={setValue(setNotifLanguages)}\n                />\n                <input\n                  type=\"text\"\n                  placeholder=\"device modelIds separated by ','\"\n                  value={notifDeviceModelId}\n                  onChange={setValue(setNotifDeviceModelId)}\n                />\n                <input\n                  type=\"text\"\n                  placeholder=\"device versions separated by ','\"\n                  value={notifDeviceVersion}\n                  onChange={setValue(setNotifDeviceVersion)}\n                />\n                <input\n                  type=\"text\"\n                  placeholder=\"device apps separated by ','\"\n                  value={notifDeviceApps}\n                  onChange={setValue(setNotifDeviceApps)}\n                />\n                <input\n                  type=\"text\"\n                  placeholder=\"app versions separated by ','\"\n                  value={notifAppVersions}\n                  onChange={setValue(setNotifAppVersions)}\n                />\n                <input\n                  type=\"text\"\n                  placeholder=\"live-common versions separated by ','\"\n                  value={notifLiveCommonVersions}\n                  onChange={setValue(setNotifLiveCommonVersions)}\n                />\n                <textarea\n                  placeholder=\"override notif data as JSON\"\n                  value={notifExtra}\n                  onChange={setValue(setNotifExtra)}\n                />\n                <Text\n                  ff=\"Inter|Regular\"\n                  color=\"neutral.c100\"\n                  fontSize={3}\n                  mb={2}\n                  onClick={onNotifClick}\n                >\n                  {\"↳ Mock notif\"}\n                </Text>\n                <Text\n                  ff=\"Inter|Regular\"\n                  color=\"neutral.c100\"\n                  mb={2}\n                  fontSize={3}\n                  onClick={() => {\n                    toggleMockIncident();\n                    updateData();\n                  }}\n                >\n                  {\"Toggle service status\"}\n                </Text>\n              </>\n            ) : null}\n          </Box>\n        </>\n      ) : null}\n    </MockContainer>\n  );\n};\nexport default process.env.HIDE_DEBUG_MOCK ? MockedGlobalStyle : DebugMock;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/debug/DebugSkeletons.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/debug/DebugUpdater.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/debug/DisableTransactionBroadcastWarning.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/components/debug/shared.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/createStore.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/drawers/DataSelector/AccountList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/drawers/DataSelector/CurrencyList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/drawers/DataSelector/SelectAccountAndCurrencyDrawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/drawers/DataSelector/SelectAccountDrawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/drawers/DataSelector/logic.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/drawers/DataSelector/shared.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/drawers/Drawer.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":23,"column":25,"nodeType":"TSAsExpression","messageId":"never","endLine":23,"endColumn":69}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useContext, useCallback, useEffect, useState } from \"react\";\nimport { context, State } from \"./Provider\";\nimport { SideDrawer } from \"~/renderer/components/SideDrawer\";\nimport styled from \"styled-components\";\nimport { Transition, TransitionGroup, TransitionStatus } from \"react-transition-group\";\nimport { useTrack } from \"../analytics/segment\";\nconst transitionStyles = {\n  entering: {},\n  entered: {\n    transform: \"translateX(0%)\",\n  },\n  exiting: {\n    opacity: 0,\n    transform: \"translateX(0%)\",\n  },\n  exited: {\n    opacity: 0,\n  },\n};\nconst DURATION = 200;\nconst Bar = styled.div.attrs<{ state: TransitionStatus; withPaddingTop: boolean }>(props => ({\n  style: {\n    ...transitionStyles[props.state as keyof typeof transitionStyles],\n  },\n}))<{ state: TransitionStatus; index: number; withPaddingTop: boolean }>`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: ${p => p.index};\n  transform: translateX(${p => (p.index === 0 ? 0 : 100)}%);\n  transition:\n    all ${DURATION}ms ease-in-out,\n    padding none;\n  will-change: transform;\n  background-color: ${p => p.theme.colors.background.card};\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.03);\n  padding: ${p => (p.withPaddingTop ? \"62px 0px 15px 0px\" : \"10px 0px 15px 0px\")};\n  overflow-x: hidden;\n  overflow-y: auto;\n`;\nconst Drawer = () => {\n  const { state, setDrawer } = useContext(context);\n  const [queue, setQueue] = useState<State[]>([]);\n  useEffect(() => {\n    setQueue(q => {\n      if (!state.open) return [];\n      if (state.Component) return q.concat([state]);\n      return q;\n    });\n  }, [state]);\n  useEffect(() => {\n    let t: NodeJS.Timeout | undefined;\n    if (queue.length > 1) {\n      const [, ...rest] = queue;\n      t = setTimeout(() => setQueue(rest), DURATION * 2);\n    }\n    return () => {\n      if (t) clearTimeout(t);\n    };\n  }, [queue]);\n  const track = useTrack();\n  const onRequestClose = useCallback(() => {\n    track(\"button_clicked2\", { button: \"Close\" });\n    if (state?.props?.onRequestClose) {\n      onRequestClose();\n    }\n    setDrawer();\n  }, [setDrawer, state?.props?.onRequestClose, track]);\n  return (\n    <SideDrawer\n      isOpen={!!state.open}\n      onRequestClose={onRequestClose}\n      onRequestBack={state?.props?.onRequestBack}\n      direction=\"left\"\n      {...state.options}\n    >\n      <>\n        <TransitionGroup>\n          {queue.map(({ Component, props, id }, index) => (\n            <Transition\n              timeout={{\n                appear: DURATION,\n                enter: DURATION,\n                exit: DURATION * 2,\n              }}\n              key={id}\n            >\n              {s => (\n                <Bar\n                  state={s}\n                  index={index}\n                  withPaddingTop={\n                    state.options.withPaddingTop === undefined ? true : state.options.withPaddingTop\n                  }\n                >\n                  {Component && (\n                    <Component\n                      onClose={state.options.onRequestClose || onRequestClose}\n                      {...props}\n                    />\n                  )}\n                </Bar>\n              )}\n            </Transition>\n          ))}\n        </TransitionGroup>\n      </>\n    </SideDrawer>\n  );\n};\nexport default Drawer;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/drawers/OperationDetails/AmountDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/drawers/OperationDetails/index.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":201,"column":26,"nodeType":"TSAsExpression","messageId":"never","endLine":201,"endColumn":60},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":202,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":202,"endColumn":50},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":203,"column":24,"nodeType":"TSAsExpression","messageId":"never","endLine":203,"endColumn":61},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":253,"column":44,"nodeType":"TSAsExpression","messageId":"never","endLine":253,"endColumn":87},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":624,"column":20,"nodeType":"TSAsExpression","messageId":"never","endLine":624,"endColumn":38},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":676,"column":68,"nodeType":"TSAsExpression","messageId":"never","endLine":676,"endColumn":86},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":680,"column":72,"nodeType":"TSAsExpression","messageId":"never","endLine":680,"endColumn":90},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":710,"column":26,"nodeType":"TSAsExpression","messageId":"never","endLine":710,"endColumn":51}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import {\n  findSubAccountById,\n  getAccountCurrency,\n  getFeesCurrency,\n  getFeesUnit,\n  getMainAccount,\n} from \"@ledgerhq/live-common/account/index\";\nimport {\n  getDefaultExplorerView,\n  getTransactionExplorer as getDefaultTransactionExplorer,\n} from \"@ledgerhq/live-common/explorers\";\nimport { useFeature } from \"@ledgerhq/live-common/featureFlags/index\";\nimport {\n  findOperationInAccount,\n  getOperationAmountNumber,\n  getOperationConfirmationDisplayableNumber,\n  isConfirmedOperation,\n  isEditableOperation,\n  isStuckOperation,\n} from \"@ledgerhq/live-common/operation\";\nimport { getEnv } from \"@ledgerhq/live-env\";\nimport { CryptoCurrencyId } from \"@ledgerhq/types-cryptoassets\";\nimport { Account, AccountLike, Operation, OperationType } from \"@ledgerhq/types-live\";\nimport { TFunction } from \"i18next\";\nimport invariant from \"invariant\";\nimport uniq from \"lodash/uniq\";\nimport React, { Component, useCallback, useMemo } from \"react\";\nimport { Trans, useTranslation } from \"react-i18next\";\nimport { connect } from \"react-redux\";\nimport { useDispatch } from \"LLD/hooks/redux\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { urls } from \"~/config/urls\";\nimport { openModal } from \"~/renderer/actions/modals\";\nimport TrackPage, { setTrackingSource } from \"~/renderer/analytics/TrackPage\";\nimport AccountTagDerivationMode from \"~/renderer/components/AccountTagDerivationMode\";\nimport Alert from \"~/renderer/components/Alert\";\nimport Box from \"~/renderer/components/Box\";\nimport CopyWithFeedback from \"~/renderer/components/CopyWithFeedback\";\nimport CounterValue from \"~/renderer/components/CounterValue\";\nimport CryptoCurrencyIcon from \"~/renderer/components/CryptoCurrencyIcon\";\nimport Ellipsis from \"~/renderer/components/Ellipsis\";\nimport FakeLink from \"~/renderer/components/FakeLink\";\nimport FormattedVal from \"~/renderer/components/FormattedVal\";\nimport LabelInfoTooltip from \"~/renderer/components/LabelInfoTooltip\";\nimport Link from \"~/renderer/components/Link\";\nimport LinkHelp from \"~/renderer/components/LinkHelp\";\nimport LinkWithExternalIcon from \"~/renderer/components/LinkWithExternalIcon\";\nimport { SplitAddress } from \"~/renderer/components/OperationsList/AddressCell\";\nimport ConfirmationCheck from \"~/renderer/components/OperationsList/ConfirmationCheck\";\nimport OperationComponent from \"~/renderer/components/OperationsList/Operation\";\nimport Text, { TextProps } from \"~/renderer/components/Text\";\nimport ToolTip from \"~/renderer/components/Tooltip\";\nimport { getLLDCoinFamily } from \"~/renderer/families\";\nimport IconChevronRight from \"~/renderer/icons/ChevronRight\";\nimport IconExternalLink from \"~/renderer/icons/ExternalLink\";\nimport InfoCircle from \"~/renderer/icons/InfoCircle\";\nimport { openURL } from \"~/renderer/linking\";\nimport { State } from \"~/renderer/reducers\";\nimport { accountSelector } from \"~/renderer/reducers/accounts\";\nimport { confirmationsNbForCurrencySelector } from \"~/renderer/reducers/settings\";\nimport { getMarketColor } from \"~/renderer/styles/helpers\";\nimport { setDrawer } from \"../Provider\";\nimport AmountDetails from \"./AmountDetails\";\nimport {\n  GradientHover,\n  HashContainer,\n  OpDetailsData,\n  OpDetailsSection,\n  OpDetailsSideButton,\n  OpDetailsTitle,\n  Separator,\n  TextEllipsis,\n} from \"./styledComponents\";\nimport { dayAndHourFormat, useDateFormatted } from \"~/renderer/hooks/useDateFormatter\";\nimport { useAccountUnit } from \"~/renderer/hooks/useAccountUnit\";\nimport { useAccountName } from \"~/renderer/reducers/wallet\";\nimport { Divider } from \"@ledgerhq/react-ui/index\";\n\nconst mapStateToProps = (\n  state: State,\n  props: {\n    operationId: string;\n    accountId: string;\n    parentId?: string | null;\n  },\n) => {\n  const { operationId, accountId, parentId } = props;\n  const parentAccount: Account | undefined =\n    typeof parentId !== \"undefined\" && parentId !== null\n      ? accountSelector(state, {\n          accountId: parentId,\n        })\n      : undefined;\n  let account: AccountLike | undefined | null;\n  if (parentAccount && parentId === accountId) {\n    account = parentAccount;\n  } else if (parentAccount) {\n    account = findSubAccountById(parentAccount, accountId);\n  } else {\n    account = accountSelector(state, {\n      accountId,\n    });\n  }\n  const mainCurrency = parentAccount\n    ? parentAccount.currency\n    : account && account.type !== \"TokenAccount\"\n      ? account.currency\n      : null;\n  const confirmationsNb = mainCurrency\n    ? confirmationsNbForCurrencySelector(state, {\n        currency: mainCurrency,\n      })\n    : 0;\n  const operation = account ? findOperationInAccount(account, operationId) : null;\n  return {\n    account,\n    parentAccount,\n    operation,\n    confirmationsNb,\n    onRequestBack: () => setDrawer(OperationDetails, props),\n  };\n};\n\ntype RestProps = {\n  onClose?: () => void;\n  confirmationsNb: number;\n  parentOperation?: Operation;\n  onRequestBack: () => void;\n};\n\ntype Props = RestProps & {\n  operation: Operation;\n  account: AccountLike;\n  parentAccount: Account | undefined;\n};\n\ntype openOperationType = \"goBack\" | \"subOperation\" | \"internalOperation\";\nconst OperationD = (props: Props) => {\n  const { t } = useTranslation();\n  const { onClose, operation, account, parentAccount, confirmationsNb } = props;\n  const history = useHistory();\n  const location = useLocation();\n  const mainAccount = getMainAccount(account, parentAccount);\n  const { hash, date, senders, type, fee, recipients: _recipients } = operation;\n\n  const dateFormatted = useDateFormatted(date, dayAndHourFormat);\n  const uniqueSenders = uniq(senders);\n  const recipients = _recipients.filter(Boolean);\n  const name = useAccountName(mainAccount);\n  const currency = getAccountCurrency(account);\n  const mainCurrency = getAccountCurrency(mainAccount);\n\n  const unit = useAccountUnit(account);\n  const amount = getOperationAmountNumber(operation);\n  const isNegative = amount.isNegative();\n  const marketColor = getMarketColor({\n    isNegative,\n  });\n  const confirmationsString = getOperationConfirmationDisplayableNumber(operation, mainAccount);\n  const isConfirmed = isConfirmedOperation(operation, mainAccount, confirmationsNb);\n\n  const cryptoCurrency = mainAccount.currency;\n  const specific = cryptoCurrency ? getLLDCoinFamily(cryptoCurrency.family) : null;\n  const confirmationCell = specific?.operationDetails?.confirmationCell;\n  const IconElement = confirmationCell ? confirmationCell[operation.type] : null;\n  const amountTooltip = specific?.operationDetails?.amountTooltip;\n  const AmountTooltip = amountTooltip ? amountTooltip[operation.type] : null;\n\n  const getURLWhatIsThis = specific?.operationDetails?.getURLWhatIsThis;\n  const urlWhatIsThis = getURLWhatIsThis\n    ? getURLWhatIsThis({ op: operation, currencyId: cryptoCurrency.id })\n    : null;\n\n  const getURLFeesInfo = specific?.operationDetails?.getURLFeesInfo;\n  const urlFeesInfo = getURLFeesInfo\n    ? getURLFeesInfo({ op: operation, currencyId: cryptoCurrency.id })\n    : null;\n\n  const getTransactionExplorer = specific?.getTransactionExplorer;\n  const url = getTransactionExplorer\n    ? getTransactionExplorer(getDefaultExplorerView(mainAccount.currency), operation)\n    : getDefaultTransactionExplorer(getDefaultExplorerView(mainAccount.currency), operation.hash);\n\n  const OpDetailsPostAccountSection =\n    specific?.operationDetails?.OperationDetailsPostAccountSection;\n  const OpDetailsExtra = specific?.operationDetails?.OperationDetailsExtra || OperationDetailsExtra;\n  const OpDetailsPostAlert = specific?.operationDetails?.OperationDetailsPostAlert;\n  const { hasFailed } = operation;\n  const subOperations: Operation[] = useMemo(\n    () => operation.subOperations || [],\n    [operation.subOperations],\n  );\n  const internalOperations = operation.internalOperations || [];\n  const isToken = (mainAccount.currency.tokenTypes || []).length > 0;\n  const openOperation = useCallback(\n    (type: openOperationType, operation: Operation, parentOperation?: Operation) => {\n      const data = {\n        operationId: operation.id,\n        accountId: operation.accountId,\n        parentOperation: undefined as Operation | undefined,\n        parentId: undefined as string | undefined,\n        onRequestBack: undefined as (() => void) | undefined,\n      };\n      if ([\"subOperation\", \"internalOperation\"].includes(type)) {\n        data.parentOperation = parentOperation;\n        if (type === \"subOperation\") {\n          data.parentId = account.id;\n        }\n        data.onRequestBack = parentOperation\n          ? () => openOperation(\"goBack\", parentOperation)\n          : undefined;\n      }\n      setDrawer(OperationDetails, data);\n    },\n    [account],\n  );\n  const openAmountDetails = useCallback(() => {\n    setDrawer(AmountDetails, {\n      operation,\n      account,\n      onRequestBack: props.onRequestBack,\n    });\n  }, [operation, props, account]);\n  const goToMainAccount = useCallback(() => {\n    const url = `/account/${mainAccount.id}`;\n    if (location.pathname !== url) {\n      setTrackingSource(\"operation details\");\n      history.push({\n        pathname: url,\n      });\n    }\n    onClose?.();\n  }, [mainAccount, history, onClose, location]);\n  const goToSubAccount = useCallback(() => {\n    const url = `/account/${mainAccount.id}/${account.id}`;\n    if (location.pathname !== url) {\n      setTrackingSource(\"operation details\");\n      history.push({\n        pathname: url,\n      });\n    }\n    onClose?.();\n  }, [mainAccount, account, history, onClose, location]);\n  const currencyName = currency\n    ? currency.type === \"TokenCurrency\"\n      ? currency.parentCurrency.name\n      : currency.name\n    : undefined;\n\n  const { enabled: isEditEvmTxEnabled, params } = useFeature(\"editEvmTx\") ?? {};\n  const isCurrencySupported =\n    params?.supportedCurrencyIds?.includes(mainAccount.currency.id as CryptoCurrencyId) || false;\n\n  const editable =\n    isEditEvmTxEnabled &&\n    isCurrencySupported &&\n    isEditableOperation({ account: mainAccount, operation });\n\n  const dispatch = useDispatch();\n\n  const handleOpenEditModal = useCallback(() => {\n    setDrawer(undefined);\n\n    invariant(operation.transactionRaw, \"operation.transactionRaw is required\");\n\n    dispatch(\n      openModal(\"MODAL_EVM_EDIT_TRANSACTION\", {\n        account,\n        parentAccount,\n        transactionRaw: operation.transactionRaw,\n        transactionHash: operation.hash,\n      }),\n    );\n  }, [dispatch, account, parentAccount, operation.transactionRaw, operation.hash]);\n\n  const isStuck = isStuckOperation({ family: mainAccount.currency.family, operation });\n  const feesCurrency = useMemo(() => getFeesCurrency(mainAccount), [mainAccount]);\n  const feesUnit = useMemo(() => getFeesUnit(feesCurrency), [feesCurrency]);\n\n  return (\n    <Box flow={3} px={20} mt={20}>\n      <TrackPage\n        category={location.pathname !== \"/\" ? \"Account\" : \"Portfolio\"}\n        name=\"Operation Details\"\n        currencyName={currency.name}\n      />\n      <Box alignItems=\"center\" mt={1} mb={3}>\n        {IconElement ? (\n          <IconElement\n            operation={operation}\n            type={type}\n            marketColor={marketColor}\n            isConfirmed={isConfirmed}\n            hasFailed={!!hasFailed}\n            style={{\n              transform: \"scale(1.5)\",\n              padding: 0,\n            }}\n            t={t}\n            withTooltip={false}\n          />\n        ) : (\n          <ConfirmationCheck\n            marketColor={marketColor}\n            isConfirmed={isConfirmed}\n            hasFailed={hasFailed}\n            t={t}\n            style={{\n              transform: \"scale(1.5)\",\n              padding: 0,\n            }}\n            type={type}\n            withTooltip={false}\n          />\n        )}\n      </Box>\n      <Text\n        ff=\"Inter|SemiBold\"\n        textAlign=\"center\"\n        fontSize={4}\n        color=\"neutral.c70\"\n        mt={0}\n        mb={1}\n        data-testid=\"transaction-type\"\n      >\n        <Trans i18nKey={`operation.type.${editable ? \"SENDING\" : operation.type}`} />\n      </Text>\n\n      <Box alignItems=\"center\" mt={0}>\n        {!amount.isZero() && (\n          <Box selectable>\n            {hasFailed ? (\n              <Box color=\"alertRed\">\n                <Trans i18nKey=\"operationDetails.failed\" />\n              </Box>\n            ) : (\n              <ToolTip\n                content={\n                  AmountTooltip ? (\n                    <AmountTooltip operation={operation} amount={amount} unit={unit} />\n                  ) : null\n                }\n              >\n                <FormattedVal\n                  color={\n                    !isConfirmed && operation.type === \"IN\"\n                      ? \"warning.c70\"\n                      : amount.isNegative()\n                        ? \"neutral.c80\"\n                        : undefined\n                  }\n                  unit={unit}\n                  alwaysShowSign\n                  showCode\n                  val={amount}\n                  fontSize={7}\n                  data-testid=\"amountReceived-drawer\"\n                  disableRounding\n                />\n              </ToolTip>\n            )}\n          </Box>\n        )}\n      </Box>\n\n      {url ? (\n        <Box m={0} ff=\"Inter|SemiBold\" horizontal justifyContent=\"center\" fontSize={4} my={1}>\n          <LinkWithExternalIcon\n            fontSize={4}\n            onClick={() =>\n              url &&\n              openURL(url, \"viewOperationInExplorer\", {\n                currencyId: currencyName,\n              })\n            }\n            label={t(\"operationDetails.viewOperation\")}\n          />\n        </Box>\n      ) : null}\n      {editable ? (\n        <Alert type={isStuck ? \"warning\" : \"primary\"}>\n          <Trans\n            i18nKey={isStuck ? \"operation.edit.stuckDescription\" : \"operation.edit.description\"}\n          />\n          <div>\n            <Link\n              style={{ textDecoration: \"underline\", fontSize: \"13px\" }}\n              onClick={handleOpenEditModal}\n            >\n              <Trans i18nKey=\"operation.edit.title\" />\n            </Link>\n          </div>\n        </Alert>\n      ) : null}\n\n      <OpDetailsSection>\n        <OpDetailsTitle>{t(\"operationDetails.amount\")}</OpDetailsTitle>\n        <OpDetailsData onClick={openAmountDetails}>\n          <OpDetailsSideButton mt={0}>\n            <Box mr={2}>\n              {hasFailed ? null : (\n                <CounterValue\n                  data-testid=\"operation-amount\"\n                  alwaysShowSign\n                  color=\"neutral.c70\"\n                  fontSize={3}\n                  date={date}\n                  currency={currency}\n                  value={amount}\n                />\n              )}\n            </Box>\n            <IconChevronRight size={12} />\n          </OpDetailsSideButton>\n        </OpDetailsData>\n      </OpDetailsSection>\n\n      {(isNegative || fee) && (\n        <OpDetailsSection>\n          <OpDetailsTitle>{t(\"operationDetails.fees\")}</OpDetailsTitle>\n          <OpDetailsData>\n            {fee ? (\n              <Box alignItems=\"flex-end\">\n                <Box horizontal alignItems=\"center\">\n                  {urlFeesInfo ? (\n                    <Box ff=\"Inter|SemiBold\" fontSize={4} mr={2}>\n                      <LinkHelp\n                        Icon={InfoCircle}\n                        label={<Trans i18nKey=\"common.info\" />}\n                        onClick={() => openURL(urlFeesInfo)}\n                      />\n                    </Box>\n                  ) : null}\n                  <FormattedVal unit={feesUnit} showCode val={fee} color=\"neutral.c80\" />\n                </Box>\n                <Box horizontal justifyContent=\"flex-end\">\n                  <CounterValue\n                    color=\"neutral.c70\"\n                    date={date}\n                    fontSize={3}\n                    currency={feesCurrency}\n                    value={fee}\n                    subMagnitude={1}\n                    style={{\n                      width: \"auto\",\n                    }}\n                    prefix={\n                      <Box\n                        mr={1}\n                        color=\"neutral.c70\"\n                        style={{\n                          width: \"auto\",\n                        }}\n                      >\n                        {\"≈\"}\n                      </Box>\n                    }\n                  />\n                </Box>\n              </Box>\n            ) : (\n              t(\"operationDetails.noFees\")\n            )}\n          </OpDetailsData>\n        </OpDetailsSection>\n      )}\n      <OpDetailsSection>\n        <OpDetailsTitle>{t(\"operationDetails.type\")}</OpDetailsTitle>\n        <OpDetailsData horizontal alignItems=\"center\">\n          {urlWhatIsThis ? (\n            <Box ff=\"Inter|SemiBold\" fontSize={4} mr={2}>\n              <LinkHelp\n                Icon={InfoCircle}\n                label={<Trans i18nKey=\"common.info\" />}\n                onClick={() => openURL(urlWhatIsThis)}\n              />\n            </Box>\n          ) : undefined}\n          <Text\n            data-testid=\"operation-type\"\n            ff=\"Inter|SemiBold\"\n            textAlign=\"center\"\n            fontSize={4}\n            color=\"neutral.c70\"\n          >\n            <Trans i18nKey={`operation.type.${operation.type}`} />\n          </Text>\n        </OpDetailsData>\n      </OpDetailsSection>\n      <OpDetailsSection>\n        <OpDetailsTitle>{t(\"operationDetails.status\")}</OpDetailsTitle>\n        <OpDetailsData\n          color={hasFailed ? \"alertRed\" : isConfirmed ? \"positiveGreen\" : undefined}\n          horizontal\n          flow={1}\n        >\n          <Box data-testid=\"status-drawer\">\n            {hasFailed\n              ? t(\"operationDetails.failed\")\n              : isConfirmed\n                ? t(\"operationDetails.confirmed\")\n                : t(\"operationDetails.notConfirmed\")}\n            {getEnv(\"PLAYWRIGHT_RUN\")\n              ? \"\"\n              : hasFailed\n                ? null\n                : `${confirmationsString ? ` (${confirmationsString})` : ``}`}\n          </Box>\n        </OpDetailsData>\n      </OpDetailsSection>\n      <Divider />\n      {subOperations.length > 0 && account.type === \"Account\" && (\n        <>\n          <OpDetailsSection>\n            <OpDetailsTitle>\n              {t(\n                isToken\n                  ? \"operationDetails.tokenOperations\"\n                  : \"operationDetails.subAccountOperations\",\n              )}\n              &nbsp;\n              <LabelInfoTooltip\n                text={t(\n                  isToken ? \"operationDetails.tokenTooltip\" : \"operationDetails.subAccountTooltip\",\n                )}\n              />\n            </OpDetailsTitle>\n          </OpDetailsSection>\n          <Box\n            m={0}\n            style={{\n              overflowX: \"hidden\",\n            }}\n          >\n            {subOperations.map((op, i) => {\n              const opAccount = findSubAccountById(account, op.accountId);\n              if (!opAccount) return null;\n              const subAccountName = getAccountCurrency(opAccount).name;\n              return (\n                <div key={`${op.id}`}>\n                  <OperationComponent\n                    text={subAccountName}\n                    operation={op}\n                    account={opAccount}\n                    parentAccount={account}\n                    onOperationClick={() => openOperation(\"subOperation\", op, operation)}\n                    t={t}\n                    withAddress={false}\n                  />\n                  {i < subOperations.length - 1 && <Divider />}\n                </div>\n              );\n            })}\n          </Box>\n        </>\n      )}\n\n      {internalOperations.length > 0 && account.type === \"Account\" && (\n        <>\n          <OpDetailsSection>\n            <OpDetailsTitle>\n              {t(\"operationDetails.internalOperations\")}\n              &nbsp;\n              <LabelInfoTooltip text={t(\"operationDetails.internalOpTooltip\")} />\n            </OpDetailsTitle>\n          </OpDetailsSection>\n          <Box m={0}>\n            {internalOperations.map((op, i) => (\n              <div key={`${op.id}`}>\n                <OperationComponent\n                  text={account.currency.name}\n                  operation={op}\n                  account={account}\n                  onOperationClick={() => openOperation(\"internalOperation\", op, operation)}\n                  t={t}\n                  withAddress={false}\n                />\n                {i < internalOperations.length - 1 && <Divider />}\n              </div>\n            ))}\n          </Box>\n        </>\n      )}\n\n      <OpDetailsSection>\n        <OpDetailsTitle>{t(\"operationDetails.account\")}</OpDetailsTitle>\n        <OpDetailsData>\n          <Box flex=\"1\" ml={2} horizontal justifyContent=\"flex-end\">\n            <Box horizontal alignItems=\"center\" flex=\"unset\">\n              <Box mt={0} mr={1}>\n                <CryptoCurrencyIcon currency={mainCurrency} size={22} />\n              </Box>\n\n              <TextEllipsis>\n                <Link data-testid=\"account-name\" onClick={goToMainAccount}>\n                  {name}\n                </Link>\n              </TextEllipsis>\n              <AccountTagDerivationMode account={account} />\n            </Box>\n\n            {parentAccount ? (\n              <>\n                <Separator>{\"/\"}</Separator>\n                <Box horizontal alignItems=\"center\" flex=\"unset\">\n                  <Box mt={0} mr={1}>\n                    <CryptoCurrencyIcon currency={currency} size={22} />\n                  </Box>\n                  <TextEllipsis>\n                    <Link onClick={goToSubAccount}>{currency.name}</Link>\n                  </TextEllipsis>\n                  <AccountTagDerivationMode account={parentAccount} />\n                </Box>\n              </>\n            ) : null}\n          </Box>\n        </OpDetailsData>\n      </OpDetailsSection>\n      {OpDetailsPostAccountSection && (\n        <OpDetailsPostAccountSection\n          operation={operation}\n          type={type}\n          account={account as Account}\n        />\n      )}\n      <OpDetailsSection>\n        <OpDetailsTitle data-testid=\"operation-date-label\">\n          {t(\"operationDetails.date\")}\n        </OpDetailsTitle>\n        <OpDetailsData data-testid=\"operation-date\">{dateFormatted}</OpDetailsData>\n      </OpDetailsSection>\n      <Divider />\n      <OpDetailsSection>\n        <OpDetailsTitle>{t(\"operationDetails.identifier\")}</OpDetailsTitle>\n        <OpDetailsData>\n          <HashContainer data-testid=\"operation-id\">\n            <SplitAddress value={hash} />\n          </HashContainer>\n          <GradientHover>\n            <CopyWithFeedback text={hash} />\n          </GradientHover>\n        </OpDetailsData>\n      </OpDetailsSection>\n      {uniqueSenders.length ? (\n        <OpDetailsSection data-testid=\"operation-from\">\n          <OpDetailsTitle>{t(\"operationDetails.from\")}</OpDetailsTitle>\n          <DataList lines={uniqueSenders} t={t} />\n        </OpDetailsSection>\n      ) : null}\n      {recipients.length ? (\n        <OpDetailsSection>\n          <OpDetailsTitle>{t(\"operationDetails.to\")}</OpDetailsTitle>\n          <Box data-testid=\"operation-to\" alignItems=\"flex-end\" flex=\"1\">\n            {recipients.length > 1 ? (\n              <Link>\n                <FakeLink\n                  underline\n                  fontSize={3}\n                  ml={2}\n                  color=\"neutral.c80\"\n                  onClick={() => openURL(urls.multipleDestinationAddresses)}\n                >\n                  <Box mr={1}>\n                    <IconExternalLink size={12} />\n                  </Box>\n                  {t(\"operationDetails.multipleAddresses\")}\n                </FakeLink>\n              </Link>\n            ) : null}\n            <DataList lines={recipients} t={t} />\n          </Box>\n        </OpDetailsSection>\n      ) : null}\n      {OpDetailsExtra && (\n        <OpDetailsExtra operation={operation} type={type} account={account as Account} />\n      )}\n      <Divider />\n      {OpDetailsPostAlert && (\n        <OpDetailsPostAlert operation={operation} type={type} account={account as Account} />\n      )}\n    </Box>\n  );\n};\nconst OpDetails = (\n  props: RestProps & {\n    operation: Operation | null | undefined;\n    account: AccountLike | null | undefined;\n    parentAccount: Account | undefined;\n  },\n) => {\n  const { operation, account, parentAccount, ...rest } = props;\n  if (!operation || !account || !operation) return null;\n  return (\n    <OperationD account={account} parentAccount={parentAccount} operation={operation} {...rest} />\n  );\n};\nexport const OperationDetails = connect(mapStateToProps)(OpDetails);\n\ntype OperationDetailsExtraProps = {\n  operation: Operation;\n  account: Account;\n  type: OperationType;\n};\nconst OperationDetailsExtra = ({ operation }: OperationDetailsExtraProps) => {\n  let jsx = null;\n\n  // Safety type checks\n  if (operation.extra && typeof operation.extra === \"object\" && !Array.isArray(operation.extra)) {\n    jsx = Object.entries(operation.extra as object).map(([key, value]) => {\n      if (typeof value === \"object\" || typeof value === \"function\") return null;\n      return (\n        <OpDetailsSection key={key}>\n          <OpDetailsTitle>\n            <Trans i18nKey={`operationDetails.extra.${key}`} defaults={key} />\n          </OpDetailsTitle>\n          <OpDetailsData>\n            <Ellipsis>{value}</Ellipsis>\n          </OpDetailsData>\n        </OpDetailsSection>\n      );\n    });\n  }\n\n  return <>{jsx}</>;\n};\nconst More = styled(Text).attrs<TextProps>(p => ({\n  ff: p.ff ? p.ff : \"Inter|Bold\",\n  fontSize: p.fontSize ? p.fontSize : 2,\n  color: p.color || \"neutral.c100\",\n  tabIndex: 0,\n}))<TextProps & { textTransform?: boolean }>`\n  text-transform: ${p => (!p.textTransform ? \"auto\" : \"uppercase\")};\n  outline: none;\n`;\nexport class DataList extends Component<{\n  lines: string[];\n  t: TFunction;\n}> {\n  state = {\n    numToShow: 2,\n    showMore: true,\n  };\n\n  onClick = () => {\n    this.setState(({ showMore }: { showMore: boolean; numToShow: number | undefined }) => ({\n      showMore: !showMore,\n      numToShow: showMore ? undefined : 2,\n    }));\n  };\n\n  render() {\n    const { lines, t } = this.props;\n    const { showMore, numToShow } = this.state;\n    // Hardcoded for now\n    const shouldShowMore = lines.length > 3;\n    const renderLine = (line: string, index: number) => (\n      <OpDetailsData relative horizontal key={line + index}>\n        <HashContainer>\n          <SplitAddress value={line} />\n        </HashContainer>\n        <GradientHover>\n          <CopyWithFeedback text={line} />\n        </GradientHover>\n      </OpDetailsData>\n    );\n    return (\n      <Box\n        flex=\"1\"\n        alignItems=\"flex-end\"\n        style={{\n          maxWidth: \"100%\",\n        }}\n      >\n        {lines.slice(0, numToShow).map(renderLine)}\n        {shouldShowMore ? (\n          <OpDetailsSideButton mt={2} onClick={this.onClick}>\n            <More fontSize={4} color=\"wallet\" ff=\"Inter|SemiBold\" mt={1}>\n              <IconChevronRight size={12} />\n              {showMore\n                ? t(\"operationDetails.showMore\", {\n                    recipients: lines.length - 2,\n                  })\n                : t(\"operationDetails.showLess\")}\n            </More>\n          </OpDetailsSideButton>\n        ) : null}\n      </Box>\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/drawers/OperationDetails/styledComponents.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/drawers/Provider.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":10,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[425,428],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[425,428],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":10,"column":72,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":75,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[464,467],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[464,467],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":22,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[870,873],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[870,873],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/drawers/SwapOperationDetails/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/ensureContrast.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/env.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/events.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/experimental.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":35,"column":7,"nodeType":"TSAsExpression","messageId":"never","endLine":48,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { isEnvDefault, changes, EnvName } from \"@ledgerhq/live-env\";\nimport { Trans } from \"react-i18next\";\nimport { setEnvOnAllThreads } from \"./../helpers/env\";\nexport type FeatureCommon = {\n  name: EnvName;\n  title: string | React.ReactNode;\n  description: string | React.ReactNode;\n  shadow?: boolean;\n  dirty?: boolean;\n}; // NB Will trigger a clear cache if changed\n\nexport type FeatureToggle =\n  | {\n      type: \"toggle\";\n      valueOn?: string | boolean;\n      valueOff?: string | boolean;\n    }\n  | {\n      type: \"integer\";\n      minValue?: number;\n      maxValue?: number;\n    }\n  | {\n      type: \"float\";\n      minValue?: number;\n      maxValue?: number;\n    };\nexport type Feature = FeatureCommon & FeatureToggle;\n\n// comma-separated list of currencies that we want to enable as experimental, e.g:\n// const experimentalCurrencies = \"solana,cardano\";\nconst experimentalCurrencies = \"\";\nexport const experimentalFeatures: Feature[] = [\n  ...((experimentalCurrencies.length\n    ? [\n        {\n          type: \"toggle\" as const,\n          name: \"EXPERIMENTAL_CURRENCIES\",\n          title: <Trans i18nKey=\"settings.experimental.features.experimentalCurrencies.title\" />,\n          description: (\n            <Trans i18nKey=\"settings.experimental.features.experimentalCurrencies.description\" />\n          ),\n          valueOn: experimentalCurrencies,\n          valueOff: \"\",\n        },\n      ]\n    : []) as Feature[]),\n  {\n    type: \"toggle\",\n    name: \"MANAGER_DEV_MODE\",\n    title: <Trans i18nKey=\"settings.experimental.features.managerDevMode.title\" />,\n    description: <Trans i18nKey=\"settings.experimental.features.managerDevMode.description\" />,\n  },\n  {\n    type: \"toggle\",\n    name: \"SCAN_FOR_INVALID_PATHS\",\n    title: <Trans i18nKey=\"settings.experimental.features.scanForInvalidPaths.title\" />,\n    description: <Trans i18nKey=\"settings.experimental.features.scanForInvalidPaths.description\" />,\n  },\n  {\n    type: \"integer\",\n    name: \"KEYCHAIN_OBSERVABLE_RANGE\",\n    title: <Trans i18nKey=\"settings.experimental.features.keychainObservableRange.title\" />,\n    description: (\n      <Trans i18nKey=\"settings.experimental.features.keychainObservableRange.description\" />\n    ),\n    minValue: 20,\n    maxValue: 999,\n    dirty: true,\n  },\n  {\n    type: \"integer\",\n    name: \"FORCE_PROVIDER\",\n    title: <Trans i18nKey=\"settings.experimental.features.forceProvider.title\" />,\n    description: <Trans i18nKey=\"settings.experimental.features.forceProvider.description\" />,\n    minValue: 1,\n  },\n  {\n    type: \"toggle\",\n    name: \"EIP1559_MINIMUM_FEES_GATE\",\n    title: <Trans i18nKey=\"settings.experimental.features.1559DeactivateGate.title\" />,\n    description: <Trans i18nKey=\"settings.experimental.features.1559DeactivateGate.description\" />,\n    valueOn: false,\n    valueOff: true,\n  },\n  {\n    type: \"integer\",\n    name: \"EIP1559_PRIORITY_FEE_LOWER_GATE\",\n    title: <Trans i18nKey=\"settings.experimental.features.1559CustomPriorityLowerGate.title\" />,\n    description: (\n      <Trans i18nKey=\"settings.experimental.features.1559CustomPriorityLowerGate.description\" />\n    ),\n    minValue: 0,\n    maxValue: 1,\n  },\n  {\n    type: \"float\",\n    name: \"EIP1559_BASE_FEE_MULTIPLIER\",\n    title: <Trans i18nKey=\"settings.experimental.features.1559CustomBaseFeeMultiplier.title\" />,\n    description: (\n      <Trans i18nKey=\"settings.experimental.features.1559CustomBaseFeeMultiplier.description\" />\n    ),\n    minValue: 0,\n    maxValue: 10,\n  },\n  {\n    type: \"toggle\",\n    name: \"ENABLE_NETWORK_LOGS\",\n    title: <Trans i18nKey=\"settings.experimental.features.enableNetworkLogs.title\" />,\n    description: <Trans i18nKey=\"settings.experimental.features.enableNetworkLogs.description\" />,\n  },\n];\nconst lsKey = \"experimentalFlags\";\nconst lsKeyVersion = `${lsKey}_llversion`;\nexport const getLocalStorageEnvs = (): {\n  [_: string]: unknown;\n} => {\n  const maybeData = window.localStorage.getItem(lsKey);\n  if (!maybeData) return {};\n  const obj = JSON.parse(maybeData);\n  if (typeof obj !== \"object\" || !obj) return {};\n  Object.keys(obj).forEach(k => {\n    if (!experimentalFeatures.find(f => f.name === k)) {\n      delete obj[k];\n    }\n  });\n  return obj;\n};\nexport const enabledExperimentalFeatures = (): string[] =>\n  experimentalFeatures.map(e => e.name).filter(k => !isEnvDefault(k));\nexport const isReadOnlyEnv = (key: EnvName) => key in process.env;\nexport const setLocalStorageEnv = (key: EnvName, val: string) => {\n  const envs = getLocalStorageEnvs();\n  envs[key] = val;\n  window.localStorage.setItem(lsKey, JSON.stringify(envs));\n};\nif (window.localStorage.getItem(lsKeyVersion) !== __APP_VERSION__) {\n  const existing = getLocalStorageEnvs();\n  // we replace all existing ones by clearing those who are gone\n  const restoredEnvs: Record<string, unknown> = {};\n  experimentalFeatures\n    .filter(e => !e.shadow && e.name in existing && setEnvOnAllThreads(e.name, existing[e.name]))\n    .forEach(e => {\n      restoredEnvs[e.name] = existing[e.name];\n    });\n  window.localStorage.setItem(lsKey, JSON.stringify(restoredEnvs));\n  window.localStorage.setItem(lsKeyVersion, __APP_VERSION__);\n}\nconst envs = getLocalStorageEnvs();\n/* eslint-disable guard-for-in */\nfor (const k in envs) {\n  setEnvOnAllThreads(k, envs[k]);\n}\nfor (const k in process.env) {\n  setEnvOnAllThreads(k, process.env[k]);\n}\n/* eslint-enable guard-for-in */\n\nlet lastChange = 0;\nexport function recentlyChangedExperimental() {\n  return Date.now() - lastChange < 10000;\n}\nchanges.subscribe(({ name, value }) => {\n  if (experimentalFeatures.find(f => f.name === name) && !isReadOnlyEnv(name)) {\n    lastChange = Date.now();\n    setLocalStorageEnv(name, value);\n  }\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/extra/Snow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/algorand/AccountBodyHeader.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/algorand/AccountHeaderManageActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/algorand/OptInFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/algorand/OptInFlowModal/fields/AsaSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/algorand/OptInFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/algorand/OptInFlowModal/steps/StepAsset.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/algorand/OptInFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/algorand/OptInFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/algorand/Rewards/ClaimRewardsFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/algorand/Rewards/ClaimRewardsFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/algorand/Rewards/ClaimRewardsFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/algorand/Rewards/ClaimRewardsFlowModal/steps/StepInfo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/algorand/Rewards/ClaimRewardsFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/algorand/Rewards/EarnRewardsInfoModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/algorand/Rewards/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/algorand/TokenList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/algorand/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/algorand/modals.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/algorand/operationDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/algorand/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/AccountBalanceSummaryFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/AccountBodyHeader.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/AccountHeaderManageActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/RestakingFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/RestakingFlowModal/fields/Amount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/RestakingFlowModal/fields/Validator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/RestakingFlowModal/fields/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/RestakingFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/RestakingFlowModal/steps/Amount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/RestakingFlowModal/steps/Confirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/RestakingFlowModal/steps/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/RestakingFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/Staking/Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/Staking/Row.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":108,"column":9,"nodeType":"TSAsExpression","messageId":"never","endLine":108,"endColumn":93},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":114,"column":25,"nodeType":"TSAsExpression","messageId":"never","endLine":127,"endColumn":61}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback } from \"react\";\nimport styled from \"styled-components\";\nimport { Trans } from \"react-i18next\";\nimport { AptosMappedStakingPosition } from \"@ledgerhq/live-common/families/aptos/types\";\nimport { canUnstake, canWithdraw, canRestake } from \"@ledgerhq/live-common/families/aptos/staking\";\nimport { TableLine } from \"./Header\";\nimport DropDown, { DropDownItem, DropDownItemType } from \"~/renderer/components/DropDownSelector\";\nimport Box from \"~/renderer/components/Box/Box\";\nimport ChevronRight from \"~/renderer/icons/ChevronRight\";\nimport CheckCircle from \"~/renderer/icons/CheckCircle\";\nimport ExclamationCircleThin from \"~/renderer/icons/ExclamationCircleThin\";\nimport ToolTip from \"~/renderer/components/Tooltip\";\nimport ValidatorIcon from \"~/renderer/families/aptos/shared/components/ValidatorIcon\";\nimport Text from \"~/renderer/components/Text\";\nimport Discreet from \"~/renderer/components/Discreet\";\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding: 16px 20px;\n`;\n\nconst Column = styled(TableLine).attrs<{\n  clickable?: boolean;\n  strong?: boolean;\n}>(p => ({\n  ff: \"Inter|SemiBold\",\n  color: p.strong ? \"neutral.c100\" : \"neutral.c80\",\n  fontSize: 3,\n}))<{\n  clickable?: boolean;\n  strong?: boolean;\n}>`\n  cursor: ${p => (p.clickable ? \"pointer\" : \"cursor\")};\n  ${p =>\n    p.clickable\n      ? `\n    &:hover {\n      color: ${p.theme.colors.primary.c80};\n    }\n    `\n      : ``}\n`;\n\nconst Ellipsis = styled.div`\n  flex: 1;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\n\nconst ManageDropDownItem = ({\n  item,\n  isActive,\n}: {\n  item: DropDownItemType<React.JSX.Element>;\n  isActive: boolean;\n}) => {\n  return (\n    <ToolTip\n      content={item.content}\n      containerStyle={{\n        width: \"100%\",\n      }}\n    >\n      <DropDownItem disabled={item.disabled} isActive={isActive}>\n        <Box horizontal alignItems=\"center\" justifyContent=\"center\">\n          <Text ff=\"Inter|SemiBold\">{item.label}</Text>\n        </Box>\n      </DropDownItem>\n    </ToolTip>\n  );\n};\n\ntype Props = {\n  stakingPosition: AptosMappedStakingPosition;\n  onManageAction: (\n    address: string,\n    action: \"MODAL_APTOS_UNSTAKE\" | \"MODAL_APTOS_WITHDRAW\" | \"MODAL_APTOS_RESTAKE\",\n  ) => void;\n  onExternalLink: (address: string) => void;\n};\n\nexport function Row({\n  stakingPosition: {\n    validatorId,\n    active,\n    pendingInactive,\n    formattedAmount,\n    formattedPending,\n    formattedAvailable,\n    validator,\n  },\n  stakingPosition,\n  onManageAction,\n  onExternalLink,\n}: Readonly<Props>) {\n  const unstakingEnabled = canUnstake(stakingPosition);\n  const withdrawingEnabled = canWithdraw(stakingPosition);\n  const restakingEnabled = canRestake(stakingPosition);\n\n  const onSelect = useCallback(\n    (action: (typeof dropDownItems)[number]) => {\n      onManageAction(\n        validatorId,\n        action.key as \"MODAL_APTOS_UNSTAKE\" | \"MODAL_APTOS_WITHDRAW\" | \"MODAL_APTOS_RESTAKE\",\n      );\n    },\n    [onManageAction, validatorId],\n  );\n\n  const dropDownItems = [\n    unstakingEnabled && {\n      key: \"MODAL_APTOS_UNSTAKE\",\n      label: <Trans i18nKey=\"aptos.stake.unstake\" />,\n    },\n    withdrawingEnabled && {\n      key: \"MODAL_APTOS_WITHDRAW\",\n      label: <Trans i18nKey=\"aptos.stake.withdraw\" />,\n    },\n    restakingEnabled && {\n      key: \"MODAL_APTOS_RESTAKE\",\n      label: <Trans i18nKey=\"aptos.stake.restake\" />,\n    },\n  ].filter(Boolean) as DropDownItemType<React.JSX.Element>[];\n\n  const onExternalLinkClick = useCallback(\n    () => onExternalLink(validatorId),\n    [onExternalLink, validatorId],\n  );\n\n  return (\n    <Wrapper>\n      <Column strong clickable onClick={onExternalLinkClick}>\n        <Box mr={2}>\n          <ValidatorIcon validatorAddress={validator?.address} />\n        </Box>\n        <Ellipsis>{validatorId}</Ellipsis>\n      </Column>\n      <Column>\n        {active.gt(0) || pendingInactive.gt(0) ? (\n          <Box color=\"positiveGreen\" pl={2}>\n            <ToolTip content={<Trans i18nKey=\"aptos.stake.activeTooltip\" />}>\n              <CheckCircle size={14} />\n            </ToolTip>\n          </Box>\n        ) : (\n          <Box color=\"alertRed\" pl={2}>\n            <ToolTip content={<Trans i18nKey=\"aptos.stake.inactiveTooltip\" />}>\n              <ExclamationCircleThin size={14} />\n            </ToolTip>\n          </Box>\n        )}\n      </Column>\n      <Column>\n        <Ellipsis>\n          <Discreet>{formattedAmount}</Discreet>\n        </Ellipsis>\n      </Column>\n      <Column>\n        <Ellipsis>\n          <Discreet>{formattedPending}</Discreet>\n        </Ellipsis>\n      </Column>\n      <Column>\n        <Ellipsis>\n          <Discreet>{formattedAvailable}</Discreet>\n        </Ellipsis>\n      </Column>\n      <Column>\n        <Ellipsis>\n          <Discreet>{validator?.nextUnlockTime}</Discreet>\n        </Ellipsis>\n      </Column>\n      <Column>\n        {dropDownItems.length ? (\n          <DropDown items={dropDownItems} renderItem={ManageDropDownItem} onChange={onSelect}>\n            {() => (\n              <Box horizontal alignItems=\"center\">\n                <Trans i18nKey=\"common.manage\" />\n                <div\n                  style={{\n                    transform: \"rotate(90deg)\",\n                  }}\n                >\n                  <ChevronRight size={16} />\n                </div>\n              </Box>\n            )}\n          </DropDown>\n        ) : null}\n      </Column>\n    </Wrapper>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/Staking/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/StakingFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/StakingFlowModal/Info/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/StakingFlowModal/fields/ValidatorField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/StakingFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/StakingFlowModal/steps/StepAmount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/StakingFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/StakingFlowModal/steps/StepStake.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/StakingFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/UnstakingFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/UnstakingFlowModal/fields/Amount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/UnstakingFlowModal/fields/Validator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/UnstakingFlowModal/fields/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/UnstakingFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/UnstakingFlowModal/steps/Amount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/UnstakingFlowModal/steps/Confirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/UnstakingFlowModal/steps/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/UnstakingFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/WithdrawingFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/WithdrawingFlowModal/fields/Amount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/WithdrawingFlowModal/fields/Validator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/WithdrawingFlowModal/fields/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/WithdrawingFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/WithdrawingFlowModal/steps/Amount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/WithdrawingFlowModal/steps/Confirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/WithdrawingFlowModal/steps/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/WithdrawingFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/modals.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/operationDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/shared/components/ValidatorIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/shared/components/ValidatorRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/aptos/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/bitcoin/AccountBalanceSummaryFooter.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":67,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":67,"endColumn":37}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport styled from \"styled-components\";\nimport { useSelector } from \"LLD/hooks/redux\";\nimport { Trans } from \"react-i18next\";\nimport { formatCurrencyUnit } from \"@ledgerhq/live-common/currencies/index\";\nimport { localeSelector } from \"~/renderer/reducers/settings\";\nimport Discreet, { useDiscreetMode } from \"~/renderer/components/Discreet\";\nimport Box from \"~/renderer/components/Box/Box\";\nimport Text from \"~/renderer/components/Text\";\nimport InfoCircle from \"~/renderer/icons/InfoCircle\";\nimport ToolTip from \"~/renderer/components/Tooltip\";\nimport { BitcoinFamily } from \"./types\";\nimport { useAccountUnit } from \"~/renderer/hooks/useAccountUnit\";\nimport { useFeatureFlags } from \"@ledgerhq/live-common/featureFlags/index\";\nimport BigNumber from \"bignumber.js\";\nimport { Currency } from \"@ledgerhq/coin-bitcoin/wallet-btc/index\";\n\nconst Wrapper = styled(Box).attrs(() => ({\n  horizontal: true,\n  mt: 4,\n  p: 5,\n  pb: 0,\n  scroll: true,\n}))`\n  border-top: 1px solid ${p => p.theme.colors.neutral.c30};\n`;\n\nconst BalanceDetail = styled(Box).attrs(() => ({\n  flex: \"0.25 0 auto\",\n  alignItems: \"start\",\n  paddingRight: 20,\n}))``;\n\nconst TitleWrapper = styled(Box).attrs(() => ({\n  horizontal: true,\n  alignItems: \"center\",\n  mb: 1,\n}))``;\n\nconst Title = styled(Text).attrs(() => ({\n  fontSize: 4,\n  ff: \"Inter|Medium\",\n  color: \"neutral.c70\",\n}))`\n  line-height: ${p => p.theme.space[4]}px;\n  margin-right: ${p => p.theme.space[1]}px;\n`;\n\nconst AmountValue = styled(Text).attrs(() => ({\n  fontSize: 6,\n  ff: \"Inter|SemiBold\",\n  color: \"neutral.c100\",\n}))<{ paddingRight?: number }>`\n  ${p => p.paddingRight && `padding-right: ${p.paddingRight}px`};\n`;\n\nconst AccountBalanceSummaryFooter: BitcoinFamily[\"AccountBalanceSummaryFooter\"] = ({ account }) => {\n  const discreet = useDiscreetMode();\n  const locale = useSelector(localeSelector);\n  const unit = useAccountUnit(account);\n  const { getFeature } = useFeatureFlags();\n\n  const showComponent = getFeature(\"zcashShielded\");\n\n  if (\n    account.type !== \"Account\" ||\n    (account.currency.id as Currency) !== \"zcash\" ||\n    !showComponent?.enabled\n  )\n    return null;\n\n  // TODO: BitcoinAccount needs a new prop for private balance\n  // const { spendableBalance, privateBalance } = account;\n  const { spendableBalance } = account;\n  const privateBalance = BigNumber(0);\n\n  const formatConfig = {\n    alwaysShowSign: false,\n    showCode: true,\n    discreet,\n    locale,\n  };\n\n  const _transparentBalance = spendableBalance ?? BigNumber(0);\n  const _privateBalance = privateBalance ?? BigNumber(0);\n  const _availableBalance = _transparentBalance.plus(_privateBalance);\n\n  const transparentBalanceLabel = formatCurrencyUnit(unit, _transparentBalance, formatConfig);\n  const privateBalanceLabel = formatCurrencyUnit(unit, _privateBalance, formatConfig);\n  const availableBalanceLabel = formatCurrencyUnit(unit, _availableBalance, formatConfig);\n\n  return (\n    <Wrapper>\n      <BalanceDetail>\n        <ToolTip content={<Trans i18nKey=\"zcash.account.availableBalanceTooltip\" />}>\n          <TitleWrapper>\n            <Title>\n              <Trans i18nKey=\"zcash.account.availableBalance\" />\n            </Title>\n            <InfoCircle size={13} />\n          </TitleWrapper>\n        </ToolTip>\n        <AmountValue>\n          <Discreet>{availableBalanceLabel}</Discreet>\n        </AmountValue>\n      </BalanceDetail>\n      <BalanceDetail>\n        <ToolTip content={<Trans i18nKey=\"zcash.account.transparentBalanceTooltip\" />}>\n          <TitleWrapper>\n            <Title>\n              <Trans i18nKey=\"zcash.account.transparentBalance\" />\n            </Title>\n            <InfoCircle size={13} />\n          </TitleWrapper>\n        </ToolTip>\n        <AmountValue>\n          <Discreet>{transparentBalanceLabel}</Discreet>\n        </AmountValue>\n      </BalanceDetail>\n      <BalanceDetail>\n        <ToolTip content={<Trans i18nKey=\"zcash.account.privateBalanceTooltip\" />}>\n          <TitleWrapper>\n            <Title>\n              <Trans i18nKey=\"zcash.account.privateBalance\" />\n            </Title>\n            <InfoCircle size={13} />\n          </TitleWrapper>\n        </ToolTip>\n        <AmountValue>\n          <Discreet>{privateBalanceLabel}</Discreet>\n        </AmountValue>\n      </BalanceDetail>\n    </Wrapper>\n  );\n};\n\nexport default AccountBalanceSummaryFooter;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/bitcoin/AccountHeaderManageActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/bitcoin/CoinControlModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/bitcoin/CoinControlRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/bitcoin/FeesField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/bitcoin/FullNode/FullNodeBody.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/bitcoin/FullNode/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/bitcoin/FullNode/steps/StepAccounts.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/bitcoin/FullNode/steps/StepConnectDevice.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/bitcoin/FullNode/steps/StepDisconnect.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/bitcoin/FullNode/steps/StepLanding.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/bitcoin/FullNode/steps/StepNode/Form.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/bitcoin/FullNode/steps/StepNode/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/bitcoin/FullNode/steps/StepSatStack.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/bitcoin/PickingStrategy.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":33,"column":44,"nodeType":"TSAsExpression","messageId":"never","endLine":33,"endColumn":93}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { Trans } from \"react-i18next\";\nimport { bitcoinPickingStrategy, Transaction } from \"@ledgerhq/live-common/families/bitcoin/types\";\nimport { Account } from \"@ledgerhq/types-live\";\nimport { getAccountBridge } from \"@ledgerhq/live-common/bridge/index\";\nimport Box from \"~/renderer/components/Box\";\nimport Text from \"~/renderer/components/Text\";\nimport Select from \"~/renderer/components/Select\";\nimport useBitcoinPickingStrategy from \"./useBitcoinPickingStrategy\";\ntype Props = {\n  account: Account;\n  transaction: Transaction;\n  onChange: (a: (t: Transaction, p: Partial<Transaction>) => void) => void;\n};\nexport const PickingStrategy = ({ transaction, account, onChange }: Props) => {\n  const bridge = getAccountBridge(account);\n  const { item, options } = useBitcoinPickingStrategy(transaction.utxoStrategy.strategy);\n  return (\n    <Box flow={2} horizontal alignItems=\"center\" justifyContent=\"space-between\">\n      <Text color=\"neutral.c70\" ff=\"Inter|Regular\" fontSize={13}>\n        <Trans i18nKey=\"bitcoin.strategy\" />\n      </Text>\n      <Select\n        width={300}\n        options={options}\n        value={item}\n        onChange={item =>\n          onChange(\n            bridge.updateTransaction(transaction, {\n              utxoStrategy: {\n                ...transaction.utxoStrategy,\n                strategy: item\n                  ? bitcoinPickingStrategy[item.value as keyof typeof bitcoinPickingStrategy]\n                  : 0,\n              },\n            }),\n          )\n        }\n      />\n    </Box>\n  );\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/bitcoin/SendAmountFields.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has missing dependencies: 'bridge' and 'updateTransaction'. Either include them or remove the dependency array. If 'updateTransaction' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":57,"column":6,"nodeType":"ArrayExpression","endLine":57,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [bridge, updateTransaction]","fix":{"range":[2234,2236],"text":"[bridge, updateTransaction]"}}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useCallback has a missing dependency: 'trackProperties'. Either include it or remove the dependency array.","line":74,"column":5,"nodeType":"ArrayExpression","endLine":74,"endColumn":32,"suggestions":[{"desc":"Update the dependencies array to be: [trackProperties, updateTransaction, bridge]","fix":{"range":[2759,2786],"text":"[trackProperties, updateTransaction, bridge]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/bitcoin/SendRecipientFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/bitcoin/StepReceiveFundsPostAlert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/bitcoin/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/bitcoin/live-common-setup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/bitcoin/modals.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/bitcoin/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/bitcoin/useBitcoinPickingStrategy.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":9,"column":14,"nodeType":"TSAsExpression","messageId":"never","endLine":9,"endColumn":59}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState } from \"react\";\nimport { Trans } from \"react-i18next\";\nimport { bitcoinPickingStrategy } from \"@ledgerhq/live-common/families/bitcoin/types\";\ntype Keys = keyof typeof bitcoinPickingStrategy;\nexport type Option = {\n  value: Keys;\n  label: React.ReactNode;\n};\nconst keys = Object.keys(bitcoinPickingStrategy) as Keys[];\n\nconst options: Array<Option> = keys.map(value => ({\n  value,\n  label: <Trans i18nKey={`bitcoin.pickingStrategyLabels.${value}`} />,\n}));\ntype BitcoinStrategyResult = {\n  item: Option | undefined | null;\n  options: Array<Option>;\n};\nconst useBitcoinPickingStrategy = (strategy: number): BitcoinStrategyResult => {\n  const [item, setItem] = useState(() => {\n    return options.find(o => bitcoinPickingStrategy[o.value] === strategy);\n  });\n  useEffect(() => {\n    const newItem = options.find(o => bitcoinPickingStrategy[o.value] === strategy);\n    if (newItem) {\n      setItem(newItem);\n    }\n  }, [strategy]);\n  return {\n    options,\n    item,\n  };\n};\nexport default useBitcoinPickingStrategy;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/AccountBalanceSummaryFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/CommentField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/ExpiryDurationField.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/ExpiryDurationField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/OnboardModal/__tests__/OnboardModal.test.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":42,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":42,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1341,1344],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1341,1344],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":49,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":49,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1534,1537],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1534,1537],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":53,"column":65,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":68,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1707,1710],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1707,1710],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":54,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":54,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1756,1759],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1756,1759],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":73,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":73,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2521,2524],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2521,2524],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":81,"column":23,"nodeType":"TSAsExpression","messageId":"never","endLine":81,"endColumn":73,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":82,"column":24,"nodeType":"TSAsExpression","messageId":"never","endLine":82,"endColumn":76,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/OnboardModal/__tests__/testUtils.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":81,"column":8,"nodeType":"TSAsExpression","messageId":"never","endLine":81,"endColumn":44}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":81,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":81,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2438,2441],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2438,2441],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { AuthorizeStatus, OnboardStatus } from \"@ledgerhq/coin-canton/types\";\nimport { Device } from \"@ledgerhq/live-common/hw/actions/types\";\nimport { DeviceModelId } from \"@ledgerhq/types-devices\";\nimport { Account } from \"@ledgerhq/types-live\";\n\nimport { createMockAccount, createMockCantonCurrency } from \"../../__tests__/testUtils\";\nexport { createMockAccount, createMockCantonCurrency };\n\nexport const createMockDevice = (overrides: Partial<Device> = {}): Device => ({\n  deviceId: \"test-device-id\",\n  modelId: DeviceModelId.nanoS,\n  wired: false,\n  ...overrides,\n});\n\nexport const createMockImportableAccount = (overrides: Partial<Account> = {}): Account => {\n  return createMockAccount({\n    id: \"js:2:canton_network:imported-address:canton\",\n    freshAddress: \"imported-address\",\n    used: true,\n    ...overrides,\n  });\n};\n\nexport const createMockOnboardingResult = (\n  overrides: Partial<{ partyId: string; completedAccount: Account }> = {},\n) => {\n  return {\n    partyId: \"test-party-id\",\n    completedAccount: createMockAccount(),\n    ...overrides,\n  };\n};\n\nexport const createMockCantonBridge = () => ({\n  onboardAccount: jest.fn(),\n  authorizePreapproval: jest.fn(),\n});\n\ntype ObservableValue = { error?: Error } | { status: number; account?: Account; partyId?: string };\n\nexport const createMockObservable = (values: ObservableValue[], delay: number = 0) => ({\n  subscribe: jest.fn(\n    ({\n      next,\n      complete,\n      error,\n    }: {\n      next: (value: ObservableValue) => void;\n      complete: () => void;\n      error: (error: Error) => void;\n    }) => {\n      const timeoutId = setTimeout(() => {\n        values.forEach(value => {\n          if (\"error\" in value && value.error) {\n            error(value.error);\n          } else {\n            next(value);\n          }\n        });\n        if (values.length > 0 && !(\"error\" in values[values.length - 1])) {\n          complete();\n        }\n      }, delay);\n\n      return {\n        unsubscribe: jest.fn(() => clearTimeout(timeoutId)),\n      };\n    },\n  ),\n});\n\nexport const createMockStepProps = (overrides: Record<string, unknown> = {}) => {\n  const currency = createMockCantonCurrency();\n  const device = createMockDevice();\n  const creatableAccount = createMockAccount({ used: false });\n  const importableAccount = createMockImportableAccount();\n\n  return {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    t: jest.fn((key: string) => key) as any,\n    device,\n    currency,\n    accountName: \"Canton 1\",\n    editedNames: {},\n    creatableAccount,\n    importableAccounts: [importableAccount],\n    isProcessing: false,\n    onboardingResult: undefined,\n    onboardingStatus: OnboardStatus.INIT,\n    authorizeStatus: AuthorizeStatus.INIT,\n    error: null,\n    onAddAccounts: jest.fn(),\n    onAddMore: jest.fn(),\n    onAuthorizePreapproval: jest.fn(),\n    onOnboardAccount: jest.fn(),\n    onRetryOnboardAccount: jest.fn(),\n    onRetryPreapproval: jest.fn(),\n    transitionTo: jest.fn(),\n    ...overrides,\n  };\n};\n\nexport const createMockUserProps = (overrides: Record<string, unknown> = {}) => {\n  const currency = createMockCantonCurrency();\n  const device = createMockDevice();\n  const creatableAccount = createMockAccount({ used: false });\n  const importableAccount = createMockImportableAccount();\n\n  return {\n    currency,\n    device,\n    editedNames: {},\n    selectedAccounts: [creatableAccount, importableAccount],\n    existingAccounts: [],\n    closeModal: jest.fn(),\n    openModal: jest.fn(),\n    addAccountsAction: jest.fn(),\n    t: jest.fn((key: string) => key),\n    ...overrides,\n  };\n};\n\nexport const mockOnboardingProgress = {\n  PREPARE: { status: OnboardStatus.PREPARE },\n  SIGN: { status: OnboardStatus.SIGN },\n  SUBMIT: { status: OnboardStatus.SUBMIT },\n  SUCCESS: {\n    status: OnboardStatus.SUCCESS,\n    account: createMockAccount(),\n    partyId: \"test-party-id\",\n  },\n  ERROR: { error: new Error(\"Onboarding failed\") },\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/OnboardModal/components/TransactionConfirm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/OnboardModal/components/ValidatorRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/OnboardModal/index.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":503,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":506,"endColumn":50}],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":211,"column":8,"nodeType":"TSAsExpression","messageId":"never","endLine":211,"endColumn":70,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { TFunction } from \"i18next\";\nimport invariant from \"invariant\";\nimport React, { PureComponent } from \"react\";\nimport { Trans, withTranslation } from \"react-i18next\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { Subscription } from \"rxjs\";\nimport type { CantonCurrencyBridge } from \"@ledgerhq/coin-canton/types\";\nimport {\n  AuthorizeStatus,\n  OnboardStatus,\n  CantonAuthorizeProgress,\n  CantonAuthorizeResult,\n  CantonOnboardResult,\n  CantonOnboardProgress,\n} from \"@ledgerhq/coin-canton/types\";\nimport { getCurrencyBridge } from \"@ledgerhq/live-common/bridge/index\";\nimport { Device } from \"@ledgerhq/live-common/hw/actions/types\";\nimport { addAccountsAction } from \"@ledgerhq/live-wallet/addAccounts\";\nimport { CryptoCurrency } from \"@ledgerhq/types-cryptoassets\";\nimport { Account } from \"@ledgerhq/types-live\";\nimport { getDefaultAccountName } from \"@ledgerhq/live-wallet/accountName\";\nimport { closeModal, openModal } from \"~/renderer/actions/modals\";\nimport type { NavigationSnapshot } from \"../hooks/topologyChangeError\";\nimport Modal from \"~/renderer/components/Modal\";\nimport Stepper, { type Step } from \"~/renderer/components/Stepper\";\nimport logger from \"~/renderer/logger\";\nimport { accountsSelector } from \"~/renderer/reducers/accounts\";\nimport { getCurrentDevice } from \"~/renderer/reducers/devices\";\nimport StepAuthorize, { StepAuthorizeFooter } from \"./steps/StepAuthorize\";\nimport StepFinish, { StepFinishFooter } from \"./steps/StepFinish\";\nimport StepOnboard, { StepOnboardFooter } from \"./steps/StepOnboard\";\nimport { OnboardingResult, StepId, StepProps } from \"./types\";\nimport { AxiosError } from \"axios\";\n\nexport type Props = {\n  t: TFunction;\n  closeModal: typeof closeModal;\n  openModal: typeof openModal;\n  addAccountsAction: typeof addAccountsAction;\n} & UserProps;\n\nexport type UserProps = {\n  currency: CryptoCurrency | null;\n  device: Device | null | undefined;\n  editedNames: { [accountId: string]: string };\n  selectedAccounts: Account[];\n  existingAccounts: Account[];\n  isReonboarding?: boolean;\n  accountToReonboard?: Account;\n  navigationSnapshot?: NavigationSnapshot;\n};\n\nconst mapStateToProps = createStructuredSelector({\n  device: getCurrentDevice,\n  existingAccounts: accountsSelector,\n});\n\nconst mapDispatchToProps = {\n  closeModal,\n  openModal,\n  addAccountsAction,\n};\n\ntype State = {\n  stepId: StepId;\n  error: AxiosError | null;\n  authorizeStatus: AuthorizeStatus;\n  onboardingStatus: OnboardStatus;\n  isProcessing: boolean;\n  onboardingResult: OnboardingResult | undefined;\n  isReonboarding: boolean;\n};\n\nconst INITIAL_STATE: State = {\n  stepId: StepId.ONBOARD,\n  error: null,\n  authorizeStatus: AuthorizeStatus.INIT,\n  onboardingStatus: OnboardStatus.INIT,\n  isProcessing: false,\n  onboardingResult: undefined,\n  isReonboarding: false,\n};\n\nfunction getCreatableAccount(\n  selectedAccounts: Account[],\n  isReonboarding?: boolean,\n  accountToReonboard?: Account,\n): Account | undefined {\n  if (isReonboarding && accountToReonboard) {\n    return accountToReonboard;\n  }\n  return selectedAccounts.find(account => !account.used);\n}\n\nfunction getImportableAccounts(selectedAccounts: Account[]): Account[] {\n  return selectedAccounts.filter(account => account.used);\n}\n\nfunction resolveAccountName(\n  account: Account,\n  editedNames: { [accountId: string]: string },\n): string {\n  return editedNames[account.id] || getDefaultAccountName(account);\n}\n\nfunction resolveCreatableAccountName(\n  creatableAccount: Account | undefined,\n  currency: CryptoCurrency,\n  editedNames: { [accountId: string]: string },\n  importableAccountsCount: number,\n): string {\n  if (!creatableAccount) {\n    return `${currency.name} ${importableAccountsCount + 1}`;\n  }\n  return resolveAccountName(creatableAccount, editedNames);\n}\n\ntype AddAccountsConfig = {\n  selectedAccounts: Account[];\n  existingAccounts: Account[];\n  editedNames: { [accountId: string]: string };\n  isReonboarding?: boolean;\n  accountToReonboard?: Account;\n  onboardingResult?: {\n    completedAccount: Account;\n  };\n};\n\nfunction prepareAccountsForReonboarding(\n  accountToReonboard: Account,\n  completedAccount: Account,\n  editedNames: { [accountId: string]: string },\n): {\n  accounts: Account[];\n  renamings: { [accountId: string]: string };\n} {\n  const updatedAccount = {\n    ...accountToReonboard,\n    ...completedAccount,\n    id: accountToReonboard.id,\n  };\n\n  return {\n    accounts: [updatedAccount],\n    renamings: {\n      [updatedAccount.id]:\n        editedNames[accountToReonboard.id] || getDefaultAccountName(updatedAccount),\n    },\n  };\n}\n\nfunction prepareAccountsForNewOnboarding(\n  importableAccounts: Account[],\n  completedAccount: Account | undefined,\n  editedNames: { [accountId: string]: string },\n): {\n  accounts: Account[];\n  renamings: { [accountId: string]: string };\n} {\n  const accounts = [...importableAccounts];\n  if (completedAccount) {\n    accounts.push(completedAccount);\n  }\n\n  // on previous step we don't have a partyId yet for onboarding account\n  // so editedNames use a temporary account ID\n  // since only one account is onboarded at a time, we cane filter out importableAccounts renamings\n  // what is left belongs to the onboarded account\n  const importableAccountIds = new Set(importableAccounts.map(acc => acc.id));\n  const [, completedAccountName] =\n    Object.entries(editedNames).find(([accountId]) => !importableAccountIds.has(accountId)) || [];\n\n  const renamings = Object.fromEntries(\n    accounts.map(account => {\n      let accountName = editedNames[account.id];\n\n      if (completedAccount && account.id === completedAccount.id && completedAccountName) {\n        accountName = completedAccountName;\n      }\n\n      return [account.id, accountName || getDefaultAccountName(account)];\n    }),\n  );\n\n  return { accounts, renamings };\n}\n\nfunction prepareAccountsForAdding(config: AddAccountsConfig): {\n  accounts: Account[];\n  renamings: { [accountId: string]: string };\n} {\n  const { selectedAccounts, editedNames, isReonboarding, accountToReonboard, onboardingResult } =\n    config;\n\n  const importableAccounts = getImportableAccounts(selectedAccounts);\n  const completedAccount = onboardingResult?.completedAccount;\n\n  if (isReonboarding && completedAccount && accountToReonboard) {\n    return prepareAccountsForReonboarding(accountToReonboard, completedAccount, editedNames);\n  }\n\n  return prepareAccountsForNewOnboarding(importableAccounts, completedAccount, editedNames);\n}\n\nclass OnboardModal extends PureComponent<Props, State> {\n  state: State = INITIAL_STATE;\n  cantonBridge = this.props.currency\n    ? // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n      (getCurrencyBridge(this.props.currency) as CantonCurrencyBridge)\n    : null;\n  onboardingSubscription: Subscription | undefined;\n  authorizeSubscription: Subscription | undefined;\n\n  STEPS = [\n    {\n      id: StepId.ONBOARD,\n      label: <Trans i18nKey=\"families.canton.addAccount.onboard.title\" />,\n      component: StepOnboard,\n      footer: StepOnboardFooter,\n    },\n    {\n      id: StepId.AUTHORIZE,\n      label: <Trans i18nKey=\"families.canton.addAccount.auth.title\" />,\n      component: StepAuthorize,\n      footer: StepAuthorizeFooter,\n    },\n    {\n      id: StepId.FINISH,\n      label: <Trans i18nKey=\"families.canton.addAccount.finish.title\" />,\n      component: StepFinish,\n      footer: StepFinishFooter,\n    },\n  ];\n\n  componentWillUnmount() {\n    this.handleUnsubscribe();\n  }\n\n  handleUnsubscribe = () => {\n    if (this.onboardingSubscription) {\n      this.onboardingSubscription.unsubscribe();\n    }\n    if (this.authorizeSubscription) {\n      this.authorizeSubscription.unsubscribe();\n    }\n  };\n\n  handleRetryOnboardAccount = () => {\n    this.handleUnsubscribe();\n    this.setState({ ...INITIAL_STATE });\n  };\n\n  handleRetryPreapproval = () => {\n    this.handleUnsubscribe();\n    this.setState({\n      authorizeStatus: AuthorizeStatus.INIT,\n      isProcessing: false,\n      error: null,\n    });\n  };\n\n  handleStepChange = ({ id }: Step<StepId, StepProps>) => {\n    this.setState({ stepId: id });\n  };\n\n  transitionTo = (stepId: StepId) => {\n    this.setState({ stepId });\n  };\n\n  handleAddMore = () => {\n    const { closeModal, openModal, currency } = this.props;\n    this.handleAddAccounts();\n    closeModal(\"MODAL_CANTON_ONBOARD_ACCOUNT\");\n    openModal(\"MODAL_ADD_ACCOUNTS\", {\n      currency,\n    });\n  };\n\n  handleAddAccounts = () => {\n    const {\n      addAccountsAction,\n      closeModal,\n      openModal,\n      selectedAccounts,\n      existingAccounts,\n      editedNames,\n      isReonboarding,\n      accountToReonboard,\n      navigationSnapshot,\n    } = this.props;\n    const { onboardingResult } = this.state;\n\n    const { accounts, renamings } = prepareAccountsForAdding({\n      selectedAccounts,\n      existingAccounts,\n      editedNames,\n      isReonboarding,\n      accountToReonboard,\n      onboardingResult,\n    });\n\n    addAccountsAction({\n      scannedAccounts: accounts,\n      existingAccounts,\n      selectedIds: accounts.map(account => account.id),\n      renamings,\n    });\n\n    closeModal(\"MODAL_CANTON_ONBOARD_ACCOUNT\");\n\n    // After re-onboarding, restore the previous state if it exists\n    if (isReonboarding && navigationSnapshot) {\n      if (navigationSnapshot.type === \"modal\") {\n        openModal(navigationSnapshot.modalName, navigationSnapshot.modalData);\n      } else if (navigationSnapshot.type === \"transfer-proposal\") {\n        const { action, contractId } = navigationSnapshot.props;\n        navigationSnapshot.handler(contractId, action);\n      }\n    }\n  };\n\n  handleOnboardAccount = () => {\n    const { currency, device, selectedAccounts, isReonboarding, accountToReonboard } = this.props;\n    const creatableAccount = getCreatableAccount(\n      selectedAccounts,\n      isReonboarding,\n      accountToReonboard,\n    );\n\n    invariant(creatableAccount, \"creatableAccount is required\");\n    invariant(device, \"device is required\");\n    invariant(currency, \"currency is required\");\n\n    this.setState({\n      isProcessing: true,\n      onboardingStatus: OnboardStatus.PREPARE,\n      error: null,\n      isReonboarding: isReonboarding || false,\n    });\n\n    if (this.onboardingSubscription) {\n      this.onboardingSubscription.unsubscribe();\n    }\n\n    this.onboardingSubscription = this.cantonBridge\n      ?.onboardAccount(currency, device.deviceId, creatableAccount)\n      .subscribe({\n        next: (data: CantonOnboardProgress | CantonOnboardResult) => {\n          if (\"status\" in data) {\n            this.setState({ onboardingStatus: data.status });\n          }\n\n          if (\"account\" in data && \"partyId\" in data) {\n            this.setState({\n              onboardingResult: {\n                partyId: data.partyId,\n                completedAccount: data.account,\n              },\n              onboardingStatus: OnboardStatus.SUCCESS,\n              isProcessing: false,\n            });\n          }\n        },\n        complete: () => {},\n        error: (error: AxiosError) => {\n          logger.error(\"[handleOnboardAccount] failed\", error);\n          this.setState({\n            onboardingStatus: OnboardStatus.ERROR,\n            isProcessing: false,\n            error,\n          });\n        },\n      });\n  };\n\n  handleAuthorizePreapproval = () => {\n    const { onboardingResult } = this.state;\n    const { currency, device } = this.props;\n\n    invariant(onboardingResult, \"onboardingResult is required\");\n    invariant(device, \"device is required\");\n    invariant(currency, \"currency is required\");\n\n    this.setState({\n      isProcessing: true,\n      authorizeStatus: AuthorizeStatus.PREPARE,\n      error: null,\n    });\n\n    const { completedAccount, partyId } = onboardingResult;\n\n    if (this.authorizeSubscription) {\n      this.authorizeSubscription.unsubscribe();\n    }\n\n    this.authorizeSubscription = this.cantonBridge\n      ?.authorizePreapproval(currency, device.deviceId, completedAccount, partyId)\n      .subscribe({\n        next: (data: CantonAuthorizeProgress | CantonAuthorizeResult) => {\n          if (\"status\" in data) {\n            this.setState({ authorizeStatus: data.status });\n          }\n        },\n        complete: () => {\n          this.transitionTo(StepId.FINISH);\n        },\n        error: (error: AxiosError) => {\n          logger.error(\"[handleAuthorizePreapproval] failed\", error);\n          this.setState({\n            authorizeStatus: AuthorizeStatus.ERROR,\n            isProcessing: false,\n            error,\n          });\n        },\n      });\n  };\n\n  render() {\n    const {\n      currency,\n      device,\n      editedNames,\n      selectedAccounts,\n      t,\n      isReonboarding,\n      accountToReonboard,\n    } = this.props;\n    const { authorizeStatus, isProcessing, onboardingResult, onboardingStatus, stepId, error } =\n      this.state;\n\n    invariant(device, \"device is required\"); // TODO: handle device reconnection\n    invariant(currency, \"currency is required\");\n\n    const importableAccounts = getImportableAccounts(selectedAccounts);\n    const creatableAccount = getCreatableAccount(\n      selectedAccounts,\n      isReonboarding,\n      accountToReonboard,\n    );\n    const accountName = resolveCreatableAccountName(\n      creatableAccount,\n      currency,\n      editedNames,\n      importableAccounts.length,\n    );\n\n    invariant(creatableAccount, \"creatableAccount is required\");\n\n    const stepperProps: StepProps = {\n      t,\n      device,\n      currency,\n      accountName,\n      editedNames,\n      creatableAccount,\n      importableAccounts,\n      isProcessing,\n      onboardingResult,\n      onboardingStatus,\n      authorizeStatus,\n      error,\n      isReonboarding: isReonboarding || this.state.isReonboarding,\n      onAddAccounts: this.handleAddAccounts,\n      onAddMore: this.handleAddMore,\n      onAuthorizePreapproval: this.handleAuthorizePreapproval,\n      onOnboardAccount: this.handleOnboardAccount,\n      onRetryOnboardAccount: this.handleRetryOnboardAccount,\n      onRetryPreapproval: this.handleRetryPreapproval,\n      transitionTo: this.transitionTo,\n    };\n\n    return (\n      <Modal\n        centered\n        name=\"MODAL_CANTON_ONBOARD_ACCOUNT\"\n        preventBackdropClick={stepId === StepId.ONBOARD}\n        render={({ onClose }) => (\n          <Stepper\n            title={\n              <Trans\n                i18nKey={\n                  isReonboarding || this.state.isReonboarding\n                    ? \"families.canton.addAccount.reonboard.title\"\n                    : \"families.canton.addAccount.title\"\n                }\n              />\n            }\n            stepId={stepId}\n            onStepChange={this.handleStepChange}\n            onClose={onClose}\n            steps={this.STEPS}\n            noScroll={true}\n            {...stepperProps}\n          />\n        )}\n      />\n    );\n  }\n}\n\nconst m = compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  withTranslation(),\n)(OnboardModal) as React.ComponentType<UserProps>;\n\nexport default m;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/OnboardModal/steps/StepAuthorize.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/OnboardModal/steps/StepFinish.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/OnboardModal/steps/StepOnboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/OnboardModal/steps/__tests__/StepAuthorize.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/OnboardModal/steps/__tests__/StepOnboard.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/OnboardModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/PendingTransferProposals/DeviceAppModal.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/PendingTransferProposals/DeviceAppModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/PendingTransferProposals/PendingTransferProposalsDetails.test.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":38,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":77,"endColumn":33,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":38,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":77,"endColumn":16,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":80,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":91,"endColumn":33,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":80,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":91,"endColumn":16,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/PendingTransferProposals/PendingTransferProposalsDetails.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":54,"column":25,"nodeType":"TSAsExpression","messageId":"never","endLine":54,"endColumn":49}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback, useMemo } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Account } from \"@ledgerhq/types-live\";\nimport { BigNumber } from \"bignumber.js\";\nimport Box from \"~/renderer/components/Box\";\nimport Text from \"~/renderer/components/Text\";\nimport Button from \"~/renderer/components/Button\";\nimport { useAccountUnit } from \"~/renderer/hooks/useAccountUnit\";\nimport FormattedVal from \"~/renderer/components/FormattedVal\";\nimport IconCheck from \"~/renderer/icons/Check\";\nimport { CantonAccount } from \"@ledgerhq/live-common/families/canton/types\";\nimport {\n  OpDetailsSection,\n  OpDetailsTitle,\n  OpDetailsData,\n  HashContainer,\n  GradientHover,\n} from \"~/renderer/drawers/OperationDetails/styledComponents\";\nimport { SplitAddress } from \"~/renderer/components/OperationsList/AddressCell\";\nimport CopyWithFeedback from \"~/renderer/components/CopyWithFeedback\";\nimport { useTimeRemaining } from \"@ledgerhq/live-common/families/canton/react\";\nimport { dayFormat, useDateFormatter } from \"~/renderer/hooks/useDateFormatter\";\nimport type { TransferProposalAction } from \"./types\";\nimport { Divider } from \"@ledgerhq/react-ui/index\";\n\ntype PendingProposal = {\n  contract_id: string;\n  sender: string;\n  receiver: string;\n  amount: BigNumber;\n  memo: string;\n  expires_at_micros: number;\n  isExpired: boolean;\n};\n\nexport type PendingTransferProposalsDetailsProps = {\n  onClose?: () => void;\n  account: Account;\n  parentAccount: Account;\n  contractId: string;\n  onOpenModal: (contractId: string, action: TransferProposalAction) => void;\n};\n\nconst PendingTransferProposalsDetails: React.FC<PendingTransferProposalsDetailsProps> = ({\n  account,\n  contractId,\n  onClose,\n  parentAccount,\n  onOpenModal,\n}) => {\n  const { t } = useTranslation();\n  const unit = useAccountUnit(account);\n\n  const cantonAccount = account as CantonAccount;\n  const proposal = useMemo<PendingProposal | null>(() => {\n    const pendingTransferProposals = cantonAccount?.cantonResources?.pendingTransferProposals || [];\n    const found = pendingTransferProposals.find(p => p.contract_id === contractId);\n    if (!found) return null;\n\n    const now = Date.now();\n    const isExpired = now > found.expires_at_micros / 1000;\n    return {\n      ...found,\n      isExpired,\n      amount: new BigNumber(found.amount),\n    };\n  }, [cantonAccount, contractId]);\n\n  const handleAcceptOffer = useCallback(\n    (contractId: string) => {\n      onOpenModal(contractId, \"accept\");\n      // Close drawer after modal state is set\n      setTimeout(() => {\n        onClose?.();\n      }, 0);\n    },\n    [onClose, onOpenModal],\n  );\n\n  const handleRejectOffer = useCallback(\n    (contractId: string) => {\n      onOpenModal(contractId, \"reject\");\n      // Close drawer after modal state is set\n      setTimeout(() => {\n        onClose?.();\n      }, 0);\n    },\n    [onClose, onOpenModal],\n  );\n\n  const handleWithdrawOffer = useCallback(\n    (contractId: string) => {\n      onOpenModal(contractId, \"withdraw\");\n      // Close drawer after modal state is set\n      setTimeout(() => {\n        onClose?.();\n      }, 0);\n    },\n    [onClose, onOpenModal],\n  );\n\n  const formatDate = useDateFormatter(dayFormat);\n  const dateFormatted = useMemo(\n    () => formatDate(new Date(proposal?.expires_at_micros ?? 0)),\n    [proposal?.expires_at_micros, formatDate],\n  );\n  const timeRemaining = useTimeRemaining(proposal?.expires_at_micros, proposal?.isExpired);\n\n  if (!proposal) {\n    return (\n      <Box p={4}>\n        <Text>{t(\"common.notFound\")}</Text>\n      </Box>\n    );\n  }\n\n  const isIncoming = proposal.sender !== parentAccount.xpub;\n\n  return (\n    <Box flow={3} px={20} style={{ display: \"flex\", flexDirection: \"column\", minHeight: \"100%\" }}>\n      <Box mb={4}>\n        <Text ff=\"Inter|SemiBold\" fontSize={6} color=\"neutral.c100\">\n          {isIncoming\n            ? t(\"families.canton.pendingTransactions.incoming.detailsTitle\")\n            : t(\"families.canton.pendingTransactions.outgoing.detailsTitle\")}\n        </Text>\n      </Box>\n      <OpDetailsSection>\n        <OpDetailsTitle>{t(\"families.canton.pendingTransactions.amount\")}</OpDetailsTitle>\n        <OpDetailsData>\n          <Box alignItems=\"flex-end\">\n            <FormattedVal\n              val={isIncoming ? proposal.amount : proposal.amount.negated()}\n              unit={unit}\n              showCode\n              fontSize={4}\n              alwaysShowSign\n              color={isIncoming ? undefined : \"neutral.c80\"}\n            />\n          </Box>\n        </OpDetailsData>\n      </OpDetailsSection>\n\n      <OpDetailsSection>\n        <OpDetailsTitle>{t(\"families.canton.pendingTransactions.from\")}</OpDetailsTitle>\n        <OpDetailsData>\n          <HashContainer>\n            <SplitAddress value={proposal.sender} />\n          </HashContainer>\n          <GradientHover>\n            <CopyWithFeedback text={proposal.sender} />\n          </GradientHover>\n        </OpDetailsData>\n      </OpDetailsSection>\n\n      <OpDetailsSection>\n        <OpDetailsTitle>{t(\"families.canton.pendingTransactions.to\")}</OpDetailsTitle>\n        <OpDetailsData>\n          <HashContainer>\n            <SplitAddress value={proposal.receiver} />\n          </HashContainer>\n          <GradientHover>\n            <CopyWithFeedback text={proposal.receiver} />\n          </GradientHover>\n        </OpDetailsData>\n      </OpDetailsSection>\n\n      {proposal.memo && (\n        <OpDetailsSection>\n          <OpDetailsTitle>{t(\"families.canton.pendingTransactions.memo\")}</OpDetailsTitle>\n          <OpDetailsData>{proposal.memo}</OpDetailsData>\n        </OpDetailsSection>\n      )}\n\n      <OpDetailsSection>\n        <OpDetailsTitle>{t(\"families.canton.pendingTransactions.expiresAt\")}</OpDetailsTitle>\n        <OpDetailsData>{dateFormatted}</OpDetailsData>\n      </OpDetailsSection>\n\n      {!proposal.isExpired && timeRemaining && (\n        <OpDetailsSection>\n          <OpDetailsTitle>{t(\"families.canton.pendingTransactions.expiresIn\")}</OpDetailsTitle>\n          <OpDetailsData>{timeRemaining}</OpDetailsData>\n        </OpDetailsSection>\n      )}\n\n      {proposal.isExpired && (\n        <OpDetailsSection>\n          <OpDetailsTitle>{t(\"families.canton.pendingTransactions.status.label\")}</OpDetailsTitle>\n          <OpDetailsData color=\"alertRed\">\n            {t(\"families.canton.pendingTransactions.expired\")}\n          </OpDetailsData>\n        </OpDetailsSection>\n      )}\n\n      <Divider />\n\n      <OpDetailsSection>\n        <OpDetailsTitle>\n          {t(\"families.canton.pendingTransactions.deviceAppModal.contractId\")}\n        </OpDetailsTitle>\n        <OpDetailsData>\n          <HashContainer>\n            <SplitAddress value={proposal.contract_id} />\n          </HashContainer>\n          <GradientHover>\n            <CopyWithFeedback text={proposal.contract_id} />\n          </GradientHover>\n        </OpDetailsData>\n      </OpDetailsSection>\n\n      <Divider />\n\n      <Box horizontal mt=\"auto\" pb={20} flow={2} style={{ width: \"100%\" }}>\n        {isIncoming ? (\n          <>\n            <Box flex={1}>\n              <Button\n                isFull\n                disabled={proposal.isExpired}\n                onClick={() => {\n                  if (!proposal.isExpired) {\n                    handleAcceptOffer(proposal.contract_id);\n                  }\n                }}\n              >\n                <Box horizontal alignItems=\"center\" style={{ gap: \"8px\" }}>\n                  {t(\"families.canton.pendingTransactions.accept\")}\n                  <IconCheck size={16} />\n                </Box>\n              </Button>\n            </Box>\n            <Box flex={1}>\n              <Button\n                isFull\n                appearance=\"no-background\"\n                style={{ borderColor: \"neutral.c100\", borderWidth: 1 }}\n                onClick={() => handleRejectOffer(proposal.contract_id)}\n              >\n                <Box horizontal alignItems=\"center\" style={{ gap: \"8px\" }}>\n                  {t(\"families.canton.pendingTransactions.reject\")}\n                </Box>\n              </Button>\n            </Box>\n          </>\n        ) : (\n          <Box flex={1}>\n            <Button isFull onClick={() => handleWithdrawOffer(proposal.contract_id)}>\n              <Box horizontal alignItems=\"center\" style={{ gap: \"8px\" }}>\n                {t(\"common.cancel\")}\n                <IconCheck size={16} />\n              </Box>\n            </Button>\n          </Box>\n        )}\n      </Box>\n    </Box>\n  );\n};\n\nexport default PendingTransferProposalsDetails;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/PendingTransferProposals/index.test.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":29,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1316,1319],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1316,1319],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":48,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":48,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1980,1983],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1980,1983],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":76,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":76,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3095,3098],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3095,3098],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":87,"column":42,"nodeType":"TSAsExpression","messageId":"never","endLine":89,"endColumn":2,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":90,"column":27,"nodeType":"TSAsExpression","messageId":"never","endLine":90,"endColumn":85,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":91,"column":30,"nodeType":"TSAsExpression","messageId":"never","endLine":91,"endColumn":94,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":92,"column":39,"nodeType":"TSAsExpression","messageId":"never","endLine":94,"endColumn":2,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":105,"column":21,"nodeType":"TSAsExpression","messageId":"never","endLine":120,"endColumn":30,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/PendingTransferProposals/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/PendingTransferProposals/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/SendRecipientFields.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/SendRecipientFields.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":35,"column":25,"nodeType":"TSAsExpression","messageId":"never","endLine":35,"endColumn":49}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { TooManyUtxosCritical, TooManyUtxosWarning } from \"@ledgerhq/coin-canton\";\nimport { getMainAccount } from \"@ledgerhq/live-common/account/index\";\nimport {\n  CantonAccount,\n  Transaction,\n  TransactionStatus,\n} from \"@ledgerhq/live-common/families/canton/types\";\nimport { Account } from \"@ledgerhq/types-live\";\nimport React, { useEffect } from \"react\";\nimport { Trans } from \"react-i18next\";\nimport { useDispatch, useSelector } from \"LLD/hooks/redux\";\nimport { closeAllModal, openModal } from \"~/renderer/actions/modals\";\nimport Alert from \"~/renderer/components/Alert\";\nimport Box from \"~/renderer/components/Box\";\nimport { getCurrentDevice } from \"~/renderer/reducers/devices\";\nimport { modalsStateSelector } from \"~/renderer/reducers/modals\";\nimport { handleTopologyChangeError, TopologyChangeError } from \"./hooks/topologyChangeError\";\nimport CommentField from \"./CommentField\";\nimport ExpiryDurationField from \"./ExpiryDurationField\";\n\nconst Root = (props: {\n  account: Account;\n  onChange: (a: Transaction) => void;\n  status: TransactionStatus;\n  transaction: Transaction;\n  autoFocus?: boolean;\n  parentAccount?: Account | null;\n  trackProperties?: object;\n}) => {\n  const { status, account, parentAccount, transaction } = props;\n  const dispatch = useDispatch();\n  const device = useSelector(getCurrentDevice);\n  const modalsState = useSelector(modalsStateSelector);\n  const sendModalData = modalsState.MODAL_SEND?.isOpened ? modalsState.MODAL_SEND.data : undefined;\n  const cantonAccount = account as CantonAccount;\n  const mainAccount = getMainAccount(account, parentAccount);\n\n  const tooManyUtxosCritical = status?.warnings?.tooManyUtxos instanceof TooManyUtxosCritical;\n  const tooManyUtxosWarning = status?.warnings?.tooManyUtxos instanceof TooManyUtxosWarning;\n  const topologyChangeError = status?.errors?.topologyChange instanceof TopologyChangeError;\n\n  useEffect(() => {\n    if (topologyChangeError) {\n      // Create a navigation snapshot to restore the send modal after reonboarding\n      const navigationSnapshot = {\n        type: \"modal\" as const,\n        modalName: \"MODAL_SEND\" as const,\n        modalData: {\n          account,\n          parentAccount: parentAccount || undefined,\n          stepId: \"recipient\" as const,\n          transaction,\n          ...sendModalData,\n        },\n      };\n\n      handleTopologyChangeError(dispatch, {\n        accounts: [],\n        currency: account.currency,\n        device,\n        mainAccount,\n        navigationSnapshot,\n      });\n    } else if (tooManyUtxosCritical) {\n      dispatch(closeAllModal());\n      dispatch(openModal(\"MODAL_CANTON_TOO_MANY_UTXOS\", { account: cantonAccount }));\n    }\n  }, [\n    account,\n    cantonAccount,\n    device,\n    dispatch,\n    mainAccount,\n    parentAccount,\n    sendModalData,\n    tooManyUtxosCritical,\n    topologyChangeError,\n    transaction,\n  ]);\n\n  return (\n    <Box flow={1}>\n      <Box\n        mb={15}\n        horizontal\n        grow\n        alignItems=\"center\"\n        justifyContent=\"space-between\"\n        maxWidth={\"100%\"}\n        id=\"commentField\"\n      >\n        <Box grow={1} maxWidth={\"100%\"}>\n          <CommentField {...props} />\n        </Box>\n      </Box>\n      <Box mb={15}>\n        <ExpiryDurationField {...props} />\n      </Box>\n      {tooManyUtxosWarning && (\n        <Alert type=\"warning\">\n          <Trans i18nKey={status.warnings.tooManyUtxos.message} />\n        </Alert>\n      )}\n    </Box>\n  );\n};\nexport default {\n  component: Root,\n  // Transaction is used here to prevent user to forward\n  // If he format a comment incorrectly\n  fields: [\"comment\", \"transaction\"],\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/StepReceiveFunds.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":173,"column":37,"nodeType":"TSAsExpression","messageId":"never","endLine":173,"endColumn":61},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":173,"column":63,"nodeType":"TSAsExpression","messageId":"never","endLine":173,"endColumn":93}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useRef, useCallback, useState } from \"react\";\nimport { Trans } from \"react-i18next\";\nimport invariant from \"invariant\";\nimport { getMainAccount } from \"@ledgerhq/live-common/account/index\";\nimport { CantonAccount } from \"@ledgerhq/coin-canton/types\";\nimport styled from \"styled-components\";\nimport TrackPage from \"~/renderer/analytics/TrackPage\";\nimport useTheme from \"~/renderer/hooks/useTheme\";\nimport { urls } from \"~/config/urls\";\nimport { openURL } from \"~/renderer/linking\";\nimport Box from \"~/renderer/components/Box\";\nimport Button from \"~/renderer/components/Button\";\nimport ErrorDisplay from \"~/renderer/components/ErrorDisplay\";\nimport Text from \"~/renderer/components/Text\";\nimport Ellipsis from \"~/renderer/components/Ellipsis\";\nimport ReadOnlyAddressField from \"~/renderer/components/ReadOnlyAddressField\";\nimport LinkWithExternalIcon from \"~/renderer/components/LinkWithExternalIcon\";\nimport LinkShowQRCode from \"~/renderer/components/LinkShowQRCode\";\nimport SuccessDisplay from \"~/renderer/components/SuccessDisplay\";\nimport Receive2NoDevice from \"~/renderer/components/Receive2NoDevice\";\nimport { renderVerifyUnwrapped } from \"~/renderer/components/DeviceAction/rendering\";\nimport { Account } from \"@ledgerhq/types-live\";\nimport { track } from \"~/renderer/analytics/segment\";\nimport Modal from \"~/renderer/components/Modal\";\nimport ModalBody from \"~/renderer/components/Modal/ModalBody\";\nimport Alert from \"~/renderer/components/Alert\";\nimport QRCode from \"~/renderer/components/QRCode\";\nimport AccountTagDerivationMode from \"~/renderer/components/AccountTagDerivationMode\";\nimport { FeatureToggle, useFeature } from \"@ledgerhq/live-common/featureFlags/index\";\nimport { LOCAL_STORAGE_KEY_PREFIX } from \"~/renderer/modals/Receive/steps/StepReceiveStakingFlow\";\nimport { StepProps } from \"~/renderer/modals/Receive/Body\";\nimport { useAccountName } from \"~/renderer/reducers/wallet\";\nimport { UTXOAddressAlert } from \"~/renderer/components/UTXOAddressAlert\";\nimport { isUTXOCompliant } from \"@ledgerhq/live-common/currencies/helpers\";\nimport MemoTagInfo from \"LLD/features/MemoTag/components/MemoTagInfo\";\nimport { MEMO_TAG_COINS } from \"LLD/features/MemoTag/constants\";\nimport { useSelector } from \"LLD/hooks/redux\";\nimport { onboardingReceiveFlowSelector } from \"~/renderer/reducers/onboarding\";\n\nconst Separator = styled.div`\n  border-top: 1px solid #99999933;\n  margin: 50px 0;\n`;\nconst Separator2 = styled.div`\n  border-top: 1px solid #99999933;\n  margin-top: 50px;\n`;\nconst QRCodeWrapper = styled.div`\n  border: 24px solid white;\n  height: 208px;\n  width: 208px;\n  background: white;\n`;\n\nconst Receive1ShareAddress = ({\n  account,\n  name,\n  address,\n  showQRCodeModal,\n}: {\n  account: Account;\n  name: string;\n  address: string;\n  showQRCodeModal: () => void;\n}) => {\n  const { currency } = account;\n\n  const isUTXOCompliantCurrency = isUTXOCompliant(currency.family);\n  const shouldRenderMemoTagInfo = currency.family && MEMO_TAG_COINS.includes(currency.family);\n\n  return (\n    <>\n      <Box horizontal alignItems=\"center\" flow={2} mb={4}>\n        <Text\n          style={{\n            flex: 1,\n          }}\n          ff=\"Inter|SemiBold\"\n          color=\"neutral.c100\"\n          fontSize={4}\n        >\n          {name ? (\n            <Box horizontal alignItems=\"center\" flexWrap=\"wrap\">\n              <Ellipsis>\n                <Trans i18nKey=\"currentAddress.for\">\n                  {\"Address for \"}\n                  <strong>{name}</strong>\n                </Trans>\n              </Ellipsis>\n              <AccountTagDerivationMode account={account} />\n            </Box>\n          ) : (\n            <Trans i18nKey=\"currentAddress.title\" />\n          )}\n        </Text>\n        <LinkShowQRCode onClick={showQRCodeModal} address={address} />\n      </Box>\n      <ReadOnlyAddressField address={address} />\n\n      {isUTXOCompliantCurrency && (\n        <Box mt={3}>\n          <UTXOAddressAlert />\n        </Box>\n      )}\n      <FeatureToggle featureId=\"lldMemoTag\">\n        {shouldRenderMemoTagInfo && (\n          <Box mt={3}>\n            <MemoTagInfo />\n          </Box>\n        )}\n      </FeatureToggle>\n    </>\n  );\n};\nconst Receive2Device = ({ name, device }: { name: string; device: Device }) => {\n  const type = useTheme().theme;\n  return (\n    <>\n      <Box horizontal alignItems=\"center\" flow={2}>\n        <Text\n          style={{\n            flexShrink: \"unset\",\n          }}\n          ff=\"Inter|SemiBold\"\n          color=\"neutral.c100\"\n          fontSize={4}\n        >\n          <span\n            style={{\n              marginRight: 10,\n            }}\n          >\n            <Trans\n              i18nKey=\"currentAddress.messageIfUnverified\"\n              value={{\n                name,\n              }}\n            />\n          </span>\n          <LinkWithExternalIcon\n            style={{\n              display: \"inline-flex\",\n            }}\n            onClick={() => openURL(urls.recipientAddressInfo)}\n            label={<Trans i18nKey=\"common.learnMore\" />}\n          />\n        </Text>\n      </Box>\n\n      {renderVerifyUnwrapped({\n        modelId: device.modelId,\n        type,\n      })}\n    </>\n  );\n};\nconst StepReceiveFunds = ({\n  isAddressVerified,\n  account,\n  parentAccount,\n  device,\n  onClose,\n  onChangeAddressVerified,\n  transitionTo,\n  onResetSkip,\n  verifyAddressError,\n  eventType,\n  currencyName,\n  receiveTokenMode,\n  isFromPostOnboardingEntryPoint,\n}: StepProps) => {\n  const mainAccount = account\n    ? getMainAccount<CantonAccount>(account as CantonAccount, parentAccount as CantonAccount)\n    : null;\n  invariant(account && mainAccount?.xpub, \"No account given\");\n  const name = useAccountName(account);\n  const initialDevice = useRef(device);\n  const isOnboardingReceiveFlow = useSelector(onboardingReceiveFlowSelector);\n  const address = mainAccount.xpub;\n  const [modalVisible, setModalVisible] = useState(false);\n  const hideQRCodeModal = useCallback(() => setModalVisible(false), [setModalVisible]);\n  const showQRCodeModal = useCallback(() => setModalVisible(true), [setModalVisible]);\n  const onVerify = useCallback(() => {\n    // if device has changed since the beginning, we need to re-entry device\n    if (device !== initialDevice.current || !isAddressVerified) {\n      transitionTo(\"device\");\n    }\n    onChangeAddressVerified(null);\n    onResetSkip();\n  }, [device, isAddressVerified, onChangeAddressVerified, onResetSkip, transitionTo]);\n\n  const receiveStakingFlowConfig = useFeature(\"receiveStakingFlowConfigDesktop\");\n  const receivedCurrencyId: string | undefined =\n    account && account.type !== \"TokenAccount\" ? account?.currency?.id : undefined;\n  const isStakingEnabledForAccount =\n    !!receivedCurrencyId &&\n    receiveStakingFlowConfig?.enabled &&\n    receiveStakingFlowConfig?.params?.[receivedCurrencyId]?.enabled;\n  const onFinishReceiveFlow = useCallback(() => {\n    const dismissModal =\n      global.localStorage.getItem(`${LOCAL_STORAGE_KEY_PREFIX}${receivedCurrencyId}`) === \"true\";\n    if (\n      !dismissModal &&\n      !receiveTokenMode &&\n      isStakingEnabledForAccount &&\n      !isFromPostOnboardingEntryPoint &&\n      !isOnboardingReceiveFlow\n    ) {\n      track(\"button_clicked2\", {\n        button: \"continue\",\n        page: window.location.hash\n          .split(\"/\")\n          .filter(e => e !== \"#\")\n          .join(\"/\"),\n        currency: currencyName,\n        modal: \"receive\",\n        account: name,\n      });\n\n      transitionTo(\"stakingFlow\");\n    } else {\n      onClose();\n    }\n  }, [\n    receivedCurrencyId,\n    isFromPostOnboardingEntryPoint,\n    receiveTokenMode,\n    isStakingEnabledForAccount,\n    currencyName,\n    name,\n    onClose,\n    transitionTo,\n    isOnboardingReceiveFlow,\n  ]);\n  return (\n    <>\n      <Box px={2}>\n        <TrackPage\n          category={`Receive Flow${eventType ? ` (${eventType})` : \"\"}`}\n          name=\"Step 3\"\n          currencyName={currencyName}\n        />\n        {\n          verifyAddressError ? (\n            <ErrorDisplay error={verifyAddressError} onRetry={onVerify} />\n          ) : isAddressVerified === true ? (\n            // Address was confirmed on device! we display a success screen!\n\n            <Box alignItems=\"center\">\n              <SuccessDisplay\n                title={<Trans i18nKey=\"receive.successTitle\" />}\n                description={\n                  <LinkWithExternalIcon\n                    style={{\n                      display: \"inline-flex\",\n                      marginLeft: \"10px\",\n                    }}\n                    onClick={() => openURL(urls.recipientAddressInfo)}\n                    label={<Trans i18nKey=\"common.learnMore\" />}\n                  />\n                }\n              >\n                <Box flow={4} pt={4} horizontal justifyContent=\"center\">\n                  <Button event=\"Page Receive Step 3 re-verify\" outlineGrey onClick={onVerify}>\n                    <Trans i18nKey=\"common.reverify\" />\n                  </Button>\n                  <Button data-testid=\"modal-continue-button\" primary onClick={onFinishReceiveFlow}>\n                    <Trans i18nKey=\"common.done\" />\n                  </Button>\n                </Box>\n              </SuccessDisplay>\n            </Box>\n          ) : isAddressVerified === false ? (\n            // User explicitly bypass device verification (no device)\n            <>\n              <Receive1ShareAddress\n                account={mainAccount}\n                name={name}\n                address={address}\n                showQRCodeModal={showQRCodeModal}\n              />\n              {/* {CustomPostAlertReceiveFunds && <CustomPostAlertReceiveFunds {...props} />} */}\n              <Alert type=\"security\" learnMoreUrl={urls.recipientAddressInfo} mt={4}>\n                <Trans\n                  i18nKey=\"currentAddress.messageIfSkipped\"\n                  values={{\n                    name,\n                  }}\n                />\n              </Alert>\n              <Separator2 />\n              <Receive2NoDevice onVerify={onVerify} onContinue={onFinishReceiveFlow} />\n            </>\n          ) : device ? (\n            // verification with device\n            <>\n              <Receive1ShareAddress\n                account={mainAccount}\n                name={name}\n                address={address}\n                showQRCodeModal={showQRCodeModal}\n              />\n              {/* {CustomPostAlertReceiveFunds && <CustomPostAlertReceiveFunds {...props} />} */}\n              <Separator />\n              <Receive2Device device={device} name={name} />\n            </>\n          ) : null // should not happen\n        }\n      </Box>\n      <Modal isOpened={modalVisible} onClose={hideQRCodeModal} centered width={460}>\n        <ModalBody\n          onClose={hideQRCodeModal}\n          render={() => (\n            <Box alignItems=\"center\">\n              <QRCodeWrapper>\n                <QRCode size={160} data={address} />\n              </QRCodeWrapper>\n              <Box mt={6}>\n                <ReadOnlyAddressField address={address} />\n              </Box>\n            </Box>\n          )}\n        />\n      </Modal>\n    </>\n  );\n};\nexport default StepReceiveFunds;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/StepSummaryAdditionalRows.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/TooManyUtxosModal/index.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":28,"column":25,"nodeType":"TSAsExpression","messageId":"never","endLine":28,"endColumn":49}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { CantonAccount } from \"@ledgerhq/live-common/families/canton/types\";\nimport { Account } from \"@ledgerhq/types-live\";\nimport React, { useCallback } from \"react\";\nimport { Trans } from \"react-i18next\";\nimport { useDispatch } from \"LLD/hooks/redux\";\nimport { urls } from \"~/config/urls\";\nimport { closeModal } from \"~/renderer/actions/modals\";\nimport Box from \"~/renderer/components/Box\";\nimport Button from \"~/renderer/components/Button\";\nimport LinkWithExternalIcon from \"~/renderer/components/LinkWithExternalIcon\";\nimport Modal, { ModalBody } from \"~/renderer/components/Modal\";\nimport ModalFooter from \"~/renderer/components/Modal/ModalFooter\";\nimport Text from \"~/renderer/components/Text\";\nimport Error from \"~/renderer/icons/Error\";\nimport { openURL } from \"~/renderer/linking\";\nimport { useLocalizedUrl } from \"~/renderer/hooks/useLocalizedUrls\";\nimport { useOpenSendFlow } from \"LLD/features/Send/hooks/useOpenSendFlow\";\n\ntype Props = Readonly<{\n  account: Account;\n}>;\n\nconst CANTON_REASONABLE_CONSOLIDATE_MULTIPLIER = 0.4;\n\nexport default function TooManyUtxosModal({ account }: Props) {\n  const dispatch = useDispatch();\n  const learnMoreUrl = useLocalizedUrl(urls.canton.learnMore);\n  const cantonAccount = account as CantonAccount;\n  const openSendFlow = useOpenSendFlow();\n\n  const handleOpenSendFlow = useCallback(() => {\n    dispatch(closeModal(\"MODAL_CANTON_TOO_MANY_UTXOS\"));\n    openSendFlow({\n      account: cantonAccount,\n      recipient: cantonAccount.xpub,\n      amount: cantonAccount.spendableBalance.multipliedBy(CANTON_REASONABLE_CONSOLIDATE_MULTIPLIER),\n      fromMAD: false,\n    });\n  }, [dispatch, cantonAccount, openSendFlow]);\n\n  const handleLearnMore = useCallback(() => {\n    openURL(learnMoreUrl);\n  }, [learnMoreUrl]);\n\n  return (\n    <Modal\n      centered\n      name=\"MODAL_CANTON_TOO_MANY_UTXOS\"\n      render={({ onClose }) => (\n        <>\n          <ModalBody\n            onClose={onClose}\n            title=\"\"\n            render={() => (\n              <Box p={4} alignItems=\"center\" justifyContent=\"center\">\n                <Box mb={4} alignItems=\"center\">\n                  <Error size={48} color=\"orange\" />\n                </Box>\n\n                <Text\n                  ff=\"Inter|SemiBold\"\n                  fontSize={6}\n                  color=\"neutral.c100\"\n                  textAlign=\"center\"\n                  mb={3}\n                >\n                  <Trans i18nKey=\"families.canton.tooManyUtxos.title\" />\n                </Text>\n\n                <Text ff=\"Inter|Regular\" fontSize={4} color=\"neutral.c80\" textAlign=\"center\" mb={4}>\n                  <Trans i18nKey=\"families.canton.tooManyUtxos.description\" />\n                </Text>\n\n                <Text\n                  ff=\"Inter|SemiBold\"\n                  fontSize={4}\n                  color=\"neutral.c100\"\n                  textAlign=\"center\"\n                  mb={4}\n                >\n                  <Trans i18nKey=\"families.canton.tooManyUtxos.quickFix\" />\n                </Text>\n              </Box>\n            )}\n          />\n          <ModalFooter>\n            <Box pl={2}>\n              <LinkWithExternalIcon onClick={handleLearnMore}>\n                <Trans i18nKey=\"common.learnMore\" />\n              </LinkWithExternalIcon>\n            </Box>\n            <Box horizontal alignItems=\"center\" justifyContent=\"space-between\" grow></Box>\n            <Button primary onClick={handleOpenSendFlow}>\n              <Trans i18nKey=\"families.canton.tooManyUtxos.consolidate\" />\n            </Button>\n          </ModalFooter>\n        </>\n      )}\n    />\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/__tests__/testUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/hooks/topologyChangeError.test.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":10,"column":23,"nodeType":"TSAsExpression","messageId":"never","endLine":10,"endColumn":73,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":11,"column":24,"nodeType":"TSAsExpression","messageId":"never","endLine":11,"endColumn":76,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":103,"column":32,"nodeType":"TSAsExpression","messageId":"never","endLine":107,"endColumn":39,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":103,"column":32,"nodeType":"TSAsExpression","messageId":"never","endLine":107,"endColumn":17,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/hooks/topologyChangeError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/modals.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/operationDetails.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":12,"column":17,"nodeType":"TSAsExpression","messageId":"never","endLine":12,"endColumn":52}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { Trans } from \"react-i18next\";\nimport {\n  OpDetailsData,\n  OpDetailsSection,\n  OpDetailsTitle,\n} from \"~/renderer/drawers/OperationDetails/styledComponents\";\nimport { OperationDetailsExtraProps } from \"../types\";\nimport { Account, Operation } from \"@ledgerhq/types-live\";\n\nconst OperationDetailsExtra = ({ operation }: OperationDetailsExtraProps<Account, Operation>) => {\n  const memo = (operation.extra as { memo: string }).memo;\n\n  if (!memo) return null;\n\n  return (\n    <OpDetailsSection>\n      <OpDetailsTitle>\n        <Trans i18nKey={\"operationDetails.extra.memo\"} />\n      </OpDetailsTitle>\n      <OpDetailsData>{memo}</OpDetailsData>\n    </OpDetailsSection>\n  );\n};\nexport default {\n  OperationDetailsExtra,\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/canton/utils/currency.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/AccountBalanceSummaryFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/AccountBodyHeader.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/AccountHeaderManageActions.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":25,"column":32,"nodeType":"TSAsExpression","messageId":"never","endLine":25,"endColumn":61,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":30,"column":15,"nodeType":"TSAsExpression","messageId":"never","endLine":30,"endColumn":40,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":30,"column":62,"nodeType":"TSAsExpression","messageId":"never","endLine":30,"endColumn":87,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":43,"column":18,"nodeType":"TSAsExpression","messageId":"never","endLine":43,"endColumn":43,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/AccountSubHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/Delegation/ContextMenu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/Delegation/Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/Delegation/Row.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/Delegation/index.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":38,"column":32,"nodeType":"TSAsExpression","messageId":"never","endLine":38,"endColumn":57,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":56,"column":15,"nodeType":"TSAsExpression","messageId":"never","endLine":56,"endColumn":40,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":87,"column":30,"nodeType":"TSAsExpression","messageId":"never","endLine":87,"endColumn":55,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/DelegationFlowModal/Body.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":199,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":202,"endColumn":41}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import invariant from \"invariant\";\nimport React, { useState, useCallback } from \"react\";\nimport { compose } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { useDispatch } from \"LLD/hooks/redux\";\nimport { Trans, withTranslation } from \"react-i18next\";\nimport { createStructuredSelector } from \"reselect\";\nimport { SyncSkipUnderPriority } from \"@ledgerhq/live-common/bridge/react/index\";\nimport Track from \"~/renderer/analytics/Track\";\nimport { UserRefusedOnDevice } from \"@ledgerhq/errors\";\nimport { getAccountBridge } from \"@ledgerhq/live-common/bridge/index\";\nimport useBridgeTransaction from \"@ledgerhq/live-common/bridge/useBridgeTransaction\";\nimport { StepProps, St, StepId } from \"./types\";\nimport { Operation } from \"@ledgerhq/types-live\";\nimport { Device } from \"@ledgerhq/live-common/hw/actions/types\";\nimport { addPendingOperation } from \"@ledgerhq/live-common/account/index\";\nimport { updateAccountWithUpdater } from \"~/renderer/actions/accounts\";\nimport { getCurrentDevice } from \"~/renderer/reducers/devices\";\nimport { closeModal, openModal } from \"~/renderer/actions/modals\";\nimport logger from \"~/renderer/logger\";\nimport Stepper from \"~/renderer/components/Stepper\";\nimport StepDelegation, { StepDelegationFooter } from \"./steps/StepDelegation\";\nimport StepSummary, { StepSummaryFooter } from \"./steps/StepSummary\";\nimport GenericStepConnectDevice from \"~/renderer/modals/Send/steps/GenericStepConnectDevice\";\nimport StepConfirmation, { StepConfirmationFooter } from \"./steps/StepConfirmation\";\nimport { CardanoAccount } from \"@ledgerhq/live-common/families/cardano/types\";\nimport { TFunction } from \"i18next\";\nimport { StakePool } from \"@ledgerhq/live-common/families/cardano/staking\";\n\ntype OwnProps = {\n  stepId: StepId;\n  onClose: () => void;\n  onChangeStepId: (a: StepId) => void;\n  params: {\n    account: CardanoAccount;\n  };\n  name: string;\n};\n\ntype StateProps = {\n  t: TFunction;\n  accounts: CardanoAccount[];\n  device: Device | undefined | null;\n  closeModal: (a: string) => void;\n  openModal: (a: string) => void;\n};\n\ntype Props = OwnProps & StateProps;\n\nconst steps: Array<St> = [\n  {\n    id: \"validator\",\n    label: <Trans i18nKey=\"cardano.delegation.flow.steps.validator.title\" />,\n    component: StepDelegation,\n    noScroll: true,\n    footer: StepDelegationFooter,\n  },\n  {\n    id: \"summary\",\n    label: <Trans i18nKey=\"cardano.delegation.flow.steps.summary.title\" />,\n    component: StepSummary,\n    noScroll: true,\n    footer: StepSummaryFooter,\n    onBack: ({ transitionTo }: StepProps) => transitionTo(\"validator\"),\n  },\n  {\n    id: \"connectDevice\",\n    label: <Trans i18nKey=\"cardano.delegation.flow.steps.connectDevice.title\" />,\n    component: GenericStepConnectDevice,\n    onBack: ({ transitionTo }: StepProps) => transitionTo(\"summary\"),\n  },\n  {\n    id: \"confirmation\",\n    label: <Trans i18nKey=\"cardano.delegation.flow.steps.confirmation.title\" />,\n    component: StepConfirmation,\n    footer: StepConfirmationFooter,\n  },\n];\n\nconst mapStateToProps = createStructuredSelector({\n  device: getCurrentDevice,\n});\n\nconst mapDispatchToProps = {\n  closeModal,\n  openModal,\n};\nconst Body = ({\n  t,\n  stepId,\n  device,\n  closeModal,\n  openModal,\n  onChangeStepId,\n  params,\n  name,\n}: Props) => {\n  const [optimisticOperation, setOptimisticOperation] = useState<Operation | null>(null);\n  const [transactionError, setTransactionError] = useState<Error | null>(null);\n  const [signed, setSigned] = useState(false);\n  const [selectedPool, setSelectedPool] = useState<StakePool | null>(null);\n  const dispatch = useDispatch();\n  const {\n    transaction,\n    setTransaction,\n    updateTransaction,\n    account,\n    status,\n    bridgeError,\n    bridgePending,\n  } = useBridgeTransaction(() => {\n    const { account } = params;\n    invariant(\n      account && account.cardanoResources,\n      \"cardano: account and cardano resources required\",\n    );\n    const bridge = getAccountBridge(account, undefined);\n    let transaction = bridge.createTransaction(account);\n    transaction = bridge.updateTransaction(transaction, { mode: \"delegate\" });\n\n    return {\n      account,\n      transaction,\n    };\n  });\n\n  const handleCloseModal = useCallback(() => {\n    closeModal(name);\n  }, [closeModal, name]);\n  const handleStepChange = useCallback((e: St) => onChangeStepId(e.id), [onChangeStepId]);\n  const handleRetry = useCallback(() => {\n    setTransactionError(null);\n    onChangeStepId(\"validator\");\n  }, [onChangeStepId]);\n  const handleTransactionError = useCallback((error: Error) => {\n    if (!(error instanceof UserRefusedOnDevice)) {\n      logger.critical(error);\n    }\n    setTransactionError(error);\n  }, []);\n  const handleOperationBroadcasted = useCallback(\n    (optimisticOperation: Operation) => {\n      if (!account) return;\n      dispatch(\n        updateAccountWithUpdater(account.id, account =>\n          addPendingOperation(account, optimisticOperation),\n        ),\n      );\n      setOptimisticOperation(optimisticOperation);\n      setTransactionError(null);\n    },\n    [account, dispatch],\n  );\n  const error = transactionError || bridgeError || status.errors.sender;\n  const errorSteps = [];\n  if (transactionError) {\n    errorSteps.push(2);\n  } else if (bridgeError) {\n    errorSteps.push(0);\n  }\n\n  const stepperProps = {\n    title: t(\"cardano.delegation.flow.title\"),\n    device,\n    account,\n    transaction,\n    signed,\n    stepId,\n    steps,\n    errorSteps,\n    disabledSteps: [],\n    hideBreadcrumb: !!error && [\"validator\"].includes(stepId),\n    onRetry: handleRetry,\n    onStepChange: handleStepChange,\n    onClose: handleCloseModal,\n    error,\n    status,\n    optimisticOperation,\n    openModal,\n    setSigned,\n    onChangeTransaction: setTransaction,\n    onUpdateTransaction: updateTransaction,\n    onOperationBroadcasted: handleOperationBroadcasted,\n    onTransactionError: handleTransactionError,\n    t,\n    bridgePending,\n    selectedPool,\n    setSelectedPool,\n  };\n\n  return (\n    <Stepper {...stepperProps}>\n      <SyncSkipUnderPriority priority={100} />\n      <Track onUnmount event=\"CloseModalDelegation\" />\n    </Stepper>\n  );\n};\n\nconst C = compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  withTranslation(),\n)(Body) as React.ComponentType<OwnProps>;\n\nexport default C;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/DelegationFlowModal/Info/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/DelegationFlowModal/LedgerPoolIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/DelegationFlowModal/ScrollLoadingList.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has a missing dependency: 'search'. Either include it or remove the dependency array.","line":49,"column":6,"nodeType":"ArrayExpression","endLine":49,"endColumn":35,"suggestions":[{"desc":"Update the dependencies array to be: [data, scrollRef, bufferSize, search]","fix":{"range":[1407,1436],"text":"[data, scrollRef, bufferSize, search]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/DelegationFlowModal/fields/ValidatorField.test.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":78,"column":44,"nodeType":"TSAsExpression","messageId":"never","endLine":78,"endColumn":64}],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":12,"column":10,"nodeType":"TSAsExpression","messageId":"never","endLine":12,"endColumn":37,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as StakingFunctions from \"@ledgerhq/live-common/families/cardano/staking\";\nimport { CryptoCurrency } from \"@ledgerhq/types-cryptoassets\";\nimport {\n  concatUserAndLedgerPoolIds,\n  fetchAndSortPools,\n  putUserPoolAtFirstPositionInPools,\n} from \"./ValidatorField\";\nimport { StakePool } from \"@ledgerhq/live-common/families/cardano/staking\";\n\nfunction stackPool(id: string): StakePool {\n  // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n  return { poolId: id } as StakePool;\n}\n\ndescribe(\"Testing ValidatorField functions\", () => {\n  it.each([[[]], [[\"1\"]], [[\"1\", \"2\"]]])(\n    \"should return only Ledger pool ids when user has not used any pool previously\",\n    (ledgerPoolIds: string[]) => {\n      const ids = concatUserAndLedgerPoolIds(undefined, ledgerPoolIds);\n      expect(ids.length).toEqual(ledgerPoolIds.length);\n      ledgerPoolIds.forEach(id => expect(ids).toContain(id));\n    },\n  );\n\n  it.each([[[]], [[\"1\"]], [[\"1\", \"2\"]]])(\n    \"should return user last used pool and Ledger pool ids\",\n    (ledgerPoolIds: string[]) => {\n      const ids = concatUserAndLedgerPoolIds(\"3\", ledgerPoolIds);\n      expect(ids.length).toEqual(ledgerPoolIds.length + 1);\n      expect(ids).toContain(\"3\");\n      ledgerPoolIds.forEach(id => expect(ids).toContain(id));\n    },\n  );\n\n  it.each([\n    [[stackPool(\"1\")]],\n    [[stackPool(\"1\"), stackPool(\"2\")]],\n    [[stackPool(\"2\"), stackPool(\"1\")]],\n  ])(\n    \"should always put user last used pool at the first index when user pool exists\",\n    (pools: StakePool[]) => {\n      const userLastUsedPool = \"1\";\n\n      const result = putUserPoolAtFirstPositionInPools(pools, userLastUsedPool);\n      expect(result.length).toEqual(pools.length);\n      expect(result[0].poolId).toEqual(userLastUsedPool);\n      pools.forEach(pool =>\n        expect(result.some(sortedPool => sortedPool.poolId === pool.poolId)).toEqual(true),\n      );\n    },\n  );\n\n  it.each([\n    [[]],\n    [[stackPool(\"1\")]],\n    [[stackPool(\"1\"), stackPool(\"2\")]],\n    [[stackPool(\"2\"), stackPool(\"1\")]],\n  ])(\n    \"should return the same pools when user last used pool was not found\",\n    (pools: StakePool[]) => {\n      const userLastUsedPool = \"3\";\n      const result = putUserPoolAtFirstPositionInPools(pools, userLastUsedPool);\n      expect(result.length).toEqual(pools.length);\n      expect(result.every(resultPool => resultPool.poolId !== userLastUsedPool)).toEqual(true);\n      expect(\n        pools.every(pool => result.some(resultPool => resultPool.poolId === pool.poolId)),\n      ).toEqual(true);\n    },\n  );\n\n  it(\"should fetch and sort pools correctly for an user\", async () => {\n    const userLastUsedPool = \"1\";\n    const pools = [stackPool(\"2\"), stackPool(\"3\"), stackPool(\"1\")];\n    jest\n      .spyOn(StakingFunctions, \"fetchPoolDetails\")\n      .mockReturnValue(Promise.resolve({ pools: pools }));\n\n    const result = await fetchAndSortPools({} as CryptoCurrency, [\"1\", \"2\", \"3\"], userLastUsedPool);\n    expect(result).toHaveLength(3);\n    expect(result[0].poolId).toEqual(userLastUsedPool);\n    expect(\n      result.every(resultPool => pools.some(pool => pool.poolId === resultPool.poolId)),\n    ).toEqual(true);\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/DelegationFlowModal/fields/ValidatorField.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has missing dependencies: 'account.currency', 'onChangeValidator', and 'userAndLedgerPoolIds'. Either include them or remove the dependency array. If 'onChangeValidator' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":85,"column":6,"nodeType":"ArrayExpression","endLine":85,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [account.currency, onChangeValidator, userAndLedgerPoolIds]","fix":{"range":[3274,3276],"text":"[account.currency, onChangeValidator, userAndLedgerPoolIds]"}}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has missing dependencies: 'onChangeValidator', 'pools', and 'userAndLedgerPools'. Either include them or remove the dependency array. If 'onChangeValidator' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":100,"column":6,"nodeType":"ArrayExpression","endLine":100,"endColumn":22,"suggestions":[{"desc":"Update the dependencies array to be: [onChangeValidator, pools, selectedPoolId, userAndLedgerPools]","fix":{"range":[3698,3714],"text":"[onChangeValidator, pools, selectedPoolId, userAndLedgerPools]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/DelegationFlowModal/fields/ValidatorRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/DelegationFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/DelegationFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/DelegationFlowModal/steps/StepDelegation.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":40,"column":59,"nodeType":"TSAsExpression","messageId":"never","endLine":40,"endColumn":92,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":49,"column":27,"nodeType":"TSAsExpression","messageId":"never","endLine":49,"endColumn":60,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":62,"column":25,"nodeType":"TSAsExpression","messageId":"never","endLine":62,"endColumn":49,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/DelegationFlowModal/steps/StepSummary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/DelegationFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/SendRecipientFields/MemoField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/SendRecipientFields/MemoValueField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/SendRecipientFields/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/UndelegateFlowModal/Body.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":181,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":184,"endColumn":41}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import invariant from \"invariant\";\nimport React, { useState, useCallback } from \"react\";\nimport { compose } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { useDispatch } from \"LLD/hooks/redux\";\nimport { Trans, withTranslation } from \"react-i18next\";\nimport { createStructuredSelector } from \"reselect\";\nimport { SyncSkipUnderPriority } from \"@ledgerhq/live-common/bridge/react/index\";\nimport Track from \"~/renderer/analytics/Track\";\nimport { UserRefusedOnDevice } from \"@ledgerhq/errors\";\nimport { getAccountBridge } from \"@ledgerhq/live-common/bridge/index\";\nimport useBridgeTransaction from \"@ledgerhq/live-common/bridge/useBridgeTransaction\";\nimport { StepProps, St, StepId } from \"./types\";\nimport { Account, Operation } from \"@ledgerhq/types-live\";\nimport { addPendingOperation } from \"@ledgerhq/live-common/account/index\";\nimport { updateAccountWithUpdater } from \"~/renderer/actions/accounts\";\nimport { getCurrentDevice } from \"~/renderer/reducers/devices\";\nimport { closeModal, openModal } from \"~/renderer/actions/modals\";\nimport logger from \"~/renderer/logger\";\nimport Stepper from \"~/renderer/components/Stepper\";\nimport StepSummary, { StepSummaryFooter } from \"./steps/StepSummary\";\nimport GenericStepConnectDevice from \"~/renderer/modals/Send/steps/GenericStepConnectDevice\";\nimport StepConfirmation, { StepConfirmationFooter } from \"./steps/StepConfirmation\";\nimport { CardanoAccount } from \"@ledgerhq/live-common/families/cardano/types\";\nimport { TFunction } from \"i18next\";\nimport { Device } from \"@ledgerhq/types-devices\";\n\ntype OwnProps = {\n  stepId: StepId;\n  onClose: () => void;\n  onChangeStepId: (a: StepId) => void;\n  params: {\n    account: CardanoAccount;\n  };\n  name: string;\n};\ntype StateProps = {\n  t: TFunction;\n  device: Device | undefined | null;\n  accounts: Account[];\n  closeModal: (a: string) => void;\n  openModal: (a: string) => void;\n};\ntype Props = OwnProps & StateProps;\n\nconst steps: Array<St> = [\n  {\n    id: \"summary\",\n    label: <Trans i18nKey=\"cardano.unDelegation.flow.steps.summary.title\" />,\n    component: StepSummary,\n    noScroll: true,\n    footer: StepSummaryFooter,\n  },\n  {\n    id: \"connectDevice\",\n    label: <Trans i18nKey=\"cardano.unDelegation.flow.steps.connectDevice.title\" />,\n    component: GenericStepConnectDevice,\n    onBack: ({ transitionTo }: StepProps) => transitionTo(\"summary\"),\n  },\n  {\n    id: \"confirmation\",\n    label: <Trans i18nKey=\"cardano.unDelegation.flow.steps.confirmation.title\" />,\n    component: StepConfirmation,\n    footer: StepConfirmationFooter,\n  },\n];\nconst mapStateToProps = createStructuredSelector({\n  device: getCurrentDevice,\n});\nconst mapDispatchToProps = {\n  closeModal,\n  openModal,\n};\n\nconst Body = ({\n  t,\n  stepId,\n  device,\n  closeModal,\n  openModal,\n  onChangeStepId,\n  params,\n  name,\n}: Props) => {\n  const [optimisticOperation, setOptimisticOperation] = useState<Operation | null>(null);\n  const [transactionError, setTransactionError] = useState<Error | null>(null);\n  const [signed, setSigned] = useState(false);\n  const dispatch = useDispatch();\n  const {\n    transaction,\n    setTransaction,\n    updateTransaction,\n    account,\n    status,\n    bridgeError,\n    bridgePending,\n  } = useBridgeTransaction(() => {\n    const { account } = params;\n    invariant(\n      account && account.cardanoResources,\n      \"cardano: account and cardano resources required\",\n    );\n    const bridge = getAccountBridge(account, undefined);\n    const transaction = bridge.createTransaction(account);\n    const updatedTransaction = bridge.updateTransaction(transaction, {\n      mode: \"undelegate\",\n    });\n    return {\n      account,\n      transaction: updatedTransaction,\n    };\n  });\n  const handleCloseModal = useCallback(() => {\n    closeModal(name);\n  }, [closeModal, name]);\n  const handleStepChange = useCallback((e: St) => onChangeStepId(e.id), [onChangeStepId]);\n  const handleRetry = useCallback(() => {\n    setTransactionError(null);\n    onChangeStepId(\"summary\");\n  }, [onChangeStepId]);\n  const handleTransactionError = useCallback((error: Error) => {\n    if (!(error instanceof UserRefusedOnDevice)) {\n      logger.critical(error);\n    }\n    setTransactionError(error);\n  }, []);\n  const handleOperationBroadcasted = useCallback(\n    (optimisticOperation: Operation) => {\n      if (!account) return;\n      dispatch(\n        updateAccountWithUpdater(account.id, account =>\n          addPendingOperation(account, optimisticOperation),\n        ),\n      );\n      setOptimisticOperation(optimisticOperation);\n      setTransactionError(null);\n    },\n    [account, dispatch],\n  );\n  const error = transactionError || bridgeError;\n  const errorSteps = [];\n  if (transactionError) {\n    errorSteps.push(2);\n  } else if (bridgeError) {\n    errorSteps.push(0);\n  }\n  const stepperProps = {\n    title: t(\"cardano.unDelegation.flow.title\"),\n    device,\n    account,\n    transaction,\n    signed,\n    stepId,\n    steps,\n    errorSteps,\n    disabledSteps: [],\n    hideBreadcrumb: !!error && [\"summary\"].includes(stepId),\n    onRetry: handleRetry,\n    onStepChange: handleStepChange,\n    onClose: handleCloseModal,\n    error,\n    status,\n    optimisticOperation,\n    openModal,\n    setSigned,\n    onChangeTransaction: setTransaction,\n    onUpdateTransaction: updateTransaction,\n    onOperationBroadcasted: handleOperationBroadcasted,\n    onTransactionError: handleTransactionError,\n    t,\n    bridgePending,\n  };\n  return (\n    <Stepper {...stepperProps}>\n      <SyncSkipUnderPriority priority={100} />\n      <Track onUnmount event=\"CloseModalDelegation\" />\n    </Stepper>\n  );\n};\n\nconst C = compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  withTranslation(),\n)(Body) as React.ComponentType<OwnProps>;\n\nexport default C;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/UndelegateFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/UndelegateFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/UndelegateFlowModal/steps/StepSummary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/UndelegateFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/modals.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cardano/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/casper/AccountSubHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/casper/MemoField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/casper/SendAmountFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/casper/SendRecipientFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/casper/TransactionConfirmFields.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":20,"column":28,"nodeType":"TSAsExpression","messageId":"never","endLine":20,"endColumn":64}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import invariant from \"invariant\";\nimport React from \"react\";\nimport TransactionConfirmField from \"~/renderer/components/TransactionConfirm/TransactionConfirmField\";\nimport { getAccountCurrency } from \"@ledgerhq/live-common/account/index\";\nimport Box from \"~/renderer/components/Box\";\nimport FormattedVal from \"~/renderer/components/FormattedVal\";\nimport { CasperFieldComponentProps } from \"./types\";\nimport { ExtraDeviceTransactionField } from \"@ledgerhq/live-common/families/casper/types\";\nimport { useAccountUnit } from \"~/renderer/hooks/useAccountUnit\";\n\nconst CasperExtendedAmountField = ({\n  account,\n  status: { amount },\n  transaction,\n  field,\n}: CasperFieldComponentProps) => {\n  invariant(transaction.family === \"casper\", \"casper transaction\");\n  const currency = getAccountCurrency(account);\n  const unit = useAccountUnit(account);\n  const specifiedAmount = (field as ExtraDeviceTransactionField).value;\n\n  return (\n    <TransactionConfirmField label={field.label}>\n      <Box textAlign=\"right\">\n        <FormattedVal\n          color={\"neutral.c80\"}\n          disableRounding={true}\n          unit={unit}\n          val={specifiedAmount ?? amount}\n          fontSize={3}\n          inline\n          showCode\n        />\n        <Box textAlign=\"right\">\n          <FormattedVal\n            color={\"neutral.c60\"}\n            disableRounding={true}\n            unit={currency.units[1]}\n            subMagnitude={1}\n            prefix={\"(\"}\n            val={specifiedAmount ?? amount}\n            suffix={\")\"}\n            fontSize={3}\n            inline\n            showCode\n          />\n        </Box>\n      </Box>\n    </TransactionConfirmField>\n  );\n};\n\nconst fieldComponents = {\n  \"casper.extendedAmount\": CasperExtendedAmountField,\n};\n\nexport default {\n  fieldComponents,\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/casper/TransferIdField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/casper/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/casper/operationDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/casper/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/AccountBalanceSummaryFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/AccountBalanceSummaryFooter/AccountBalanceSummaryFooter.styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/AccountBalanceSummaryFooter/AccountBalanceSummaryFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/AccountBodyHeader.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/AccountBodyHeader/AccountBodyHeader.styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/AccountBodyHeader/AccountBodyHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/AccountBodyHeader/Header.styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/AccountBodyHeader/Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/AccountBodyHeader/ManageDropDown.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/AccountBodyHeader/Row.styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/AccountBodyHeader/Row.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":50,"column":28,"nodeType":"TSAsExpression","messageId":"never","endLine":50,"endColumn":55}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { formatCurrencyUnit } from \"@ledgerhq/live-common/currencies/index\";\nimport { Account } from \"@ledgerhq/types-live\";\nimport { BigNumber } from \"bignumber.js\";\nimport React, { useCallback, useMemo } from \"react\";\nimport { Trans } from \"react-i18next\";\nimport Box from \"~/renderer/components/Box/Box\";\nimport FirstLetterIcon from \"~/renderer/components/FirstLetterIcon\";\nimport CheckCircle from \"~/renderer/icons/CheckCircle\";\nimport Loader from \"~/renderer/icons/Loader\";\nimport { CeloVote } from \"@ledgerhq/live-common/families/celo/types\";\nimport { useCeloPreloadData } from \"@ledgerhq/live-common/families/celo/react\";\nimport {\n  isDefaultValidatorGroup,\n  voteStatus,\n  fallbackValidatorGroup,\n} from \"@ledgerhq/live-common/families/celo/logic\";\nimport Logo from \"~/renderer/icons/Logo\";\nimport { IconContainer } from \"~/renderer/components/Delegation/ValidatorRow\";\nimport Tooltip from \"~/renderer/components/Tooltip\";\nimport IconInfoCircle from \"~/renderer/icons/InfoCircle\";\nimport * as S from \"./Row.styles\";\nimport ManageDropDown from \"./ManageDropDown\";\nimport { ModalActions } from \"../modals\";\nimport { DropDownItemType } from \"~/renderer/components/DropDownSelector\";\nimport Discreet from \"~/renderer/components/Discreet\";\nimport { useAccountUnit } from \"~/renderer/hooks/useAccountUnit\";\nconst voteActions = (vote: CeloVote): Array<{ key: ModalActions; label: React.ReactNode }> => {\n  const actions: Array<{ key: ModalActions; label: React.ReactNode }> = [];\n  if (vote.activatable)\n    actions.push({\n      key: \"MODAL_CELO_ACTIVATE\",\n      label: <Trans i18nKey=\"celo.delegation.actions.activate\" />,\n    });\n  if (vote.revokable)\n    actions.push({\n      key: \"MODAL_CELO_REVOKE\",\n      label: <Trans i18nKey=\"celo.delegation.actions.revoke\" />,\n    });\n  return actions;\n};\ntype Props = {\n  account: Account;\n  vote: CeloVote;\n  onManageAction: (vote: CeloVote, action: ModalActions) => void;\n  onExternalLink: (vote: CeloVote) => void;\n};\nexport const Row = ({ account, vote, onManageAction, onExternalLink }: Props) => {\n  const onSelect = useCallback(\n    (action: DropDownItemType) => {\n      onManageAction(vote, action?.key as ModalActions);\n    },\n    [onManageAction, vote],\n  );\n  const onExternalLinkClick = () => onExternalLink(vote);\n  const actions = voteActions(vote);\n\n  const unit = useAccountUnit(account);\n\n  const { validatorGroups } = useCeloPreloadData();\n  const validatorGroup = useMemo(\n    () =>\n      validatorGroups.find(v => v.address === vote.validatorGroup) ||\n      fallbackValidatorGroup(vote.validatorGroup),\n    [vote, validatorGroups],\n  );\n  const status = voteStatus(vote);\n  const formatAmount = (amount: number) => {\n    return formatCurrencyUnit(unit, new BigNumber(amount), {\n      disableRounding: false,\n      alwaysShowSign: false,\n      showCode: true,\n    });\n  };\n  return (\n    <S.Wrapper>\n      <S.Column strong clickable onClick={onExternalLinkClick}>\n        <Box mr={1}>\n          <IconContainer isSR>\n            {isDefaultValidatorGroup(validatorGroup) ? (\n              <Logo size={16} />\n            ) : (\n              <FirstLetterIcon label={validatorGroup.name} />\n            )}\n          </IconContainer>\n        </Box>\n        <S.Ellipsis>{validatorGroup.name}</S.Ellipsis>\n      </S.Column>\n      <S.Column>\n        {status === \"active\" && (\n          <Box color=\"positiveGreen\">\n            <Tooltip content={<Trans i18nKey=\"celo.delegation.activeTooltip\" />}>\n              <CheckCircle size={14} />\n            </Tooltip>\n          </Box>\n        )}\n        {status === \"awaitingActivation\" && (\n          <Box color=\"orange\">\n            <Tooltip content={<Trans i18nKey=\"celo.delegation.awaitingActivationTooltip\" />}>\n              <Loader size={14} />\n            </Tooltip>\n          </Box>\n        )}\n        {status === \"pending\" && (\n          <Box color=\"grey\">\n            <Tooltip content={<Trans i18nKey=\"celo.delegation.pendingTooltip\" />}>\n              <Loader size={14} />\n            </Tooltip>\n          </Box>\n        )}\n        <Box ml={1}>\n          <Trans i18nKey={`celo.revoke.steps.vote.${status}`} />\n        </Box>\n      </S.Column>\n      <S.Column>\n        <Discreet>{formatAmount(vote.amount.toNumber() ?? 0)}</Discreet>\n      </S.Column>\n      <S.Column>\n        {actions.length > 0 && <ManageDropDown actions={actions} onSelect={onSelect} />}\n        {actions.length === 0 && (\n          <S.ManageInfoIconWrapper>\n            <Tooltip content={<Trans i18nKey={\"celo.delegation.manageMultipleVoteWarning\"} />}>\n              <IconInfoCircle />\n            </Tooltip>\n          </S.ManageInfoIconWrapper>\n        )}\n      </S.Column>\n    </S.Wrapper>\n  );\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/AccountHeaderManageActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/AccountHeaderManageActions/AccountHeaderManageActions.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":21,"column":62,"nodeType":"TSAsExpression","messageId":"never","endLine":21,"endColumn":84}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { isAccountEmpty } from \"@ledgerhq/live-common/account/index\";\nimport { isAccountRegistrationPending } from \"@ledgerhq/live-common/families/celo/logic\";\nimport { CeloAccount } from \"@ledgerhq/live-common/families/celo/types\";\nimport React, { useCallback } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useDispatch } from \"LLD/hooks/redux\";\nimport { openModal } from \"~/renderer/actions/modals\";\nimport { IconType } from \"../../types\";\nimport { CeloFamily } from \"../types\";\nimport { useGetStakeLabelLocaleBased } from \"~/renderer/hooks/useGetStakeLabelLocaleBased\";\nimport CryptoCurrencyIcon from \"~/renderer/components/CryptoCurrencyIcon\";\n\nconst AccountHeaderManageActions: CeloFamily[\"accountHeaderManageActions\"] = ({\n  account,\n  parentAccount,\n  source = \"Account Page\",\n}) => {\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n  const label = useGetStakeLabelLocaleBased();\n  const isRegistrationPending = isAccountRegistrationPending(account as CeloAccount);\n  const onClick = useCallback(() => {\n    if (isAccountEmpty(account)) {\n      dispatch(\n        openModal(\"MODAL_NO_FUNDS_STAKE\", {\n          account,\n          parentAccount,\n        }),\n      );\n    } else {\n      if (account.type === \"Account\") {\n        dispatch(\n          openModal(\"MODAL_CELO_MANAGE\", {\n            account,\n            source,\n          }),\n        );\n      }\n    }\n  }, [account, dispatch, parentAccount, source]);\n  const disabledLabel = isRegistrationPending\n    ? `${t(\"celo.manage.titleWhenPendingRegistration\")}`\n    : \"\";\n  return [\n    {\n      key: \"Stake\",\n      onClick: onClick,\n      icon: (props: IconType) => <CryptoCurrencyIcon {...props} />,\n      disabled: isRegistrationPending,\n      label,\n      tooltip: disabledLabel,\n      event: \"button_clicked2\",\n      eventProperties: {\n        button: \"stake\",\n      },\n      accountActionsTestId: \"stake-button\",\n    },\n  ];\n};\nexport default AccountHeaderManageActions;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/AccountSubHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/ActivateFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/ActivateFlowModal/components/ActivateValidatorGroupRow.styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/ActivateFlowModal/components/ActivateValidatorGroupRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/ActivateFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/ActivateFlowModal/steps/StepConfirmation.styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/ActivateFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/ActivateFlowModal/steps/StepVote.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/ActivateFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/EarnRewardsInfoModal/EarnRewardsInfoModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/LockFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/LockFlowModal/fields/AmountField.styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/LockFlowModal/fields/AmountField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/LockFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/LockFlowModal/steps/StepAmount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/LockFlowModal/steps/StepConfirmation.styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/LockFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/LockFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/ManageModal/ManageModal.styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/ManageModal/ManageModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/RevokeFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/RevokeFlowModal/components/RevokeVoteRow.styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/RevokeFlowModal/components/RevokeVoteRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/RevokeFlowModal/fields/AmountField.styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/RevokeFlowModal/fields/AmountField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/RevokeFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/RevokeFlowModal/steps/StepAmount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/RevokeFlowModal/steps/StepConfirmation.styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/RevokeFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/RevokeFlowModal/steps/StepVote.styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/RevokeFlowModal/steps/StepVote.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/RevokeFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/SimpleOperationFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/SimpleOperationFlowModal/SimpleOperationFlowModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/SimpleOperationFlowModal/steps/StepConfirmation.styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/SimpleOperationFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/SimpleOperationFlowModal/steps/StepInfo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/SimpleOperationFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/TransactionConfirmFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/UnlockFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/UnlockFlowModal/fields/AmountField.styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/UnlockFlowModal/fields/AmountField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/UnlockFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/UnlockFlowModal/steps/StepAmount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/UnlockFlowModal/steps/StepConfirmation.styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/UnlockFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/UnlockFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/VoteFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/VoteFlowModal/components/LedgerByFigmentTCLink.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/VoteFlowModal/components/ValidatorGroupRow.styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/VoteFlowModal/components/ValidatorGroupRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/VoteFlowModal/fields/ValidatorGroupsField.styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/VoteFlowModal/fields/ValidatorGroupsField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/VoteFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/VoteFlowModal/steps/StepAmount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/VoteFlowModal/steps/StepConfirmation.styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/VoteFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/VoteFlowModal/steps/StepValidatorGroup.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/VoteFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/WithdrawFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/WithdrawFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/WithdrawFlowModal/steps/StepAmount.styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/WithdrawFlowModal/steps/StepAmount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/WithdrawFlowModal/steps/StepConfirmation.styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/WithdrawFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/WithdrawFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/modals.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/operationDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/celo/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/AccountBalanceSummaryFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/AccountBodyHeader.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/AccountHeaderManageActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/ClaimRewardsFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/ClaimRewardsFlowModal/fields/DelegationSelectorField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/ClaimRewardsFlowModal/fields/ModeSelectorField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/ClaimRewardsFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/ClaimRewardsFlowModal/steps/StepClaimRewards.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":48,"column":15,"nodeType":"TSAsExpression","messageId":"never","endLine":48,"endColumn":52,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/ClaimRewardsFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/ClaimRewardsFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/Delegation/Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/Delegation/Row.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":119,"column":40,"nodeType":"TSAsExpression","messageId":"never","endLine":119,"endColumn":80}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback, useMemo } from \"react\";\nimport styled from \"styled-components\";\nimport { Trans } from \"react-i18next\";\nimport {\n  CosmosAccount,\n  CosmosMappedDelegation,\n  CosmosMappedUnbonding,\n} from \"@ledgerhq/live-common/families/cosmos/types\";\nimport {\n  canRedelegate,\n  canUndelegate,\n  getRedelegationCompletionDate,\n} from \"@ledgerhq/live-common/families/cosmos/logic\";\nimport { TableLine } from \"./Header\";\nimport DropDown, { DropDownItem } from \"~/renderer/components/DropDownSelector\";\nimport Box from \"~/renderer/components/Box/Box\";\nimport ChevronRight from \"~/renderer/icons/ChevronRight\";\nimport CheckCircle from \"~/renderer/icons/CheckCircle\";\nimport ExclamationCircleThin from \"~/renderer/icons/ExclamationCircleThin\";\nimport ToolTip from \"~/renderer/components/Tooltip\";\nimport CosmosFamilyLedgerValidatorIcon from \"~/renderer/families/cosmos/shared/components/CosmosFamilyLedgerValidatorIcon\";\nimport Text from \"~/renderer/components/Text\";\nimport { DelegationActionsModalName } from \"../modals\";\nimport Discreet from \"~/renderer/components/Discreet\";\nimport { useDateFromNow } from \"~/renderer/hooks/useDateFormatter\";\nexport const Wrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding: 16px 20px;\n`;\nexport const Column = styled(TableLine).attrs<{\n  clickable?: boolean;\n  strong?: boolean;\n}>(p => ({\n  ff: \"Inter|SemiBold\",\n  color: p.strong ? \"neutral.c100\" : \"neutral.c80\",\n  fontSize: 3,\n}))<{\n  clickable?: boolean;\n  strong?: boolean;\n}>`\n  cursor: ${p => (p.clickable ? \"pointer\" : \"cursor\")};\n  ${p =>\n    p.clickable\n      ? `\n    &:hover {\n      color: ${p.theme.colors.primary.c80};\n    }\n    `\n      : ``}\n`;\nexport const Ellipsis = styled.div`\n  flex: 1;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\nexport const Divider = styled.div`\n  width: 100%;\n  height: 1px;\n  margin-bottom: ${p => p.theme.space[1]}px;\n  background-color: ${p => p.theme.colors.neutral.c40};\n`;\nexport const ManageDropDownItem = ({\n  item,\n  isActive,\n}: {\n  item: {\n    key: string;\n    label: React.JSX.Element;\n    disabled?: boolean;\n    tooltip?: React.ReactNode;\n  };\n  isActive: boolean;\n}) => {\n  return (\n    <>\n      <ToolTip\n        content={item.tooltip}\n        containerStyle={{\n          width: \"100%\",\n        }}\n      >\n        <DropDownItem disabled={item.disabled} isActive={isActive}>\n          <Box horizontal alignItems=\"center\" justifyContent=\"center\">\n            <Text ff=\"Inter|SemiBold\">{item.label}</Text>\n          </Box>\n        </DropDownItem>\n      </ToolTip>\n    </>\n  );\n};\ntype Props = {\n  account: CosmosAccount;\n  delegation: CosmosMappedDelegation;\n  onManageAction: (address: string, action: DelegationActionsModalName) => void;\n  onExternalLink: (address: string) => void;\n  isCroAccount?: boolean;\n};\nexport function Row({\n  account,\n  delegation: {\n    validatorAddress,\n    formattedAmount,\n    pendingRewards,\n    formattedPendingRewards,\n    validator,\n    status,\n  },\n  delegation,\n  onManageAction,\n  onExternalLink,\n  isCroAccount,\n}: Props) {\n  const onSelect = useCallback(\n    (action: (typeof dropDownItems)[number]) => {\n      onManageAction(validatorAddress, action.key as DelegationActionsModalName);\n    },\n    [onManageAction, validatorAddress],\n  );\n  const _canUndelegate = !isCroAccount && canUndelegate(account);\n  const _canRedelegate = !isCroAccount && canRedelegate(account, delegation);\n  const redelegationDate = !_canRedelegate\n    ? getRedelegationCompletionDate(account, delegation)\n    : undefined;\n  const formattedRedelegationDate = useDateFromNow(redelegationDate);\n  const dropDownItems = useMemo(\n    () =>\n      [\n        {\n          key: \"MODAL_COSMOS_REDELEGATE\",\n          label: <Trans i18nKey=\"cosmos.delegation.redelegate\" />,\n          disabled: !_canRedelegate,\n          skip: isCroAccount,\n          tooltip: !_canRedelegate ? (\n            formattedRedelegationDate ? (\n              <Trans\n                i18nKey=\"cosmos.delegation.redelegateDisabledTooltip\"\n                values={{\n                  days: formattedRedelegationDate,\n                }}\n              >\n                <b></b>\n              </Trans>\n            ) : (\n              <Trans i18nKey=\"cosmos.delegation.redelegateMaxDisabledTooltip\">\n                <b></b>\n              </Trans>\n            )\n          ) : null,\n        },\n        {\n          key: \"MODAL_COSMOS_UNDELEGATE\",\n          label: <Trans i18nKey=\"cosmos.delegation.undelegate\" />,\n          disabled: !_canUndelegate,\n          skip: isCroAccount,\n          tooltip: !_canUndelegate ? (\n            <Trans i18nKey=\"cosmos.delegation.undelegateDisabledTooltip\">\n              <b></b>\n            </Trans>\n          ) : null,\n        },\n        ...(pendingRewards.gt(0)\n          ? [\n              {\n                key: \"MODAL_COSMOS_CLAIM_REWARDS\",\n                label: <Trans i18nKey=\"cosmos.delegation.reward\" />,\n              },\n            ]\n          : []),\n      ].filter(item => !item.skip),\n    [pendingRewards, _canRedelegate, _canUndelegate, formattedRedelegationDate, isCroAccount],\n  );\n  const name = validator?.name ?? validatorAddress;\n  const onExternalLinkClick = useCallback(\n    () => onExternalLink(validatorAddress),\n    [onExternalLink, validatorAddress],\n  );\n  return (\n    <Wrapper>\n      <Column strong clickable onClick={onExternalLinkClick}>\n        <Box mr={2}>\n          <CosmosFamilyLedgerValidatorIcon\n            validator={\n              validator ?? {\n                validatorAddress,\n                name: validatorAddress,\n              }\n            }\n          />\n        </Box>\n        <Ellipsis>{name}</Ellipsis>\n      </Column>\n      <Column>\n        {status === \"bonded\" ? (\n          <Box color=\"positiveGreen\" pl={2}>\n            <ToolTip content={<Trans i18nKey=\"cosmos.delegation.activeTooltip\" />}>\n              <CheckCircle size={14} />\n            </ToolTip>\n          </Box>\n        ) : (\n          <Box color=\"alertRed\" pl={2}>\n            <ToolTip content={<Trans i18nKey=\"cosmos.delegation.inactiveTooltip\" />}>\n              <ExclamationCircleThin size={14} />\n            </ToolTip>\n          </Box>\n        )}\n      </Column>\n      <Column>\n        <Discreet>{formattedAmount}</Discreet>\n      </Column>\n      <Column>\n        <Discreet>{formattedPendingRewards}</Discreet>\n      </Column>\n      <Column>\n        <DropDown\n          items={dropDownItems}\n          renderItem={({ item, isActive }) => {\n            if (item.key === \"MODAL_COSMOS_CLAIM_REWARDS\" && !isCroAccount)\n              return (\n                <>\n                  <Divider />\n                  <ManageDropDownItem item={item} isActive={isActive} />\n                </>\n              );\n            return <ManageDropDownItem item={item} isActive={isActive} />;\n          }}\n          onChange={onSelect}\n        >\n          {() => (\n            <Box flex={1} horizontal alignItems=\"center\">\n              <Trans i18nKey=\"common.manage\" />\n              <div\n                style={{\n                  transform: \"rotate(90deg)\",\n                }}\n              >\n                <ChevronRight size={16} />\n              </div>\n            </Box>\n          )}\n        </DropDown>\n      </Column>\n    </Wrapper>\n  );\n}\ntype UnbondingRowProps = {\n  delegation: CosmosMappedUnbonding;\n  onExternalLink: (address: string) => void;\n};\nexport function UnbondingRow({\n  delegation: { validator, formattedAmount, validatorAddress, completionDate },\n  onExternalLink,\n}: UnbondingRowProps) {\n  const date = useDateFromNow(completionDate) || \"N/A\";\n\n  const name = validator?.name ?? validatorAddress;\n  const onExternalLinkClick = useCallback(\n    () => onExternalLink(validatorAddress),\n    [onExternalLink, validatorAddress],\n  );\n  return (\n    <Wrapper>\n      <Column strong clickable onClick={onExternalLinkClick}>\n        <Box mr={2}>\n          <CosmosFamilyLedgerValidatorIcon\n            validator={\n              validator ?? {\n                validatorAddress,\n                name: validatorAddress,\n              }\n            }\n          />\n        </Box>\n        <Ellipsis>{name}</Ellipsis>\n      </Column>\n      <Column>\n        <Box color=\"alertRed\" pl={2}>\n          <ToolTip content={<Trans i18nKey=\"cosmos.undelegation.inactiveTooltip\" />}>\n            <ExclamationCircleThin size={14} />\n          </ToolTip>\n        </Box>\n      </Column>\n      <Column>\n        <Discreet>{formattedAmount} </Discreet>\n      </Column>\n      <Column>{date}</Column>\n    </Wrapper>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/Delegation/__tests__/Delegations.test.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":17,"column":29,"nodeType":"TSAsExpression","messageId":"never","endLine":29,"endColumn":21,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":22,"column":22,"nodeType":"TSAsExpression","messageId":"never","endLine":28,"endColumn":36,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":22,"column":22,"nodeType":"TSAsExpression","messageId":"never","endLine":28,"endColumn":17,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":37,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":37,"endColumn":43,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":53,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":53,"endColumn":43,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":69,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":69,"endColumn":43,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":74,"column":27,"nodeType":"TSAsExpression","messageId":"never","endLine":80,"endColumn":34,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":74,"column":27,"nodeType":"TSAsExpression","messageId":"never","endLine":80,"endColumn":18,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/Delegation/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/DelegationFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/DelegationFlowModal/Info/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/DelegationFlowModal/fields/ValidatorField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/DelegationFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/DelegationFlowModal/steps/StepAmount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/DelegationFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/DelegationFlowModal/steps/StepDelegation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/DelegationFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/MemoValueField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/RedelegationFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/RedelegationFlowModal/fields/RedelegationSelectorField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/RedelegationFlowModal/fields/ValidatorField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/RedelegationFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/RedelegationFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/RedelegationFlowModal/steps/StepDestinationValidators.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/RedelegationFlowModal/steps/StepStarter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/RedelegationFlowModal/steps/StepValidators.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/RedelegationFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/SendRecipientFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/TransactionConfirmFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/UndelegationFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/UndelegationFlowModal/fields/Amount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/UndelegationFlowModal/fields/Validator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/UndelegationFlowModal/fields/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/UndelegationFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/UndelegationFlowModal/steps/Amount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/UndelegationFlowModal/steps/Confirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/UndelegationFlowModal/steps/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/UndelegationFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/__tests__/AccountBalanceSummaryFooter.test.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":23,"column":21,"nodeType":"TSAsExpression","messageId":"never","endLine":32,"endColumn":23},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":29,"column":17,"nodeType":"TSAsExpression","messageId":"never","endLine":31,"endColumn":37},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":29,"column":17,"nodeType":"TSAsExpression","messageId":"never","endLine":31,"endColumn":19},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":57,"column":25,"nodeType":"TSAsExpression","messageId":"never","endLine":59,"endColumn":27},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":94,"column":22,"nodeType":"TSAsExpression","messageId":"never","endLine":94,"endColumn":65},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":94,"column":22,"nodeType":"TSAsExpression","messageId":"never","endLine":94,"endColumn":47}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { render, screen } from \"tests/testSetup\";\nimport AccountBalanceSummaryFooter from \"../AccountBalanceSummaryFooter\";\nimport { CosmosAccount } from \"@ledgerhq/live-common/families/cosmos/types\";\nimport * as config from \"@ledgerhq/live-common/config/index\";\nimport { CurrencyConfig } from \"@ledgerhq/coin-framework/config\";\nimport { CryptoCurrency } from \"@ledgerhq/types-cryptoassets\";\nimport BigNumber from \"bignumber.js\";\nimport * as currencies from \"@ledgerhq/live-common/currencies/index\";\n\njest.mock(\"~/renderer/hooks/useAccountUnit\");\njest.mock(\"@ledgerhq/live-common/currencies/index\");\n\ndescribe(\"AccountBalanceSummaryFooter\", () => {\n  describe(\"Testing disableDelegation in currency config\", () => {\n    const DELEGATE_BALANCE = BigNumber(1);\n    const DELEGATE_BALANCE_TEXT = \"balance for test: \" + DELEGATE_BALANCE;\n\n    const DELEGATE_UNBONDING_BALANCE = BigNumber(2);\n    const DELEGATE_UNBONDING_BALANCE_TEXT =\n      \"unbounding balance for test: \" + DELEGATE_UNBONDING_BALANCE;\n\n    const ACCOUNT = {\n      type: \"Account\",\n      cosmosResources: {\n        delegatedBalance: DELEGATE_BALANCE,\n        unbondingBalance: DELEGATE_UNBONDING_BALANCE,\n      },\n      currency: {\n        id: \"some random id\",\n      } as unknown as CryptoCurrency,\n    } as CosmosAccount;\n\n    beforeEach(() => {\n      jest.clearAllMocks();\n    });\n\n    it(\"should display delegated balance and unbound balance when disableDelegation flag is false and unbound balance is greater than 0\", () => {\n      mockGetCurrencyConfiguration({ disableDelegation: false });\n      mockFormatCurrencyUnit(\n        ACCOUNT.cosmosResources.delegatedBalance,\n        ACCOUNT.cosmosResources.unbondingBalance,\n      );\n\n      render(<AccountBalanceSummaryFooter account={ACCOUNT} />);\n      expect(screen.getByText(\"Delegated assets\")).toBeInTheDocument();\n      expect(screen.getByText(DELEGATE_BALANCE_TEXT)).toBeInTheDocument();\n      expect(screen.getByText(\"Undelegating\")).toBeInTheDocument();\n      expect(screen.getByText(DELEGATE_UNBONDING_BALANCE_TEXT)).toBeInTheDocument();\n    });\n\n    it.each([BigNumber(0), BigNumber(-1)])(\n      \"should display delegated balance and not display unbound balance when disableDelegation flag is false and unbound balance is less or equal to 0 (here %s)\",\n      unboundBalance => {\n        mockGetCurrencyConfiguration({ disableDelegation: false });\n\n        const account = {\n          ...ACCOUNT,\n        } as CosmosAccount;\n        account.cosmosResources.unbondingBalance = unboundBalance;\n\n        mockFormatCurrencyUnit(\n          account.cosmosResources.delegatedBalance,\n          account.cosmosResources.unbondingBalance,\n        );\n\n        render(<AccountBalanceSummaryFooter account={account} />);\n        expect(screen.getByText(\"Delegated assets\")).toBeInTheDocument();\n        expect(screen.getByText(DELEGATE_BALANCE_TEXT)).toBeInTheDocument();\n        expect(screen.queryByText(\"Undelegating\")).not.toBeInTheDocument();\n        expect(screen.queryByText(DELEGATE_UNBONDING_BALANCE_TEXT)).not.toBeInTheDocument();\n      },\n    );\n\n    it(\"should not display delegated balance and unbound balance when disableDelegation flag is true\", () => {\n      mockGetCurrencyConfiguration({ disableDelegation: true });\n      mockFormatCurrencyUnit(\n        ACCOUNT.cosmosResources.delegatedBalance,\n        ACCOUNT.cosmosResources.unbondingBalance,\n      );\n\n      render(<AccountBalanceSummaryFooter account={ACCOUNT} />);\n      expect(screen.queryByText(\"Delegated assets\")).not.toBeInTheDocument();\n      expect(screen.queryByText(DELEGATE_BALANCE_TEXT)).not.toBeInTheDocument();\n      expect(screen.queryByText(\"Undelegating\")).not.toBeInTheDocument();\n      expect(screen.queryByText(DELEGATE_UNBONDING_BALANCE_TEXT)).not.toBeInTheDocument();\n    });\n  });\n});\n\nfunction mockGetCurrencyConfiguration(currencyConfig: { disableDelegation: boolean }) {\n  jest\n    .spyOn(config, \"getCurrencyConfiguration\")\n    .mockReturnValue(currencyConfig as unknown as CurrencyConfig);\n}\n\nfunction mockFormatCurrencyUnit(delegatedBalance: BigNumber, unboundBalance: BigNumber) {\n  jest.spyOn(currencies, \"formatCurrencyUnit\").mockImplementation((_unit, value, _formatConfig) => {\n    if (delegatedBalance.eq(value)) {\n      return \"balance for test: \" + delegatedBalance.toString();\n    } else if (unboundBalance.eq(value)) {\n      return \"unbounding balance for test: \" + unboundBalance.toString();\n    }\n\n    return value?.toString();\n  });\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/modals.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/operationDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/shared/components/CosmosFamilyLedgerValidatorIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/shared/components/CosmosFamilyValidatorRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/cosmos/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/evm/AccountBodyHeader.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/evm/AccountFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/evm/AccountHeaderManageActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/evm/EditTransaction/Body.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":292,"column":13,"nodeType":"TSAsExpression","messageId":"never","endLine":292,"endColumn":40},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":336,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":339,"endColumn":41}],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has missing dependencies: 'accountFromBridge', 'mainAccount', and 'parentAccountFromBridge'. Either include them or remove the dependency array.","line":286,"column":6,"nodeType":"ArrayExpression","endLine":286,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [accountFromBridge, editType, mainAccount, parentAccountFromBridge]","fix":{"range":[9653,9663],"text":"[accountFromBridge, editType, mainAccount, parentAccountFromBridge]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import {\n  getEditTransactionStatus,\n  hasMinimumFundsToCancel,\n  hasMinimumFundsToSpeedUp,\n  isTransactionConfirmed,\n} from \"@ledgerhq/coin-evm/editTransaction/index\";\nimport { fromTransactionRaw } from \"@ledgerhq/coin-evm/transaction\";\nimport { Transaction, TransactionRaw, TransactionStatus } from \"@ledgerhq/coin-evm/types/index\";\nimport { UserRefusedOnDevice } from \"@ledgerhq/errors\";\nimport { getAccountCurrency } from \"@ledgerhq/live-common/account/helpers\";\nimport { addPendingOperation, getMainAccount } from \"@ledgerhq/live-common/account/index\";\nimport { SyncSkipUnderPriority } from \"@ledgerhq/live-common/bridge/react/index\";\nimport useBridgeTransaction from \"@ledgerhq/live-common/bridge/useBridgeTransaction\";\nimport { Device } from \"@ledgerhq/live-common/hw/actions/types\";\nimport { isOldestPendingOperation } from \"@ledgerhq/live-common/operation\";\nimport { getEnv } from \"@ledgerhq/live-env\";\nimport { Account, AccountLike, Operation } from \"@ledgerhq/types-live\";\nimport { TFunction } from \"i18next\";\nimport invariant from \"invariant\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { Trans, withTranslation } from \"react-i18next\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { updateAccountWithUpdater } from \"~/renderer/actions/accounts\";\nimport { closeModal, openModal } from \"~/renderer/actions/modals\";\nimport Stepper from \"~/renderer/components/Stepper\";\nimport logger from \"~/renderer/logger\";\nimport StepConfirmation, {\n  StepConfirmationFooter,\n} from \"~/renderer/modals/Send/steps/StepConfirmation\";\nimport StepConnectDevice from \"~/renderer/modals/Send/steps/StepConnectDevice\";\nimport StepSummary from \"~/renderer/modals/Send/steps/StepSummary\";\nimport { accountsSelector } from \"~/renderer/reducers/accounts\";\nimport { getCurrentDevice } from \"~/renderer/reducers/devices\";\nimport StepFees, { StepFeesFooter } from \"./steps/StepFees\";\nimport StepMethod, { StepMethodFooter } from \"./steps/StepMethod\";\nimport { StepSummaryFooter } from \"./steps/StepSummaryFooter\";\nimport { St, StepId, StepProps } from \"./types\";\nimport BigNumber from \"bignumber.js\";\n\ntype Params = {\n  account: AccountLike | undefined | null;\n  parentAccount: Account | undefined | null;\n  transactionRaw: TransactionRaw;\n  transactionHash: string;\n};\n\ntype OwnProps = {\n  stepId: StepId;\n  params: Params;\n  onChangeStepId: (a: StepId) => void;\n  onClose?: () => void | undefined;\n};\n\ntype StateProps = {\n  device: Device | undefined | null;\n  accounts: Account[];\n  t: TFunction;\n  closeModal: (a: string) => void;\n  openModal: (b: string, a: unknown) => void;\n  updateAccountWithUpdater: (b: string, a: (a: Account) => Account) => void;\n};\n\nexport type Props = OwnProps & StateProps;\n\n/**\n * Method used to dynamically change the title of the stepper depending on the\n * editType selected\n */\nconst getStepTitleKey = (\n  stepId: StepId,\n  editType?: StepProps[\"editType\"],\n): \"operation.edit.title\" | \"operation.edit.cancel.title\" | \"operation.edit.speedUp.title\" => {\n  if (!editType || stepId === \"method\") {\n    return \"operation.edit.title\";\n  }\n\n  return editType === \"cancel\" ? \"operation.edit.cancel.title\" : \"operation.edit.speedUp.title\";\n};\n\nconst createSteps = (): St[] => [\n  {\n    id: \"method\",\n    label: <Trans i18nKey=\"operation.edit.steps.method.title\" />,\n    component: StepMethod,\n    footer: StepMethodFooter,\n  },\n  {\n    id: \"fees\",\n    label: <Trans i18nKey=\"operation.edit.steps.fees.title\" />,\n    component: StepFees,\n    footer: StepFeesFooter,\n    onBack: ({ transitionTo }) => transitionTo(\"method\"),\n  },\n  {\n    id: \"summary\",\n    label: <Trans i18nKey=\"operation.edit.steps.summary.title\" />,\n    component: StepSummary,\n    footer: StepSummaryFooter,\n    onBack: ({ transitionTo }) => transitionTo(\"fees\"),\n  },\n  {\n    id: \"device\",\n    label: <Trans i18nKey=\"operation.edit.steps.device.title\" />,\n    component: StepConnectDevice,\n    onBack: ({ transitionTo }) => transitionTo(\"summary\"),\n  },\n  {\n    id: \"confirmation\",\n    label: <Trans i18nKey=\"operation.edit.steps.confirmation.title\" />,\n    excludeFromBreadcrumb: true,\n    component: StepConfirmation,\n    footer: StepConfirmationFooter,\n    onBack: null,\n  },\n];\n\nconst mapStateToProps = createStructuredSelector({\n  device: getCurrentDevice,\n  accounts: accountsSelector,\n});\n\nconst mapDispatchToProps = {\n  closeModal,\n  openModal,\n  updateAccountWithUpdater,\n};\n\nconst Body = ({\n  device,\n  stepId,\n  params,\n  accounts,\n  t,\n  openModal,\n  closeModal,\n  onChangeStepId,\n  onClose,\n  updateAccountWithUpdater,\n}: Props) => {\n  const [steps] = useState(() => createSteps());\n  const [transactionHasBeenValidated, setTransactionHasBeenValidated] = useState(false);\n\n  const transactionToUpdate = fromTransactionRaw(params.transactionRaw);\n\n  const {\n    transaction,\n    setTransaction,\n    updateTransaction,\n    account: accountFromBridge,\n    parentAccount: parentAccountFromBridge,\n    status,\n    bridgeError,\n    bridgePending,\n  } = useBridgeTransaction<Transaction>(() => {\n    const parentAccount = params?.parentAccount;\n    const account = params?.account || accounts[0];\n    return {\n      account,\n      parentAccount,\n      transaction: transactionToUpdate,\n    };\n  });\n\n  const [optimisticOperation, setOptimisticOperation] = useState<Operation | null>(null);\n  const [transactionError, setTransactionError] = useState<Error | null>(null);\n  const [signed, setSigned] = useState(false);\n\n  const [account, setAccount] = useState<AccountLike | null | undefined>(accountFromBridge);\n  const [parentAccount, setParentAccount] = useState<Account | null | undefined>(\n    parentAccountFromBridge,\n  );\n\n  invariant(account, \"account required\");\n  invariant(transactionToUpdate, \"transactionToUpdate required\");\n  invariant(transaction, \"original transaction required\");\n  invariant(status, \"transaction status required\");\n\n  const currencyName = getAccountCurrency(account).name;\n\n  const handleCloseModal = useCallback(() => {\n    closeModal(\"MODAL_EVM_EDIT_TRANSACTION\");\n  }, [closeModal]);\n\n  const handleRetry = useCallback(() => {\n    setTransactionError(null);\n    setOptimisticOperation(null);\n    setSigned(false);\n  }, []);\n\n  const handleTransactionError = useCallback((error: Error) => {\n    if (!(error instanceof UserRefusedOnDevice)) {\n      logger.critical(error);\n    }\n    setTransactionError(error);\n  }, []);\n\n  const handleOperationBroadcasted = useCallback(\n    (optimisticOperation: Operation) => {\n      const mainAccount = getMainAccount(account, parentAccount);\n      updateAccountWithUpdater(mainAccount.id, account =>\n        addPendingOperation(account, optimisticOperation),\n      );\n      setOptimisticOperation(optimisticOperation);\n      setTransactionError(null);\n    },\n    [account, parentAccount, updateAccountWithUpdater],\n  );\n\n  const handleStepChange = useCallback((step: St) => onChangeStepId(step.id), [onChangeStepId]);\n  const error = transactionError || bridgeError;\n  const mainAccount = getMainAccount(account, parentAccount);\n\n  useEffect(() => {\n    const setTransactionHasBeenValidatedCallback = async () => {\n      const hasBeenConfirmed = await isTransactionConfirmed({\n        currency: mainAccount.currency,\n        hash: params.transactionHash,\n      });\n      if (hasBeenConfirmed) {\n        // stop polling as soon as we have a confirmation\n        clearInterval(intervalId);\n        setTransactionHasBeenValidated(true);\n      }\n    };\n\n    setTransactionHasBeenValidatedCallback();\n    const intervalId = window.setInterval(\n      () => setTransactionHasBeenValidatedCallback(),\n      mainAccount.currency.blockAvgTime\n        ? mainAccount.currency.blockAvgTime * 1000\n        : getEnv(\"DEFAULT_TRANSACTION_POLLING_INTERVAL\"),\n    );\n\n    return () => {\n      clearInterval(intervalId);\n    };\n  }, [mainAccount.currency, params.transactionHash]);\n\n  const haveFundToCancel = hasMinimumFundsToCancel({ transactionToUpdate, mainAccount });\n  const haveFundToSpeedup = hasMinimumFundsToSpeedUp({ transactionToUpdate, mainAccount, account });\n\n  // if we are at this step (i.e: in this screen) it means the transaction is editable\n  const isOldestEditableOperation = isOldestPendingOperation(\n    mainAccount,\n    new BigNumber(transactionToUpdate.nonce),\n  );\n\n  const [editType, setEditType] = useState<StepProps[\"editType\"]>(\n    isOldestEditableOperation && haveFundToSpeedup\n      ? \"speedup\"\n      : haveFundToCancel\n        ? \"cancel\"\n        : undefined,\n  );\n  const handleSetEditType: StepProps[\"setEditType\"] = useCallback(\n    editType => setEditType(editType),\n    [],\n  );\n\n  /**\n   * In order to display the relevant informations in the summary step, regarding\n   * account and currency, depending on the editType selected,\n   * we need to update the account and parentAccount provided to the StepSummary\n   * component.\n   * - When we do a speedup, the acount is the same as the one used in the transaction\n   * (wether it's an Account or TokenAccount)\n   * - When we do a cancel, the account used is always the mainAccount, since a cancel\n   * is sending 0 COIN_CURRENCY (for example ETH for ethereum) to yourself\n   */\n  useEffect(() => {\n    if (editType === \"speedup\") {\n      setAccount(accountFromBridge);\n      setParentAccount(parentAccountFromBridge);\n      return;\n    }\n\n    if (editType === \"cancel\") {\n      setAccount(mainAccount);\n      setParentAccount(undefined);\n      return;\n    }\n    // We only want to update the account and parentAccount when the editType changes\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editType]);\n\n  const updatedStatus = getEditTransactionStatus({\n    editType,\n    transaction,\n    transactionToUpdate,\n    status: status as TransactionStatus,\n  });\n\n  const stepperProps = {\n    title: t(getStepTitleKey(stepId, editType)),\n    stepId,\n    steps,\n    device,\n    account,\n    parentAccount,\n    transaction,\n    signed,\n    currencyName,\n    hideBreadcrumb: false,\n    error,\n    status: updatedStatus,\n    bridgePending,\n    optimisticOperation,\n    editType,\n    transactionHasBeenValidated,\n    haveFundToSpeedup,\n    haveFundToCancel,\n    isOldestEditableOperation,\n    transactionToUpdate,\n    openModal,\n    onClose,\n    setSigned,\n    closeModal: handleCloseModal,\n    onChangeTransaction: setTransaction,\n    onRetry: handleRetry,\n    onStepChange: handleStepChange,\n    onOperationBroadcasted: handleOperationBroadcasted,\n    onTransactionError: handleTransactionError,\n    updateTransaction,\n    setEditType: handleSetEditType,\n  };\n\n  return (\n    <Stepper {...stepperProps}>\n      {stepId === \"confirmation\" ? null : <SyncSkipUnderPriority priority={100} />}\n    </Stepper>\n  );\n};\n\nconst ModalBody = compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  withTranslation(),\n)(Body) as React.ComponentType<OwnProps>;\n\nexport default ModalBody;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/evm/EditTransaction/EditStuckTransactionPanelBodyHeader.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":22,"column":44,"nodeType":"TSAsExpression","messageId":"never","endLine":22,"endColumn":87}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { getMainAccount } from \"@ledgerhq/live-common/account/index\";\nimport { useFeature } from \"@ledgerhq/live-common/featureFlags/index\";\nimport { getStuckAccountAndOperation } from \"@ledgerhq/live-common/operation\";\nimport { CryptoCurrencyId } from \"@ledgerhq/types-cryptoassets\";\nimport { Account, AccountLike } from \"@ledgerhq/types-live\";\nimport invariant from \"invariant\";\nimport React, { memo } from \"react\";\nimport Box from \"~/renderer/components/Box\";\nimport EditOperationPanel from \"~/renderer/components/OperationsList/EditOperationPanel\";\n\ntype Props = {\n  account: AccountLike;\n  parentAccount: Account | undefined | null;\n};\n\nconst EditStuckTransactionPanelBodyHeader = ({ account, parentAccount }: Props) => {\n  invariant(account, \"account required\");\n\n  const mainAccount = getMainAccount(account, parentAccount);\n  const { enabled: isEditEvmTxEnabled, params } = useFeature(\"editEvmTx\") ?? {};\n  const isCurrencySupported =\n    params?.supportedCurrencyIds?.includes(mainAccount.currency.id as CryptoCurrencyId) || false;\n\n  if (!isEditEvmTxEnabled || !isCurrencySupported) {\n    return null;\n  }\n  // check if there is a stuck transaction. If so, display a warning panel with \"speed up or cancel\" button\n  const stuckAccountAndOperation = getStuckAccountAndOperation(account, parentAccount);\n\n  if (!stuckAccountAndOperation) {\n    return null;\n  }\n\n  return (\n    <Box>\n      <EditOperationPanel\n        operation={stuckAccountAndOperation.operation}\n        account={stuckAccountAndOperation.account}\n        parentAccount={stuckAccountAndOperation.parentAccount}\n      />\n    </Box>\n  );\n};\n\nexport default memo<Props>(EditStuckTransactionPanelBodyHeader);\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/evm/EditTransaction/Modal.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":44,"column":31,"nodeType":"TSAsExpression","messageId":"never","endLine":44,"endColumn":63}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { TransactionRaw } from \"@ledgerhq/coin-evm/types/index\";\nimport { DomainServiceProvider } from \"@ledgerhq/domain-service/hooks/index\";\nimport { Account, AccountLike, TransactionCommonRaw } from \"@ledgerhq/types-live\";\nimport React, { memo, useCallback, useState } from \"react\";\nimport Modal from \"~/renderer/components/Modal\";\nimport Body, { Props as BodyProps } from \"./Body\";\nimport { StepId } from \"./types\";\n\nexport type EditTransactionModalProps = {\n  account: AccountLike | undefined | null;\n  parentAccount: Account | undefined | null;\n  transactionRaw: TransactionCommonRaw;\n  transactionHash: string;\n};\n\nconst EditTransactionModalComponent = ({\n  account,\n  parentAccount,\n  transactionRaw,\n  transactionHash,\n}: EditTransactionModalProps) => {\n  const [stepId, setStepId] = useState<StepId>(\"method\");\n  const handleReset = useCallback(() => setStepId(\"method\"), []);\n  const handleStepChange: BodyProps[\"onChangeStepId\"] = useCallback(\n    stepId => setStepId(stepId),\n    [],\n  );\n\n  return (\n    <DomainServiceProvider>\n      <Modal\n        name=\"MODAL_EVM_EDIT_TRANSACTION\"\n        centered\n        preventBackdropClick={true}\n        onHide={handleReset}\n        render={({ onClose }) => (\n          <Body\n            stepId={stepId}\n            onChangeStepId={handleStepChange}\n            onClose={onClose}\n            params={{\n              account: account,\n              parentAccount: parentAccount,\n              transactionRaw: transactionRaw as TransactionRaw,\n              transactionHash: transactionHash,\n            }}\n          />\n        )}\n      />\n    </DomainServiceProvider>\n  );\n};\n\nexport const EditTransactionModal = memo<EditTransactionModalProps>(EditTransactionModalComponent);\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/evm/EditTransaction/components/TransactionErrorBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/evm/EditTransaction/steps/StepFees.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/evm/EditTransaction/steps/StepMethod.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/evm/EditTransaction/steps/StepSummaryFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/evm/EditTransaction/types.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":42,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":42,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1677,1680],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1677,1680],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/evm/SendAmountFields/GasLimitField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/evm/SendAmountFields/GasPriceField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/evm/SendAmountFields/MaxFeeField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/evm/SendAmountFields/PriorityFeeField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/evm/SendAmountFields/SelectFeeStrategy.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/evm/SendAmountFields/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/evm/StakeFlowModal/EthStakingModalBody.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/evm/StakeFlowModal/component/ProviderItem.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/evm/StakeFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/evm/StakeFlowModal/styles.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/evm/StakeFlowModal/utils/getTrackProperties.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/evm/StepSummaryNetworkFeesRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/evm/TransactionConfirmFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/evm/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/evm/modals.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/evm/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/filecoin/AccountSubHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/filecoin/TransactionConfirmFields.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":19,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":19,"endColumn":47}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport TransactionConfirmField from \"~/renderer/components/TransactionConfirm/TransactionConfirmField\";\nimport Text from \"~/renderer/components/Text\";\nimport { Transaction } from \"@ledgerhq/live-common/families/filecoin/types\";\nimport { DeviceTransactionField } from \"@ledgerhq/live-common/transaction/index\";\nimport { ExtraDeviceTransactionField } from \"@ledgerhq/coin-filecoin/deviceTransactionConfig\";\n\nconst FilecoinField = ({ field }: { transaction: Transaction; field: DeviceTransactionField }) => {\n  return (\n    <TransactionConfirmField label={field.label}>\n      <Text\n        style={{ wordBreak: \"break-all\", maxWidth: \"70%\" }}\n        textAlign=\"right\"\n        ml={1}\n        ff=\"Inter|Medium\"\n        color=\"neutral.c80\"\n        fontSize={3}\n      >\n        {(field as ExtraDeviceTransactionField)?.value || \"\"}\n      </Text>\n    </TransactionConfirmField>\n  );\n};\nconst fieldComponents = {\n  \"filecoin.gasFeeCap\": FilecoinField,\n  \"filecoin.gasPremium\": FilecoinField,\n  \"filecoin.gasLimit\": FilecoinField,\n  \"filecoin.method\": FilecoinField,\n  \"filecoin.recipient\": FilecoinField,\n};\nexport default {\n  fieldComponents,\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/filecoin/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/AccountBalanceSummaryFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/AccountBodyHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/AccountHeaderManageActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/AccountSubHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/ClaimRewardsFlowModal/Body.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":180,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":183,"endColumn":41}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { TFunction } from \"i18next\";\nimport React, { useState, useCallback } from \"react\";\nimport { compose } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { useDispatch } from \"LLD/hooks/redux\";\nimport { Trans, withTranslation } from \"react-i18next\";\nimport { createStructuredSelector } from \"reselect\";\nimport { SyncSkipUnderPriority } from \"@ledgerhq/live-common/bridge/react/index\";\nimport { UserRefusedOnDevice } from \"@ledgerhq/errors\";\nimport { getAccountBridge } from \"@ledgerhq/live-common/bridge/index\";\nimport useBridgeTransaction from \"@ledgerhq/live-common/bridge/useBridgeTransaction\";\nimport type { Account, Operation } from \"@ledgerhq/types-live\";\nimport { addPendingOperation } from \"@ledgerhq/live-common/account/index\";\nimport { HEDERA_TRANSACTION_MODES } from \"@ledgerhq/live-common/families/hedera/constants\";\nimport type { HederaAccount } from \"@ledgerhq/live-common/families/hedera/types\";\nimport type { Device } from \"@ledgerhq/types-devices\";\nimport Track from \"~/renderer/analytics/Track\";\nimport { updateAccountWithUpdater } from \"~/renderer/actions/accounts\";\nimport { getCurrentDevice } from \"~/renderer/reducers/devices\";\nimport { OpenModal, closeModal, openModal } from \"~/renderer/actions/modals\";\nimport logger from \"~/renderer/logger\";\nimport Stepper from \"~/renderer/components/Stepper\";\nimport GenericStepConnectDevice from \"~/renderer/modals/Send/steps/GenericStepConnectDevice\";\nimport StepRewards, { StepRewardsFooter } from \"./steps/StepRewards\";\nimport StepConfirmation, { StepConfirmationFooter } from \"./steps/StepConfirmation\";\nimport type { StepProps, St, StepId } from \"./types\";\n\nexport type Data = {\n  account: HederaAccount;\n  source?: string;\n};\n\ntype OwnProps = {\n  stepId: StepId;\n  onClose: () => void;\n  onChangeStepId: (a: StepId) => void;\n  params: Data;\n};\n\ntype StateProps = {\n  t: TFunction;\n  device: Device | undefined | null;\n  accounts: Account[];\n  closeModal: () => void;\n  openModal: OpenModal;\n};\n\ntype Props = OwnProps & StateProps;\n\nconst steps: Array<St> = [\n  {\n    id: \"rewards\",\n    label: <Trans i18nKey=\"hedera.claimRewards.flow.steps.rewards.title\" />,\n    component: StepRewards,\n    noScroll: true,\n    footer: StepRewardsFooter,\n  },\n  {\n    id: \"connectDevice\",\n    label: <Trans i18nKey=\"hedera.claimRewards.flow.steps.connectDevice.title\" />,\n    component: GenericStepConnectDevice,\n    onBack: ({ transitionTo }: StepProps) => transitionTo(\"rewards\"),\n  },\n  {\n    id: \"confirmation\",\n    label: <Trans i18nKey=\"hedera.claimRewards.flow.steps.confirmation.title\" />,\n    component: StepConfirmation,\n    footer: StepConfirmationFooter,\n  },\n];\n\nconst mapStateToProps = createStructuredSelector({\n  device: getCurrentDevice,\n});\n\nconst mapDispatchToProps = {\n  closeModal,\n  openModal,\n};\n\nconst Body = ({ t, stepId, device, onClose, openModal, onChangeStepId, params }: Props) => {\n  const { account, source = \"Account Page\" } = params;\n  const [optimisticOperation, setOptimisticOperation] = useState<Operation | null>(null);\n  const [transactionError, setTransactionError] = useState<Error | null>(null);\n  const [signed, setSigned] = useState(false);\n  const dispatch = useDispatch();\n  const { transaction, setTransaction, updateTransaction, status, bridgeError, bridgePending } =\n    useBridgeTransaction(() => {\n      const bridge = getAccountBridge(account);\n      const t = bridge.createTransaction(account);\n\n      const transaction = bridge.updateTransaction(t, {\n        mode: HEDERA_TRANSACTION_MODES.ClaimRewards,\n      });\n\n      return {\n        account,\n        parentAccount: undefined,\n        transaction,\n      };\n    });\n\n  const handleStepChange = useCallback(\n    (e: St) => {\n      onChangeStepId(e.id);\n    },\n    [onChangeStepId],\n  );\n\n  const handleRetry = useCallback(() => {\n    setTransactionError(null);\n    onChangeStepId(\"rewards\");\n  }, [onChangeStepId]);\n\n  const handleTransactionError = useCallback((error: Error) => {\n    if (!(error instanceof UserRefusedOnDevice)) {\n      logger.critical(error);\n    }\n    setTransactionError(error);\n  }, []);\n\n  const handleOperationBroadcasted = useCallback(\n    (optimisticOperation: Operation) => {\n      if (!account) return;\n      dispatch(\n        updateAccountWithUpdater(account.id, account =>\n          addPendingOperation(account, optimisticOperation),\n        ),\n      );\n      setOptimisticOperation(optimisticOperation);\n      setTransactionError(null);\n    },\n    [account, dispatch],\n  );\n\n  const error = transactionError || bridgeError;\n  const errorSteps = [];\n  if (transactionError) {\n    errorSteps.push(2);\n  } else if (bridgeError) {\n    errorSteps.push(0);\n  }\n\n  const stepperProps = {\n    title: t(\"hedera.claimRewards.flow.title\"),\n    device,\n    account,\n    transaction,\n    signed,\n    stepId,\n    steps,\n    errorSteps,\n    disabledSteps: [],\n    hideBreadcrumb: !!error && [\"rewards\"].includes(stepId),\n    onRetry: handleRetry,\n    onStepChange: handleStepChange,\n    onClose,\n    error,\n    status,\n    optimisticOperation,\n    openModal,\n    setSigned,\n    onChangeTransaction: setTransaction,\n    onUpdateTransaction: updateTransaction,\n    onOperationBroadcasted: handleOperationBroadcasted,\n    onTransactionError: handleTransactionError,\n    t,\n    bridgePending,\n    source,\n  };\n\n  return (\n    <Stepper {...stepperProps}>\n      <SyncSkipUnderPriority priority={100} />\n      <Track onUnmount event=\"CloseModalClaimRewards\" />\n    </Stepper>\n  );\n};\n\nconst C = compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  withTranslation(),\n)(Body) as React.ComponentType<OwnProps>;\n\nexport default C;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/ClaimRewardsFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/ClaimRewardsFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/ClaimRewardsFlowModal/steps/StepRewards.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/ClaimRewardsFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/DelegatedPositions/DelegationPlaceholder.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/DelegatedPositions/Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/DelegatedPositions/Row.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/DelegatedPositions/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/DelegationFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/DelegationFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/DelegationFlowModal/steps/StepAmount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/DelegationFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/DelegationFlowModal/steps/StepValidator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/DelegationFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/MemoField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/NoAssociatedAccounts.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/OperationDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/ReceiveWithAssociationModal/Body.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":374,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":377,"endColumn":41}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useCallback, useEffect } from \"react\";\nimport { compose } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { useDispatch } from \"LLD/hooks/redux\";\nimport { Trans, withTranslation } from \"react-i18next\";\nimport { createStructuredSelector } from \"reselect\";\nimport invariant from \"invariant\";\nimport { SyncSkipUnderPriority } from \"@ledgerhq/live-common/bridge/react/index\";\nimport useBridgeTransaction from \"@ledgerhq/live-common/bridge/useBridgeTransaction\";\nimport { getAccountBridge } from \"@ledgerhq/live-common/bridge/index\";\nimport { HEDERA_TRANSACTION_MODES } from \"@ledgerhq/live-common/families/hedera/constants\";\nimport type { Transaction } from \"@ledgerhq/live-common/families/hedera/types\";\nimport { isTokenAssociationRequired } from \"@ledgerhq/live-common/families/hedera/utils\";\nimport { UserRefusedOnDevice } from \"@ledgerhq/errors\";\nimport type { Account, Operation, TokenAccount } from \"@ledgerhq/types-live\";\nimport type { TokenCurrency } from \"@ledgerhq/types-cryptoassets\";\nimport { getAccountCurrency, getMainAccount } from \"@ledgerhq/live-common/account/helpers\";\nimport Track from \"~/renderer/analytics/Track\";\nimport { getCurrentDevice } from \"~/renderer/reducers/devices\";\nimport { accountsSelector } from \"~/renderer/reducers/accounts\";\nimport { closeModal } from \"~/renderer/actions/modals\";\nimport Stepper, { Step } from \"~/renderer/components/Stepper\";\nimport StepConnectDevice, {\n  StepConnectDeviceFooter,\n} from \"~/renderer/modals/Receive/steps/StepConnectDevice\";\nimport StepWarning, { StepWarningFooter } from \"~/renderer/modals/Receive/steps/StepWarning\";\nimport StepReceiveFunds from \"~/renderer/modals/Receive/steps/StepReceiveFunds\";\nimport StepReceiveStakingFlow, {\n  StepReceiveStakingFooter,\n} from \"~/renderer/modals/Receive/steps/StepReceiveStakingFlow\";\nimport { updateAccountWithUpdater } from \"~/renderer/actions/accounts\";\nimport { addPendingOperation } from \"@ledgerhq/coin-framework/account/pending\";\nimport logger from \"~/renderer/logger\";\nimport StepAccount from \"~/renderer/modals/Receive/steps/StepAccount\";\nimport type {\n  OwnProps as DefaultOwnProps,\n  StateProps as DefaultStateProps,\n} from \"~/renderer/modals/Receive/Body\";\nimport StepAssociationConfirmation, {\n  StepAssociationConfirmationFooter,\n} from \"./steps/StepAssociationConfirmation\";\nimport { StepAccountFooter } from \"./steps/StepAccountFooter\";\nimport StepAssociationDevice from \"./steps/StepAssociationDevice\";\nimport type { StepId, StepProps } from \"./types\";\n\ntype OwnProps = Omit<DefaultOwnProps, \"stepId\" | \"onChangeStepId\"> & {\n  stepId: StepId;\n  onChangeStepId: (stepId: StepId) => void;\n};\n\ntype StateProps = DefaultStateProps;\n\ntype Props = OwnProps & StateProps;\n\ntype St = Step<StepId, StepProps>;\n\nconst createSteps = (isAssociationFlow: boolean): Array<St> => [\n  {\n    id: \"warning\",\n    excludeFromBreadcrumb: true,\n    component: StepWarning,\n    footer: StepWarningFooter,\n  },\n  {\n    id: \"account\",\n    label: <Trans i18nKey=\"receive.steps.chooseAccount.title\" />,\n    component: StepAccount,\n    noScroll: true,\n    footer: StepAccountFooter,\n  },\n  {\n    id: \"device\",\n    label: <Trans i18nKey=\"receive.steps.connectDevice.title\" />,\n    excludeFromBreadcrumb: isAssociationFlow,\n    component: StepConnectDevice,\n    footer: StepConnectDeviceFooter,\n    onBack: ({ transitionTo }: StepProps) => transitionTo(\"account\"),\n  },\n  {\n    id: \"receive\",\n    label: <Trans i18nKey=\"receive.steps.receiveFunds.title\" />,\n    excludeFromBreadcrumb: isAssociationFlow,\n    component: StepReceiveFunds,\n  },\n  {\n    id: \"associationDevice\",\n    label: <Trans i18nKey=\"receive.steps.connectDevice.title\" />,\n    excludeFromBreadcrumb: !isAssociationFlow,\n    component: StepAssociationDevice,\n    onBack: ({ transitionTo }: StepProps) => transitionTo(\"account\"),\n  },\n  {\n    id: \"associationConfirmation\",\n    label: (\n      <Trans i18nKey=\"hedera.receiveWithAssociation.steps.associationConfirmation.breadcrumbTitle\" />\n    ),\n    excludeFromBreadcrumb: !isAssociationFlow,\n    component: StepAssociationConfirmation,\n    footer: StepAssociationConfirmationFooter,\n  },\n  {\n    id: \"stakingFlow\",\n    excludeFromBreadcrumb: true,\n    component: StepReceiveStakingFlow,\n    footer: StepReceiveStakingFooter,\n  },\n];\n\nconst mapStateToProps = createStructuredSelector({\n  device: getCurrentDevice,\n  accounts: accountsSelector,\n});\n\nconst mapDispatchToProps = {\n  closeModal,\n};\n\nconst Body = ({\n  t,\n  stepId,\n  device,\n  accounts,\n  closeModal,\n  onChangeStepId,\n  isAddressVerified,\n  verifyAddressError,\n  onChangeAddressVerified,\n  params,\n}: Props) => {\n  const [optimisticOperation, setOptimisticOperation] = useState<Operation | null>(null);\n  const [transactionError, setTransactionError] = useState<Error | null>(null);\n  const [signed, setSigned] = useState(false);\n  const [account, setAccount] = useState(() => params?.account || accounts[0]);\n  const [parentAccount, setParentAccount] = useState(() => params?.parentAccount);\n  const [disabledSteps, setDisabledSteps] = useState<number[]>([]);\n  const [token, setToken] = useState<TokenCurrency | null>(null);\n  const [hideBreadcrumb, setHideBreadcrumb] = useState<boolean | undefined>(false);\n  const [title, setTitle] = useState(\"\");\n  const dispatch = useDispatch();\n\n  const receiveTokenMode = !!params.receiveTokenMode;\n  const isAssociationFlow = receiveTokenMode ? isTokenAssociationRequired(account, token) : false;\n  const [steps, setSteps] = useState(() => createSteps(isAssociationFlow));\n\n  const currency = getAccountCurrency(account);\n  const currencyName = currency ? currency.name : undefined;\n  const mainAccount = getMainAccount(account, parentAccount);\n\n  const {\n    transaction,\n    status,\n    bridgeError,\n    bridgePending,\n    updateTransaction,\n    setAccount: updateTransactionAccount,\n  } = useBridgeTransaction(() => {\n    invariant(account, \"hedera: account is required\");\n\n    const bridge = getAccountBridge(account, parentAccount);\n    const transaction = bridge.createTransaction(account);\n\n    return {\n      account,\n      parentAccount,\n      transaction,\n    };\n  });\n\n  const getTransactionProperties = useCallback(\n    (token: TokenCurrency | undefined | null): Partial<Transaction> => {\n      if (!token) {\n        return {};\n      }\n\n      return {\n        mode: HEDERA_TRANSACTION_MODES.TokenAssociate,\n        assetReference: token.contractAddress,\n        assetOwner: mainAccount.freshAddress,\n        properties: {\n          token,\n        },\n      };\n    },\n    [mainAccount],\n  );\n\n  const handleChangeAccount = useCallback(\n    (account: Account | TokenAccount, parentAccount?: Account | null) => {\n      setAccount(account);\n      setParentAccount(parentAccount);\n\n      updateTransactionAccount(account, parentAccount);\n      updateTransaction(prev => ({ ...prev, ...getTransactionProperties(token) }));\n    },\n    [\n      token,\n      updateTransaction,\n      updateTransactionAccount,\n      getTransactionProperties,\n      setParentAccount,\n      setAccount,\n    ],\n  );\n\n  const handleChangeToken = useCallback(\n    (token?: TokenCurrency | null) => {\n      setToken(token ?? null);\n\n      updateTransaction(prev => ({ ...prev, ...getTransactionProperties(token) }));\n    },\n    [getTransactionProperties, updateTransaction],\n  );\n\n  const handleCloseModal = useCallback(() => {\n    closeModal(\"MODAL_HEDERA_RECEIVE_WITH_ASSOCIATION\");\n  }, [closeModal]);\n\n  const handleStepChange = useCallback(\n    (e: Step<StepId, StepProps>) => onChangeStepId(e.id),\n    [onChangeStepId],\n  );\n\n  const handleResetSkip = useCallback(() => {\n    setDisabledSteps([]);\n  }, [setDisabledSteps]);\n\n  const handleRetry = useCallback(() => {\n    onChangeAddressVerified(null, null);\n    setTransactionError(null);\n    onChangeStepId(\"account\");\n  }, [onChangeStepId, onChangeAddressVerified]);\n\n  const handleSkipConfirm = useCallback(() => {\n    const connectStepIndex = steps.findIndex(\n      step => step.id === \"device\" || step.id === \"associationDevice\",\n    );\n    if (connectStepIndex > -1) {\n      onChangeAddressVerified(false, null);\n      setDisabledSteps([connectStepIndex]);\n    }\n    onChangeStepId(\"receive\");\n  }, [onChangeAddressVerified, setDisabledSteps, steps, onChangeStepId]);\n\n  const handleTransactionError = useCallback((error: Error) => {\n    if (!(error instanceof UserRefusedOnDevice)) {\n      logger.critical(error);\n    }\n    setTransactionError(error);\n  }, []);\n\n  const handleOperationBroadcasted = useCallback(\n    (optimisticOperation: Operation) => {\n      if (!account) return;\n      dispatch(\n        updateAccountWithUpdater(account.id, account =>\n          addPendingOperation(account, optimisticOperation),\n        ),\n      );\n      setOptimisticOperation(optimisticOperation);\n      setTransactionError(null);\n    },\n    [account, dispatch],\n  );\n\n  useEffect(() => {\n    let stepId: StepId | null;\n\n    if (params.startWithWarning) {\n      stepId = \"warning\";\n    } else if (params.receiveTokenMode) {\n      stepId = \"account\";\n    } else {\n      stepId = null;\n    }\n\n    if (stepId) onChangeStepId(stepId);\n  }, [onChangeStepId, params]);\n\n  useEffect(() => {\n    if (!account) {\n      if (params?.account) {\n        handleChangeAccount(params.account, params?.parentAccount);\n      } else {\n        handleChangeAccount(accounts[0]);\n      }\n    }\n  }, [accounts, account, params, handleChangeAccount]);\n\n  useEffect(() => {\n    const currentStep = steps.find(step => step.id === stepId);\n\n    if (stepId !== \"associationDevice\") {\n      setHideBreadcrumb(currentStep?.excludeFromBreadcrumb);\n    }\n\n    switch (stepId) {\n      case \"warning\":\n        setTitle(t(\"common.information\"));\n        break;\n      case \"associationDevice\":\n        setTitle(t(\"hedera.receiveWithAssociation.steps.associationConfirmation.title\"));\n        break;\n      case \"stakingFlow\":\n        setTitle(\n          t(\"receive.steps.staking.title\", {\n            currencyName: currency.name,\n          }),\n        );\n        break;\n      default:\n        setTitle(t(\"receive.title\"));\n    }\n  }, [steps, stepId, t, currency.name]);\n\n  useEffect(() => {\n    const updatedSteps = createSteps(isAssociationFlow);\n    setSteps(updatedSteps);\n  }, [isAssociationFlow]);\n\n  const error = transactionError || bridgeError;\n  const errorSteps = [];\n  if (transactionError) {\n    errorSteps.push(2);\n  } else if (bridgeError) {\n    errorSteps.push(0);\n  }\n\n  const stepperProps = {\n    title,\n    device,\n    account,\n    parentAccount,\n    eventType: params.eventType,\n    stepId,\n    steps,\n    error,\n    errorSteps,\n    disabledSteps,\n    receiveTokenMode,\n    hideBreadcrumb,\n    token,\n    isAddressVerified,\n    verifyAddressError,\n    isAssociationFlow,\n    optimisticOperation,\n    transaction,\n    status,\n    bridgePending,\n    signed,\n    setSigned,\n    onOperationBroadcasted: handleOperationBroadcasted,\n    onUpdateTransaction: updateTransaction,\n    onTransactionError: handleTransactionError,\n    closeModal: handleCloseModal,\n    onRetry: handleRetry,\n    onSkipConfirm: handleSkipConfirm,\n    onResetSkip: handleResetSkip,\n    onChangeAccount: handleChangeAccount,\n    onChangeToken: handleChangeToken,\n    onChangeAddressVerified,\n    onStepChange: handleStepChange,\n    onClose: handleCloseModal,\n    currencyName,\n    isFromPostOnboardingEntryPoint: !!params.isFromPostOnboardingEntryPoint,\n  };\n\n  return (\n    <Stepper {...stepperProps}>\n      <SyncSkipUnderPriority priority={100} />\n      <Track onUnmount event=\"CloseModalReceiveWithAssociation\" />\n    </Stepper>\n  );\n};\nconst C = compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  withTranslation(),\n)(Body) as React.ComponentType<OwnProps>;\nexport default C;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/ReceiveWithAssociationModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/ReceiveWithAssociationModal/steps/StepAccountFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/ReceiveWithAssociationModal/steps/StepAssociationConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/ReceiveWithAssociationModal/steps/StepAssociationDevice.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/ReceiveWithAssociationModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/RedelegationFlowModal/Body.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":183,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":186,"endColumn":41}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { TFunction } from \"i18next\";\nimport React, { useState, useCallback } from \"react\";\nimport { compose } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { useDispatch } from \"LLD/hooks/redux\";\nimport { Trans, withTranslation } from \"react-i18next\";\nimport { createStructuredSelector } from \"reselect\";\nimport { SyncSkipUnderPriority } from \"@ledgerhq/live-common/bridge/react/index\";\nimport { UserRefusedOnDevice } from \"@ledgerhq/errors\";\nimport { getAccountBridge } from \"@ledgerhq/live-common/bridge/index\";\nimport useBridgeTransaction from \"@ledgerhq/live-common/bridge/useBridgeTransaction\";\nimport type { Account, Operation } from \"@ledgerhq/types-live\";\nimport { addPendingOperation } from \"@ledgerhq/live-common/account/index\";\nimport { HEDERA_TRANSACTION_MODES } from \"@ledgerhq/live-common/families/hedera/constants\";\nimport type { HederaAccount } from \"@ledgerhq/live-common/families/hedera/types\";\nimport type { Device } from \"@ledgerhq/types-devices\";\nimport Track from \"~/renderer/analytics/Track\";\nimport { updateAccountWithUpdater } from \"~/renderer/actions/accounts\";\nimport { getCurrentDevice } from \"~/renderer/reducers/devices\";\nimport { OpenModal, closeModal, openModal } from \"~/renderer/actions/modals\";\nimport logger from \"~/renderer/logger\";\nimport Stepper from \"~/renderer/components/Stepper\";\nimport GenericStepConnectDevice from \"~/renderer/modals/Send/steps/GenericStepConnectDevice\";\nimport StepValidators, { StepValidatorsFooter } from \"./steps/StepValidators\";\nimport StepConfirmation, { StepConfirmationFooter } from \"./steps/StepConfirmation\";\nimport type { StepProps, St, StepId } from \"./types\";\n\nexport type Data = {\n  account: HederaAccount;\n  source?: string;\n};\n\ntype OwnProps = {\n  stepId: StepId;\n  onClose: () => void;\n  onChangeStepId: (a: StepId) => void;\n  params: Data;\n};\n\ntype StateProps = {\n  t: TFunction;\n  device: Device | undefined | null;\n  accounts: Account[];\n  closeModal: () => void;\n  openModal: OpenModal;\n};\n\ntype Props = OwnProps & StateProps;\n\nconst steps: Array<St> = [\n  {\n    id: \"validators\",\n    label: <Trans i18nKey=\"hedera.redelegation.flow.steps.validators.title\" />,\n    component: StepValidators,\n    noScroll: true,\n    footer: StepValidatorsFooter,\n  },\n  {\n    id: \"connectDevice\",\n    label: <Trans i18nKey=\"hedera.redelegation.flow.steps.connectDevice.title\" />,\n    component: GenericStepConnectDevice,\n    onBack: ({ transitionTo }: StepProps) => transitionTo(\"validators\"),\n  },\n  {\n    id: \"confirmation\",\n    label: <Trans i18nKey=\"hedera.redelegation.flow.steps.confirmation.title\" />,\n    component: StepConfirmation,\n    footer: StepConfirmationFooter,\n  },\n];\n\nconst mapStateToProps = createStructuredSelector({\n  device: getCurrentDevice,\n});\n\nconst mapDispatchToProps = {\n  closeModal,\n  openModal,\n};\n\nconst Body = ({ t, stepId, device, onClose, openModal, onChangeStepId, params }: Props) => {\n  const { account, source = \"Account Page\" } = params;\n  const [optimisticOperation, setOptimisticOperation] = useState<Operation | null>(null);\n  const [transactionError, setTransactionError] = useState<Error | null>(null);\n  const [signed, setSigned] = useState(false);\n  const dispatch = useDispatch();\n  const { transaction, setTransaction, updateTransaction, status, bridgeError, bridgePending } =\n    useBridgeTransaction(() => {\n      const bridge = getAccountBridge(account);\n      const t = bridge.createTransaction(account);\n\n      const transaction = bridge.updateTransaction(t, {\n        mode: HEDERA_TRANSACTION_MODES.Redelegate,\n        properties: {\n          stakingNodeId: null,\n        },\n      });\n\n      return {\n        account,\n        parentAccount: undefined,\n        transaction,\n      };\n    });\n\n  const handleStepChange = useCallback(\n    (e: St) => {\n      onChangeStepId(e.id);\n    },\n    [onChangeStepId],\n  );\n\n  const handleRetry = useCallback(() => {\n    setTransactionError(null);\n    onChangeStepId(\"validators\");\n  }, [onChangeStepId]);\n\n  const handleTransactionError = useCallback((error: Error) => {\n    if (!(error instanceof UserRefusedOnDevice)) {\n      logger.critical(error);\n    }\n    setTransactionError(error);\n  }, []);\n\n  const handleOperationBroadcasted = useCallback(\n    (optimisticOperation: Operation) => {\n      if (!account) return;\n      dispatch(\n        updateAccountWithUpdater(account.id, account =>\n          addPendingOperation(account, optimisticOperation),\n        ),\n      );\n      setOptimisticOperation(optimisticOperation);\n      setTransactionError(null);\n    },\n    [account, dispatch],\n  );\n\n  const error = transactionError || bridgeError;\n  const errorSteps = [];\n  if (transactionError) {\n    errorSteps.push(2);\n  } else if (bridgeError) {\n    errorSteps.push(0);\n  }\n\n  const stepperProps = {\n    title: t(\"hedera.redelegation.flow.title\"),\n    device,\n    account,\n    transaction,\n    signed,\n    stepId,\n    steps,\n    errorSteps,\n    disabledSteps: [],\n    hideBreadcrumb: !!error && [\"summary\"].includes(stepId),\n    onRetry: handleRetry,\n    onStepChange: handleStepChange,\n    onClose,\n    error,\n    status,\n    optimisticOperation,\n    openModal,\n    setSigned,\n    onChangeTransaction: setTransaction,\n    onUpdateTransaction: updateTransaction,\n    onOperationBroadcasted: handleOperationBroadcasted,\n    onTransactionError: handleTransactionError,\n    t,\n    bridgePending,\n    source,\n  };\n\n  return (\n    <Stepper {...stepperProps}>\n      <SyncSkipUnderPriority priority={100} />\n      <Track onUnmount event=\"CloseModalRedelegation\" />\n    </Stepper>\n  );\n};\n\nconst C = compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  withTranslation(),\n)(Body) as React.ComponentType<OwnProps>;\n\nexport default C;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/RedelegationFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/RedelegationFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/RedelegationFlowModal/steps/StepValidators.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/RedelegationFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/SendRecipientFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/StepReceiveAccountCustomAlert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/StepReceiveFunds.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/StepRecipientCustomAlert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/TokenList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/UndelegationFlowModal/Body.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":183,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":186,"endColumn":41}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { TFunction } from \"i18next\";\nimport React, { useState, useCallback } from \"react\";\nimport { compose } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { useDispatch } from \"LLD/hooks/redux\";\nimport { Trans, withTranslation } from \"react-i18next\";\nimport { createStructuredSelector } from \"reselect\";\nimport { SyncSkipUnderPriority } from \"@ledgerhq/live-common/bridge/react/index\";\nimport { UserRefusedOnDevice } from \"@ledgerhq/errors\";\nimport { getAccountBridge } from \"@ledgerhq/live-common/bridge/index\";\nimport useBridgeTransaction from \"@ledgerhq/live-common/bridge/useBridgeTransaction\";\nimport type { Account, AccountBridge, Operation } from \"@ledgerhq/types-live\";\nimport { addPendingOperation } from \"@ledgerhq/live-common/account/index\";\nimport { HEDERA_TRANSACTION_MODES } from \"@ledgerhq/live-common/families/hedera/constants\";\nimport type { HederaAccount } from \"@ledgerhq/live-common/families/hedera/types\";\nimport type { Device } from \"@ledgerhq/types-devices\";\nimport Track from \"~/renderer/analytics/Track\";\nimport { updateAccountWithUpdater } from \"~/renderer/actions/accounts\";\nimport { getCurrentDevice } from \"~/renderer/reducers/devices\";\nimport { OpenModal, closeModal, openModal } from \"~/renderer/actions/modals\";\nimport logger from \"~/renderer/logger\";\nimport Stepper from \"~/renderer/components/Stepper\";\nimport GenericStepConnectDevice from \"~/renderer/modals/Send/steps/GenericStepConnectDevice\";\nimport StepSummary, { StepSummaryFooter } from \"./steps/StepSummary\";\nimport StepConfirmation, { StepConfirmationFooter } from \"./steps/StepConfirmation\";\nimport type { StepProps, St, StepId } from \"./types\";\n\nexport type Data = {\n  account: HederaAccount;\n  source?: string;\n};\n\ntype OwnProps = {\n  stepId: StepId;\n  onClose: () => void;\n  onChangeStepId: (a: StepId) => void;\n  params: Data;\n};\n\ntype StateProps = {\n  t: TFunction;\n  device: Device | undefined | null;\n  accounts: Account[];\n  closeModal: () => void;\n  openModal: OpenModal;\n};\n\ntype Props = OwnProps & StateProps;\n\nconst steps: Array<St> = [\n  {\n    id: \"summary\",\n    label: <Trans i18nKey=\"hedera.undelegation.flow.steps.summary.title\" />,\n    component: StepSummary,\n    noScroll: true,\n    footer: StepSummaryFooter,\n  },\n  {\n    id: \"connectDevice\",\n    label: <Trans i18nKey=\"hedera.undelegation.flow.steps.connectDevice.title\" />,\n    component: GenericStepConnectDevice,\n    onBack: ({ transitionTo }: StepProps) => transitionTo(\"summary\"),\n  },\n  {\n    id: \"confirmation\",\n    label: <Trans i18nKey=\"hedera.undelegation.flow.steps.confirmation.title\" />,\n    component: StepConfirmation,\n    footer: StepConfirmationFooter,\n  },\n];\n\nconst mapStateToProps = createStructuredSelector({\n  device: getCurrentDevice,\n});\n\nconst mapDispatchToProps = {\n  closeModal,\n  openModal,\n};\n\nconst Body = ({ t, stepId, device, onClose, openModal, onChangeStepId, params }: Props) => {\n  const { account, source = \"Account Page\" } = params;\n  const [optimisticOperation, setOptimisticOperation] = useState<Operation | null>(null);\n  const [transactionError, setTransactionError] = useState<Error | null>(null);\n  const [signed, setSigned] = useState(false);\n  const dispatch = useDispatch();\n  const { transaction, setTransaction, updateTransaction, status, bridgeError, bridgePending } =\n    useBridgeTransaction(() => {\n      const bridge: AccountBridge<Transaction> = getAccountBridge(account);\n      const t = bridge.createTransaction(account);\n\n      const transaction = bridge.updateTransaction(t, {\n        mode: HEDERA_TRANSACTION_MODES.Undelegate,\n        properties: {\n          stakingNodeId: null,\n        },\n      });\n\n      return {\n        account,\n        parentAccount: undefined,\n        transaction,\n      };\n    });\n\n  const handleStepChange = useCallback(\n    (e: St) => {\n      onChangeStepId(e.id);\n    },\n    [onChangeStepId],\n  );\n\n  const handleRetry = useCallback(() => {\n    setTransactionError(null);\n    onChangeStepId(\"summary\");\n  }, [onChangeStepId]);\n\n  const handleTransactionError = useCallback((error: Error) => {\n    if (!(error instanceof UserRefusedOnDevice)) {\n      logger.critical(error);\n    }\n    setTransactionError(error);\n  }, []);\n\n  const handleOperationBroadcasted = useCallback(\n    (optimisticOperation: Operation) => {\n      if (!account) return;\n      dispatch(\n        updateAccountWithUpdater(account.id, account =>\n          addPendingOperation(account, optimisticOperation),\n        ),\n      );\n      setOptimisticOperation(optimisticOperation);\n      setTransactionError(null);\n    },\n    [account, dispatch],\n  );\n\n  const error = transactionError || bridgeError;\n  const errorSteps = [];\n  if (transactionError) {\n    errorSteps.push(2);\n  } else if (bridgeError) {\n    errorSteps.push(0);\n  }\n\n  const stepperProps = {\n    title: t(\"hedera.undelegation.flow.title\"),\n    device,\n    account,\n    transaction,\n    signed,\n    stepId,\n    steps,\n    errorSteps,\n    disabledSteps: [],\n    hideBreadcrumb: !!error && [\"summary\"].includes(stepId),\n    onRetry: handleRetry,\n    onStepChange: handleStepChange,\n    onClose,\n    error,\n    status,\n    optimisticOperation,\n    openModal,\n    setSigned,\n    onChangeTransaction: setTransaction,\n    onUpdateTransaction: updateTransaction,\n    onOperationBroadcasted: handleOperationBroadcasted,\n    onTransactionError: handleTransactionError,\n    t,\n    bridgePending,\n    source,\n  };\n\n  return (\n    <Stepper {...stepperProps}>\n      <SyncSkipUnderPriority priority={100} />\n      <Track onUnmount event=\"CloseModalUndelegation\" />\n    </Stepper>\n  );\n};\n\nconst C = compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  withTranslation(),\n)(Body) as React.ComponentType<OwnProps>;\n\nexport default C;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/UndelegationFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/UndelegationFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/UndelegationFlowModal/steps/StepSummary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/UndelegationFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/modals.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/shared/staking/AmountField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/shared/staking/ValidatorIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/shared/staking/ValidatorListItem.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/shared/staking/ValidatorOption.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/shared/staking/ValidatorsListField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/shared/staking/ValidatorsSelect.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/hedera/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/icon/AccountBalanceSummaryFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/icon/AccountSubHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/icon/StepSummaryNetworkFeesRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/icon/TransactionConfirmFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/icon/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/index.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":16,"column":23,"nodeType":"TSAsExpression","messageId":"never","endLine":16,"endColumn":53},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":20,"column":10,"nodeType":"TSAsExpression","messageId":"never","endLine":20,"endColumn":41}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import {\n  Account,\n  TransactionCommon,\n  TransactionStatusCommon,\n  Operation,\n} from \"@ledgerhq/types-live\";\nimport generated from \"./generated\";\nimport { LLDCoinFamily } from \"./types\";\n\nexport function getLLDCoinFamily<\n  A extends Account,\n  T extends TransactionCommon,\n  TS extends TransactionStatusCommon,\n  O extends Operation,\n>(name: string): LLDCoinFamily<A, T, TS, O> {\n  const f = generated[name as keyof typeof generated];\n  if (!f) {\n    return {};\n  }\n  return f as LLDCoinFamily<A, T, TS, O>;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/internet_computer/AccountSubHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/internet_computer/MemoField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/internet_computer/SendAmountFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/internet_computer/SendRecipientFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/internet_computer/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/internet_computer/operationDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/internet_computer/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/kaspa/FeesField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/kaspa/SelectFeeStrategyKaspa.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/kaspa/SendAmountFields.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has missing dependencies: 'bridge', 'strategies', and 'updateTransaction'. Either include them or remove the dependency array. If 'updateTransaction' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":53,"column":6,"nodeType":"ArrayExpression","endLine":53,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [bridge, strategies, updateTransaction]","fix":{"range":[1771,1773],"text":"[bridge, strategies, updateTransaction]"}}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useCallback has a missing dependency: 'isAdvanceMode'. Either include it or remove the dependency array.","line":66,"column":5,"nodeType":"ArrayExpression","endLine":66,"endColumn":32,"suggestions":[{"desc":"Update the dependencies array to be: [updateTransaction, isAdvanceMode, bridge]","fix":{"range":[2172,2199],"text":"[updateTransaction, isAdvanceMode, bridge]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/kaspa/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/kaspa/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/mina/AccountSubHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/mina/MemoField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/mina/SendAmountFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/mina/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/mina/operationDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/mina/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/AccountBalanceSummaryFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/AccountBodyHeader.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/AccountHeaderManageActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/AccountSubHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/EarnRewards.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/StakeBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/blocks/Delegation/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/blocks/Summary/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Delegations/components/Delegation/index.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":103,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":103,"endColumn":43}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useMemo, Fragment, useCallback, ReactNode } from \"react\";\nimport { BigNumber } from \"bignumber.js\";\nimport { Trans } from \"react-i18next\";\nimport { useDispatch } from \"LLD/hooks/redux\";\nimport { denominate } from \"@ledgerhq/live-common/families/multiversx/helpers\";\nimport Box from \"~/renderer/components/Box/Box\";\nimport CheckCircle from \"~/renderer/icons/CheckCircle\";\nimport ToolTip from \"~/renderer/components/Tooltip\";\nimport FirstLetterIcon from \"~/renderer/components/FirstLetterIcon\";\nimport ChevronRight from \"~/renderer/icons/ChevronRight\";\nimport LedgerLiveLogo from \"~/renderer/components/LedgerLiveLogo\";\nimport Logo from \"~/renderer/icons/Logo\";\nimport Text from \"~/renderer/components/Text\";\nimport DropDown, { DropDownItem } from \"~/renderer/components/DropDownSelector\";\nimport {\n  Ellipsis,\n  Column,\n  Wrapper,\n  Divider,\n} from \"~/renderer/families/multiversx/blocks/Delegation\";\nimport { openURL } from \"~/renderer/linking\";\nimport { openModal } from \"~/renderer/actions/modals\";\nimport {\n  MULTIVERSX_EXPLORER_URL,\n  MULTIVERSX_LEDGER_VALIDATOR_ADDRESS,\n} from \"@ledgerhq/live-common/families/multiversx/constants\";\nimport { DelegationType } from \"~/renderer/families/multiversx/types\";\nimport {\n  MultiversXProvider,\n  MultiversXAccount as AccountType,\n} from \"@ledgerhq/live-common/families/multiversx/types\";\nimport { ModalsData } from \"~/renderer/families/multiversx/modals\";\nimport Discreet from \"~/renderer/components/Discreet\";\nimport { useAccountUnit } from \"~/renderer/hooks/useAccountUnit\";\n\ninterface RenderDropdownItemType {\n  isActive: boolean;\n  item: {\n    key?: string;\n    label: string;\n    disabled?: boolean;\n    tooltip?: ReactNode;\n    divider?: boolean;\n  };\n}\ninterface DropDownItemType {\n  key: keyof ModalsData;\n  label: string;\n  divider?: boolean;\n  parameters: {\n    account: AccountType;\n    contract: string;\n    validators: Array<MultiversXProvider>;\n    delegations: Array<DelegationType>;\n    amount?: string;\n  };\n}\n\ntype Props = DelegationType & {\n  account: AccountType;\n  delegations: Array<DelegationType>;\n  validators: Array<MultiversXProvider>;\n};\n\nconst RenderDropdownItem = ({ item, isActive }: RenderDropdownItemType) => (\n  <Fragment>\n    {item.key === \"MODAL_MULTIVERSX_CLAIM_REWARDS\" && item.divider && <Divider />}\n\n    <ToolTip\n      content={item.tooltip}\n      containerStyle={{\n        width: \"100%\",\n      }}\n    >\n      <DropDownItem disabled={item.disabled} isActive={isActive}>\n        <Box horizontal={true} alignItems=\"center\" justifyContent=\"center\">\n          <Text ff=\"Inter|SemiBold\">\n            <Trans i18nKey={item.label} />\n          </Text>\n        </Box>\n      </DropDownItem>\n    </ToolTip>\n  </Fragment>\n);\nconst Delegation = (props: Props) => {\n  const {\n    contract,\n    claimableRewards,\n    userActiveStake,\n    validator,\n    account,\n    delegations,\n    validators,\n  } = props;\n  const dispatch = useDispatch();\n  const onSelect = useCallback(\n    (action: DropDownItemType) => {\n      dispatch(openModal(action.key, action.parameters));\n    },\n    [dispatch],\n  );\n  const dropDownItems = useMemo(() => {\n    const items = [] as DropDownItemType[];\n    if (BigNumber(userActiveStake).gt(0)) {\n      items.push({\n        key: \"MODAL_MULTIVERSX_UNDELEGATE\",\n        label: \"elrond.delegation.undelegate\",\n        parameters: {\n          account,\n          contract,\n          validators,\n          delegations,\n          amount: userActiveStake,\n        },\n      });\n    }\n    if (BigNumber(claimableRewards).gt(0)) {\n      items.push({\n        key: \"MODAL_MULTIVERSX_CLAIM_REWARDS\",\n        label: \"elrond.delegation.reward\",\n        divider: BigNumber(userActiveStake).gt(0),\n        parameters: {\n          account,\n          contract,\n          delegations,\n          validators,\n        },\n      });\n    }\n    return items;\n  }, [claimableRewards, account, userActiveStake, contract, delegations, validators]);\n  const name = validator ? validator.identity.name || contract : contract;\n  const amount = useMemo(\n    () =>\n      denominate({\n        input: userActiveStake,\n        decimals: 4,\n      }),\n    [userActiveStake],\n  );\n  const rewards = useMemo(\n    () =>\n      denominate({\n        input: claimableRewards,\n        decimals: 4,\n      }),\n    [claimableRewards],\n  );\n\n  const unit = useAccountUnit(account);\n  return (\n    <Wrapper>\n      <Column\n        strong={true}\n        clickable={true}\n        onClick={() => openURL(`${MULTIVERSX_EXPLORER_URL}/providers/${contract}`)}\n      >\n        <Box mr={2}>\n          {contract === MULTIVERSX_LEDGER_VALIDATOR_ADDRESS ? (\n            <LedgerLiveLogo width={24} height={24} icon={<Logo size={15} />} />\n          ) : (\n            <FirstLetterIcon label={name} />\n          )}\n        </Box>\n\n        <Ellipsis>{name}</Ellipsis>\n      </Column>\n\n      <Column>\n        <Box color=\"positiveGreen\" pl={2}>\n          <ToolTip content={<Trans i18nKey=\"elrond.delegation.activeTooltip\" />}>\n            <CheckCircle size={14} />\n          </ToolTip>\n        </Box>\n      </Column>\n\n      <Column>\n        <Discreet>{amount}</Discreet> {unit.code}\n      </Column>\n\n      <Column>\n        <Discreet>{rewards}</Discreet> {unit.code}\n      </Column>\n\n      <Column>\n        <DropDown items={dropDownItems} renderItem={RenderDropdownItem} onChange={onSelect}>\n          {() => (\n            <Box horizontal={true} alignItems=\"center\">\n              <Trans i18nKey=\"common.manage\" />\n\n              <div\n                style={{\n                  transform: \"rotate(90deg)\",\n                }}\n              >\n                <ChevronRight size={16} />\n              </div>\n            </Box>\n          )}\n        </DropDown>\n      </Column>\n    </Wrapper>\n  );\n};\nexport default Delegation;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Delegations/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Claim/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Claim/fields/DelegationSelectorField.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":81,"column":10,"nodeType":"TSAsExpression","messageId":"never","endLine":81,"endColumn":28}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useMemo, useCallback, useState, useEffect } from \"react\";\nimport { BigNumber } from \"bignumber.js\";\nimport { denominate } from \"@ledgerhq/live-common/families/multiversx/helpers\";\nimport Box from \"~/renderer/components/Box\";\nimport FirstLetterIcon from \"~/renderer/components/FirstLetterIcon\";\nimport Label from \"~/renderer/components/Label\";\nimport Select from \"~/renderer/components/Select\";\nimport Text from \"~/renderer/components/Text\";\nimport { TFunction } from \"i18next\";\nimport { AccountBridge } from \"@ledgerhq/types-live\";\nimport { DelegationType } from \"~/renderer/families/multiversx/types\";\nimport { Transaction, MultiversXProvider } from \"@ledgerhq/live-common/families/multiversx/types\";\n// FilterOptionOption type for react-select v5 filter callback\ntype FilterOptionOption<T> = { label: string; value: string; data: T };\n\ntype NoOptionsMessageCallbackType = {\n  inputValue: string;\n};\ntype OptionType = MultiversXProvider & {\n  delegation: DelegationType | undefined;\n};\ninterface DelegationSelectorFieldType {\n  validators: Array<MultiversXProvider>;\n  delegations: Array<DelegationType>;\n  contract: string;\n  transaction: Transaction;\n  onChange: (validator?: MultiversXProvider | null) => void;\n  onUpdateTransaction: (transaction: (_: Transaction) => Transaction) => void;\n  t: TFunction;\n  bridge: AccountBridge<Transaction>;\n}\nconst renderItem = (item: { data: OptionType }) => {\n  const name: string = item.data.identity.name || item.data.contract;\n  if (!item.data.delegation) {\n    return null;\n  }\n  const balance = denominate({\n    input: item.data.delegation.claimableRewards,\n    decimals: 4,\n  });\n  return (\n    <Box horizontal={true} alignItems=\"center\" justifyContent=\"space-between\">\n      <Box horizontal={true} alignItems=\"center\">\n        <FirstLetterIcon label={name} />\n        <Text ff=\"Inter|Medium\">{name}</Text>\n      </Box>\n\n      <Text ff=\"Inter|Regular\">\n        {balance} {\"EGLD\"}\n      </Text>\n    </Box>\n  );\n};\nconst DelegationSelectorField = (props: DelegationSelectorFieldType) => {\n  const {\n    validators,\n    delegations,\n    contract,\n    t,\n    onChange,\n    bridge,\n    transaction,\n    onUpdateTransaction,\n  } = props;\n  const options = useMemo(\n    (): OptionType[] =>\n      validators.reduce((total, validator) => {\n        const item: OptionType = {\n          ...validator,\n          delegation: delegations.find(\n            delegation =>\n              new BigNumber(delegation.claimableRewards).gt(0) &&\n              delegation.contract === validator.contract,\n          ),\n        };\n        return item.delegation\n          ? contract && validator.contract === contract\n            ? [item, ...total]\n            : [...total, item]\n          : total;\n      }, [] as OptionType[]),\n    [delegations, validators, contract],\n  );\n  const [query, setQuery] = useState<string>(\"\");\n  const [value, setValue] = useState<OptionType | null | undefined>(options.find(() => true));\n  const noOptionsMessageCallback = useCallback(\n    (needle: NoOptionsMessageCallbackType): string =>\n      t(\"common.selectValidatorNoOption\", {\n        accountName: needle.inputValue,\n      }),\n    [t],\n  );\n  const filterOptions = useCallback(\n    (option: FilterOptionOption<OptionType>, needle: string): boolean =>\n      BigNumber(option.data.delegation?.claimableRewards || 0).gt(0) && option.data.identity?.name\n        ? option.data.identity.name.toLowerCase().includes(needle.toLowerCase())\n        : false,\n    [],\n  );\n  const onValueChange = useCallback(\n    (option: OptionType | null | undefined) => {\n      setValue(option);\n      if (onChange) {\n        onChange(option);\n      }\n    },\n    [onChange],\n  );\n  useEffect(() => {\n    const [defaultOption] = options;\n    if (defaultOption && !transaction.recipient && transaction.amount.isEqualTo(0)) {\n      const { delegation } = defaultOption;\n      if (!delegation) {\n        return;\n      }\n      onUpdateTransaction(\n        (transaction: Transaction): Transaction =>\n          bridge.updateTransaction(transaction, {\n            recipient: delegation.contract,\n            amount: BigNumber(delegation.claimableRewards),\n          }),\n      );\n    }\n  }, [options, bridge, transaction, onUpdateTransaction]);\n  return (\n    <Box flow={1} mt={5}>\n      <Label>{t(\"elrond.claimRewards.flow.steps.claimRewards.selectLabel\")}</Label>\n\n      <Select\n        value={value}\n        options={options}\n        renderValue={renderItem}\n        renderOption={renderItem}\n        onInputChange={setQuery}\n        inputValue={query}\n        filterOption={filterOptions}\n        placeholder={t(\"common.selectAccount\")}\n        noOptionsMessage={noOptionsMessageCallback}\n        onChange={onValueChange}\n      />\n    </Box>\n  );\n};\nexport default DelegationSelectorField;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Claim/fields/ModeSelectorField.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":33,"column":62,"nodeType":"TSAsExpression","messageId":"never","endLine":33,"endColumn":93}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { Trans } from \"react-i18next\";\nimport Box from \"~/renderer/components/Box\";\nimport ToggleButton from \"~/renderer/components/ToggleButton\";\nimport InfoCircle from \"~/renderer/icons/InfoCircle\";\nimport Text from \"~/renderer/components/Text\";\nimport Popover from \"~/renderer/components/Popover\";\nimport { MultiversXTransactionMode } from \"@ledgerhq/live-common/families/multiversx/types\";\n\nexport interface Props {\n  mode: string;\n  onChange: (mode: MultiversXTransactionMode) => void;\n}\nconst options = [\n  {\n    value: \"reDelegateRewards\",\n    label: <Trans i18nKey=\"elrond.claimRewards.flow.steps.claimRewards.compound\" />,\n  },\n  {\n    value: \"claimRewards\",\n    label: <Trans i18nKey=\"elrond.claimRewards.flow.steps.claimRewards.claim\" />,\n  },\n];\nconst ModeSelectorField = (props: Props) => {\n  const { mode, onChange } = props;\n  return (\n    <Box\n      style={{\n        width: 300,\n      }}\n      alignSelf=\"center\"\n    >\n      <ToggleButton value={mode} options={options} onChange={onChange as (a: string) => void} />\n\n      <Box horizontal={true} alignItems=\"center\" justifyContent=\"center\" color=\"neutral.c70\">\n        <Popover\n          position=\"right\"\n          content={\n            <Box px={2}>\n              <Box alignItems=\"start\" justifyContent=\"start\" my={2}>\n                <Text ff=\"Inter|SemiBold\" fontSize={4} color=\"primary.c80\">\n                  <Trans i18nKey=\"elrond.claimRewards.flow.steps.claimRewards.compound\" />\n                </Text>\n\n                <Text fontSize={3} textAlign=\"left\" color=\"neutral.c80\">\n                  <Trans i18nKey=\"elrond.claimRewards.flow.steps.claimRewards.compoundDescription\" />\n                </Text>\n              </Box>\n\n              <Box alignItems=\"start\" justifyContent=\"start\" my={2}>\n                <Text ff=\"Inter|SemiBold\" fontSize={4} color=\"primary.c80\">\n                  <Trans i18nKey=\"elrond.claimRewards.flow.steps.claimRewards.claim\" />\n                </Text>\n\n                <Text fontSize={3} textAlign=\"left\" color=\"neutral.c80\">\n                  <Trans i18nKey=\"elrond.claimRewards.flow.steps.claimRewards.claimDescription\" />\n                </Text>\n              </Box>\n            </Box>\n          }\n        >\n          <Box horizontal={true} alignItems=\"center\" p={2} justifyContent=\"center\">\n            <Text ff=\"Inter|SemiBold\" fontSize={4}>\n              <Trans i18nKey=\"elrond.claimRewards.flow.steps.claimRewards.compoundOrClaim\" />\n            </Text>\n\n            <Box ml={1}>\n              <InfoCircle size={16} />\n            </Box>\n          </Box>\n        </Popover>\n      </Box>\n    </Box>\n  );\n};\nexport default ModeSelectorField;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Claim/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Claim/steps/StepClaimRewards.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Claim/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Claim/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Delegate/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Delegate/Info/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Delegate/fields/ValidatorItem.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Delegate/fields/ValidatorList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Delegate/fields/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Delegate/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Delegate/steps/StepAmount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Delegate/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Delegate/steps/StepDelegation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Delegate/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Undelegate/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Undelegate/fields/Amount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Undelegate/fields/Validator.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":60,"column":9,"nodeType":"TSAsExpression","messageId":"never","endLine":60,"endColumn":36}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useMemo, useState, useCallback } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { denominate } from \"@ledgerhq/live-common/families/multiversx/helpers\";\nimport FirstLetterIcon from \"~/renderer/components/FirstLetterIcon\";\nimport Box from \"~/renderer/components/Box\";\nimport Label from \"~/renderer/components/Label\";\nimport Select from \"~/renderer/components/Select\";\nimport Text from \"~/renderer/components/Text\";\nimport { DelegationType } from \"~/renderer/families/multiversx/types\";\n// FilterOptionOption type for react-select v5 filter callback\ntype FilterOptionOption<T> = { label: string; value: string; data: T };\n\ntype NoOptionsMessageCallbackType = {\n  inputValue: string;\n};\n\nexport interface Props {\n  delegations: Array<DelegationType>;\n  onChange: (delegation: DelegationType | undefined | null) => void;\n  contract: string;\n}\nconst Item = (item: { data: DelegationType }) => {\n  const label = item.data.validator?.identity.name || item.data.validator?.contract;\n  const amount = useMemo(\n    () =>\n      denominate({\n        input: item.data.userActiveStake,\n        decimals: 4,\n      }),\n    [item.data.userActiveStake],\n  );\n  return (\n    <Box\n      key={item.data.contract}\n      horizontal={true}\n      alignItems=\"center\"\n      justifyContent=\"space-between\"\n    >\n      <Box horizontal={true} alignItems=\"center\">\n        <FirstLetterIcon label={label} />\n        <Text ff=\"Inter|Medium\">{label}</Text>\n      </Box>\n\n      <Text ff=\"Inter|Regular\">\n        {amount} {\"EGLD\"}\n      </Text>\n    </Box>\n  );\n};\nconst Dropdown = (props: Props) => {\n  const { delegations, onChange, contract } = props;\n  const { t } = useTranslation();\n  const [defaultOption, ...options] = useMemo(\n    (): Array<DelegationType> =>\n      delegations.reduce(\n        (total, delegation) =>\n          delegation.contract === contract\n            ? [delegation].concat(total)\n            : total.concat([delegation]),\n        [] as Array<DelegationType>,\n      ),\n    [delegations, contract],\n  );\n  const [query, setQuery] = useState(\"\");\n  const [value, setValue] = useState(defaultOption);\n  const noOptionsMessageCallback = useCallback(\n    (needle: NoOptionsMessageCallbackType): string =>\n      t(\"common.selectValidatorNoOption\", {\n        accountName: needle.inputValue,\n      }),\n    [t],\n  );\n  const filterOptions = useCallback(\n    (option: FilterOptionOption<DelegationType>, needle: string): boolean =>\n      option.data.validator?.identity?.name\n        ? option.data.validator.identity.name.toLowerCase().includes(needle.toLowerCase())\n        : false,\n    [],\n  );\n  const onValueChange = useCallback(\n    (option?: DelegationType | null) => {\n      if (!option) return;\n      setValue(option);\n      if (onChange) {\n        onChange(option);\n      }\n    },\n    [onChange],\n  );\n  return (\n    <Box mb={4}>\n      <Label>{t(\"elrond.undelegation.flow.steps.amount.fields.validator\")}</Label>\n\n      <Select\n        value={value}\n        options={[defaultOption].concat(options)}\n        renderValue={Item}\n        renderOption={Item}\n        onInputChange={setQuery}\n        inputValue={query}\n        filterOption={filterOptions}\n        placeholder={t(\"common.selectAccount\")}\n        noOptionsMessage={noOptionsMessageCallback}\n        onChange={onValueChange}\n      />\n    </Box>\n  );\n};\nexport default Dropdown;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Undelegate/fields/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Undelegate/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Undelegate/steps/Amount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Undelegate/steps/Confirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Undelegate/steps/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Undelegate/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Withdraw/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Withdraw/fields/DelegationSelectorField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Withdraw/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Withdraw/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Withdraw/steps/StepWithdraw.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Modals/Withdraw/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Unbondings/components/Unbonding/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/components/Unbondings/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/modals.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/operationDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/multiversx/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/AccountBalanceSummaryFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/AccountBodyHeader.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/AccountHeaderManageActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/AccountSubHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/AccountSubHeader/AccountSubHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/AccountSubHeader/AccountSubHeaderDrawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/StakeBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/Staking/Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/Staking/Row.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":103,"column":35,"nodeType":"TSAsExpression","messageId":"never","endLine":103,"endColumn":93}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback } from \"react\";\nimport styled from \"styled-components\";\nimport { Trans } from \"react-i18next\";\nimport { NearMappedStakingPosition } from \"@ledgerhq/live-common/families/near/types\";\nimport { Account } from \"@ledgerhq/types-live\";\nimport { canUnstake, canWithdraw } from \"@ledgerhq/live-common/families/near/logic\";\nimport { TableLine } from \"./Header\";\nimport DropDown, { DropDownItem } from \"~/renderer/components/DropDownSelector\";\nimport Box from \"~/renderer/components/Box/Box\";\nimport ChevronRight from \"~/renderer/icons/ChevronRight\";\nimport CheckCircle from \"~/renderer/icons/CheckCircle\";\nimport ExclamationCircleThin from \"~/renderer/icons/ExclamationCircleThin\";\nimport ToolTip from \"~/renderer/components/Tooltip\";\nimport LedgerValidatorIcon from \"~/renderer/families/near/shared/components/LedgerValidatorIcon\";\nimport Text from \"~/renderer/components/Text\";\nimport Discreet from \"~/renderer/components/Discreet\";\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding: 16px 20px;\n`;\nconst Column = styled(TableLine).attrs<{\n  clickable?: boolean;\n  strong?: boolean;\n}>(p => ({\n  ff: \"Inter|SemiBold\",\n  color: p.strong ? \"neutral.c100\" : \"neutral.c80\",\n  fontSize: 3,\n}))<{\n  clickable?: boolean;\n  strong?: boolean;\n}>`\n  cursor: ${p => (p.clickable ? \"pointer\" : \"cursor\")};\n  ${p =>\n    p.clickable\n      ? `\n    &:hover {\n      color: ${p.theme.colors.primary.c80};\n    }\n    `\n      : ``}\n`;\nconst Ellipsis = styled.div`\n  flex: 1;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\nconst ManageDropDownItem = ({\n  item,\n  isActive,\n}: {\n  item: {\n    key: string;\n    label?: React.ReactNode;\n    disabled: boolean;\n    content?: React.ReactNode;\n  };\n  isActive: boolean;\n}) => {\n  return (\n    <>\n      <ToolTip\n        content={item.content}\n        containerStyle={{\n          width: \"100%\",\n        }}\n      >\n        <DropDownItem disabled={item.disabled} isActive={isActive}>\n          <Box horizontal alignItems=\"center\" justifyContent=\"center\">\n            <Text ff=\"Inter|SemiBold\">{item.label}</Text>\n          </Box>\n        </DropDownItem>\n      </ToolTip>\n    </>\n  );\n};\ntype Props = {\n  account: Account;\n  stakingPosition: NearMappedStakingPosition;\n  onManageAction: (address: string, action: \"MODAL_NEAR_UNSTAKE\" | \"MODAL_NEAR_WITHDRAW\") => void;\n  onExternalLink: (address: string) => void;\n};\nexport function Row({\n  stakingPosition: {\n    validatorId,\n    staked,\n    formattedAmount,\n    formattedPending,\n    formattedAvailable,\n    validator,\n  },\n  stakingPosition,\n  onManageAction,\n  onExternalLink,\n}: Props) {\n  const unstakingEnabled = canUnstake(stakingPosition);\n  const withdrawingEnabled = canWithdraw(stakingPosition);\n  const onSelect = useCallback(\n    (action: (typeof dropDownItems)[number]) => {\n      onManageAction(validatorId, action.key as \"MODAL_NEAR_UNSTAKE\" | \"MODAL_NEAR_WITHDRAW\");\n    },\n    [onManageAction, validatorId],\n  );\n  const dropDownItems = [\n    {\n      key: \"MODAL_NEAR_UNSTAKE\",\n      label: <Trans i18nKey=\"near.stake.unstake\" />,\n      disabled: !unstakingEnabled,\n      tooltip: !unstakingEnabled ? <Trans i18nKey=\"near.unstake.disabledTooltip\" /> : null,\n    },\n    {\n      key: \"MODAL_NEAR_WITHDRAW\",\n      label: <Trans i18nKey=\"near.stake.withdraw\" />,\n      disabled: !withdrawingEnabled,\n      tooltip: !withdrawingEnabled ? <Trans i18nKey=\"near.withdraw.disabledTooltip\" /> : null,\n    },\n  ];\n  const onExternalLinkClick = useCallback(\n    () => onExternalLink(validatorId),\n    [onExternalLink, validatorId],\n  );\n  return (\n    <Wrapper>\n      <Column strong clickable onClick={onExternalLinkClick}>\n        <Box mr={2}>\n          <LedgerValidatorIcon validator={validator} validatorId={validatorId} />\n        </Box>\n        <Ellipsis>{validatorId}</Ellipsis>\n      </Column>\n      <Column>\n        {staked.gt(0) ? (\n          <Box color=\"positiveGreen\" pl={2}>\n            <ToolTip content={<Trans i18nKey=\"near.stake.activeTooltip\" />}>\n              <CheckCircle size={14} />\n            </ToolTip>\n          </Box>\n        ) : (\n          <Box color=\"alertRed\" pl={2}>\n            <ToolTip content={<Trans i18nKey=\"near.stake.inactiveTooltip\" />}>\n              <ExclamationCircleThin size={14} />\n            </ToolTip>\n          </Box>\n        )}\n      </Column>\n      <Column>\n        <Ellipsis>\n          <Discreet>{formattedAmount}</Discreet>\n        </Ellipsis>\n      </Column>\n      <Column>\n        <Ellipsis>\n          <Discreet>{formattedPending}</Discreet>\n        </Ellipsis>\n      </Column>\n      <Column>\n        <Ellipsis>\n          <Discreet>{formattedAvailable}</Discreet>\n        </Ellipsis>\n      </Column>\n      <Column>\n        <DropDown items={dropDownItems} renderItem={ManageDropDownItem} onChange={onSelect}>\n          {() => (\n            <Box horizontal alignItems=\"center\">\n              <Trans i18nKey=\"common.manage\" />\n              <div\n                style={{\n                  transform: \"rotate(90deg)\",\n                }}\n              >\n                <ChevronRight size={16} />\n              </div>\n            </Box>\n          )}\n        </DropDown>\n      </Column>\n    </Wrapper>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/Staking/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/StakingFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/StakingFlowModal/Info/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/StakingFlowModal/components/LedgerByFigmentTCLink.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/StakingFlowModal/fields/ValidatorField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/StakingFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/StakingFlowModal/steps/StepAmount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/StakingFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/StakingFlowModal/steps/StepStake.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/StakingFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/UnstakingFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/UnstakingFlowModal/fields/Amount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/UnstakingFlowModal/fields/Validator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/UnstakingFlowModal/fields/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/UnstakingFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/UnstakingFlowModal/steps/Amount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/UnstakingFlowModal/steps/Confirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/UnstakingFlowModal/steps/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/UnstakingFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/WithdrawingFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/WithdrawingFlowModal/fields/Amount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/WithdrawingFlowModal/fields/Validator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/WithdrawingFlowModal/fields/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/WithdrawingFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/WithdrawingFlowModal/steps/Amount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/WithdrawingFlowModal/steps/Confirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/WithdrawingFlowModal/steps/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/WithdrawingFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/modals.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/operationDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/shared/components/LedgerValidatorIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/shared/components/ValidatorRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/near/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/AccountBalanceSummaryFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/AccountBodyHeader.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/AccountHeaderManageActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/BondFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/BondFlowModal/fields/AmountField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/BondFlowModal/fields/RewardDestinationField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/BondFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/BondFlowModal/steps/StepAmount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/BondFlowModal/steps/StepConfirmation.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":107,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":111,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import invariant from \"invariant\";\nimport { useSelector } from \"LLD/hooks/redux\";\nimport React, { useCallback, useRef } from \"react\";\nimport { Trans } from \"react-i18next\";\nimport styled from \"styled-components\";\nimport { usePolkadotBondLoading } from \"@ledgerhq/live-common/families/polkadot/react\";\nimport { isFirstBond } from \"@ledgerhq/live-common/families/polkadot/logic\";\nimport { accountSelector } from \"~/renderer/reducers/accounts\";\nimport TrackPage from \"~/renderer/analytics/TrackPage\";\nimport { multiline } from \"~/renderer/styles/helpers\";\nimport Box from \"~/renderer/components/Box\";\nimport Button from \"~/renderer/components/Button\";\nimport RetryButton from \"~/renderer/components/RetryButton\";\nimport ErrorDisplay from \"~/renderer/components/ErrorDisplay\";\nimport SuccessDisplay from \"~/renderer/components/SuccessDisplay\";\nimport BroadcastErrorDisclaimer from \"~/renderer/components/BroadcastErrorDisclaimer\";\nimport ToolTip from \"~/renderer/components/Tooltip\";\nimport Text from \"~/renderer/components/Text\";\nimport { OperationDetails } from \"~/renderer/drawers/OperationDetails\";\nimport { setDrawer } from \"~/renderer/drawers/Provider\";\nimport { StepProps } from \"../types\";\nimport { PolkadotAccount } from \"@ledgerhq/live-common/families/polkadot/types\";\nimport { State } from \"~/renderer/reducers\";\n\nconst Container = styled(Box).attrs(() => ({\n  alignItems: \"center\",\n  grow: true,\n  color: \"neutral.c100\",\n}))<{\n  shouldSpace?: boolean;\n}>`\n  justify-content: ${p => (p.shouldSpace ? \"space-between\" : \"center\")};\n  min-height: 220px;\n`;\nconst TooltipContent = () => (\n  <Box\n    style={{\n      padding: 4,\n    }}\n  >\n    <Text\n      style={{\n        marginBottom: 5,\n      }}\n    >\n      <Trans i18nKey=\"polkadot.bond.steps.confirmation.tooltip.title\" />\n    </Text>\n    <Text>\n      <Trans i18nKey=\"polkadot.bond.steps.confirmation.tooltip.desc\" />\n    </Text>\n  </Box>\n);\nfunction StepConfirmation({ account, t, optimisticOperation, error, signed }: StepProps) {\n  const wasFirstBond = useRef(account && isFirstBond(account));\n  if (optimisticOperation) {\n    return (\n      <Container>\n        <TrackPage\n          category=\"Bond Flow\"\n          name=\"Step Confirmed\"\n          flow=\"stake\"\n          action=\"bond\"\n          currency=\"dot\"\n        />\n        <SuccessDisplay\n          title={<Trans i18nKey=\"polkadot.bond.steps.confirmation.success.title\" />}\n          description={multiline(\n            wasFirstBond.current\n              ? t(\"polkadot.bond.steps.confirmation.success.textNominate\")\n              : t(\"polkadot.bond.steps.confirmation.success.text\"),\n          )}\n        />\n      </Container>\n    );\n  }\n  if (error) {\n    return (\n      <Container shouldSpace={signed}>\n        <TrackPage\n          category=\"Bond Flow\"\n          name=\"Step Confirmation Error\"\n          flow=\"stake\"\n          action=\"bond\"\n          currency=\"dot\"\n        />\n        {signed ? (\n          <BroadcastErrorDisclaimer\n            title={<Trans i18nKey=\"polkadot.bond.steps.confirmation.broadcastError\" />}\n          />\n        ) : null}\n        <ErrorDisplay error={error} withExportLogs />\n      </Container>\n    );\n  }\n  return null;\n}\nexport function StepConfirmationFooter({\n  account: initialAccount,\n  onRetry,\n  error,\n  openModal,\n  onClose,\n  optimisticOperation,\n}: StepProps) {\n  invariant(initialAccount && initialAccount.polkadotResources, \"polkadot account required\");\n  const wasFirstBond = useRef(initialAccount && isFirstBond(initialAccount));\n  const account = useSelector((s: State) =>\n    accountSelector(s, {\n      accountId: initialAccount.id,\n    }),\n  ) as PolkadotAccount;\n  invariant(account, \"polkadot account still exists\");\n  const isLoading = usePolkadotBondLoading(account);\n  const openNominate = useCallback(() => {\n    onClose();\n    if (account) {\n      openModal(\"MODAL_POLKADOT_NOMINATE\", {\n        account: account,\n      });\n    }\n  }, [account, onClose, openModal]);\n  const goToOperationDetails = useCallback(() => {\n    onClose();\n    if (account && optimisticOperation) {\n      setDrawer(OperationDetails, {\n        operationId: optimisticOperation.id,\n        accountId: account.id,\n      });\n    }\n  }, [account, optimisticOperation, onClose]);\n  if (error) {\n    return <RetryButton ml={2} primary onClick={onRetry} />;\n  }\n  return wasFirstBond.current ? (\n    <Box horizontal alignItems=\"right\">\n      <Button ml={2} onClick={onClose} secondary>\n        <Trans i18nKey=\"polkadot.bond.steps.confirmation.success.later\" />\n      </Button>\n      <ToolTip content={isLoading ? <TooltipContent /> : null}>\n        <Button ml={2} isLoading={isLoading} disabled={isLoading} primary onClick={openNominate}>\n          <Trans i18nKey=\"polkadot.bond.steps.confirmation.success.nominate\" />\n        </Button>\n      </ToolTip>\n    </Box>\n  ) : (\n    <Box horizontal alignItems=\"right\">\n      <Button data-testid=\"modal-close-button\" ml={2} onClick={onClose}>\n        <Trans i18nKey=\"common.close\" />\n      </Button>\n      {optimisticOperation ? (\n        // FIXME make a standalone component!\n        <Button\n          primary\n          ml={2}\n          event=\"Bond Flow Step 3 View OpD Clicked\"\n          onClick={goToOperationDetails}\n        >\n          <Trans i18nKey=\"polkadot.unbond.steps.confirmation.success.cta\" />\n        </Button>\n      ) : null}\n    </Box>\n  );\n}\nexport default StepConfirmation;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/BondFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/EarnRewardsInfoModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/ElectionStatusWarning.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/ManageModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/Nomination/Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/Nomination/Row.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/Nomination/UnsupportedWarning.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/Nomination/index.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":97,"column":22,"nodeType":"TSAsExpression","messageId":"never","endLine":97,"endColumn":49},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":98,"column":20,"nodeType":"TSAsExpression","messageId":"never","endLine":98,"endColumn":47}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback, useMemo } from \"react\";\nimport invariant from \"invariant\";\nimport { useDispatch, useSelector } from \"LLD/hooks/redux\";\nimport { Trans } from \"react-i18next\";\nimport styled from \"styled-components\";\nimport { formatCurrencyUnit } from \"@ledgerhq/live-common/currencies/index\";\nimport {\n  hasExternalController,\n  hasExternalStash,\n  canNominate,\n  hasPendingOperationType,\n} from \"@ledgerhq/live-common/families/polkadot/logic\";\nimport { usePolkadotPreloadData } from \"@ledgerhq/live-common/families/polkadot/react\";\nimport { getDefaultExplorerView, getAddressExplorer } from \"@ledgerhq/live-common/explorers\";\nimport { localeSelector } from \"~/renderer/reducers/settings\";\nimport { useDiscreetMode } from \"~/renderer/components/Discreet\";\nimport { urls } from \"~/config/urls\";\nimport { openURL } from \"~/renderer/linking\";\nimport { openModal } from \"~/renderer/actions/modals\";\nimport Text from \"~/renderer/components/Text\";\nimport Button from \"~/renderer/components/Button\";\nimport Box from \"~/renderer/components/Box\";\nimport Alert from \"~/renderer/components/Alert\";\nimport LinkWithExternalIcon from \"~/renderer/components/LinkWithExternalIcon\";\nimport ToolTip from \"~/renderer/components/Tooltip\";\nimport NominateIcon from \"~/renderer/icons/Vote\";\nimport RebondIcon from \"~/renderer/icons/LinkIcon\";\nimport WithdrawUnbondedIcon from \"~/renderer/icons/Coins\";\nimport ChartLineIcon from \"~/renderer/icons/ChartLine\";\nimport ElectionStatusWarning from \"../ElectionStatusWarning\";\nimport { Row, UnlockingRow } from \"./Row\";\nimport { Header, UnlockingHeader } from \"./Header\";\nimport CollapsibleList from \"../components/CollapsibleList\";\nimport {\n  ExternalControllerUnsupportedWarning,\n  ExternalStashUnsupportedWarning,\n} from \"./UnsupportedWarning\";\nimport TableContainer, { TableHeader } from \"~/renderer/components/TableContainer\";\nimport {\n  PolkadotAccount,\n  PolkadotNomination,\n  PolkadotUnlocking,\n  PolkadotValidator,\n} from \"@ledgerhq/live-common/families/polkadot/types\";\nimport { TokenAccount } from \"@ledgerhq/types-live\";\nimport { useAccountUnit } from \"~/renderer/hooks/useAccountUnit\";\nimport { useHistory } from \"react-router\";\n\ntype Props = {\n  account: PolkadotAccount | TokenAccount;\n};\nconst Wrapper = styled(Box).attrs(() => ({\n  p: 3,\n}))`\n  border-radius: 4px;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nexport type NominationValidator =\n  | {\n      nomination: PolkadotNomination;\n      validator?: PolkadotValidator;\n    }\n  | PolkadotUnlocking;\n\nconst Nomination = ({ account }: { account: PolkadotAccount }) => {\n  const history = useHistory();\n\n  const discreet = useDiscreetMode();\n  const locale = useSelector(localeSelector);\n  const unit = useAccountUnit(account);\n  const dispatch = useDispatch();\n  const { staking, validators } = usePolkadotPreloadData();\n  const { polkadotResources } = account;\n  invariant(polkadotResources, \"polkadot account expected\");\n  const { lockedBalance, unlockedBalance, nominations, unlockings } = polkadotResources;\n  const mappedNominations = useMemo(() => {\n    const all =\n      nominations?.map(nomination => {\n        const validator = validators.find(v => v.address === nomination.address);\n        return {\n          nomination,\n          validator,\n        };\n      }) || [];\n    return all?.reduce(\n      (sections, mapped) => {\n        if (mapped.nomination.status === \"active\") {\n          sections.uncollapsed.push(mapped);\n        } else {\n          sections.collapsed.push(mapped);\n        }\n        return sections;\n      },\n      {\n        uncollapsed: [] as NominationValidator[],\n        collapsed: [] as NominationValidator[],\n      },\n    );\n  }, [nominations, validators]);\n  const mappedUnlockings = useMemo(() => {\n    const now = new Date();\n    const withoutUnlocked = unlockings?.filter(({ completionDate }) => now < completionDate) ?? [];\n    const [firstRow, ...otherRows] =\n      unlockedBalance && unlockedBalance.gt(0)\n        ? [\n            {\n              amount: unlockedBalance,\n              completionDate: now,\n            },\n            ...withoutUnlocked,\n          ]\n        : withoutUnlocked;\n    return {\n      uncollapsed: firstRow ? [firstRow] : [],\n      collapsed: otherRows,\n    };\n  }, [unlockings, unlockedBalance]);\n  const onEarnRewards = useCallback(() => {\n    if ([\"polkadot\", \"assethub_polkadot\"].includes(account.currency.id)) {\n      history.push({\n        pathname: \"/platform/stakekit\",\n        state: {\n          yieldId: \"polkadot-dot-validator-staking\",\n          accountId: account.id,\n          returnTo: `/account/${account.id}`,\n        },\n      });\n    } else {\n      dispatch(\n        openModal(\"MODAL_POLKADOT_REWARDS_INFO\", {\n          account,\n        }),\n      );\n    }\n  }, [account, dispatch, history]);\n  const onNominate = useCallback(() => {\n    dispatch(\n      openModal(\"MODAL_POLKADOT_NOMINATE\", {\n        account,\n      }),\n    );\n  }, [account, dispatch]);\n  const onSetController = useCallback(() => {\n    dispatch(\n      openModal(\"MODAL_POLKADOT_SIMPLE_OPERATION\", {\n        mode: \"setController\",\n        account,\n      }),\n    );\n  }, [account, dispatch]);\n  const onWithdrawUnbonded = useCallback(() => {\n    dispatch(\n      openModal(\"MODAL_POLKADOT_SIMPLE_OPERATION\", {\n        mode: \"withdrawUnbonded\",\n        account,\n      }),\n    );\n  }, [account, dispatch]);\n  const onRebond = useCallback(() => {\n    dispatch(\n      openModal(\"MODAL_POLKADOT_REBOND\", {\n        account,\n      }),\n    );\n  }, [account, dispatch]);\n  const explorerView = getDefaultExplorerView(account.currency);\n  const onExternalLink = useCallback(\n    (address?: string | null) => {\n      if (!address) {\n        return;\n      }\n      const URL = explorerView && getAddressExplorer(explorerView, address);\n      if (URL) openURL(URL);\n    },\n    [explorerView],\n  );\n  const onLearnMore = useCallback(() => openURL(urls.stakingPolkadot), []);\n  const electionOpen = staking?.electionClosed !== undefined ? !staking?.electionClosed : false;\n  const hasBondedBalance = lockedBalance && lockedBalance.gt(0);\n  const hasUnlockedBalance = unlockedBalance && unlockedBalance.gt(0);\n  const hasNominations = nominations && nominations?.length > 0;\n  const hasUnlockings = unlockings && unlockings.length > 0;\n  const hasPendingBondOperation = hasPendingOperationType(account, \"BOND\");\n  const hasPendingWithdrawUnbondedOperation = hasPendingOperationType(account, \"WITHDRAW_UNBONDED\");\n  const nominateEnabled = !electionOpen && canNominate(account);\n  const withdrawEnabled =\n    !electionOpen && hasUnlockedBalance && !hasPendingWithdrawUnbondedOperation;\n  const renderNomination = useCallback(\n    (\n      { nomination, validator }: { nomination: PolkadotNomination; validator?: PolkadotValidator },\n      index: number,\n    ) => (\n      <Row\n        key={index}\n        account={account}\n        nomination={nomination}\n        validator={validator}\n        onExternalLink={onExternalLink}\n      />\n    ),\n    [account, onExternalLink],\n  );\n  const renderShowInactiveNominations = useCallback(\n    (collapsed: boolean) => (\n      <Trans\n        i18nKey={\n          collapsed\n            ? \"polkadot.nomination.showInactiveNominations\"\n            : \"polkadot.nomination.hideInactiveNominations\"\n        }\n        values={{\n          count: mappedNominations.collapsed.length,\n        }}\n      />\n    ),\n    [mappedNominations],\n  );\n  const renderUnlocking = useCallback(\n    (unlocking: PolkadotUnlocking, index: number) => (\n      <UnlockingRow key={index} account={account} unlocking={unlocking} />\n    ),\n    [account],\n  );\n  const renderShowAllUnlockings = useCallback(\n    (collapsed: boolean) => (\n      <Trans\n        i18nKey={\n          collapsed\n            ? \"polkadot.nomination.showAllUnlockings\"\n            : \"polkadot.nomination.hideAllUnlockings\"\n        }\n        values={{\n          count: mappedUnlockings.collapsed.length,\n        }}\n      />\n    ),\n    [mappedUnlockings],\n  );\n  if (hasExternalController(account)) {\n    return (\n      <TableContainer mb={6}>\n        <TableHeader\n          title={<Trans i18nKey=\"polkadot.nomination.header\" />}\n          titleProps={{\n            \"data-e2e\": \"title_Nomination\",\n          }}\n        />\n        <ExternalControllerUnsupportedWarning\n          controllerAddress={polkadotResources?.controller}\n          onExternalLink={onExternalLink}\n          onSetController={onSetController}\n        />\n      </TableContainer>\n    );\n  }\n  if (hasExternalStash(account)) {\n    return (\n      <TableContainer mb={6}>\n        <TableHeader\n          title={<Trans i18nKey=\"polkadot.nomination.header\" />}\n          titleProps={{\n            \"data-e2e\": \"title_Nomination\",\n          }}\n        />\n        <ExternalStashUnsupportedWarning\n          stashAddress={polkadotResources?.stash}\n          onExternalLink={onExternalLink}\n        />\n      </TableContainer>\n    );\n  }\n  return (\n    <>\n      {electionOpen ? <ElectionStatusWarning /> : null}\n      <TableContainer mb={6}>\n        <TableHeader\n          title={<Trans i18nKey=\"polkadot.nomination.header\" />}\n          titleProps={{\n            \"data-e2e\": \"title_Nomination\",\n          }}\n        >\n          {hasNominations ? (\n            <ToolTip\n              content={\n                !nominateEnabled && electionOpen ? (\n                  <Trans i18nKey=\"polkadot.nomination.electionOpenTooltip\" />\n                ) : null\n              }\n            >\n              <Button\n                id={\"account-nominate-button\"}\n                mr={2}\n                disabled={!nominateEnabled}\n                color=\"primary.c80\"\n                small\n                onClick={onNominate}\n              >\n                <Box horizontal flow={1} alignItems=\"center\">\n                  <NominateIcon size={12} />\n                  <Box>\n                    <Trans i18nKey=\"polkadot.nomination.nominate\" />\n                  </Box>\n                </Box>\n              </Button>\n            </ToolTip>\n          ) : null}\n        </TableHeader>\n        {hasNominations ? (\n          <CollapsibleList\n            collapsedItems={mappedNominations.collapsed}\n            uncollapsedItems={mappedNominations.uncollapsed}\n            // @ts-expect-error renderItem hell\n            renderItem={renderNomination}\n            renderShowMore={renderShowInactiveNominations}\n          >\n            <Header />\n            {!mappedNominations.uncollapsed.length && (\n              <Alert\n                type=\"warning\"\n                learnMoreUrl={urls.stakingPolkadot}\n                learnMoreLabel={<Trans i18nKey=\"polkadot.nomination.emptyState.info\" />}\n                learnMoreOnRight\n              >\n                <Trans i18nKey=\"polkadot.nomination.noActiveNominations\" />\n              </Alert>\n            )}\n          </CollapsibleList>\n        ) : (\n          <Wrapper horizontal>\n            <Box\n              style={{\n                maxWidth: \"65%\",\n              }}\n            >\n              <Text ff=\"Inter|Medium|SemiBold\" color=\"neutral.c70\" fontSize={4}>\n                <Trans\n                  i18nKey=\"polkadot.nomination.emptyState.description\"\n                  values={{\n                    name: account.currency.name,\n                  }}\n                />\n              </Text>\n              <Box mt={2}>\n                <LinkWithExternalIcon\n                  label={<Trans i18nKey=\"polkadot.nomination.emptyState.info\" />}\n                  onClick={onLearnMore}\n                />\n              </Box>\n            </Box>\n            <Box>\n              {!hasBondedBalance && !hasPendingBondOperation ? (\n                <ToolTip\n                  content={\n                    electionOpen ? (\n                      <Trans i18nKey=\"polkadot.nomination.electionOpenTooltip\" />\n                    ) : null\n                  }\n                >\n                  <Button primary small disabled={electionOpen} onClick={onEarnRewards}>\n                    <Box horizontal flow={1} alignItems=\"center\">\n                      <ChartLineIcon size={12} />\n                      <Box>\n                        <Trans i18nKey=\"delegation.title\" />\n                      </Box>\n                    </Box>\n                  </Button>\n                </ToolTip>\n              ) : (\n                <ToolTip\n                  content={\n                    !nominateEnabled && electionOpen ? (\n                      <Trans i18nKey=\"polkadot.nomination.electionOpenTooltip\" />\n                    ) : !nominateEnabled && hasPendingBondOperation ? (\n                      <Trans i18nKey=\"polkadot.nomination.hasPendingBondOperation\" />\n                    ) : null\n                  }\n                >\n                  <Button primary small disabled={!nominateEnabled} onClick={onNominate}>\n                    <Box horizontal flow={1} alignItems=\"center\">\n                      <NominateIcon size={12} />\n                      <Box>\n                        <Trans i18nKey=\"polkadot.nomination.nominate\" />\n                      </Box>\n                    </Box>\n                  </Button>\n                </ToolTip>\n              )}\n            </Box>\n          </Wrapper>\n        )}\n      </TableContainer>\n      {hasUnlockings ? (\n        <TableContainer mb={6}>\n          <TableHeader\n            title={<Trans i18nKey=\"polkadot.unlockings.header\" />}\n            titleProps={{\n              \"data-e2e\": \"title_Unlockings\",\n            }}\n            tooltip={<Trans i18nKey=\"polkadot.unlockings.headerTooltip\" />}\n          >\n            <ToolTip\n              content={\n                electionOpen ? <Trans i18nKey=\"polkadot.nomination.electionOpenTooltip\" /> : null\n              }\n            >\n              <Button\n                id={\"account-rebond-button\"}\n                disabled={electionOpen}\n                mr={2}\n                color=\"primary.c80\"\n                small\n                onClick={onRebond}\n              >\n                <Box horizontal flow={1} alignItems=\"center\">\n                  <RebondIcon size={12} />\n                  <Box>\n                    <Trans i18nKey=\"polkadot.unlockings.rebond\" />\n                  </Box>\n                </Box>\n              </Button>\n            </ToolTip>\n            <ToolTip\n              content={\n                withdrawEnabled ? (\n                  <Trans i18nKey=\"polkadot.unlockings.withdrawTooltip\" />\n                ) : (\n                  <Trans\n                    i18nKey={\n                      electionOpen\n                        ? \"polkadot.nomination.electionOpenTooltip\"\n                        : \"polkadot.unlockings.noUnlockedWarning\"\n                    }\n                  />\n                )\n              }\n            >\n              <Button\n                id={\"account-withdraw-button\"}\n                disabled={!withdrawEnabled}\n                color=\"primary.c80\"\n                small\n                onClick={onWithdrawUnbonded}\n              >\n                <Box horizontal flow={1} alignItems=\"center\">\n                  <WithdrawUnbondedIcon size={12} />\n                  <Box>\n                    <Trans\n                      i18nKey=\"polkadot.unlockings.withdrawUnbonded\"\n                      values={{\n                        amount: formatCurrencyUnit(unit, unlockedBalance, {\n                          showCode: true,\n                          discreet,\n                          locale,\n                        }),\n                      }}\n                    />\n                  </Box>\n                </Box>\n              </Button>\n            </ToolTip>\n          </TableHeader>\n          <CollapsibleList\n            uncollapsedItems={mappedUnlockings.uncollapsed}\n            collapsedItems={mappedUnlockings.collapsed}\n            // @ts-expect-error renderItem hell\n            renderItem={renderUnlocking}\n            renderShowMore={renderShowAllUnlockings}\n          >\n            <UnlockingHeader />\n          </CollapsibleList>\n        </TableContainer>\n      ) : null}\n    </>\n  );\n};\nconst Nominations = ({ account }: Props) => {\n  if (account.type !== \"Account\") return null;\n  return <Nomination account={account} />;\n};\nexport default Nominations;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/NominationFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/NominationFlowModal/fields/ValidatorRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/NominationFlowModal/fields/ValidatorsField.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":90,"column":26,"nodeType":"TSAsExpression","messageId":"never","endLine":90,"endColumn":57,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":92,"column":39,"nodeType":"TSAsExpression","messageId":"never","endLine":92,"endColumn":70,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/NominationFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/NominationFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/NominationFlowModal/steps/StepNomination.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/NominationFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/RebondFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/RebondFlowModal/fields/AmountField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/RebondFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/RebondFlowModal/steps/StepAmount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/RebondFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/RebondFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/SimpleOperationFlowModal/Body.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":71,"column":26,"nodeType":"TSAsExpression","messageId":"never","endLine":71,"endColumn":57},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":72,"column":39,"nodeType":"TSAsExpression","messageId":"never","endLine":72,"endColumn":70}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import invariant from \"invariant\";\nimport React, { useState, useCallback } from \"react\";\nimport { compose } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { useDispatch } from \"LLD/hooks/redux\";\nimport { Trans, withTranslation } from \"react-i18next\";\nimport { TFunction } from \"i18next\";\nimport { createStructuredSelector } from \"reselect\";\nimport { SyncSkipUnderPriority } from \"@ledgerhq/live-common/bridge/react/index\";\nimport Track from \"~/renderer/analytics/Track\";\nimport { UserRefusedOnDevice } from \"@ledgerhq/errors\";\nimport { getAccountBridge } from \"@ledgerhq/live-common/bridge/index\";\nimport useBridgeTransaction from \"@ledgerhq/live-common/bridge/useBridgeTransaction\";\nimport { StepId, StepProps, St, Mode } from \"./types\";\nimport { Account, Operation } from \"@ledgerhq/types-live\";\nimport { Device } from \"@ledgerhq/live-common/hw/actions/types\";\nimport { addPendingOperation } from \"@ledgerhq/live-common/account/index\";\nimport { updateAccountWithUpdater } from \"~/renderer/actions/accounts\";\nimport { getCurrentDevice } from \"~/renderer/reducers/devices\";\nimport { OpenModal, openModal } from \"~/renderer/actions/modals\";\n\nimport Stepper from \"~/renderer/components/Stepper\";\nimport StepInfo, { StepInfoFooter } from \"./steps/StepInfo\";\nimport GenericStepConnectDevice from \"~/renderer/modals/Send/steps/GenericStepConnectDevice\";\nimport StepConfirmation, { StepConfirmationFooter } from \"./steps/StepConfirmation\";\nimport logger from \"~/renderer/logger\";\nimport { PolkadotAccount, TransactionStatus } from \"@ledgerhq/live-common/families/polkadot/types\";\n\nexport type Data = {\n  account: PolkadotAccount;\n  mode: Mode;\n};\n\ntype OwnProps = {\n  stepId: StepId;\n  onClose: () => void;\n  onChangeStepId: (a: StepId) => void;\n  params: Data;\n  mode: Mode; // FIXME antipattern, it's already in params\n};\ntype StateProps = {\n  t: TFunction;\n  device: Device | undefined | null;\n  accounts: Account[];\n  openModal: OpenModal;\n};\ntype Props = OwnProps & StateProps;\nconst steps: Array<St> = [\n  {\n    id: \"info\",\n    label: <Trans i18nKey=\"polkadot.simpleOperation.steps.info.title\" />,\n    component: StepInfo,\n    footer: StepInfoFooter,\n  },\n  {\n    id: \"connectDevice\",\n    label: <Trans i18nKey=\"polkadot.simpleOperation.steps.connectDevice.title\" />,\n    component: GenericStepConnectDevice,\n    onBack: ({ transitionTo }: StepProps) => transitionTo(\"info\"),\n  },\n  {\n    id: \"confirmation\",\n    label: <Trans i18nKey=\"polkadot.simpleOperation.steps.confirmation.title\" />,\n    component: StepConfirmation,\n    footer: StepConfirmationFooter,\n  },\n];\n\n// returns the first error\nfunction getStatusError(status: TransactionStatus, type = \"errors\"): Error | undefined | null {\n  if (!status || !status[type as keyof TransactionStatus]) return null;\n  const firstKey = Object.keys(status[type as keyof TransactionStatus]!)[0];\n  // @ts-expect-error This is complicated to prove that type / firstKey are the right keys\n  return firstKey ? status[type][firstKey] : null;\n}\n\nconst mapStateToProps = createStructuredSelector({\n  device: getCurrentDevice,\n});\nconst mapDispatchToProps = {\n  openModal,\n};\nconst Body = ({ t, stepId, device, openModal, onChangeStepId, params, onClose, mode }: Props) => {\n  const [optimisticOperation, setOptimisticOperation] = useState<Operation | null>(null);\n  const [transactionError, setTransactionError] = useState<Error | null>(null);\n  const [signed, setSigned] = useState(false);\n  const dispatch = useDispatch();\n  const {\n    transaction,\n    setTransaction,\n    updateTransaction,\n    account,\n    parentAccount,\n    status,\n    bridgeError,\n    bridgePending,\n  } = useBridgeTransaction(() => {\n    const { account } = params;\n    invariant(account, \"polkadot: account required\");\n    const bridge = getAccountBridge(account, undefined);\n    const t = bridge.createTransaction(account);\n    const transaction = bridge.updateTransaction(t, {\n      mode,\n    });\n    return {\n      account,\n      parentAccount: undefined,\n      transaction,\n    };\n  });\n\n  const handleStepChange = useCallback((e: St) => onChangeStepId(e.id), [onChangeStepId]);\n  const handleRetry = useCallback(() => {\n    setTransactionError(null);\n    onChangeStepId(\"connectDevice\");\n  }, [onChangeStepId]);\n  const handleTransactionError = useCallback((error: Error) => {\n    if (!(error instanceof UserRefusedOnDevice)) {\n      logger.critical(error);\n    }\n    setTransactionError(error);\n  }, []);\n  const handleOperationBroadcasted = useCallback(\n    (optimisticOperation: Operation) => {\n      if (!account) return;\n      dispatch(\n        updateAccountWithUpdater(account.id, account =>\n          addPendingOperation(account, optimisticOperation),\n        ),\n      );\n      setOptimisticOperation(optimisticOperation);\n      setTransactionError(null);\n    },\n    [account, dispatch],\n  );\n  const error = transactionError || bridgeError || getStatusError(status, \"errors\");\n  const warning = getStatusError(status, \"warnings\");\n  const errorSteps = [];\n  if (transactionError) {\n    errorSteps.push(2);\n  } else if (bridgeError) {\n    errorSteps.push(0);\n  }\n  const title = t(`polkadot.simpleOperation.modes.${mode}.title`);\n  const stepperProps = {\n    title,\n    device,\n    account,\n    parentAccount,\n    transaction,\n    signed,\n    stepId,\n    steps,\n    errorSteps,\n    disabledSteps: [],\n    hideBreadcrumb: !!error || !!warning,\n    onRetry: handleRetry,\n    onStepChange: handleStepChange,\n    onClose,\n    error,\n    warning,\n    status,\n    optimisticOperation,\n    openModal,\n    setSigned,\n    onChangeTransaction: setTransaction,\n    onUpdateTransaction: updateTransaction,\n    onOperationBroadcasted: handleOperationBroadcasted,\n    onTransactionError: handleTransactionError,\n    t,\n    bridgePending,\n    mode,\n  };\n  return (\n    <Stepper {...stepperProps}>\n      <SyncSkipUnderPriority priority={100} />\n      <Track onUnmount event=\"CloseModalSimpleOperation\" />\n    </Stepper>\n  );\n};\nconst C = compose<React.ComponentType<OwnProps>>(\n  connect(mapStateToProps, mapDispatchToProps),\n  withTranslation(),\n)(Body);\nexport default C;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/SimpleOperationFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/SimpleOperationFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/SimpleOperationFlowModal/steps/StepInfo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/SimpleOperationFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/TransactionConfirmFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/UnbondFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/UnbondFlowModal/fields/AmountField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/UnbondFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/UnbondFlowModal/steps/StepAmount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/UnbondFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/UnbondFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/components/CollapsibleList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/modals.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/polkadot/operationDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/AccountBalanceSummaryFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/AccountBodyHeader.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/AccountHeaderManageActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/AccountSubHeader.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":36,"column":25,"nodeType":"TSAsExpression","messageId":"never","endLine":36,"endColumn":54}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { Trans } from \"react-i18next\";\nimport { SolanaAccount, SolanaTokenAccount } from \"@ledgerhq/live-common/families/solana/types\";\nimport {\n  getTokenExtensions,\n  isTokenAccountFrozen,\n} from \"@ledgerhq/live-common/families/solana/token\";\nimport { TokenAccount } from \"@ledgerhq/types-live\";\n\nimport Box from \"~/renderer/components/Box\";\nimport Alert from \"~/renderer/components/Alert\";\nimport AccountSubHeader from \"../../components/AccountSubHeader/index\";\nimport TokenExtensionsInfoBox from \"./Token2022/TokenExtensionsInfoBox\";\n\ntype Account = SolanaAccount | SolanaTokenAccount | TokenAccount;\n\ntype Props = {\n  account: Account;\n};\n\nexport default function SolanaAccountSubHeader({ account }: Props) {\n  const tokenExtensions = getTokenExtensions(account);\n  return (\n    <>\n      <AccountSubHeader family=\"Solana\" team=\"Solana Labs\"></AccountSubHeader>\n      {isTokenAccountFrozen(account) && (\n        <Box mb={10}>\n          <Alert type=\"warning\">\n            <Trans i18nKey=\"solana.token.frozenStateWarning\" />\n          </Alert>\n        </Box>\n      )}\n      {!!tokenExtensions && (\n        <TokenExtensionsInfoBox\n          mb={3}\n          tokenAccount={account as SolanaTokenAccount}\n          extensions={tokenExtensions}\n        />\n      )}\n    </>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/Delegation/Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/Delegation/Row.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/Delegation/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationActivateFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationActivateFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationActivateFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationActivateFlowModal/steps/StepValidator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationActivateFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationDeactivateFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationDeactivateFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationDeactivateFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationDeactivateFlowModal/steps/StepValidator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationDeactivateFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationFlowModal/Info/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationFlowModal/steps/StepAmount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationFlowModal/steps/StepConfirmation.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":39,"column":27,"nodeType":"TSAsExpression","messageId":"never","endLine":39,"endColumn":98}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { SyncOneAccountOnMount } from \"@ledgerhq/live-common/bridge/react/index\";\nimport { useValidators } from \"@ledgerhq/live-common/families/solana/react\";\nimport { StakeCreateAccountTransaction } from \"@ledgerhq/live-common/families/solana/types\";\nimport React, { useEffect } from \"react\";\nimport { Trans } from \"react-i18next\";\nimport styled from \"styled-components\";\nimport TrackPage from \"~/renderer/analytics/TrackPage\";\nimport { track } from \"~/renderer/analytics/segment\";\nimport Box from \"~/renderer/components/Box\";\nimport BroadcastErrorDisclaimer from \"~/renderer/components/BroadcastErrorDisclaimer\";\nimport Button from \"~/renderer/components/Button\";\nimport ErrorDisplay from \"~/renderer/components/ErrorDisplay\";\nimport RetryButton from \"~/renderer/components/RetryButton\";\nimport SuccessDisplay from \"~/renderer/components/SuccessDisplay\";\nimport { OperationDetails } from \"~/renderer/drawers/OperationDetails\";\nimport { setDrawer } from \"~/renderer/drawers/Provider\";\nimport { multiline } from \"~/renderer/styles/helpers\";\nimport { StepProps } from \"../types\";\n\nconst Container = styled(Box).attrs(() => ({\n  alignItems: \"center\",\n  grow: true,\n  color: \"neutral.c100\",\n}))<{\n  shouldSpace?: boolean;\n}>`\n  justify-content: ${p => (p.shouldSpace ? \"space-between\" : \"center\")};\n`;\n\nfunction StepConfirmation({\n  t,\n  optimisticOperation,\n  error,\n  signed,\n  transaction,\n  source,\n  account,\n}: StepProps) {\n  const voteAccAddress = (transaction?.model?.uiState as StakeCreateAccountTransaction[\"uiState\"])\n    ?.delegate?.voteAccAddress;\n  const validators = useValidators(account.currency);\n  useEffect(() => {\n    if (optimisticOperation && voteAccAddress && validators) {\n      const chosenValidator = validators.find(v => v.voteAccount === voteAccAddress);\n      track(\"staking_completed\", {\n        currency: \"SOL\",\n        validator: chosenValidator?.name || voteAccAddress,\n        source,\n        delegation: \"delegation\",\n        flow: \"stake\",\n      });\n    }\n  }, [optimisticOperation, account.currency, voteAccAddress, validators, source]);\n\n  if (optimisticOperation) {\n    return (\n      <Container>\n        <TrackPage\n          category=\"Solana Delegation\"\n          name=\"Step Confirmation\"\n          flow=\"stake\"\n          action=\"delegation\"\n          currency=\"sol\"\n        />\n        <SyncOneAccountOnMount\n          reason=\"transaction-flow-confirmation\"\n          priority={10}\n          accountId={optimisticOperation.accountId}\n        />\n        <SuccessDisplay\n          title={<Trans i18nKey=\"solana.delegation.flow.steps.confirmation.success.title\" />}\n          description={multiline(t(\"solana.delegation.statusUpdateNotice\"))}\n        />\n      </Container>\n    );\n  }\n  if (error) {\n    return (\n      <Container shouldSpace={signed}>\n        <TrackPage\n          category=\"Delegation Solana\"\n          name=\"Step Confirmation Error\"\n          flow=\"stake\"\n          action=\"delegation\"\n          currency=\"sol\"\n        />\n        {signed ? (\n          <BroadcastErrorDisclaimer title={<Trans i18nKey=\"solana.common.broadcastError\" />} />\n        ) : null}\n        <ErrorDisplay error={error} withExportLogs />\n      </Container>\n    );\n  }\n  return null;\n}\nexport function StepConfirmationFooter({\n  account,\n  onRetry,\n  error,\n  onClose,\n  optimisticOperation,\n}: StepProps) {\n  return (\n    <Box horizontal alignItems=\"right\">\n      <Button data-testid=\"modal-close-button\" ml={2} onClick={onClose}>\n        <Trans i18nKey=\"common.close\" />\n      </Button>\n      {optimisticOperation ? (\n        <Button\n          primary\n          ml={2}\n          event=\"Solana Delegation View OpD Clicked\"\n          onClick={() => {\n            onClose();\n            if (account && optimisticOperation) {\n              setDrawer(OperationDetails, {\n                operationId: optimisticOperation.id,\n                accountId: account.id,\n              });\n            }\n          }}\n        >\n          <Trans i18nKey=\"solana.common.viewDetails\" />\n        </Button>\n      ) : error ? (\n        <RetryButton primary ml={2} onClick={onRetry} />\n      ) : null}\n    </Box>\n  );\n}\nexport default StepConfirmation;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationFlowModal/steps/StepValidator.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":45,"column":30,"nodeType":"TSAsExpression","messageId":"never","endLine":45,"endColumn":99}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { getAccountBridge } from \"@ledgerhq/live-common/bridge/index\";\nimport {\n  StakeCreateAccountTransaction,\n  Transaction,\n} from \"@ledgerhq/live-common/families/solana/types\";\nimport { AccountBridge } from \"@ledgerhq/types-live\";\nimport invariant from \"invariant\";\nimport React from \"react\";\nimport { Trans } from \"react-i18next\";\nimport TrackPage from \"~/renderer/analytics/TrackPage\";\nimport Box from \"~/renderer/components/Box\";\nimport Button from \"~/renderer/components/Button\";\nimport ErrorBanner from \"~/renderer/components/ErrorBanner\";\nimport LedgerValidatorTCLink from \"../../shared/components/LedgerValidatorTCLink\";\nimport ValidatorsField from \"../../shared/fields/ValidatorsField\";\nimport { StepProps } from \"../types\";\n\nexport default function StepValidator({\n  account,\n  parentAccount,\n  onUpdateTransaction,\n  transaction,\n  status,\n  error,\n}: StepProps) {\n  invariant(\n    account && account.solanaResources && transaction,\n    \"solana account, resources and transaction required\",\n  );\n  const updateValidator = ({ address }: { address: string }) => {\n    const bridge: AccountBridge<Transaction> = getAccountBridge(account, parentAccount);\n    onUpdateTransaction(_tx => {\n      return bridge.updateTransaction(transaction, {\n        model: {\n          kind: \"stake.createAccount\",\n          uiState: {\n            delegate: {\n              voteAccAddress: address,\n            },\n          },\n        },\n      });\n    });\n  };\n  const chosenVoteAccAddr = (transaction.model.uiState as StakeCreateAccountTransaction[\"uiState\"])\n    .delegate?.voteAccAddress;\n  return (\n    <Box flow={1}>\n      <TrackPage\n        category=\"Delegation Flow\"\n        name=\"Step Starter\"\n        flow=\"stake\"\n        action=\"delegation\"\n        currency=\"sol\"\n        type=\"modal\"\n        page=\"Step Validator\"\n      />\n      {error && <ErrorBanner error={error} />}\n      {status.errors.sender && <ErrorBanner error={status.errors.sender} />}\n      {status ? (\n        <ValidatorsField\n          account={account}\n          chosenVoteAccAddr={chosenVoteAccAddr}\n          onChangeValidator={updateValidator}\n        />\n      ) : null}\n    </Box>\n  );\n}\nexport function StepValidatorFooter({\n  transitionTo,\n  onClose,\n  status,\n  bridgePending,\n  transaction,\n}: StepProps) {\n  const { errors } = status;\n  const canNext = !bridgePending && !errors.voteAccAddr && !errors.sender;\n  if (!transaction) return null;\n  return (\n    <>\n      <LedgerValidatorTCLink transaction={transaction} />\n\n      <Box horizontal>\n        <Button mr={1} secondary onClick={onClose}>\n          <Trans i18nKey=\"common.cancel\" />\n        </Button>\n        <Button\n          id=\"delegate-continue-button\"\n          disabled={!canNext}\n          isLoading={bridgePending}\n          primary\n          onClick={() => transitionTo(\"amount\")}\n        >\n          <Trans i18nKey=\"common.continue\" />\n        </Button>\n      </Box>\n    </>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationReactivateFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationReactivateFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationReactivateFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationReactivateFlowModal/steps/StepValidator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationReactivateFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationWithdrawFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationWithdrawFlowModal/fields/AmountField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationWithdrawFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationWithdrawFlowModal/steps/StepAmount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationWithdrawFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/DelegationWithdrawFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/MemoValueField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/SendAmountFields.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":20,"column":12,"nodeType":"TSAsExpression","messageId":"never","endLine":20,"endColumn":87}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useMemo } from \"react\";\nimport type { SolanaTokenAccount } from \"@ledgerhq/live-common/families/solana/types\";\nimport { findSubAccountById } from \"@ledgerhq/coin-framework/account/helpers\";\nimport TokenTransferFeesWarning from \"./Token2022/TokenTransferFeesWarning\";\nimport { SolanaFamily } from \"./types\";\n\n/**\n * SendAmountFields\n *\n * This component warns users willing to send tokens with transfer\n * fees extensions, and dynamically displays the computed amount.\n */\nconst SendAmountFields: NonNullable<SolanaFamily[\"sendAmountFields\"]>[\"component\"] = ({\n  account,\n  transaction,\n}) => {\n  const tokenAccount = useMemo(\n    () =>\n      transaction.subAccountId\n        ? (findSubAccountById(account, transaction.subAccountId) as SolanaTokenAccount)\n        : undefined,\n    [account, transaction.subAccountId],\n  );\n\n  return (\n    <>\n      {tokenAccount ? (\n        <TokenTransferFeesWarning tokenAccount={tokenAccount} transaction={transaction} />\n      ) : null}\n    </>\n  );\n};\n\nexport default {\n  component: SendAmountFields,\n  fields: [],\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/SendRecipientFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/StakeBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/StepSummaryAdditionalRows.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":31,"column":12,"nodeType":"TSAsExpression","messageId":"never","endLine":31,"endColumn":91}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useMemo } from \"react\";\nimport { Trans } from \"react-i18next\";\nimport BigNumber from \"bignumber.js\";\nimport {\n  Transaction,\n  SolanaAccount,\n  SolanaTokenAccount,\n  TransferFeeCalculated,\n} from \"@ledgerhq/live-common/families/solana/types\";\nimport { TokenAccount } from \"@ledgerhq/types-live\";\nimport { findSubAccountById, getMainAccount } from \"@ledgerhq/live-common/account/index\";\nimport Text from \"~/renderer/components/Text\";\nimport Box from \"~/renderer/components/Box\";\nimport { useAccountUnit } from \"~/renderer/hooks/useAccountUnit\";\nimport FormattedVal from \"~/renderer/components/FormattedVal\";\nimport CounterValue from \"~/renderer/components/CounterValue\";\n\ntype Account = SolanaAccount | SolanaTokenAccount | TokenAccount;\n\ntype Props = {\n  account: Account;\n  parentAccount: SolanaAccount | null | undefined;\n  transaction: Transaction;\n};\n\nconst StepSummaryAdditionalRows = ({ account, parentAccount, transaction }: Props) => {\n  const mainAccount = getMainAccount(account, parentAccount);\n  const tokenAccount = useMemo(\n    () =>\n      transaction.subAccountId\n        ? (findSubAccountById(mainAccount, transaction.subAccountId) as SolanaTokenAccount)\n        : undefined,\n    [mainAccount, transaction.subAccountId],\n  );\n\n  const transferFees =\n    transaction.model.commandDescriptor?.command.kind === \"token.transfer\"\n      ? transaction.model.commandDescriptor.command.extensions?.transferFee\n      : undefined;\n\n  return (\n    <>\n      {!!(transferFees && transferFees.feeBps > 0 && tokenAccount) && (\n        <TransferFeeAdditionalRows\n          transferFees={transferFees}\n          tokenAccount={tokenAccount}\n          transaction={transaction}\n        />\n      )}\n    </>\n  );\n};\n\nfunction TransferFeeAdditionalRows({\n  transferFees,\n  tokenAccount,\n}: {\n  transferFees: TransferFeeCalculated;\n  tokenAccount: SolanaTokenAccount;\n  transaction: Transaction;\n}) {\n  const unit = useAccountUnit(tokenAccount);\n  return (\n    <>\n      <Box horizontal justifyContent=\"space-between\" alignItems=\"center\" mt={10} mb={20}>\n        <Text ff=\"Inter|Medium\" color=\"neutral.c60\" fontSize={4}>\n          <Trans i18nKey=\"solana.token.transferFees.transferFeesLabel\" />\n        </Text>\n        <Box>\n          <FormattedVal\n            color=\"neutral.c80\"\n            disableRounding\n            unit={unit}\n            alwaysShowValue\n            val={new BigNumber(transferFees.transferFee)}\n            fontSize={4}\n            inline\n            showCode\n          />\n          <Box textAlign=\"right\">\n            <CounterValue\n              color=\"neutral.c70\"\n              fontSize={3}\n              currency={tokenAccount.token}\n              value={new BigNumber(transferFees.transferFee)}\n              alwaysShowSign={false}\n              alwaysShowValue\n            />\n          </Box>\n        </Box>\n      </Box>\n    </>\n  );\n}\n\nexport default StepSummaryAdditionalRows;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/Token2022/TokenExtensionsInfoBox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/Token2022/TokenExtensionsInfoDrawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/Token2022/TokenTransferFeesWarning.test.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":12,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":16,"endColumn":45,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":12,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":16,"endColumn":23,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":20,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":34,"endColumn":38,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":20,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":34,"endColumn":23,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":49,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":53,"endColumn":45,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":49,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":53,"endColumn":23,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":57,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":66,"endColumn":38,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":57,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":66,"endColumn":23,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/Token2022/TokenTransferFeesWarning.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/TransactionConfirmFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/modals.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/operationDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/shared/components/ErrorDisplay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/shared/components/LedgerValidatorTCLink.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/shared/components/ValidatorRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/shared/fields/ValidatorsField.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has a missing dependency: 'validators'. Either include it or remove the dependency array.","line":49,"column":6,"nodeType":"ArrayExpression","endLine":49,"endColumn":25,"suggestions":[{"desc":"Update the dependencies array to be: [chosenVoteAccAddr, validators]","fix":{"range":[2018,2037],"text":"[chosenVoteAccAddr, validators]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/solana/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/stacks/AccountSubHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/stacks/MemoValueField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/stacks/SendRecipientFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/stacks/TransactionConfirmFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/stacks/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/stacks/operationDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/stellar/AccountSubHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/stellar/AddAssetModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/stellar/AddAssetModal/fields/AssetSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/stellar/AddAssetModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/stellar/AddAssetModal/steps/StepAsset.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/stellar/AddAssetModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/stellar/AddAssetModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/stellar/FeeField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/stellar/MemoTypeField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/stellar/MemoValueField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/stellar/SendAmountFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/stellar/SendFeeMode.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/stellar/SendRecipientFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/stellar/TokenList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/stellar/TransactionConfirmFields.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":25,"column":32,"nodeType":"TSAsExpression","messageId":"never","endLine":25,"endColumn":85}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import invariant from \"invariant\";\nimport React from \"react\";\nimport { Transaction } from \"@ledgerhq/live-common/families/stellar/types\";\nimport styled from \"styled-components\";\nimport TransactionConfirmField from \"~/renderer/components/TransactionConfirm/TransactionConfirmField\";\nimport Text from \"~/renderer/components/Text\";\nimport { StellarFieldComponentProps } from \"./types\";\nconst deviceMemoLabels = {\n  MEMO_TEXT: \"Memo Text\",\n  NO_MEMO: \"Memo\",\n  MEMO_ID: \"Memo ID\",\n  MEMO_HASH: \"Memo Hash\",\n  MEMO_RETURN: \"Memo Return\",\n};\n\nconst WrappedAssetIssuer = styled(Text)`\n  word-break: break-all;\n  text-align: right;\n  flex: 1;\n  padding-left: 20px;\n`;\nconst StellarMemoField = ({ transaction }: { transaction: Transaction }) => {\n  return (\n    <TransactionConfirmField\n      label={deviceMemoLabels[(transaction.memoType as keyof typeof deviceMemoLabels) || \"NO_MEMO\"]}\n    >\n      <Text\n        style={{\n          wordBreak: \"break-all\",\n          textAlign: \"right\",\n          maxWidth: \"70%\",\n        }}\n        ml={1}\n        ff=\"Inter|Medium\"\n        color=\"neutral.c80\"\n        fontSize={3}\n      >\n        {transaction.memoValue ? `${transaction.memoValue} ` : \"[none]\"}\n      </Text>\n    </TransactionConfirmField>\n  );\n};\n\n// NB once we support other networks, we can make this not hardcoded.\nconst StellarNetworkField = ({ field }: StellarFieldComponentProps) => (\n  <TransactionConfirmField label={field.label}>\n    <Text ff=\"Inter|Medium\" color=\"neutral.c80\" fontSize={3}>\n      {\"Public\"}\n    </Text>\n  </TransactionConfirmField>\n);\nconst StellarAssetCodeField = ({ transaction, field }: StellarFieldComponentProps) => {\n  invariant(transaction.family === \"stellar\", \"stellar transaction\");\n  return (\n    <TransactionConfirmField label={field.label}>\n      <Text ff=\"Inter|Medium\" color=\"neutral.c80\" fontSize={3}>\n        {transaction.assetReference}\n      </Text>\n    </TransactionConfirmField>\n  );\n};\nconst StellarAssetIssuerField = ({ transaction, field }: StellarFieldComponentProps) => {\n  invariant(transaction.family === \"stellar\", \"stellar transaction\");\n  return (\n    <TransactionConfirmField label={field.label}>\n      <WrappedAssetIssuer ff=\"Inter|Medium\" color=\"neutral.c80\" fontSize={3}>\n        {transaction.assetOwner}\n      </WrappedAssetIssuer>\n    </TransactionConfirmField>\n  );\n};\nconst fieldComponents = {\n  \"stellar.memo\": StellarMemoField,\n  \"stellar.network\": StellarNetworkField,\n  \"stellar.assetCode\": StellarAssetCodeField,\n  \"stellar.assetIssuer\": StellarAssetIssuerField,\n};\nexport default {\n  fieldComponents,\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/stellar/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/stellar/modals.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/stellar/operationDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/stellar/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/AccountBalanceSummaryFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/AccountBodyHeader.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/AccountHeaderManageActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/Delegation/Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/Delegation/Row.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/Delegation/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/DelegationFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/DelegationFlowModal/components/LedgerByFigmentTCLink.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/DelegationFlowModal/fields/ValidatorField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/DelegationFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/DelegationFlowModal/steps/StepAmount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/DelegationFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/DelegationFlowModal/steps/StepStake.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/DelegationFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/UnstakingFlowModal/Body.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":108,"column":20,"nodeType":"TSAsExpression","messageId":"never","endLine":108,"endColumn":47}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { UserRefusedOnDevice } from \"@ledgerhq/errors\";\nimport { addPendingOperation } from \"@ledgerhq/live-common/account/index\";\nimport { getAccountBridge } from \"@ledgerhq/live-common/bridge/index\";\nimport { SyncSkipUnderPriority } from \"@ledgerhq/live-common/bridge/react/index\";\nimport useBridgeTransaction from \"@ledgerhq/live-common/bridge/useBridgeTransaction\";\nimport { SuiAccount, Transaction } from \"@ledgerhq/live-common/families/sui/types\";\nimport { AccountBridge, Operation, Account } from \"@ledgerhq/types-live\";\nimport React, { useCallback, useState } from \"react\";\nimport { Trans, withTranslation } from \"react-i18next\";\nimport { TFunction } from \"i18next\";\nimport { connect } from \"react-redux\";\nimport { useDispatch } from \"LLD/hooks/redux\";\nimport { compose } from \"redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport logger from \"~/renderer/logger\";\nimport { updateAccountWithUpdater } from \"~/renderer/actions/accounts\";\nimport { OpenModal, openModal } from \"~/renderer/actions/modals\";\n\nimport Track from \"~/renderer/analytics/Track\";\nimport Stepper from \"~/renderer/components/Stepper\";\nimport GenericStepConnectDevice from \"~/renderer/modals/Send/steps/GenericStepConnectDevice\";\nimport { getCurrentDevice } from \"~/renderer/reducers/devices\";\nimport StepConfirmation, { StepConfirmationFooter } from \"./steps/StepConfirmation\";\nimport { St, StepId } from \"./types\";\nimport { Device } from \"@ledgerhq/live-common/hw/actions/types\";\nimport StepAmount, { StepAmountFooter } from \"./steps/StepAmount\";\nimport BigNumber from \"bignumber.js\";\n\nexport type Data = {\n  account: SuiAccount;\n  validatorAddress: string;\n  stakedSuiId: string;\n  amount: string;\n};\n\ntype OwnProps = {\n  stepId: StepId;\n  onClose: () => void;\n  onChangeStepId: (a: StepId) => void;\n  params: Data;\n};\ntype StateProps = {\n  t: TFunction;\n  device: Device | undefined | null;\n  accounts: Account[];\n  openModal: OpenModal;\n};\ntype Props = OwnProps & StateProps;\nconst steps: Array<St> = [\n  {\n    id: \"amount\",\n    label: <Trans i18nKey=\"sui.unstake.flow.steps.amount.title\" />,\n    component: StepAmount,\n    noScroll: true,\n    footer: StepAmountFooter,\n  },\n  {\n    id: \"connectDevice\",\n    label: <Trans i18nKey=\"sui.unstake.flow.steps.connectDevice.title\" />,\n    component: GenericStepConnectDevice,\n  },\n  {\n    id: \"confirmation\",\n    label: <Trans i18nKey=\"sui.unstake.flow.steps.confirmation.title\" />,\n    component: StepConfirmation,\n    footer: StepConfirmationFooter,\n  },\n];\nconst mapStateToProps = createStructuredSelector({\n  device: getCurrentDevice,\n});\nconst mapDispatchToProps = {\n  openModal,\n};\nconst Body = ({ t, stepId, device, onClose, openModal, onChangeStepId, params }: Props) => {\n  const [optimisticOperation, setOptimisticOperation] = useState<Operation | null>(null);\n  const [transactionError, setTransactionError] = useState<Error | null>(null);\n  const [signed, setSigned] = useState(false);\n  const dispatch = useDispatch();\n  const {\n    transaction,\n    setTransaction,\n    updateTransaction,\n    account,\n    parentAccount,\n    status,\n    bridgeError,\n    bridgePending,\n  } = useBridgeTransaction(() => {\n    const { account, stakedSuiId, amount } = params;\n    const bridge: AccountBridge<Transaction> = getAccountBridge(account, undefined);\n    const transaction = bridge.updateTransaction(bridge.createTransaction(account), {\n      mode: \"undelegate\",\n      stakedSuiId,\n      amount: new BigNumber(amount),\n      useAllAmount: true,\n    });\n    return {\n      account,\n      parentAccount: undefined,\n      transaction,\n    };\n  });\n\n  const handleStepChange = useCallback((e: St) => onChangeStepId(e.id), [onChangeStepId]);\n  const handleRetry = useCallback(() => {\n    setTransactionError(null);\n    onChangeStepId(\"connectDevice\" as St[\"id\"]);\n  }, [onChangeStepId]);\n  const handleTransactionError = useCallback((error: Error) => {\n    if (!(error instanceof UserRefusedOnDevice)) {\n      logger.critical(error);\n    }\n    setTransactionError(error);\n  }, []);\n  const handleOperationBroadcasted = useCallback(\n    (optimisticOperation: Operation) => {\n      if (!account) return;\n      dispatch(\n        updateAccountWithUpdater(account.id, account =>\n          addPendingOperation(account, optimisticOperation),\n        ),\n      );\n      setOptimisticOperation(optimisticOperation);\n      setTransactionError(null);\n    },\n    [account, dispatch],\n  );\n  const error = transactionError || bridgeError;\n  const errorSteps = [];\n  if (transactionError) {\n    errorSteps.push(2);\n  } else if (bridgeError) {\n    errorSteps.push(0);\n  }\n  const stepperProps = {\n    title: t(\"sui.unstake.flow.title\"),\n    device,\n    account,\n    parentAccount,\n    transaction,\n    signed,\n    stepId,\n    steps,\n    errorSteps,\n    disabledSteps: [],\n    hideBreadcrumb: !!error,\n    onRetry: handleRetry,\n    onStepChange: handleStepChange,\n    onClose,\n    error,\n    status,\n    optimisticOperation,\n    openModal,\n    setSigned,\n    onChangeTransaction: setTransaction,\n    onUpdateTransaction: updateTransaction,\n    onOperationBroadcasted: handleOperationBroadcasted,\n    onTransactionError: handleTransactionError,\n    t,\n    bridgePending,\n  };\n  return (\n    <Stepper {...stepperProps}>\n      <SyncSkipUnderPriority priority={100} />\n      <Track onUnmount event=\"CloseModalUnstaking\" />\n    </Stepper>\n  );\n};\nconst C = compose<React.ComponentType<OwnProps>>(\n  connect(mapStateToProps, mapDispatchToProps),\n  withTranslation(),\n)(Body);\nexport default C;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/UnstakingFlowModal/fields/AmountField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/UnstakingFlowModal/fields/ValidatorField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/UnstakingFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/UnstakingFlowModal/steps/StepAmount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/UnstakingFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/UnstakingFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/modals.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/operationDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/shared/components/ErrorDisplay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/shared/components/LedgerValidatorIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/shared/components/ValidatorRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/sui/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tezos/AccountBodyHeader.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tezos/AccountBodyHeader/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tezos/AccountHeaderManageActions.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":36,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":36,"endColumn":38}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { isAccountEmpty } from \"@ledgerhq/live-common/account/index\";\nimport { useDelegation } from \"@ledgerhq/live-common/families/tezos/react\";\nimport { useCallback } from \"react\";\nimport { useDispatch } from \"LLD/hooks/redux\";\nimport { openModal } from \"~/renderer/actions/modals\";\nimport IconCoins from \"~/renderer/icons/Coins\";\nimport { TezosFamily } from \"./types\";\nimport { StepId } from \"./DelegateFlowModal/types\";\nimport { useGetStakeLabelLocaleBased } from \"~/renderer/hooks/useGetStakeLabelLocaleBased\";\n\nconst AccountHeaderManageActions: TezosFamily[\"accountHeaderManageActions\"] = ({\n  account,\n  parentAccount,\n  source,\n}) => {\n  const dispatch = useDispatch();\n  const label = useGetStakeLabelLocaleBased();\n\n  const delegation = useDelegation(account);\n\n  const onClick = useCallback(() => {\n    if (isAccountEmpty(account)) {\n      dispatch(\n        openModal(\"MODAL_NO_FUNDS_STAKE\", {\n          account,\n          parentAccount,\n        }),\n      );\n      return;\n    }\n    const options = delegation\n      ? {\n          parentAccount,\n          account,\n          eventType: \"redelegate\",\n          stepId: \"summary\" as StepId, // FIXME: \"summary is not detected as StepId\"\n          source,\n        }\n      : {\n          parentAccount,\n          account,\n          source,\n        };\n    dispatch(openModal(\"MODAL_DELEGATE\", options));\n  }, [account, delegation, parentAccount, dispatch, source]);\n\n  if (parentAccount) return null;\n\n  return [\n    {\n      key: \"Stake\",\n      onClick: onClick,\n      icon: IconCoins,\n      label,\n      event: \"button_clicked2\",\n      eventProperties: {\n        button: \"stake\",\n      },\n      accountActionsTestId: \"stake-button\",\n    },\n  ];\n};\n\nexport default AccountHeaderManageActions;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tezos/BakerImage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tezos/DelegateFlowModal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tezos/DelegateFlowModal/DelegationContainer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tezos/DelegateFlowModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tezos/DelegateFlowModal/steps/StepAccount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tezos/DelegateFlowModal/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tezos/DelegateFlowModal/steps/StepConnectDevice.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tezos/DelegateFlowModal/steps/StepCustom.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tezos/DelegateFlowModal/steps/StepStarter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tezos/DelegateFlowModal/steps/StepSummary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tezos/DelegateFlowModal/steps/StepValidator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tezos/DelegateFlowModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tezos/Delegation/ContextMenu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tezos/Delegation/Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tezos/Delegation/Row.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tezos/Delegation/index.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":48,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":48,"endColumn":29},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":48,"column":46,"nodeType":"TSAsExpression","messageId":"never","endLine":48,"endColumn":75},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":65,"column":16,"nodeType":"TSAsExpression","messageId":"never","endLine":75,"endColumn":30},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":90,"column":24,"nodeType":"TSAsExpression","messageId":"never","endLine":90,"endColumn":47}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { useDispatch } from \"LLD/hooks/redux\";\nimport { useTranslation } from \"react-i18next\";\nimport styled from \"styled-components\";\nimport {\n  useDelegation,\n  useBaker,\n  useStakingPositions,\n} from \"@ledgerhq/live-common/families/tezos/react\";\nimport { TokenAccount } from \"@ledgerhq/types-live\";\nimport { openURL } from \"~/renderer/linking\";\nimport { openModal } from \"~/renderer/actions/modals\";\nimport Text from \"~/renderer/components/Text\";\nimport Button from \"~/renderer/components/Button\";\nimport Box from \"~/renderer/components/Box\";\nimport LinkWithExternalIcon from \"~/renderer/components/LinkWithExternalIcon\";\nimport IconChartLine from \"~/renderer/icons/ChartLine\";\nimport Header from \"./Header\";\nimport Row from \"./Row\";\nimport TableContainer, { TableHeader } from \"~/renderer/components/TableContainer\";\nimport type { Delegation, TezosAccount } from \"@ledgerhq/live-common/families/tezos/types\";\nimport { useLocalizedUrl } from \"~/renderer/hooks/useLocalizedUrls\";\nimport { urls } from \"~/config/urls\";\n\ntype Props = {\n  account: TezosAccount | TokenAccount;\n  parentAccount: TezosAccount | undefined | null;\n};\nconst Wrapper = styled(Box).attrs(() => ({\n  p: 3,\n}))`\n  border-radius: 4px;\n  justify-content: space-between;\n  align-items: center;\n`;\nconst Delegation = ({ account, parentAccount }: Props) => {\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  const delegation = useDelegation(account);\n  const stakingPositions = useStakingPositions(account);\n  const delegateAddr = stakingPositions[0]?.delegate || \"\";\n  const fallbackBaker = useBaker(delegateAddr);\n\n  const stakingUrl = useLocalizedUrl(urls.stakingTezos);\n\n  // derive last stake op\n  const ops =\n    (account as TezosAccount).operations ?? (parentAccount as TezosAccount)?.operations ?? [];\n  const lastStake = ops.find(o => o?.type === \"STAKE\");\n\n  return (\n    <TableContainer mb={6}>\n      <TableHeader\n        title={t(\"delegation.header\")}\n        titleProps={{\n          \"data-e2e\": \"title_Delegation\",\n        }}\n      />\n      {delegation || stakingPositions.length > 0 ? (\n        <>\n          <Header />\n          <Row\n            delegation={\n              delegation ||\n              ({\n                address: stakingPositions[0]?.delegate || \"\",\n                baker: fallbackBaker,\n                operation: {\n                  hash: lastStake?.hash || \"\",\n                  date: lastStake?.date || new Date(),\n                },\n                isPending: false,\n                receiveShouldWarnDelegation: false,\n                sendShouldWarnDelegation: false,\n              } as Delegation)\n            }\n            account={account}\n            parentAccount={parentAccount}\n          />\n        </>\n      ) : (\n        <Wrapper horizontal>\n          <Box\n            style={{\n              maxWidth: \"65%\",\n            }}\n          >\n            <Text ff=\"Inter|Medium|SemiBold\" color=\"neutral.c70\" fontSize={4}>\n              {t(\"delegation.delegationEarn\", {\n                name: (account as TezosAccount).currency.name,\n              })}\n            </Text>\n            <Box mt={2}>\n              <LinkWithExternalIcon\n                label={t(\"delegation.howItWorks\")}\n                onClick={() => openURL(stakingUrl)}\n              />\n            </Box>\n          </Box>\n          <Box>\n            <Button\n              primary\n              id={\"account-delegate-button\"}\n              onClick={() => {\n                dispatch(\n                  openModal(\"MODAL_DELEGATE\", {\n                    parentAccount,\n                    account,\n                  }),\n                );\n              }}\n            >\n              <Box horizontal flow={1} alignItems=\"center\">\n                <IconChartLine size={12} />\n                <Box>{t(\"delegation.title\")}</Box>\n              </Box>\n            </Button>\n          </Box>\n        </Wrapper>\n      )}\n    </TableContainer>\n  );\n};\nexport default Delegation;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tezos/ReceiveWarning.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tezos/SendWarning.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tezos/TransactionConfirmFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tezos/accountActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tezos/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tezos/modals.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tezos/operationDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tezos/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/ton/AccountSubHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/ton/CommentField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/ton/SendRecipientFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/ton/index.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":18,"column":28,"nodeType":"TSAsExpression","messageId":"never","endLine":18,"endColumn":64}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import {\n  TonOperation,\n  Transaction,\n  TransactionStatus,\n  TonOperationExtra,\n} from \"@ledgerhq/live-common/families/ton/types\";\nimport { Account } from \"@ledgerhq/types-live\";\nimport { LLDCoinFamily } from \"../types\";\nimport AccountSubHeader from \"./AccountSubHeader\";\nimport sendRecipientFields from \"./SendRecipientFields\";\nimport operationDetails from \"./operationDetails\";\n\nconst family: LLDCoinFamily<Account, Transaction, TransactionStatus, TonOperation> = {\n  operationDetails,\n  AccountSubHeader,\n  sendRecipientFields,\n  getTransactionExplorer: (explorerView, operation) => {\n    const operationExtra = operation.extra as TonOperationExtra;\n    return (\n      explorerView &&\n      explorerView.tx &&\n      explorerView.tx.replace(\n        \"$hash\",\n        operationExtra.explorerHash && operationExtra.explorerHash !== \"\"\n          ? operationExtra.explorerHash\n          : `by-msg-hash/${operation.hash}`,\n      )\n    );\n  },\n};\n\nexport default family;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/ton/operationDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tron/AccountBalanceSummaryFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tron/AccountBodyHeader.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tron/AccountHeaderManageActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tron/StepReceiveFundsPostAlert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tron/TransactionConfirmFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tron/Votes/Footer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tron/Votes/Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tron/Votes/Row.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tron/Votes/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tron/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/tron/operationDetails.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":114,"column":8,"nodeType":"TSAsExpression","messageId":"never","endLine":114,"endColumn":49},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":118,"column":8,"nodeType":"TSAsExpression","messageId":"never","endLine":118,"endColumn":51},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":122,"column":8,"nodeType":"TSAsExpression","messageId":"never","endLine":122,"endColumn":54}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/* eslint-disable consistent-return */\nimport React, { useCallback } from \"react\";\nimport { BigNumber } from \"bignumber.js\";\nimport { Operation } from \"@ledgerhq/types-live\";\nimport { Currency, Unit } from \"@ledgerhq/types-cryptoassets\";\nimport { TronAccount, TronOperation, Vote } from \"@ledgerhq/live-common/families/tron/types\";\nimport { getDefaultExplorerView, getAddressExplorer } from \"@ledgerhq/live-common/explorers\";\nimport { openURL } from \"~/renderer/linking\";\nimport {\n  OpDetailsTitle,\n  Address,\n  OpDetailsData,\n  OpDetailsVoteData,\n  OpDetailsSection,\n} from \"~/renderer/drawers/OperationDetails/styledComponents\";\nimport { Trans } from \"react-i18next\";\nimport Box from \"~/renderer/components/Box/Box\";\nimport {\n  useTronSuperRepresentatives,\n  formatVotes,\n} from \"@ledgerhq/live-common/families/tron/react\";\nimport Text from \"~/renderer/components/Text\";\nimport FormattedVal from \"~/renderer/components/FormattedVal\";\nimport CounterValue from \"~/renderer/components/CounterValue\";\nimport { useDiscreetMode } from \"~/renderer/components/Discreet\";\nimport { OperationDetailsExtraProps } from \"../types\";\nimport { useAccountUnit } from \"~/renderer/hooks/useAccountUnit\";\nimport { urls } from \"~/config/urls\";\n\nconst infoURL = urls.feesTron;\n\nfunction getURLFeesInfo({ op }: { op: Operation; currencyId: string }): string | undefined {\n  if (op.fee.gt(200000)) {\n    return infoURL;\n  }\n}\n\nfunction getURLWhatIsThis({ op }: { op: Operation; currencyId: string }): string | undefined {\n  if (op.type !== \"IN\" && op.type !== \"OUT\") {\n    return infoURL;\n  }\n}\n\ntype OperationsDetailsVotesProps = {\n  votes: Array<Vote> | undefined | null;\n  account: TronAccount;\n  isTransactionField?: boolean;\n};\nexport const OperationDetailsVotes = ({\n  votes,\n  account,\n  isTransactionField,\n}: OperationsDetailsVotesProps) => {\n  const sp = useTronSuperRepresentatives();\n  const formattedVotes = formatVotes(votes, sp);\n  const redirectAddress = useCallback(\n    (address: string) => {\n      const url = getAddressExplorer(getDefaultExplorerView(account.currency), address);\n      if (url) openURL(url);\n    },\n    [account],\n  );\n  const discreet = useDiscreetMode();\n  return (\n    <OpDetailsSection>\n      {!isTransactionField && (\n        <OpDetailsTitle>\n          <Trans\n            i18nKey={\"operationDetails.extra.votes\"}\n            values={{\n              number: votes && votes.length,\n            }}\n          />\n        </OpDetailsTitle>\n      )}\n      <Box>\n        {sp.length > 0 &&\n          formattedVotes &&\n          formattedVotes.length > 0 &&\n          formattedVotes.map(({ voteCount, address, validator }, i) => (\n            <OpDetailsData key={address + i} justifyContent=\"flex-start\">\n              <OpDetailsVoteData>\n                <Box>\n                  <Text>\n                    <Trans\n                      i18nKey=\"operationDetails.extra.votesAddress\"\n                      values={{\n                        votes: !discreet ? voteCount : \"***\",\n                        name: validator && validator.name,\n                      }}\n                    >\n                      <Text ff=\"Inter|SemiBold\">{\"\"}</Text>\n                      {\"\"}\n                      <Text ff=\"Inter|SemiBold\">{\"\"}</Text>\n                    </Trans>\n                  </Text>\n                </Box>\n                <Address onClick={() => redirectAddress(address)}>{address}</Address>\n              </OpDetailsVoteData>\n            </OpDetailsData>\n          ))}\n      </Box>\n    </OpDetailsSection>\n  );\n};\n\nconst OperationDetailsExtra = ({\n  operation,\n  type,\n  account,\n}: OperationDetailsExtraProps<TronAccount, TronOperation>) => {\n  const unit = useAccountUnit(account);\n  const frozenAmount = operation.extra?.frozenAmount\n    ? (operation.extra.frozenAmount as BigNumber)\n    : new BigNumber(0);\n\n  const unfreezeAmount = operation.extra?.unfreezeAmount\n    ? (operation.extra.unfreezeAmount as BigNumber)\n    : new BigNumber(10);\n\n  const unDelegatedAmount = operation.extra?.unDelegatedAmount\n    ? (operation.extra.unDelegatedAmount as BigNumber)\n    : new BigNumber(0);\n\n  const receiverAddress = operation.extra?.receiverAddress ? operation.extra.receiverAddress : \"\";\n\n  const redirectAddress = useCallback(\n    (address: string) => {\n      const url = getAddressExplorer(getDefaultExplorerView(account.currency), address);\n      if (url) openURL(url);\n    },\n    [account],\n  );\n\n  switch (type) {\n    case \"VOTE\": {\n      const votes = operation.extra?.votes;\n      if (!votes || !votes.length) return null;\n      return <OperationDetailsVotes votes={votes} account={account} />;\n    }\n    case \"FREEZE\":\n      return (\n        <OpDetailsSection>\n          <OpDetailsTitle>\n            <Trans i18nKey=\"operationDetails.extra.frozenAmount\" />\n          </OpDetailsTitle>\n          <OpDetailsData>\n            <Box>\n              <FormattedVal\n                val={frozenAmount}\n                unit={unit}\n                showCode\n                fontSize={4}\n                color=\"neutral.c70\"\n              />\n            </Box>\n          </OpDetailsData>\n        </OpDetailsSection>\n      );\n    case \"UNFREEZE\":\n      return (\n        <OpDetailsSection>\n          <OpDetailsTitle>\n            <Trans i18nKey=\"operationDetails.extra.unfreezeAmount\" />\n          </OpDetailsTitle>\n          <OpDetailsData>\n            <Box>\n              <FormattedVal\n                val={unfreezeAmount}\n                unit={unit}\n                showCode\n                fontSize={4}\n                color=\"neutral.c70\"\n              />\n            </Box>\n          </OpDetailsData>\n        </OpDetailsSection>\n      );\n    case \"UNDELEGATE_RESOURCE\":\n      return (\n        <>\n          <OpDetailsSection>\n            <OpDetailsTitle>\n              <Trans i18nKey=\"operationDetails.extra.undelegatedAmount\" />\n            </OpDetailsTitle>\n            <OpDetailsData>\n              <Box>\n                <FormattedVal\n                  val={unDelegatedAmount}\n                  unit={unit}\n                  showCode\n                  fontSize={4}\n                  color=\"neutral.c70\"\n                />\n              </Box>\n            </OpDetailsData>\n          </OpDetailsSection>\n          <OpDetailsSection>\n            <OpDetailsTitle>\n              <Trans i18nKey=\"operationDetails.extra.undelegatedFrom\" />\n            </OpDetailsTitle>\n            <OpDetailsData>\n              <Box>\n                <Address onClick={() => redirectAddress(receiverAddress)}>\n                  {receiverAddress}\n                </Address>\n              </Box>\n            </OpDetailsData>\n          </OpDetailsSection>\n        </>\n      );\n    case \"LEGACY_UNFREEZE\":\n      return (\n        <OpDetailsSection>\n          <OpDetailsTitle>\n            <Trans i18nKey=\"operationDetails.extra.unfreezeAmount\" />\n          </OpDetailsTitle>\n          <OpDetailsData>\n            <Box>\n              <FormattedVal\n                val={unfreezeAmount}\n                unit={unit}\n                showCode\n                fontSize={4}\n                color=\"neutral.c70\"\n              />\n            </Box>\n          </OpDetailsData>\n        </OpDetailsSection>\n      );\n    default:\n      return null;\n  }\n};\n\ntype Props = {\n  operation: TronOperation;\n  currency: Currency;\n  unit: Unit;\n};\nconst FreezeAmountCell = ({ operation, currency, unit }: Props) => {\n  const amount = operation.extra?.frozenAmount;\n  return amount && !amount.isZero() ? (\n    <>\n      <FormattedVal val={amount} unit={unit} showCode fontSize={4} color={\"neutral.c80\"} />\n\n      <CounterValue\n        color=\"neutral.c70\"\n        fontSize={3}\n        date={operation.date}\n        currency={currency}\n        value={amount}\n      />\n    </>\n  ) : null;\n};\n\nconst UnfreezeAmountCell = ({ operation, currency, unit }: Props) => {\n  const amount = operation.extra?.unfreezeAmount;\n  return amount && !amount.isZero() ? (\n    <>\n      <FormattedVal val={amount} unit={unit} showCode fontSize={4} color={\"neutral.c80\"} />\n\n      <CounterValue\n        color=\"neutral.c70\"\n        fontSize={3}\n        date={operation.date}\n        currency={currency}\n        value={amount}\n      />\n    </>\n  ) : null;\n};\nconst VoteAmountCell = ({ operation }: Props) => {\n  const discreet = useDiscreetMode();\n  const votes = operation.extra?.votes;\n  const amount =\n    votes &&\n    votes.reduce((sum: number, { voteCount }: { voteCount: number }) => sum + voteCount, 0);\n  return amount && amount > 0 ? (\n    <Text ff=\"Inter|SemiBold\" fontSize={4}>\n      <Trans\n        i18nKey={\"operationDetails.extra.votes\"}\n        values={{\n          number: !discreet ? amount : \"***\",\n        }}\n      />\n    </Text>\n  ) : null;\n};\nconst amountCellExtra = {\n  FREEZE: FreezeAmountCell,\n  UNFREEZE: UnfreezeAmountCell,\n  LEGACY_UNFREEZE: UnfreezeAmountCell,\n  VOTE: VoteAmountCell,\n};\nexport default {\n  getURLFeesInfo,\n  getURLWhatIsThis,\n  OperationDetailsExtra,\n  amountCellExtra,\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/xrp/SendRecipientFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/xrp/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/families/xrp/operationDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/getCurrencyColor.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/storage-provider/DesktopAppDataStorageProvider.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/storage-provider/useAppDataStorage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useAccountUnit.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useActionCards.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":62,"column":52,"nodeType":"TSAsExpression","messageId":"never","endLine":62,"endColumn":84}],"suppressedMessages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Include a description after the \"@ts-expect-error\" directive to explain why the @ts-expect-error is necessary. The description must be 3 characters or longer.","line":60,"column":7,"nodeType":"Line","messageId":"tsDirectiveCommentRequiresDescription","endLine":60,"endColumn":26,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"LLD/hooks/redux\";\n\nimport { actionContentCardSelector } from \"~/renderer/reducers/dynamicContent\";\nimport * as braze from \"@braze/web-sdk\";\nimport { setActionCards } from \"~/renderer/actions/dynamicContent\";\nimport { openURL } from \"~/renderer/linking\";\nimport { track } from \"../analytics/segment\";\nimport { trackingEnabledSelector } from \"../reducers/settings\";\nimport { setDismissedContentCards } from \"../actions/settings\";\nimport { ActionContentCard } from \"~/types/dynamicContent\";\n\nconst useActionCards = () => {\n  const dispatch = useDispatch();\n  const [cachedContentCards, setCachedContentCards] = useState(braze.getCachedContentCards().cards);\n  const actionCards = useSelector(actionContentCardSelector);\n  const isTrackedUser = useSelector(trackingEnabledSelector);\n\n  useEffect(() => {\n    setCachedContentCards(braze.getCachedContentCards().cards);\n  }, [actionCards]);\n\n  const findCard = (cardId: string) => cachedContentCards.find(card => card.id === cardId);\n  const findActionCard = (cardId: string) => actionCards.find(card => card.id === cardId);\n\n  const onDismiss = (cardId: string) => {\n    const currentCard = findCard(cardId);\n    const actionCard = findActionCard(cardId);\n\n    if (currentCard) {\n      if (isTrackedUser) {\n        braze.logCardDismissal(currentCard);\n      } else if (currentCard.id) {\n        dispatch(setDismissedContentCards({ id: currentCard.id, timestamp: Date.now() }));\n      }\n      setCachedContentCards(cachedContentCards.filter(n => n.id !== currentCard.id));\n    }\n    dispatch(setActionCards(actionCards.filter((n: ActionContentCard) => n.id !== actionCard?.id)));\n\n    if (actionCard && !actionCard.isMock) {\n      track(\"contentcard_dismissed\", {\n        contentcard: actionCard.title,\n        campaign: actionCard.id,\n        page: \"Portfolio\",\n        type: \"action_card\",\n      });\n    }\n  };\n\n  const onClick = (cardId: string, link?: string) => {\n    const currentCard = findCard(cardId);\n    const actionCard = findActionCard(cardId);\n\n    if (actionCard?.isMock && link) openURL(link);\n\n    if (currentCard) {\n      // For some reason braze won't log the click event if the card url is empty\n      // Setting it as the card id just to have a dummy non empty value\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-expect-error\n      currentCard.url = currentCard.id;\n      if (isTrackedUser) braze.logContentCardClick(currentCard as braze.ClassicCard);\n      if (link) openURL(link);\n    }\n    if (actionCard) {\n      track(\"contentcard_clicked\", {\n        contentcard: actionCard.title,\n        link: actionCard.link,\n        campaign: actionCard.id,\n        page: \"Portfolio\",\n        type: \"action_card\",\n      });\n    }\n  };\n\n  return { onClick, onDismiss, actionCards };\n};\n\nexport default useActionCards;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useAutoRedirectToPostOnboarding/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useAutoRedirectToPostOnboarding/useOpenPostOnboardingCallback.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useAutoRedirectToPostOnboarding/useOpenRecoverCallback.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useAutoRedirectToPostOnboarding/useShouldRedirect.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useBraze.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":147,"column":48,"nodeType":"TSAsExpression","messageId":"never","endLine":147,"endColumn":67,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":152,"column":45,"nodeType":"TSAsExpression","messageId":"never","endLine":152,"endColumn":64,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":160,"column":51,"nodeType":"TSAsExpression","messageId":"never","endLine":160,"endColumn":70,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useConnectAppAction.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useDateFormatter.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useDateFormatter.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useDeeplinking/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useDeeplinking/useDeepLinkHandler.test.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":99,"column":10,"nodeType":"TSAsExpression","messageId":"never","endLine":104,"endColumn":26,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":99,"column":10,"nodeType":"TSAsExpression","messageId":"never","endLine":104,"endColumn":15,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":108,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":113,"endColumn":32,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":108,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":113,"endColumn":16,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":273,"column":66,"nodeType":"TSAsExpression","messageId":"never","endLine":276,"endColumn":46,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":273,"column":66,"nodeType":"TSAsExpression","messageId":"never","endLine":276,"endColumn":21,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useDeeplinking/useDeepLinkHandler.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":162,"column":21,"nodeType":"TSAsExpression","messageId":"never","endLine":162,"endColumn":84,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useDeeplinking/utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useEnforceSupportedLanguage.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useEnforceSupportedLanguage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useExperimental.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useGetStakeLabelLocaleBased.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useInitSupportedCounterValues.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useInterval.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useKeepScreenAwake.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useListenToHidDevices.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useLocalizedUrls/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useLocalizedUrls/useLocalizedUrls.test.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":17,"column":27,"nodeType":"TSAsExpression","messageId":"never","endLine":17,"endColumn":81,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useMobileView.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useNetworkStatus.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useNotifications.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Include a description after the \"@ts-expect-error\" directive to explain why the @ts-expect-error is necessary. The description must be 3 characters or longer.","line":73,"column":9,"nodeType":"Line","messageId":"tsDirectiveCommentRequiresDescription","endLine":73,"endColumn":28,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/usePrice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useRecoverRestoreOnboarding.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useResize.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useSatStackStatus.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useSupportedLanguages.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useSupportedLanguages.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useTheme.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useUSBTroubleshooting.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/hooks/useUnseenNotificationsCount.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/i18n/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/i18n/init.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/AccountAdd.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/AccountSettings.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/AccountsIllustration.tsx","messages":[],"suppressedMessages":[{"ruleId":"react/no-unknown-property","severity":2,"message":"Unknown property 'mask-type' found","line":13,"column":7,"nodeType":"JSXAttribute","messageId":"unknownProp","endLine":13,"endColumn":24,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Activity.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/AngleDown.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/AngleLeft.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/AngleUp.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/AppTree.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/ArrowDown.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/ArrowRight.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Bell.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/BigSpinner/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/BlueSpinner/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Book.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/CameraError.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Certificate.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/ChartLine.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Check.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/CheckCircle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/CheckFull.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/ChevronRight.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/ChevronRightSmall.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/ClaimReward.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Clock.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/CoinWallet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Coins.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Copy.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Cross.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/CrossCircle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/CustomValidator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Delegate.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Delegation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Donjon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/DownloadCloud.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Error.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/ErrorNoBorder.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/EthStakeIllustration.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Exchange.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/ExclamationCircle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/ExclamationCircleThin.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/ExitIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/ExternalLink.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Eye.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/EyeOff.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Facebook.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Fees.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Freeze.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Github.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Grid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Help.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/InfoCircle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/InfoCircleFull.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Language.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/LightBulb.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/LinkIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/List.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/ListTreeLine.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Loader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/LockCircle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Logo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Manager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/ManagerAppIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Medal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/MemoIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/NanoAltSmall.tsx","messages":[],"suppressedMessages":[{"ruleId":"react/no-unknown-property","severity":2,"message":"Unknown property 'mask-type' found","line":13,"column":7,"nodeType":"JSXAttribute","messageId":"unknownProp","endLine":13,"endColumn":24,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/NanoDeviceCancelIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/NanoDeviceCheckIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/NoResults.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/OpposingChevrons.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Pen.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Plus.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/QrCode.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Quit.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Receive.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Redelegate.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Search.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Send.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Shield.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Star.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/StopCircle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Swap.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/SyncServer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/TachometerHigh.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/TachometerLow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/TachometerMedium.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Transfer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Trash.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/TriangleWarning.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Trophy.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Twitter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Undelegate.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Undelegation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Unfreeze.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Update.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/UpdateCircle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/UserEdit.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/UserPlus.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Vote.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/VoteNay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/Wallet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/WalletConnect.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/device/interactions/Blue/Frame.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/device/interactions/Blue/Screen.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":94,"column":23,"nodeType":"TSAsExpression","messageId":"never","endLine":94,"endColumn":54,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/device/interactions/Blue/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/device/interactions/Hint.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/device/interactions/NanoS/Frame.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/device/interactions/NanoS/Screen.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":97,"column":23,"nodeType":"TSAsExpression","messageId":"never","endLine":97,"endColumn":54,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/device/interactions/NanoS/Swivel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/device/interactions/NanoS/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/device/interactions/NanoX/Frame.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/device/interactions/NanoX/Screen.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":98,"column":23,"nodeType":"TSAsExpression","messageId":"never","endLine":98,"endColumn":54,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/device/interactions/NanoX/Swivel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/device/interactions/NanoX/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/device/interactions/USBCable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/device/interactions/colors.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/icons/device/interactions/index.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":60,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":60,"endColumn":77,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/init.tsx","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":107,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":107,"endColumn":49},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":110,"column":21,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":110,"endColumn":51}],"suppressedMessages":[{"ruleId":"react/no-deprecated","severity":2,"message":"ReactDOM.render is deprecated since React 18.0.0, use createRoot instead, see https://reactjs.org/link/switch-to-createroot","line":14,"column":10,"nodeType":"ImportSpecifier","messageId":"deprecated","endLine":14,"endColumn":16,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":152,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":152,"endColumn":51,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":252,"column":23,"nodeType":"TSAsExpression","messageId":"never","endLine":252,"endColumn":60,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport Transport from \"@ledgerhq/hw-transport\";\nimport { getEnv } from \"@ledgerhq/live-env\";\nimport { NotEnoughBalance } from \"@ledgerhq/errors\";\nimport { log } from \"@ledgerhq/logs\";\nimport \"../config/configInit\";\nimport { checkLibs } from \"@ledgerhq/live-common/sanityChecks\";\nimport { importPostOnboardingState } from \"@ledgerhq/live-common/postOnboarding/actions\";\nimport i18n from \"i18next\";\nimport { webFrame, ipcRenderer } from \"electron\";\n// We can't use new createRoot for now. We have issues we react-redux 7.x and lazy load of components\n// https://github.com/reduxjs/react-redux/issues/1977\n// eslint-disable-next-line react/no-deprecated\nimport { render } from \"react-dom\";\nimport each from \"lodash/each\";\nimport { reload, getKey, loadLSS } from \"~/renderer/storage\";\nimport { hardReset } from \"~/renderer/reset\";\nimport \"~/renderer/styles/global\";\nimport \"~/renderer/live-common-setup\";\nimport { getLocalStorageEnvs } from \"~/renderer/experimental\";\nimport \"~/renderer/i18n/init\";\nimport { hydrateCurrency } from \"~/renderer/bridge/cache\";\nimport { setupCryptoAssetsStore } from \"~/config/bridge-setup\";\nimport { findCryptoCurrencyById } from \"@ledgerhq/live-common/currencies/index\";\nimport {\n  restoreTokensToCache,\n  PERSISTENCE_VERSION,\n} from \"@ledgerhq/cryptoassets/cal-client/persistence\";\nimport logger, { enableDebugLogger } from \"./logger\";\nimport { enableGlobalTab, disableGlobalTab, isGlobalTabEnabled } from \"~/config/global-tab\";\nimport sentry from \"~/sentry/renderer\";\nimport { setEnvOnAllThreads } from \"~/helpers/env\";\nimport dbMiddleware from \"~/renderer/middlewares/db\";\nimport type { ReduxStore, AppDispatch } from \"~/renderer/createStore\";\nimport createStore from \"~/renderer/createStore\";\nimport events from \"~/renderer/events\";\nimport { initAccounts } from \"~/renderer/actions/accounts\";\nimport { fetchSettings, setDeepLinkUrl } from \"~/renderer/actions/settings\";\nimport { lock, setOSDarkMode } from \"~/renderer/actions/application\";\nimport {\n  languageSelector,\n  sentryLogsSelector,\n  hideEmptyTokenAccountsSelector,\n  filterTokenOperationsZeroAmountSelector,\n} from \"~/renderer/reducers/settings\";\nimport ReactRoot from \"~/renderer/ReactRoot\";\nimport AppError from \"~/renderer/AppError\";\nimport { expectOperatingSystemSupportStatus } from \"~/support/os\";\nimport { addDevice, removeDevice, resetDevices } from \"~/renderer/actions/devices\";\nimport { Device } from \"@ledgerhq/live-common/hw/actions/types\";\nimport { listCachedCurrencyIds } from \"./bridge/cache\";\nimport { LogEntry } from \"winston\";\nimport { importMarketState } from \"./actions/market\";\nimport { fetchWallet } from \"./actions/wallet\";\nimport { fetchTrustchain } from \"./actions/trustchain\";\nimport { registerTransportModules } from \"~/renderer/live-common-setup\";\nimport { setupRecentAddressesStore } from \"./recentAddresses\";\nimport { startAnalytics } from \"./analytics/segment\";\nimport { identitiesSlice } from \"@ledgerhq/client-ids/store\";\n\nconst rootNode = document.getElementById(\"react-root\");\n\nasync function init() {\n  // at this step. we know the app error handling will happen here. so we can unset the global onerror\n  window.onerror = null;\n\n  const logVerbose = getEnv(\"VERBOSE\");\n\n  // Sets up a debug console printing of logs (from the renderer process)\n  //\n  // Usage: a filtering (only on console printing) on Ledger libs are possible:\n  // - VERBOSE=\"apdu,hw,transport,hid-verbose\" : filtering on a list of log `type` separated by a `,`\n  // - VERBOSE=1 or VERBOSE=true : to print all logs\n  if (logVerbose) {\n    const everyLogs =\n      logVerbose.length === 1 && (logVerbose[0] === \"true\" || logVerbose[0] === \"1\");\n\n    const filters = everyLogs ? [] : logVerbose;\n\n    // eslint-disable-next-line no-console\n    console.log(\n      `Logs console display setup (renderer process): ${JSON.stringify({\n        everyLogs,\n        filters,\n      })}`,\n    );\n    enableDebugLogger((log: LogEntry) => everyLogs || (log?.type && filters.includes(log.type)));\n  }\n\n  checkLibs({\n    NotEnoughBalance,\n    React,\n    log,\n    Transport,\n  });\n\n  expectOperatingSystemSupportStatus();\n  if (getEnv(\"PLAYWRIGHT_RUN\")) {\n    const spectronData = await getKey(\"app\", \"PLAYWRIGHT_RUN\", {});\n    each(spectronData.localStorage, (value, key) => {\n      global.localStorage.setItem(key, value);\n    });\n    const envs = getLocalStorageEnvs();\n    for (const k in envs) setEnvOnAllThreads(k, envs[k]);\n    if (getEnv(\"MOCK\")) {\n      // eslint-disable-next-line @typescript-eslint/no-var-requires\n      const timemachine = require(\"timemachine\");\n      timemachine.config({\n        // eslint-disable-next-line @typescript-eslint/no-var-requires\n        dateString: require(\"../../tests/time.js\").default,\n      });\n    }\n  }\n  const hardResetFlag = window.localStorage.getItem(\"hard-reset\");\n  const wasHardReset = hardResetFlag === \"1\";\n\n  if (wasHardReset) {\n    await hardReset();\n    // Keep the flag so Default.tsx can detect it for redirect, it will be cleared there\n  }\n\n  const store = createStore({\n    dbMiddleware,\n  });\n  const dispatch: AppDispatch = store.dispatch;\n\n  setupRecentAddressesStore(store);\n  setupCryptoAssetsStore(store);\n\n  // Hydrate persisted crypto assets tokens from app.json\n  // Cross-caching is automatic: tokens are cached under both ID and address lookups\n  try {\n    const persistedData = await getKey(\"app\", \"cryptoAssets\");\n\n    // Check version and restore tokens\n    if (persistedData?.tokens) {\n      if (persistedData.version === PERSISTENCE_VERSION) {\n        const TOKEN_CACHE_TTL = 24 * 60 * 60 * 1000; // 24 hours\n        await restoreTokensToCache(store.dispatch, persistedData, TOKEN_CACHE_TTL);\n      } else {\n        logger.warn(\n          `Crypto assets cache version mismatch (expected ${PERSISTENCE_VERSION}, got ${persistedData.version}), skipping restore`,\n        );\n      }\n    }\n  } catch (error) {\n    logger.error(\"Failed to load crypto assets tokens from app.json:\", error);\n  }\n\n  if (getEnv(\"PLAYWRIGHT_RUN\")) {\n    // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n    (window as Window & { __STORE__?: ReduxStore }).__STORE__ = store;\n  }\n  sentry(() => sentryLogsSelector(store.getState()));\n  let notifiedSentryLogs = false;\n  store.subscribe(() => {\n    const next = sentryLogsSelector(store.getState());\n    if (next !== notifiedSentryLogs) {\n      notifiedSentryLogs = next;\n      ipcRenderer.send(\"sentryLogsChanged\", next);\n    }\n  });\n  let deepLinkUrl; // Nb In some cases `fetchSettings` runs after this, voiding the deep link.\n  if (process.env.LEDGER_LIVE_DEEPLINK) {\n    deepLinkUrl = process.env.LEDGER_LIVE_DEEPLINK;\n    store.dispatch(setDeepLinkUrl(deepLinkUrl));\n  }\n  ipcRenderer.once(\"deep-linking\", (_, url: string) => {\n    store.dispatch(setDeepLinkUrl(url));\n    deepLinkUrl = url;\n  });\n  const initialSettings = (await getKey(\"app\", \"settings\")) || {};\n  // Make sure startAnalytics is always called after a first getKey() because otherwise\n  // will run into issues where shareAnalytics state will not reflect the user's preferences and always be set to true...\n  startAnalytics(store);\n\n  // Build settings to load, ensuring hasCompletedOnboarding is false after a hard reset\n  const settingsToLoad = { ...initialSettings };\n  if (wasHardReset) {\n    settingsToLoad.hasCompletedOnboarding = false;\n  }\n\n  if (deepLinkUrl) {\n    settingsToLoad.deepLinkUrl = deepLinkUrl;\n  }\n\n  fetchSettings(settingsToLoad)(store.dispatch);\n  const state = store.getState();\n  const language = languageSelector(state);\n\n  i18n.changeLanguage(language);\n  await loadLSS(); // Set env handled inside\n\n  const hideEmptyTokenAccounts = hideEmptyTokenAccountsSelector(state);\n  setEnvOnAllThreads(\"HIDE_EMPTY_TOKEN_ACCOUNTS\", hideEmptyTokenAccounts);\n  const filterTokenOperationsZeroAmount = filterTokenOperationsZeroAmountSelector(state);\n  setEnvOnAllThreads(\"FILTER_ZERO_AMOUNT_ERC20_EVENTS\", filterTokenOperationsZeroAmount);\n\n  // hydrate the store with the bridge/cache\n  await Promise.allSettled(\n    listCachedCurrencyIds().map(id => {\n      const currency = findCryptoCurrencyById(id);\n      return currency ? hydrateCurrency(currency) : null;\n    }),\n  );\n  const accountData = await getKey(\"app\", \"accounts\", []);\n  if (accountData) {\n    const e = initAccounts(accountData);\n    store.dispatch(e);\n  } else {\n    // if accountData is falsy, it's a lock case, we need to globally decrypted the app data, we use app.accounts as general safe guard for possible other app.* encrypted fields\n    store.dispatch(lock());\n  }\n\n  // Load persisted identities\n  const persistedIdentities = await getKey(\"app\", \"identities\");\n  if (persistedIdentities) {\n    store.dispatch(identitiesSlice.actions.initFromPersisted(persistedIdentities));\n  }\n\n  const initialCountervalues = await getKey(\"app\", \"countervalues\");\n  r(<ReactRoot store={store} language={language} initialCountervalues={initialCountervalues} />);\n\n  const postOnboardingState = await getKey(\"app\", \"postOnboarding\");\n  if (postOnboardingState) {\n    store.dispatch(\n      importPostOnboardingState({\n        newState: postOnboardingState,\n      }),\n    );\n  }\n\n  await dispatch(fetchTrustchain());\n  await dispatch(fetchWallet());\n\n  const marketState = await getKey(\"app\", \"market\");\n  if (marketState) {\n    store.dispatch(importMarketState(marketState));\n  }\n\n  webFrame.setVisualZoomLevelLimits(1, 1);\n  const matcher = window.matchMedia(\"(prefers-color-scheme: dark)\");\n  const updateOSTheme = () => store.dispatch(setOSDarkMode(matcher.matches));\n  matcher.addEventListener(\"change\", updateOSTheme);\n  events({\n    store,\n  });\n  window.addEventListener(\"keydown\", (e: KeyboardEvent) => {\n    if (e.key === \"Tab\") {\n      if (!isGlobalTabEnabled()) enableGlobalTab();\n      // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n      logger.onTabKey(document.activeElement as HTMLElement);\n    }\n  });\n  window.addEventListener(\"click\", () => {\n    if (isGlobalTabEnabled()) disableGlobalTab();\n  });\n\n  window.addEventListener(\"beforeunload\", () => {\n    // This event is triggered when we reload the app, we want it to forget what it knows\n    reload();\n  });\n\n  document.addEventListener(\n    \"dragover\",\n    (event: Event) => {\n      event.preventDefault();\n      return false;\n    },\n    false,\n  );\n  document.addEventListener(\n    \"drop\",\n    (event: Event) => {\n      event.preventDefault();\n      return false;\n    },\n    false,\n  );\n  if (document.body) {\n    const classes = document.body.classList;\n    let timer: NodeJS.Timeout | number | null = 0;\n    window.addEventListener(\"resize\", () => {\n      if (timer) {\n        clearTimeout(timer);\n        timer = null;\n      } else classes.add(\"stop-all-transition\");\n      timer = setTimeout(() => {\n        classes.remove(\"stop-all-transition\");\n        timer = null;\n      }, 500);\n    });\n  }\n\n  registerTransportModules(store);\n\n  // expose stuff in Windows for DEBUG purpose\n  window.ledger = {\n    store,\n    addDevice: (device: Device) => {\n      store.dispatch(addDevice(device));\n    },\n    removeDevice: (device: Device) => {\n      store.dispatch(removeDevice(device));\n    },\n    resetDevices: () => {\n      store.dispatch(resetDevices());\n    },\n  };\n}\nfunction r(Comp: React.JSX.Element) {\n  if (rootNode) {\n    render(Comp, rootNode);\n  }\n}\n\ninit()\n  .catch(e => {\n    logger.critical(e);\n    r(<AppError error={e} />);\n  })\n  .catch(error => {\n    const pre = document.createElement(\"pre\");\n    pre.innerHTML = `Ledger Wallet crashed. Please contact Ledger support.\n  ${String(error)}\n  ${String((error && error.stack) || \"no stacktrace\")}`;\n    if (document.body) {\n      document.body.style.padding = \"50px\";\n      document.body.innerHTML = \"\";\n      document.body.appendChild(pre);\n    }\n  });\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/linking.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/live-common-setup.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":127,"column":29,"nodeType":"TSAsExpression","messageId":"never","endLine":127,"endColumn":57,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":130,"column":20,"nodeType":"TSAsExpression","messageId":"never","endLine":130,"endColumn":49,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":132,"column":24,"nodeType":"TSAsExpression","messageId":"never","endLine":132,"endColumn":57,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/logger/index.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":336,"column":16,"nodeType":"TSAsExpression","messageId":"never","endLine":336,"endColumn":31,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/middlewares/db.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/middlewares/logger.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/middlewares/utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/mockServiceWorker.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/AddAccounts/FullNodeStatus.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/AddAccounts/index.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":319,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":322,"endColumn":49}],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":117,"column":10,"nodeType":"TSAsExpression","messageId":"never","endLine":117,"endColumn":23,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { PureComponent } from \"react\";\nimport { Trans, withTranslation } from \"react-i18next\";\nimport { TFunction } from \"i18next\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { Account } from \"@ledgerhq/types-live\";\nimport { CryptoCurrency, CryptoOrTokenCurrency } from \"@ledgerhq/types-cryptoassets\";\nimport logger from \"~/renderer/logger\";\nimport { Device } from \"@ledgerhq/live-common/hw/actions/types\";\nimport { getCurrentDevice } from \"~/renderer/reducers/devices\";\nimport { accountsSelector } from \"~/renderer/reducers/accounts\";\nimport { closeModal, openModal } from \"~/renderer/actions/modals\";\nimport Track from \"~/renderer/analytics/Track\";\nimport Stepper, { Step } from \"~/renderer/components/Stepper\";\nimport { SyncSkipUnderPriority } from \"@ledgerhq/live-common/bridge/react/index\";\nimport Modal from \"~/renderer/components/Modal\";\nimport StepChooseCurrency, { StepChooseCurrencyFooter } from \"./steps/StepChooseCurrency\";\nimport StepConnectDevice from \"./steps/StepConnectDevice\";\nimport StepImport, { StepImportFooter } from \"./steps/StepImport\";\nimport StepFinish, { StepFinishFooter } from \"./steps/StepFinish\";\nimport { blacklistedTokenIdsSelector } from \"~/renderer/reducers/settings\";\nimport { addAccountsAction } from \"@ledgerhq/live-wallet/addAccounts\";\nimport { GlobalModalData } from \"../types\";\n\nexport type Props = {\n  // props from redux\n  device: Device | undefined | null;\n  existingAccounts: Account[];\n  closeModal: (a: string) => void;\n  addAccountsAction: typeof addAccountsAction;\n  blacklistedTokenIds?: string[];\n  openModal?: (modalName: keyof GlobalModalData) => void;\n} & UserProps;\n\nexport type UserProps = {\n  // props from user\n  currency?: CryptoOrTokenCurrency | undefined | null;\n  flow?: string | null;\n  onClose?: () => void;\n  preventSkippingCurrencySelection?: boolean | undefined | null;\n  newModalName?: keyof GlobalModalData;\n};\n\ntype StepId = \"chooseCurrency\" | \"connectDevice\" | \"import\" | \"finish\";\ntype ScanStatus = \"idle\" | \"scanning\" | \"error\" | \"finished\";\nexport type StepProps = {\n  t: TFunction;\n  transitionTo: (a: string) => void;\n  currency: CryptoOrTokenCurrency | null;\n  device: Device | undefined | null;\n  scannedAccounts: Account[];\n  existingAccounts: Account[];\n  checkedAccountsIds: string[];\n  scanStatus: ScanStatus;\n  err: Error | undefined | null;\n  onClickAdd: () => Promise<void>;\n  onGoStep1: () => void;\n  onCloseModal: () => void;\n  resetScanState: () => void;\n  setCurrency: (a?: CryptoOrTokenCurrency | null) => void;\n  setScanStatus: (b: ScanStatus, a?: Error | null) => string;\n  setAccountName: (b: Account, a: string) => void;\n  editedNames: {\n    [_: string]: string;\n  };\n  setScannedAccounts: (a: { scannedAccounts?: Account[]; checkedAccountsIds?: string[] }) => void;\n  blacklistedTokenIds?: string[];\n  flow?: string;\n};\ntype St = Step<StepId, StepProps>;\nconst createSteps = (skipChooseCurrencyStep?: boolean | null): St[] => {\n  // the back button is not needed when we skip \"chooseCurrency\" step because the back button brings user to \"chooseCurrency\" step\n  const onBack = skipChooseCurrencyStep\n    ? null\n    : ({ transitionTo, resetScanState }: StepProps) => {\n        resetScanState();\n        transitionTo(\"chooseCurrency\");\n      };\n  const steps = [\n    {\n      id: \"chooseCurrency\",\n      label: <Trans i18nKey=\"addAccounts.breadcrumb.informations\" />,\n      component: StepChooseCurrency,\n      footer: StepChooseCurrencyFooter,\n      onBack: null,\n      hideFooter: false,\n    },\n    {\n      id: \"connectDevice\",\n      label: <Trans i18nKey=\"addAccounts.breadcrumb.connectDevice\" />,\n      component: StepConnectDevice,\n      onBack,\n      hideFooter: false,\n    },\n    {\n      id: \"import\",\n      label: <Trans i18nKey=\"addAccounts.breadcrumb.import\" />,\n      component: StepImport,\n      footer: StepImportFooter,\n      onBack,\n      hideFooter: false,\n    },\n    {\n      id: \"finish\",\n      label: <Trans i18nKey=\"addAccounts.breadcrumb.finish\" />,\n      component: StepFinish,\n      footer: StepFinishFooter,\n      onBack: null,\n      hideFooter: true,\n    },\n  ];\n  if (skipChooseCurrencyStep) {\n    steps.shift();\n  }\n  // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n  return steps as St[];\n};\ntype State = {\n  stepId: StepId;\n  scanStatus: ScanStatus | string;\n  currency: CryptoOrTokenCurrency | null | undefined;\n  scannedAccounts: Account[];\n  checkedAccountsIds: string[];\n  editedNames: {\n    [_: string]: string;\n  };\n  err: Error | undefined | null;\n  reset: number;\n};\nconst mapStateToProps = createStructuredSelector({\n  device: getCurrentDevice,\n  existingAccounts: accountsSelector,\n  blacklistedTokenIds: blacklistedTokenIdsSelector,\n});\nconst mapDispatchToProps = {\n  addAccountsAction,\n  closeModal,\n  openModal,\n};\nconst INITIAL_STATE: State = {\n  stepId: \"chooseCurrency\",\n  currency: null,\n  scannedAccounts: [],\n  checkedAccountsIds: [],\n  editedNames: {},\n  err: null,\n  scanStatus: \"idle\",\n  reset: 0,\n};\nclass AddAccounts extends PureComponent<Props, State> {\n  state = INITIAL_STATE;\n  STEPS = createSteps(this.props.currency && !this.props.preventSkippingCurrencySelection);\n  handleClickAdd = async () => {\n    const { addAccountsAction, existingAccounts } = this.props;\n    const { scannedAccounts, checkedAccountsIds, editedNames } = this.state;\n    addAccountsAction({\n      scannedAccounts,\n      existingAccounts,\n      selectedIds: checkedAccountsIds,\n      renamings: editedNames,\n    });\n  };\n\n  handleStepChange = (step: St) =>\n    this.setState({\n      stepId: step.id,\n    });\n\n  handleSetCurrency = (currency: CryptoCurrency | null) =>\n    this.setState({\n      currency,\n    });\n\n  handleSetScanStatus = (scanStatus: ScanStatus, err: Error | undefined | null = null) => {\n    if (err) {\n      logger.critical(err);\n    }\n    this.setState({\n      scanStatus,\n      err,\n    });\n  };\n\n  handleSetAccountName = (account: Account, name: string) => {\n    this.setState(({ editedNames }) => ({\n      editedNames: {\n        ...editedNames,\n        [account.id]: name,\n      },\n    }));\n  };\n\n  handleSetScannedAccounts = ({\n    checkedAccountsIds,\n    scannedAccounts,\n  }: {\n    checkedAccountsIds: string[];\n    scannedAccounts: Account[];\n  }) => {\n    if (checkedAccountsIds) {\n      this.setState({ checkedAccountsIds });\n    }\n    if (scannedAccounts) {\n      this.setState({ scannedAccounts });\n    }\n  };\n\n  handleResetScanState = () => {\n    this.setState({\n      scanStatus: \"idle\",\n      err: null,\n      scannedAccounts: [],\n      checkedAccountsIds: [],\n    });\n  };\n\n  handleBeforeOpen = ({ data }: { data: UserProps | undefined }) => {\n    const { currency } = this.state;\n    if (!currency) {\n      if (data && data.currency) {\n        this.setState({\n          currency: data.currency,\n        });\n      }\n    }\n  };\n\n  onGoStep1 = () => {\n    this.setState(({ reset }) => ({\n      ...INITIAL_STATE,\n      reset: reset + 1,\n    }));\n  };\n\n  onFlowFinished = () => {\n    const { newModalName, openModal } = this.props;\n    const { stepId } = this.state;\n    if (newModalName && openModal && stepId === \"finish\") {\n      openModal(newModalName);\n    }\n  };\n\n  render() {\n    const {\n      device,\n      existingAccounts,\n      blacklistedTokenIds,\n      flow = \"add account\",\n      preventSkippingCurrencySelection,\n    } = this.props;\n    const { currency, scannedAccounts, checkedAccountsIds, scanStatus, err, editedNames, reset } =\n      this.state;\n    let { stepId } = this.state;\n    const stepperProps = {\n      currency,\n      device,\n      existingAccounts,\n      blacklistedTokenIds,\n      scannedAccounts,\n      checkedAccountsIds,\n      scanStatus,\n      err,\n      onClickAdd: this.handleClickAdd,\n      setScanStatus: this.handleSetScanStatus,\n      setCurrency: this.handleSetCurrency,\n      setScannedAccounts: this.handleSetScannedAccounts,\n      resetScanState: this.handleResetScanState,\n      setAccountName: this.handleSetAccountName,\n      onGoStep1: this.onGoStep1,\n      editedNames,\n      flow,\n    };\n    const title = <Trans i18nKey=\"addAccounts.title\" />;\n    const errorSteps = err ? [2] : [];\n    if (stepId === \"chooseCurrency\" && this.props.currency && !preventSkippingCurrencySelection) {\n      stepId = \"connectDevice\";\n    }\n    stepperProps.currency = stepperProps.currency || this.props.currency;\n    return (\n      <Modal\n        centered\n        name=\"MODAL_ADD_ACCOUNTS\"\n        onHide={() =>\n          this.setState({\n            ...INITIAL_STATE,\n          })\n        }\n        onBeforeOpen={this.handleBeforeOpen}\n        preventBackdropClick={stepId === \"import\"}\n        render={({ onClose }) => {\n          const handleCloseModal = () => {\n            this.props.onClose?.();\n            onClose?.();\n            this.onFlowFinished();\n          };\n          return (\n            <Stepper\n              key={reset} // THIS IS A HACK because stepper is not controllable. FIXME\n              title={title}\n              stepId={stepId}\n              onStepChange={this.handleStepChange}\n              onClose={handleCloseModal}\n              onCloseModal={handleCloseModal}\n              steps={this.STEPS}\n              errorSteps={errorSteps}\n              {...stepperProps}\n            >\n              <Track onUnmount event=\"CloseModalAddAccounts\" />\n              <SyncSkipUnderPriority priority={100} />\n            </Stepper>\n          );\n        }}\n      />\n    );\n  }\n}\n\nconst m = compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  withTranslation(),\n)(AddAccounts) as React.ComponentType<UserProps>;\n\nexport default m;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/AddAccounts/steps/StepChooseCurrency.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":34,"column":13,"nodeType":"TSAsExpression","messageId":"never","endLine":34,"endColumn":65,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":40,"column":32,"nodeType":"TSAsExpression","messageId":"never","endLine":40,"endColumn":89,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/AddAccounts/steps/StepConnectDevice.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/AddAccounts/steps/StepFinish.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/AddAccounts/steps/StepImport.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":48,"column":47,"nodeType":"TSAsExpression","messageId":"never","endLine":48,"endColumn":59,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":50,"column":26,"nodeType":"TSAsExpression","messageId":"never","endLine":50,"endColumn":69,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":53,"column":34,"nodeType":"TSAsExpression","messageId":"never","endLine":53,"endColumn":46,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has missing dependencies: 'defaultSelected' and 'rest'. Either include them or remove the dependency array.","line":73,"column":6,"nodeType":"ArrayExpression","endLine":73,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [defaultSelected, rest]","fix":{"range":[3478,3480],"text":"[defaultSelected, rest]"}}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":186,"column":30,"nodeType":"TSAsExpression","messageId":"never","endLine":186,"endColumn":42,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":352,"column":39,"nodeType":"TSAsExpression","messageId":"never","endLine":352,"endColumn":68,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/BlacklistToken/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/BlacklistToken/Footer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/BlacklistToken/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/ConfirmModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/ConnectDevice/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/CreateLocalManifest/Chip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/CreateLocalManifest/FormLiveAppArrayInput.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/CreateLocalManifest/FormLiveAppArraySelect.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":90,"column":28,"nodeType":"TSAsExpression","messageId":"never","endLine":90,"endColumn":59,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":100,"column":28,"nodeType":"TSAsExpression","messageId":"never","endLine":100,"endColumn":44,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/CreateLocalManifest/FormLiveAppHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/CreateLocalManifest/FormLiveAppInput.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/CreateLocalManifest/FormLiveAppSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/CreateLocalManifest/NestedFormCategory.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/CreateLocalManifest/defaultValues.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/CreateLocalManifest/index.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":308,"column":39,"nodeType":"TSAsExpression","messageId":"never","endLine":308,"endColumn":54},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":319,"column":39,"nodeType":"TSAsExpression","messageId":"never","endLine":319,"endColumn":56}],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":274,"column":49,"nodeType":"TSAsExpression","messageId":"never","endLine":274,"endColumn":87,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/* eslint-disable @typescript-eslint/ban-ts-comment */\n\nimport React, { useCallback, useMemo, useState } from \"react\";\nimport { Trans } from \"react-i18next\";\nimport Button from \"~/renderer/components/Button\";\nimport Modal, { ModalBody } from \"~/renderer/components/Modal\";\nimport { ScrollArea } from \"~/renderer/components/Onboarding/ScrollArea\";\nimport { Flex } from \"@ledgerhq/react-ui\";\nimport {\n  LiveAppManifest,\n  LiveAppManifestSchema,\n  LiveAppManifestDappSchema,\n  LiveAppManifestParamsNetwork,\n  LiveAppManifestSchemaType,\n} from \"@ledgerhq/live-common/platform/types\";\nimport Text from \"~/renderer/components/Text\";\nimport Switch from \"~/renderer/components/Switch\";\nimport FormLiveAppInput from \"./FormLiveAppInput\";\nimport NestedFormCategory from \"./NestedFormCategory\";\nimport updateObjectAtPath from \"lodash/set\";\nimport cloneDeep from \"lodash/cloneDeep\";\nimport FormLiveAppSelector from \"./FormLiveAppSelector\";\nimport FormLiveAppArrayInput from \"./FormLiveAppArrayInput\";\nimport { useCategories } from \"@ledgerhq/live-common/wallet-api/react\";\n\nimport { useManifests } from \"@ledgerhq/live-common/platform/providers/RemoteLiveAppProvider/index\";\nimport FormLiveAppArraySelect from \"./FormLiveAppArraySelect\";\nimport { Separator } from \"~/renderer/components/Onboarding/Screens/SelectUseCase/Separator\";\nimport { DEFAULT_FORM, DEFAULT_VALUES } from \"./defaultValues\";\n\nimport { objectKeysType } from \"@ledgerhq/live-common/helpers\";\nimport { useLocalLiveAppContext } from \"@ledgerhq/live-common/wallet-api/LocalLiveAppProvider/index\";\n\nfunction createLocalManifest() {\n  return (\n    <Modal\n      width={600}\n      name=\"MODAL_CREATE_LOCAL_APP\"\n      centered\n      render={({ data, onClose }) => <FormLocalManifest data={data} onClose={onClose} />}\n    />\n  );\n}\n\nfunction FormLocalManifest({\n  onClose,\n}: {\n  data: { manifest?: LiveAppManifest };\n  onClose: () => void;\n}) {\n  const { addLocalManifest } = useLocalLiveAppContext();\n  const [form, setForm] = useState<LiveAppManifest>(cloneDeep(DEFAULT_FORM));\n  const [isDapp, setIsDapp] = useState(\"dapp\" in form);\n\n  const completeManifests = useManifests({ visibility: [\"complete\"] });\n  const { categories } = useCategories(completeManifests);\n\n  DEFAULT_VALUES.categories = categories.filter((category: string) => category !== \"all\");\n\n  const handleSwitchEthDapp = () => {\n    setIsDapp(prevState => !prevState);\n    setForm((prevState: LiveAppManifest) => {\n      if (!isDapp) {\n        prevState.dapp = cloneDeep(DEFAULT_FORM.dapp);\n      } else {\n        delete prevState.dapp;\n      }\n      return prevState;\n    });\n  };\n\n  const formIsValid = useMemo(() => LiveAppManifestSchema.safeParse(form).success, [form]);\n\n  const handleChange = useCallback((path: string, value: unknown) => {\n    setForm((prevState: LiveAppManifest) => {\n      return updateObjectAtPath({ ...prevState }, path, value);\n    });\n  }, []);\n\n  const submitHandler = (e: KeyboardEvent) => {\n    e.preventDefault();\n    if (e.detail !== 0) {\n      if (formIsValid) addLocalManifest(form);\n      onClose();\n    }\n  };\n\n  const contentInput = useCallback(() => {\n    return objectKeysType(form.content).map(contentKey => {\n      const value = form.content[contentKey]?.en;\n      if (value === undefined) return <></>;\n\n      const parseCheck = LiveAppManifestSchema.shape.content.shape[contentKey].safeParse({\n        en: value,\n      }).success;\n      const optional = LiveAppManifestSchema.shape.content.shape[contentKey].isOptional();\n      const path = `content.${contentKey}.en`;\n\n      return (\n        <FormLiveAppInput\n          key={contentKey}\n          type={typeof value}\n          fieldName={contentKey}\n          value={value}\n          optional={optional}\n          parseCheck={parseCheck}\n          path={path}\n          handleChange={handleChange}\n        />\n      );\n    });\n  }, [form.content, handleChange]);\n\n  const dappInput = useCallback(\n    (dapp: NonNullable<LiveAppManifest[\"dapp\"]>) => {\n      return (\n        <>\n          <Separator></Separator>\n          <Text ff=\"Inter|Bold\" fontSize={4}>\n            {`ETH Dapp`}\n          </Text>\n          {objectKeysType(dapp).map(dappKey => {\n            if (dappKey === \"networks\") {\n              return dapp.networks.map((networks: LiveAppManifestParamsNetwork, index: number) => {\n                return (\n                  <NestedFormCategory key={dappKey + index}>\n                    <Text ff=\"Inter|Bold\" fontSize={4}>\n                      {`${dappKey} ${index + 1}`}\n                    </Text>\n                    {objectKeysType(networks).map(networkKey => {\n                      const value = form.dapp?.networks[index][networkKey];\n                      if (value === undefined) return <></>;\n\n                      const networkKeySchema =\n                        LiveAppManifestDappSchema.shape[dappKey].element.shape[networkKey];\n\n                      const optional = networkKeySchema.isOptional();\n                      const parseCheck = networkKeySchema.safeParse(value).success;\n                      const path = `dapp.${dappKey}.${index}.${networkKey}`;\n\n                      return (\n                        <FormLiveAppInput\n                          key={networkKey}\n                          type={typeof value}\n                          fieldName={networkKey}\n                          value={value}\n                          optional={optional}\n                          parseCheck={parseCheck}\n                          path={path}\n                          handleChange={handleChange}\n                        />\n                      );\n                    })}\n                  </NestedFormCategory>\n                );\n              });\n            }\n\n            const value = form.dapp![dappKey];\n            const path = `dapp.${dappKey}`;\n            const shape = LiveAppManifestDappSchema.shape[dappKey];\n            const parseCheck = shape.safeParse(value).success;\n            const optional = shape.isOptional();\n\n            if (dappKey === \"provider\") {\n              return (\n                <FormLiveAppSelector\n                  optional={optional}\n                  fieldName={dappKey}\n                  key={dappKey}\n                  choices={[...DEFAULT_VALUES[dappKey]]}\n                  path={path}\n                  handleChange={handleChange}\n                  multipleChoices={false}\n                  initialValue={value}\n                ></FormLiveAppSelector>\n              );\n            }\n\n            return (\n              <FormLiveAppInput\n                key={dappKey}\n                type={typeof value}\n                fieldName={dappKey}\n                value={value}\n                optional={optional}\n                parseCheck={parseCheck}\n                path={path}\n                handleChange={handleChange}\n                autoFocus={false}\n              />\n            );\n          })}\n\n          <Flex columnGap={2} justifyContent={\"center\"}>\n            <Button\n              small\n              primary\n              onClick={() => {\n                setForm((prevState): LiveAppManifest => {\n                  if (!prevState.dapp) {\n                    return prevState;\n                  }\n                  const networks = [...prevState.dapp.networks];\n                  networks.push({ ...DEFAULT_FORM.dapp.networks[0] });\n                  return {\n                    ...prevState,\n                    dapp: { ...prevState.dapp, networks },\n                  };\n                });\n              }}\n            >\n              {<Trans i18nKey={`settings.developer.createLocalAppModal.addNetwork`} />}\n            </Button>\n            <Button\n              small\n              danger\n              disabled={form.dapp?.networks.length === 1}\n              onClick={() => {\n                setForm(prevState => {\n                  if (!prevState.dapp) {\n                    return prevState;\n                  }\n                  const networks = [...prevState.dapp.networks];\n                  networks.pop();\n                  return {\n                    ...prevState,\n                    dapp: { ...prevState.dapp, networks: networks },\n                  };\n                });\n              }}\n            >\n              {<Trans i18nKey={`settings.developer.createLocalAppModal.removeNetwork`} />}\n            </Button>\n          </Flex>\n        </>\n      );\n    },\n    [form.dapp, handleChange],\n  );\n\n  return (\n    <form style={{ width: \"90%\", margin: \"auto\" }}>\n      <ModalBody\n        onClose={onClose}\n        title={<Trans i18nKey={`settings.developer.createLocalAppModal.title.create`} />}\n        render={() => (\n          <>\n            <ScrollArea>\n              <Flex height={\"65vh\"} rowGap={15} flexDirection={\"column\"}>\n                <Flex margin={\"auto\"} width={\"max-content\"} columnGap={2}>\n                  <Text marginBottom={1} marginLeft={1} ff=\"Inter|Medium\" fontSize={4}>\n                    {`Wallet-API`}\n                  </Text>\n                  <Switch isChecked={isDapp} onChange={handleSwitchEthDapp} />\n                  <Text marginBottom={1} marginLeft={1} ff=\"Inter|Medium\" fontSize={4}>\n                    {`ETH Dapp`}\n                  </Text>\n                </Flex>\n\n                {objectKeysType(form).map((key, index) => {\n                  if (key === \"content\") {\n                    return contentInput();\n                  }\n\n                  if (key === \"dapp\") {\n                    return dappInput(form.dapp!);\n                  }\n\n                  const value = form[key];\n                  const isArray = Array.isArray(value);\n                  const formKeySchema =\n                    // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n                    LiveAppManifestSchema.shape[key as keyof LiveAppManifestSchemaType];\n                  const parseCheck = formKeySchema.safeParse(value).success;\n                  const optional = formKeySchema.isOptional();\n                  const path = `${key}`;\n\n                  if (key === \"platforms\") {\n                    return (\n                      <FormLiveAppSelector\n                        key={key}\n                        optional={optional}\n                        fieldName={key}\n                        choices={[...DEFAULT_VALUES.platforms]}\n                        path={path}\n                        handleChange={handleChange}\n                        multipleChoices={true}\n                        initialValue={form[key]}\n                      ></FormLiveAppSelector>\n                    );\n                  }\n\n                  if (key === \"apiVersion\" || key === \"manifestVersion\") {\n                    return <></>;\n                  }\n\n                  if (key === \"visibility\" || key === \"branch\") {\n                    return (\n                      <FormLiveAppSelector\n                        key={key}\n                        optional={optional}\n                        fieldName={key}\n                        choices={[...DEFAULT_VALUES[key]]}\n                        path={path}\n                        handleChange={handleChange}\n                        multipleChoices={false}\n                        initialValue={value as string}\n                      ></FormLiveAppSelector>\n                    );\n                  }\n\n                  if (key === \"permissions\" || key === \"categories\" || key === \"currencies\") {\n                    return (\n                      <FormLiveAppArraySelect\n                        key={key}\n                        options={[...DEFAULT_VALUES[key]]}\n                        fieldName={key}\n                        initialValue={value as string[]}\n                        optional={optional}\n                        parseCheck={parseCheck}\n                        path={path}\n                        handleChange={handleChange}\n                      ></FormLiveAppArraySelect>\n                    );\n                  }\n\n                  //FROM HERE, key IS NOT MATCHING ANY SPECIFIC FIELD ANYMORE\n\n                  if (isArray) {\n                    return (\n                      <FormLiveAppArrayInput\n                        key={key}\n                        fieldName={key}\n                        initialValue={[...value]}\n                        optional={optional}\n                        parseCheck={parseCheck}\n                        path={path}\n                        handleChange={handleChange}\n                      ></FormLiveAppArrayInput>\n                    );\n                  }\n\n                  return (\n                    <FormLiveAppInput\n                      key={key}\n                      type={typeof value}\n                      fieldName={key}\n                      value={value}\n                      optional={optional}\n                      parseCheck={parseCheck}\n                      path={path}\n                      handleChange={handleChange}\n                      autoFocus={index === 0}\n                    />\n                  );\n                })}\n              </Flex>\n            </ScrollArea>\n            <Flex marginTop={4} width={\"100%\"} justifyContent={\"center\"}>\n              <Flex width={\"100%\"} flexDirection={\"row\"} columnGap={3} justifyContent={\"center\"}>\n                <Button\n                  small\n                  disabled={!formIsValid}\n                  primary\n                  onClick={submitHandler}\n                  data-testid=\"create-local-manifest\"\n                >\n                  {<Trans i18nKey={`settings.developer.createLocalAppModal.create`} />}\n                </Button>\n              </Flex>\n            </Flex>\n          </>\n        )}\n      />\n    </form>\n  );\n}\n\nexport default createLocalManifest;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/DisablePasswordModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/ErrorModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/ExchangeDeviceConfirm/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/ExportOperations/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Help/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/LottieDebugger/index.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":129,"column":39,"nodeType":"TSAsExpression","messageId":"never","endLine":129,"endColumn":67}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useMemo, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Trans } from \"react-i18next\";\nimport Button from \"~/renderer/components/Button\";\nimport Animation from \"~/renderer/animations\";\nimport Alert from \"~/renderer/components/Alert\";\nimport Box from \"~/renderer/components/Box\";\nimport Modal, { ModalBody } from \"~/renderer/components/Modal\";\nimport Select from \"~/renderer/components/Select\";\nimport { ScrollArea } from \"~/renderer/components/Onboarding/ScrollArea\";\nimport { AnimationKey, getDeviceAnimation } from \"~/renderer/components/DeviceAction/animations\";\nimport { DeviceModelId } from \"@ledgerhq/devices\";\nimport { getProductName } from \"LLD/utils/getProductName\";\n\nconst AnimationWrapper = styled.div<{ dark?: boolean }>`\n  width: 600px;\n  max-width: 100%;\n  padding-bottom: 0px;\n  align-self: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: ${p => (p.dark ? \"#000\" : \"#fff\")};\n`;\n\nconst LottieDebugger = () => {\n  const keys = useMemo(\n    () => [\n      \"plugAndPinCode\",\n      \"enterPinCode\",\n      \"quitApp\",\n      \"allowManager\",\n      \"openApp\",\n      \"verify\",\n      \"sign\",\n      \"installLoading\",\n      \"firmwareUpdating\",\n    ],\n    [],\n  );\n  const onBoardingKeys = useMemo(\n    () => [\n      \"pinCode\",\n      \"recover\",\n      \"confirmWords\",\n      \"numberOfWords\",\n      \"powerOn\",\n      \"powerOnRecovery\",\n      \"plugDevice\",\n    ],\n    [],\n  );\n  const [deviceModelId, setDeviceModelId] = useState<DeviceModelId>(DeviceModelId.stax);\n  const [animationKey, setAnimationKey] = useState<AnimationKey>(\"enterPinCode\");\n\n  const allKeys = [...keys, ...onBoardingKeys];\n\n  const lightAnimation = useMemo(() => {\n    if (keys.includes(animationKey)) {\n      // Normal deviceAction animations\n      return getDeviceAnimation(deviceModelId, \"light\", animationKey);\n    }\n    return null;\n    // Onboarding animations\n  }, [animationKey, keys, deviceModelId]);\n\n  const darkAnimation = useMemo(() => {\n    if (keys.includes(animationKey)) {\n      // Normal deviceAction animations\n      return getDeviceAnimation(deviceModelId, \"dark\", animationKey);\n    }\n\n    return null;\n    // Onboarding animations\n  }, [animationKey, keys, deviceModelId]);\n\n  const DeviceSelectButton = ({ modelId }: { modelId: DeviceModelId }) => (\n    <Button\n      mr={2}\n      primary\n      onClick={() => {\n        setDeviceModelId(modelId);\n      }}\n    >\n      {getProductName(modelId)}\n    </Button>\n  );\n\n  return (\n    <Modal\n      name=\"MODAL_LOTTIE_DEBUGGER\"\n      centered\n      render={({ onClose }) => (\n        <ModalBody\n          onClose={onClose}\n          onBack={undefined}\n          title={<Trans i18nKey=\"settings.experimental.features.testAnimations.title\" />}\n          noScroll\n          render={() => (\n            <ScrollArea>\n              <Alert type=\"warning\">\n                <Trans i18nKey=\"settings.experimental.features.testAnimations.longDesc\" />\n              </Alert>\n              <div>\n                {!animationKey\n                  ? \"Select Animation\"\n                  : `Showing '${animationKey}' for ${deviceModelId}`}\n              </div>\n              <AnimationWrapper>\n                <Animation animation={lightAnimation} />\n              </AnimationWrapper>\n              <AnimationWrapper dark>\n                <Animation animation={darkAnimation} />\n              </AnimationWrapper>\n              <Box mt={2} mb={2} horizontal>\n                <DeviceSelectButton modelId={DeviceModelId.apex} />\n                <DeviceSelectButton modelId={DeviceModelId.europa} />\n                <DeviceSelectButton modelId={DeviceModelId.stax} />\n                <DeviceSelectButton modelId={DeviceModelId.nanoSP} />\n                <DeviceSelectButton modelId={DeviceModelId.nanoX} />\n                <DeviceSelectButton modelId={DeviceModelId.nanoS} />\n              </Box>\n              <Box>\n                <Select<{ label: string; value: string }>\n                  isSearchable={false}\n                  onChange={option => {\n                    if (option) {\n                      setDeviceModelId(DeviceModelId.stax);\n                      setAnimationKey(option.value as AnimationKey);\n                    }\n                  }}\n                  value={{ label: animationKey, value: animationKey }}\n                  options={allKeys.map(k => ({\n                    label: k,\n                    value: k,\n                  }))}\n                  renderOption={({ data }) => data.label}\n                  renderValue={({ data }) => data.label}\n                />\n              </Box>\n            </ScrollArea>\n          )}\n        />\n      )}\n    />\n  );\n};\nexport default LottieDebugger;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/NoFundsStake/assets/CoinsIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/NoFundsStake/index.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":136,"column":34,"nodeType":"TSAsExpression","messageId":"never","endLine":136,"endColumn":67}],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has a missing dependency: 'history.location.pathname'. Either include it or remove the dependency array.","line":126,"column":6,"nodeType":"ArrayExpression","endLine":126,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [history.location.pathname]","fix":{"range":[3998,4000],"text":"[history.location.pathname]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback, useEffect, useMemo } from \"react\";\nimport { useDispatch } from \"LLD/hooks/redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport { Icon, Text } from \"@ledgerhq/react-ui\";\nimport { useRampCatalog } from \"@ledgerhq/live-common/platform/providers/RampCatalogProvider/useRampCatalog\";\n\nimport { Account, AccountLike } from \"@ledgerhq/types-live\";\nimport { closeModal, openModal } from \"~/renderer/actions/modals\";\nimport Modal, { ModalBody } from \"~/renderer/components/Modal\";\nimport Box from \"~/renderer/components/Box\";\nimport EntryButton from \"~/renderer/components/EntryButton/EntryButton\";\nimport CoinsIcon from \"./assets/CoinsIcon\";\nimport { trackPage, track } from \"~/renderer/analytics/segment\";\nimport { stakeDefaultTrack } from \"~/renderer/screens/stake/constants\";\nimport { CryptoCurrency, TokenCurrency } from \"@ledgerhq/types-cryptoassets\";\nimport { useFetchCurrencyAll } from \"@ledgerhq/live-common/exchange/swap/hooks/index\";\nimport { isTokenAccount } from \"@ledgerhq/coin-framework/account/helpers\";\n\nconst useText = (\n  entryPoint: \"noFunds\" | \"getFunds\",\n  ticker: CryptoCurrency[\"ticker\"] | TokenCurrency[\"ticker\"],\n) => {\n  const { t } = useTranslation();\n\n  const textMap = {\n    noFunds: {\n      title: t(\"stake.noFundsModal.text\", { coin: ticker }),\n      body: t(\"stake.noFundsModal.description\"),\n    },\n    getFunds: {\n      title: t(\"stake.getFundsModal.text\", { coin: ticker }),\n      body: t(\"stake.getFundsModal.description\"),\n    },\n  };\n\n  return textMap[entryPoint];\n};\n\ninterface NoFundsStakeModalProps {\n  account: AccountLike;\n  parentAccount?: Account | undefined | null;\n  entryPoint?: \"get-funds\" | undefined;\n}\n\nconst NoFundsStakeModal = ({ account, parentAccount, entryPoint }: NoFundsStakeModalProps) => {\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { data: currenciesAll } = useFetchCurrencyAll();\n\n  const currency = isTokenAccount(account) ? account.token : account?.currency;\n\n  const { isCurrencyAvailable } = useRampCatalog();\n\n  const availableOnBuy = !!currency && isCurrencyAvailable(currency.id, \"onRamp\");\n\n  const availableOnSwap = useMemo(() => {\n    return currency && currenciesAll.includes(currency.id);\n  }, [currency, currenciesAll]);\n\n  const availableOnReceive = true;\n\n  const modalName = \"MODAL_NO_FUNDS_STAKE\";\n\n  const onBuy = useCallback(() => {\n    track(\"button_clicked2\", {\n      button: \"buy\",\n      page: history.location.pathname,\n      ...stakeDefaultTrack,\n    });\n\n    dispatch(closeModal(modalName));\n\n    history.push({\n      pathname: \"/exchange\",\n      state: {\n        account: isTokenAccount(account) ? parentAccount?.id : account.id,\n        currency: currency.id,\n        mode: \"buy\",\n      },\n    });\n  }, [history, dispatch, account, parentAccount?.id, currency.id]);\n\n  const onSwap = useCallback(() => {\n    track(\"button_clicked2\", {\n      button: \"swap\",\n      page: history.location.pathname,\n      ...stakeDefaultTrack,\n    });\n\n    dispatch(closeModal(modalName));\n\n    history.push({\n      pathname: \"/swap\",\n      state: {\n        defaultCurrency: currency,\n        defaultAccount: account,\n        defaultParentAccount: parentAccount,\n        from: history.location.pathname,\n      },\n    });\n  }, [currency, account, parentAccount, history, dispatch]);\n\n  const onReceive = useCallback(() => {\n    track(\"button_clicked2\", {\n      button: \"receive\",\n      page: history.location.pathname,\n      ...stakeDefaultTrack,\n    });\n\n    dispatch(closeModal(modalName));\n\n    dispatch(openModal(\"MODAL_RECEIVE\", { parentAccount, account }));\n  }, [parentAccount, account, dispatch, history]);\n\n  const onClose = useCallback(() => {\n    dispatch(closeModal(modalName));\n  }, [dispatch]);\n\n  useEffect(() => {\n    trackPage(\"Stake\", \"Service_modal\", {\n      source: history.location.pathname,\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const actionsMap: Record<\"buy\" | \"swap\" | \"receive\", boolean> = {\n    buy: availableOnBuy,\n    swap: availableOnSwap,\n    receive: availableOnReceive,\n  };\n\n  /** Capitalise first word for i18n list formatter to produce title e.g. \"Buy or swap\" */\n  const availableActionsFormatted = Object.keys(actionsMap)\n    .filter(action => actionsMap[action as keyof typeof actionsMap])\n    .map(action => t(`stake.noFundsModal.options.${action}.title`).toLowerCase())\n    .map((action, i) =>\n      i === 0 ? `${action.substring(0, 1).toUpperCase()}${action.slice(1)}` : action,\n    );\n\n  const text = useText(entryPoint === \"get-funds\" ? \"getFunds\" : \"noFunds\", currency.ticker);\n\n  return (\n    <Modal name={modalName} centered>\n      <ModalBody\n        title={t(\"stake.noFundsModal.title\", {\n          actions: availableActionsFormatted,\n          style: \"long\",\n          type: \"disjunction\",\n        })}\n        onClose={onClose}\n        render={() => (\n          <Box paddingX={20}>\n            <Box alignItems=\"center\" mb={24}>\n              <CoinsIcon />\n            </Box>\n            <Box textAlign=\"center\" mb={16}>\n              <Text fontWeight=\"semiBold\">{text.title}</Text>\n            </Box>\n            <Box textAlign=\"center\" mb={24}>\n              <Text fontSize={13} fontWeight=\"regular\" color=\"neutral.c70\">\n                {text.body}\n              </Text>\n            </Box>\n            {availableOnBuy && (\n              <EntryButton\n                Icon={() => <Icon name=\"BuyCryptoAlt\" />}\n                title={t(\"stake.noFundsModal.options.buy.title\")}\n                body={t(\"stake.noFundsModal.options.buy.body\")}\n                onClick={onBuy}\n                showChevron\n              />\n            )}\n            {availableOnSwap && (\n              <EntryButton\n                Icon={() => <Icon name=\"BuyCrypto\" />}\n                title={t(\"stake.noFundsModal.options.swap.title\")}\n                body={t(\"stake.noFundsModal.options.swap.body\")}\n                onClick={onSwap}\n                showChevron\n              />\n            )}\n            {availableOnReceive && (\n              <EntryButton\n                Icon={() => <Icon name=\"ArrowToBottom\" />}\n                title={t(\"stake.noFundsModal.options.receive.title\")}\n                body={t(\"stake.noFundsModal.options.receive.body\")}\n                onClick={onReceive}\n                showChevron\n              />\n            )}\n          </Box>\n        )}\n      />\n    </Modal>\n  );\n};\n\nexport default NoFundsStakeModal;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/OnboardingQuizz/OnboardingQuizzModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/OnboardingQuizz/StartScreen.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/OnboardingQuizz/quizzSteps.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/PasswordModal/PasswordForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/PasswordModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Platform/Exchange/CompleteExchange/Body.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":207,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":207,"endColumn":43,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":226,"column":27,"nodeType":"TSAsExpression","messageId":"never","endLine":226,"endColumn":53,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":228,"column":27,"nodeType":"TSAsExpression","messageId":"never","endLine":228,"endColumn":53,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":234,"column":27,"nodeType":"TSAsExpression","messageId":"never","endLine":234,"endColumn":53,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":248,"column":15,"nodeType":"TSAsExpression","messageId":"never","endLine":248,"endColumn":31,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":254,"column":27,"nodeType":"TSAsExpression","messageId":"never","endLine":254,"endColumn":58,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useCallback has missing dependencies: 'getResultByTransactionType', 'handleSwapTransaction', and 'handleTransactionResult'. Either include them or remove the dependency array.","line":300,"column":5,"nodeType":"ArrayExpression","endLine":312,"endColumn":6,"suggestions":[{"desc":"Update the dependencies array to be: [data.exchangeType, swapId, toAccount, magnitudeAwareRate, sourceCurrency, targetCurrency, getResultByTransactionType, onCancel, onClose, handleTransactionResult, handleSwapTransaction, onResult]","fix":{"range":[9271,9488],"text":"[data.exchangeType, swapId, toAccount, magnitudeAwareRate, sourceCurrency, targetCurrency, getResultByTransactionType, onCancel, onClose, handleTransactionResult, handleSwapTransaction, onResult]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Platform/Exchange/CompleteExchange/BodyContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Platform/Exchange/CompleteExchange/ModalBody.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Platform/Exchange/CompleteExchange/TransactionBroadcastedContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Platform/Exchange/CompleteExchange/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Platform/Exchange/StartExchange/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/ProtectDiscover/ProtectDiscoverBody.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/ProtectDiscover/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Receive/Body.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":293,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":296,"endColumn":41}],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has missing dependencies: 'account', 'computeAccountError', and 'parentAccount'. Either include them or remove the dependency array.","line":255,"column":6,"nodeType":"ArrayExpression","endLine":255,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [account, computeAccountError, parentAccount]","fix":{"range":[8813,8815],"text":"[account, computeAccountError, parentAccount]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useCallback, useEffect } from \"react\";\nimport { compose } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { useDispatch, useSelector } from \"LLD/hooks/redux\";\nimport { TFunction } from \"i18next\";\nimport { Trans, withTranslation } from \"react-i18next\";\nimport { createStructuredSelector } from \"reselect\";\nimport { SyncSkipUnderPriority } from \"@ledgerhq/live-common/bridge/react/index\";\nimport Track from \"~/renderer/analytics/Track\";\nimport { Account, AccountLike, TokenAccount } from \"@ledgerhq/types-live\";\nimport { TokenCurrency } from \"@ledgerhq/types-cryptoassets\";\nimport { Device } from \"@ledgerhq/live-common/hw/actions/types\";\nimport { getAccountCurrency, getMainAccount } from \"@ledgerhq/live-common/account/helpers\";\nimport { getCurrentDevice } from \"~/renderer/reducers/devices\";\nimport { accountsSelector } from \"~/renderer/reducers/accounts\";\nimport { closeModal } from \"~/renderer/actions/modals\";\nimport Stepper, { Step } from \"~/renderer/components/Stepper\";\nimport StepAccount, { StepAccountFooter } from \"./steps/StepAccount\";\nimport StepConnectDevice, { StepConnectDeviceFooter } from \"./steps/StepConnectDevice\";\nimport StepWarning, { StepWarningFooter } from \"./steps/StepWarning\";\nimport StepReceiveFunds from \"./steps/StepReceiveFunds\";\nimport StepReceiveStakingFlow, { StepReceiveStakingFooter } from \"./steps/StepReceiveStakingFlow\";\nimport StepOptions from \"./steps/StepOptions\";\nimport { isAddressSanctioned } from \"@ledgerhq/coin-framework/sanction/index\";\nimport { AddressesSanctionedError } from \"@ledgerhq/coin-framework/sanction/errors\";\nimport { getReceiveFlowError } from \"@ledgerhq/live-common/account/index\";\nimport {\n  onboardingReceiveFlowSelector,\n  setIsOnboardingReceiveFlow,\n} from \"~/renderer/reducers/onboarding\";\n\nexport type StepId =\n  | \"warning\"\n  | \"account\"\n  | \"device\"\n  | \"receive\"\n  | \"stakingFlow\"\n  | \"receiveOptions\";\n\nexport type Data = {\n  account?: AccountLike | undefined | null;\n  parentAccount?: Account | undefined | null;\n  startWithWarning?: boolean;\n  receiveTokenMode?: boolean;\n  eventType?: string;\n  isFromPostOnboardingEntryPoint?: boolean;\n  shouldUseReceiveOptions?: boolean;\n};\n\nexport type OwnProps = {\n  stepId: StepId;\n  onClose?: () => void | undefined;\n  onChangeStepId: (a: StepId) => void;\n  isAddressVerified: boolean | undefined | null;\n  verifyAddressError: Error | undefined | null;\n  onChangeAddressVerified: (isAddressVerified?: boolean | null, err?: Error | null) => void;\n  params: Data;\n};\nexport type StateProps = {\n  t: TFunction;\n  accounts: Account[];\n  device: Device | undefined | null;\n  closeModal: (a: string) => void;\n};\nexport type Props = OwnProps & StateProps;\nexport type StepProps = {\n  t: TFunction;\n  transitionTo: (id: string) => void;\n  device: Device | undefined | null;\n  account: AccountLike | undefined | null;\n  eventType?: string;\n  parentAccount: Account | undefined | null;\n  token: TokenCurrency | undefined | null;\n  receiveTokenMode: boolean;\n  closeModal: () => void;\n  isAddressVerified: boolean | undefined | null;\n  verifyAddressError: Error | undefined | null;\n  onRetry: () => void;\n  onSkipConfirm: () => void;\n  onResetSkip: () => void;\n  onChangeToken: (token?: TokenCurrency | null) => void;\n  onChangeAccount: (account?: AccountLike | null, tokenAccount?: Account | null) => void;\n  onChangeAddressVerified: (b?: boolean | null, a?: Error | null) => void;\n  onClose: () => void;\n  currencyName: string | undefined | null;\n  isFromPostOnboardingEntryPoint?: boolean;\n  accountError?: Error;\n};\nexport type St = Step<StepId, StepProps>;\nconst createSteps = (): Array<St> => [\n  {\n    id: \"receiveOptions\",\n    excludeFromBreadcrumb: true,\n    component: StepOptions,\n  },\n  {\n    id: \"warning\",\n    excludeFromBreadcrumb: true,\n    component: StepWarning,\n    footer: StepWarningFooter,\n  },\n  {\n    id: \"account\",\n    label: <Trans i18nKey=\"receive.steps.chooseAccount.title\" />,\n    component: StepAccount,\n    footer: StepAccountFooter,\n  },\n  {\n    id: \"device\",\n    label: <Trans i18nKey=\"receive.steps.connectDevice.title\" />,\n    component: StepConnectDevice,\n    footer: StepConnectDeviceFooter,\n    onBack: ({ transitionTo }: StepProps) => transitionTo(\"account\"),\n  },\n  {\n    id: \"receive\",\n    label: <Trans i18nKey=\"receive.steps.receiveFunds.title\" />,\n    component: StepReceiveFunds,\n  },\n  {\n    id: \"stakingFlow\",\n    excludeFromBreadcrumb: true,\n    component: StepReceiveStakingFlow,\n    footer: StepReceiveStakingFooter,\n  },\n];\nconst mapStateToProps = createStructuredSelector({\n  device: getCurrentDevice,\n  accounts: accountsSelector,\n});\nconst mapDispatchToProps = {\n  closeModal,\n};\nconst Body = ({\n  t,\n  stepId,\n  device,\n  accounts,\n  closeModal,\n  onChangeStepId,\n  isAddressVerified,\n  verifyAddressError,\n  onChangeAddressVerified,\n  params,\n}: Props) => {\n  const [steps] = useState(createSteps);\n  const [account, setAccount] = useState(() => (params && params.account) || accounts[0]);\n  const [parentAccount, setParentAccount] = useState(() => params && params.parentAccount);\n  const [disabledSteps, setDisabledSteps] = useState<number[]>([]);\n  const [token, setToken] = useState(null);\n  const [hideBreadcrumb, setHideBreadcrumb] = useState<boolean | undefined>(false);\n  const [title, setTitle] = useState(\"\");\n  const [accountError, setAccountError] = useState<Error | undefined>(undefined);\n  const dispatch = useDispatch();\n  const isOnboardingReceiveFlow = useSelector(onboardingReceiveFlowSelector);\n  const currency = getAccountCurrency(account);\n  const currencyName = currency ? currency.name : undefined;\n  const computeAccountError = useCallback(\n    async (account: Account | TokenAccount, parentAccount?: Account | null) => {\n      const mainAccount = getMainAccount(account, parentAccount);\n      const addressSanctioned = await isAddressSanctioned(\n        mainAccount.currency,\n        mainAccount.freshAddress,\n      );\n\n      if (addressSanctioned) {\n        setAccountError(\n          new AddressesSanctionedError(\"AddressesSanctionedError\", {\n            addresses: [mainAccount.freshAddress],\n          }),\n        );\n      } else {\n        const error = account ? getReceiveFlowError(account, parentAccount) : undefined;\n        setAccountError(error);\n      }\n    },\n    [],\n  );\n  const handleChangeAccount = useCallback(\n    async (account: Account | TokenAccount, parentAccount?: Account | null) => {\n      setAccount(account);\n      setParentAccount(parentAccount);\n      computeAccountError(account, parentAccount);\n    },\n    [setParentAccount, setAccount, computeAccountError],\n  );\n  const handleCloseModal = useCallback(() => {\n    if (isOnboardingReceiveFlow) {\n      dispatch(\n        setIsOnboardingReceiveFlow({\n          isFlow: false,\n          isSuccess: !!isAddressVerified,\n        }),\n      );\n    }\n    closeModal(\"MODAL_RECEIVE\");\n  }, [closeModal, dispatch, isOnboardingReceiveFlow, isAddressVerified]);\n\n  const handleStepChange = useCallback(\n    (e: Step<StepId, StepProps>) => onChangeStepId(e.id),\n    [onChangeStepId],\n  );\n  const handleResetSkip = useCallback(() => {\n    setDisabledSteps([]);\n  }, [setDisabledSteps]);\n  const handleRetry = useCallback(() => {\n    onChangeAddressVerified(null, null);\n  }, [onChangeAddressVerified]);\n  const handleSkipConfirm = useCallback(() => {\n    const connectStepIndex = steps.findIndex(step => step.id === \"device\");\n    if (connectStepIndex > -1) {\n      onChangeAddressVerified(false, null);\n      setDisabledSteps([connectStepIndex]);\n    }\n    onChangeStepId(\"receive\");\n  }, [onChangeAddressVerified, setDisabledSteps, steps, onChangeStepId]);\n\n  useEffect(() => {\n    const stepId =\n      params && params.startWithWarning ? \"warning\" : params.receiveTokenMode ? \"account\" : null;\n    if (stepId) onChangeStepId(stepId);\n  }, [onChangeStepId, params]);\n  useEffect(() => {\n    if (!account) {\n      if (params && params.account) {\n        handleChangeAccount(params.account, params?.parentAccount);\n      } else {\n        handleChangeAccount(accounts[0]);\n      }\n    }\n  }, [accounts, account, params, handleChangeAccount]);\n  useEffect(() => {\n    const currentStep = steps.find(step => step.id === stepId);\n    setHideBreadcrumb(currentStep?.excludeFromBreadcrumb);\n    switch (stepId) {\n      case \"warning\":\n        setTitle(t(\"common.information\"));\n        break;\n      case \"stakingFlow\":\n        setTitle(\n          t(\"receive.steps.staking.title\", {\n            currencyName: currency.name,\n          }),\n        );\n        break;\n      default:\n        setTitle(t(\"receive.title\"));\n    }\n  }, [steps, stepId, t, currency.name]);\n  useEffect(() => {\n    if (account) {\n      computeAccountError(account, parentAccount);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const errorSteps = verifyAddressError ? [2] : [];\n  const stepperProps = {\n    title,\n    device,\n    account,\n    parentAccount,\n    eventType: params.eventType,\n    stepId,\n    steps,\n    errorSteps,\n    disabledSteps,\n    receiveTokenMode: !!params.receiveTokenMode,\n    hideBreadcrumb,\n    token,\n    isAddressVerified,\n    verifyAddressError,\n    closeModal: handleCloseModal,\n    onRetry: handleRetry,\n    onSkipConfirm: handleSkipConfirm,\n    onResetSkip: handleResetSkip,\n    onChangeAccount: handleChangeAccount,\n    onChangeToken: setToken,\n    onChangeAddressVerified,\n    onStepChange: handleStepChange,\n    onClose: handleCloseModal,\n    currencyName,\n    isFromPostOnboardingEntryPoint: !!params.isFromPostOnboardingEntryPoint,\n    accountError: accountError,\n  };\n  return (\n    <Stepper {...stepperProps}>\n      <SyncSkipUnderPriority priority={100} />\n      <Track onUnmount event=\"CloseModalReceive\" />\n    </Stepper>\n  );\n};\nconst C = compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  withTranslation(),\n)(Body) as React.ComponentType<OwnProps>;\nexport default C;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Receive/assets/StakingIllustration.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Receive/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Receive/steps/StepAccount.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":121,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":121,"endColumn":82},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":151,"column":38,"nodeType":"TSAsExpression","messageId":"never","endLine":151,"endColumn":90}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback, useState } from \"react\";\nimport { Trans } from \"react-i18next\";\nimport { Account, AccountLike } from \"@ledgerhq/types-live\";\nimport { TokenCurrency, CryptoOrTokenCurrency } from \"@ledgerhq/types-cryptoassets\";\nimport { getAccountCurrency, getMainAccount } from \"@ledgerhq/live-common/account/index\";\nimport { useTokensData } from \"@ledgerhq/cryptoassets/cal-client/hooks/useTokensData\";\nimport { supportLinkByTokenType } from \"~/config/urls\";\nimport TrackPage from \"~/renderer/analytics/TrackPage\";\nimport Box from \"~/renderer/components/Box\";\nimport Label from \"~/renderer/components/Label\";\nimport Button from \"~/renderer/components/Button\";\nimport SelectAccount from \"~/renderer/components/SelectAccount\";\nimport SelectCurrency from \"~/renderer/components/SelectCurrency\";\nimport CurrencyDownStatusAlert from \"~/renderer/components/CurrencyDownStatusAlert\";\nimport ErrorBanner from \"~/renderer/components/ErrorBanner\";\nimport Alert from \"~/renderer/components/Alert\";\nimport { getLLDCoinFamily } from \"~/renderer/families\";\nimport { StepProps } from \"../Body\";\n\ntype OnChangeAccount = (account?: AccountLike | null, tokenAccount?: Account | null) => void;\nconst AccountSelection = ({\n  onChangeAccount,\n  account,\n}: {\n  onChangeAccount: OnChangeAccount;\n  account: AccountLike | undefined | null;\n}) => (\n  <>\n    <Label>\n      <Trans i18nKey=\"receive.steps.chooseAccount.label\" />\n    </Label>\n    <SelectAccount autoFocus withSubAccounts onChange={onChangeAccount} value={account} />\n  </>\n);\nconst TokenParentSelection = ({\n  onChangeAccount,\n  mainAccount,\n}: {\n  onChangeAccount: OnChangeAccount;\n  mainAccount: Account;\n}) => {\n  const filterAccountSelect = useCallback(\n    (a: AccountLike) => getAccountCurrency(a) === mainAccount.currency,\n    [mainAccount],\n  );\n  return (\n    <>\n      <Label>\n        <Trans\n          i18nKey=\"receive.steps.chooseAccount.parentAccount\"\n          values={{\n            currencyName: mainAccount.currency.name,\n          }}\n        />\n      </Label>\n      <SelectAccount filter={filterAccountSelect} onChange={onChangeAccount} value={mainAccount} />\n    </>\n  );\n};\nconst TokenSelection = ({\n  token,\n  onChangeToken,\n  networkFamily,\n}: {\n  token: TokenCurrency | undefined | null;\n  onChangeToken: (token?: TokenCurrency | null) => void;\n  networkFamily: string;\n}) => {\n  const [lastItemIndex, setLastItemIndex] = useState<number | undefined>(undefined);\n  const [keepLastScrollPosition, setKeepLastScrollPosition] = useState(false);\n\n  const {\n    data: tokensData,\n    isLoading,\n    error,\n    loadNext,\n  } = useTokensData({\n    networkFamily: networkFamily,\n  });\n\n  const handleMenuScrollToBottom = useCallback(() => {\n    if (loadNext) {\n      setLastItemIndex(tokensData ? tokensData.tokens.length - 1 : 0);\n      setKeepLastScrollPosition(true);\n      loadNext();\n    }\n  }, [loadNext, tokensData]);\n\n  if (error) {\n    return (\n      <>\n        <Label mt={30}>\n          <Trans i18nKey=\"receive.steps.chooseAccount.token\" />\n        </Label>\n        <Box>\n          <Trans i18nKey=\"receive.steps.chooseAccount.errorLoadingTokens\" />\n        </Box>\n      </>\n    );\n  }\n\n  if (isLoading && !tokensData?.tokens.length) {\n    return (\n      <>\n        <Label mt={30}>\n          <Trans i18nKey=\"receive.steps.chooseAccount.token\" />\n        </Label>\n        <Box>\n          <Trans i18nKey=\"common.loading\" />\n        </Box>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <Label mt={30}>\n        <Trans i18nKey=\"receive.steps.chooseAccount.token\" />\n      </Label>\n      <SelectCurrency\n        onChange={onChangeToken as (token?: CryptoOrTokenCurrency | null) => void}\n        currencies={tokensData?.tokens || []}\n        value={token}\n        onMenuScrollToBottom={handleMenuScrollToBottom}\n        lastItemIndex={lastItemIndex}\n        keepLastScrollPosition={keepLastScrollPosition}\n        isLoading={isLoading}\n      />\n    </>\n  );\n};\nexport default function StepAccount(props: Readonly<StepProps>) {\n  const {\n    token,\n    account,\n    parentAccount,\n    receiveTokenMode,\n    onChangeAccount,\n    onChangeToken,\n    eventType,\n    accountError,\n  } = props;\n  const mainAccount = account ? getMainAccount(account, parentAccount) : null;\n  const tokenTypes = mainAccount?.currency.tokenTypes ?? [];\n\n  // Nb in the context of LL-6449 (nft integration) simplified the wording for the warning.\n  const tokenType =\n    mainAccount?.currency.name === \"Ethereum\"\n      ? mainAccount.currency.name\n      : tokenTypes.map(tt => tt.toUpperCase()).join(\"/\");\n  const url = supportLinkByTokenType[tokenTypes[0] as keyof typeof supportLinkByTokenType];\n  const specific = mainAccount ? getLLDCoinFamily(mainAccount.currency.family) : null;\n  const StepReceiveAccountCustomAlert = specific?.StepReceiveAccountCustomAlert;\n  const receiveTokensConfig = specific?.receiveTokensConfig;\n\n  return (\n    <Box flow={1}>\n      <TrackPage\n        category={`Receive Flow${eventType ? ` (${eventType})` : \"\"}`}\n        name=\"Step 1\"\n        isTokenAdd={receiveTokenMode || account?.type === \"TokenAccount\"}\n      />\n      {mainAccount ? <CurrencyDownStatusAlert currencies={[mainAccount.currency]} /> : null}\n      {accountError ? <ErrorBanner error={accountError} /> : null}\n\n      {receiveTokenMode && mainAccount ? (\n        <TokenParentSelection mainAccount={mainAccount} onChangeAccount={onChangeAccount} />\n      ) : (\n        <AccountSelection account={account} onChangeAccount={onChangeAccount} />\n      )}\n      {receiveTokenMode && mainAccount && receiveTokensConfig ? (\n        <TokenSelection\n          token={token}\n          onChangeToken={onChangeToken}\n          networkFamily={receiveTokensConfig.networkFamily}\n        />\n      ) : null}\n\n      {account && !receiveTokenMode && tokenTypes.length ? (\n        <div>\n          <Alert type=\"warning\" learnMoreUrl={url} mt={3}>\n            <Trans\n              i18nKey={`receive.steps.chooseAccount.${\n                account.type === \"TokenAccount\" ? \"verifyTokenType\" : \"warningTokenType\"\n              }`}\n              values={\n                account.type === \"TokenAccount\"\n                  ? {\n                      token: account.token.name,\n                      tokenType,\n                      currency: mainAccount && mainAccount.currency.name,\n                    }\n                  : {\n                      ticker: account.currency.ticker,\n                      tokenType,\n                      currency: account.currency.name,\n                    }\n              }\n            >\n              <b></b>\n            </Trans>\n          </Alert>\n        </div>\n      ) : null}\n      {!!account && !!StepReceiveAccountCustomAlert && (\n        <StepReceiveAccountCustomAlert {...props} account={account} />\n      )}\n    </Box>\n  );\n}\nexport function StepAccountFooter({\n  transitionTo,\n  receiveTokenMode,\n  token,\n  account,\n  accountError,\n  parentAccount,\n}: StepProps) {\n  const mainAccount = account ? getMainAccount(account, parentAccount) : null;\n  const specific = mainAccount ? getLLDCoinFamily(mainAccount.currency.family) : null;\n  const receiveTokensConfig = specific?.receiveTokensConfig;\n  const shouldRequireToken = receiveTokenMode && receiveTokensConfig;\n\n  return (\n    <Button\n      data-testid=\"modal-continue-button\"\n      disabled={!account || (shouldRequireToken && !token) || accountError}\n      primary\n      onClick={() => transitionTo(\"device\")}\n    >\n      <Trans i18nKey=\"common.continue\" />\n    </Button>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Receive/steps/StepConnectDevice.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Receive/steps/StepOptions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Receive/steps/StepReceiveFunds.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":234,"column":38,"nodeType":"TSAsExpression","messageId":"never","endLine":234,"endColumn":50}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import invariant from \"invariant\";\nimport React, { useEffect, useCallback, useState } from \"react\";\nimport { getAccountBridge } from \"@ledgerhq/live-common/bridge/index\";\nimport { getMainAccount } from \"@ledgerhq/live-common/account/index\";\nimport TrackPage from \"~/renderer/analytics/TrackPage\";\nimport ErrorDisplay from \"~/renderer/components/ErrorDisplay\";\nimport { DisconnectedDevice } from \"@ledgerhq/errors\";\nimport { Trans } from \"react-i18next\";\nimport styled from \"styled-components\";\nimport useTheme from \"~/renderer/hooks/useTheme\";\nimport { urls } from \"~/config/urls\";\nimport { openURL } from \"~/renderer/linking\";\nimport Box from \"~/renderer/components/Box\";\nimport Button from \"~/renderer/components/Button\";\nimport Text from \"~/renderer/components/Text\";\nimport Ellipsis from \"~/renderer/components/Ellipsis\";\nimport ReadOnlyAddressField from \"~/renderer/components/ReadOnlyAddressField\";\nimport LinkWithExternalIcon from \"~/renderer/components/LinkWithExternalIcon\";\nimport LinkShowQRCode from \"~/renderer/components/LinkShowQRCode\";\nimport SuccessDisplay from \"~/renderer/components/SuccessDisplay\";\nimport Receive2NoDevice from \"~/renderer/components/Receive2NoDevice\";\nimport { renderVerifyUnwrapped } from \"~/renderer/components/DeviceAction/rendering\";\nimport { StepProps } from \"../Body\";\nimport { Account } from \"@ledgerhq/types-live\";\nimport { track } from \"~/renderer/analytics/segment\";\nimport Modal from \"~/renderer/components/Modal\";\nimport Alert from \"~/renderer/components/Alert\";\nimport ModalBody from \"~/renderer/components/Modal/ModalBody\";\nimport QRCode from \"~/renderer/components/QRCode\";\nimport { getEnv } from \"@ledgerhq/live-env\";\nimport AccountTagDerivationMode from \"~/renderer/components/AccountTagDerivationMode\";\nimport { FeatureToggle, useFeature } from \"@ledgerhq/live-common/featureFlags/index\";\nimport { LOCAL_STORAGE_KEY_PREFIX } from \"./StepReceiveStakingFlow\";\nimport { useDispatch, useSelector } from \"LLD/hooks/redux\";\n\nimport { openModal } from \"~/renderer/actions/modals\";\nimport { Device } from \"@ledgerhq/live-common/hw/actions/types\";\nimport { getLLDCoinFamily } from \"~/renderer/families\";\nimport { firstValueFrom } from \"rxjs\";\nimport { getDefaultAccountName } from \"@ledgerhq/live-wallet/accountName\";\nimport { useMaybeAccountName } from \"~/renderer/reducers/wallet\";\nimport { UTXOAddressAlert } from \"~/renderer/components/UTXOAddressAlert\";\nimport { isUTXOCompliant } from \"@ledgerhq/live-common/currencies/helpers\";\nimport MemoTagInfo from \"LLD/features/MemoTag/components/MemoTagInfo\";\nimport { MEMO_TAG_COINS } from \"LLD/features/MemoTag/constants\";\nimport { onboardingReceiveFlowSelector } from \"~/renderer/reducers/onboarding\";\nimport { useVersionedStakePrograms } from \"LLD/hooks/useVersionedStakePrograms\";\n\nconst Separator = styled.div`\n  border-top: 1px solid #99999933;\n  margin: 50px 0;\n`;\nconst Separator2 = styled.div`\n  border-top: 1px solid #99999933;\n  margin-top: 50px;\n`;\nconst QRCodeWrapper = styled.div`\n  border: 24px solid white;\n  height: 208px;\n  width: 208px;\n  background: white;\n`;\n\nconst Receive1ShareAddress = ({\n  account,\n  name,\n  address,\n  showQRCodeModal,\n}: {\n  account: Account;\n  name: string;\n  address: string;\n  showQRCodeModal: () => void;\n}) => {\n  const { currency } = account;\n\n  const isUTXOCompliantCurrency = isUTXOCompliant(currency.family);\n  const shouldRenderMemoTagInfo = currency.family && MEMO_TAG_COINS.includes(currency.family);\n\n  return (\n    <>\n      <Box horizontal alignItems=\"center\" flow={2} mb={4}>\n        <Text\n          style={{\n            flex: 1,\n          }}\n          ff=\"Inter|SemiBold\"\n          color=\"neutral.c100\"\n          fontSize={4}\n        >\n          {name ? (\n            <Box horizontal alignItems=\"center\" flexWrap=\"wrap\">\n              <Ellipsis>\n                <Trans i18nKey=\"currentAddress.for\">\n                  {\"Address for \"}\n                  <strong>{name}</strong>\n                </Trans>\n              </Ellipsis>\n              <AccountTagDerivationMode account={account} />\n            </Box>\n          ) : (\n            <Trans i18nKey=\"currentAddress.title\" />\n          )}\n        </Text>\n        <LinkShowQRCode onClick={showQRCodeModal} address={address} />\n      </Box>\n      <ReadOnlyAddressField address={address} />\n\n      {isUTXOCompliantCurrency && (\n        <Box mt={3}>\n          <UTXOAddressAlert />\n        </Box>\n      )}\n      <FeatureToggle featureId=\"lldMemoTag\">\n        {shouldRenderMemoTagInfo && (\n          <Box mt={3}>\n            <MemoTagInfo />\n          </Box>\n        )}\n      </FeatureToggle>\n    </>\n  );\n};\nconst Receive2Device = ({ name, device }: { name: string; device: Device }) => {\n  const type = useTheme().theme;\n  return (\n    <>\n      <Box horizontal alignItems=\"center\" flow={2}>\n        <Text\n          style={{\n            flexShrink: \"unset\",\n          }}\n          ff=\"Inter|SemiBold\"\n          color=\"neutral.c100\"\n          fontSize={4}\n        >\n          <span\n            style={{\n              marginRight: 10,\n            }}\n          >\n            <Trans\n              i18nKey=\"currentAddress.messageIfUnverified\"\n              value={{\n                name,\n              }}\n            />\n          </span>\n          <LinkWithExternalIcon\n            style={{\n              display: \"inline-flex\",\n            }}\n            onClick={() => openURL(urls.recipientAddressInfo)}\n            label={<Trans i18nKey=\"common.learnMore\" />}\n          />\n        </Text>\n      </Box>\n\n      {renderVerifyUnwrapped({\n        modelId: device.modelId,\n        type,\n      })}\n    </>\n  );\n};\n\nconst StepReceiveFunds = (props: StepProps) => {\n  const {\n    isAddressVerified,\n    account,\n    parentAccount,\n    device,\n    onChangeAddressVerified,\n    transitionTo,\n    onResetSkip,\n    verifyAddressError,\n    token,\n    onClose,\n    eventType,\n    currencyName,\n    receiveTokenMode,\n    isFromPostOnboardingEntryPoint,\n  } = props;\n  const dispatch = useDispatch();\n  const isOnboardingReceiveFlow = useSelector(onboardingReceiveFlowSelector);\n\n  const receiveStakingFlowConfig = useFeature(\"receiveStakingFlowConfigDesktop\");\n  const stakePrograms = useVersionedStakePrograms();\n  const receivedCurrencyId: string | undefined =\n    account && account.type !== \"TokenAccount\" ? account?.currency?.id : undefined;\n  // Check if the received currency has a redirect configured in stakePrograms\n  // If so, the user should use the Earn live app instead of the old staking modal\n  const hasStakeProgramsRedirect =\n    !!receivedCurrencyId && !!stakePrograms?.params?.redirects?.[receivedCurrencyId];\n  const isStakingEnabledForAccount =\n    !!receivedCurrencyId &&\n    receiveStakingFlowConfig?.enabled &&\n    receiveStakingFlowConfig?.params?.[receivedCurrencyId]?.enabled;\n  const isDirectStakingEnabledForAccount =\n    !!receivedCurrencyId && receiveStakingFlowConfig?.params?.[receivedCurrencyId]?.direct;\n  const isSPLToken =\n    account && account.type === \"TokenAccount\" && account.token.parentCurrency.family === \"solana\";\n\n  const mainAccount = account ? getMainAccount(account, parentAccount) : null;\n  invariant(account && mainAccount, \"No account given\");\n  const maybeAccountName = useMaybeAccountName(account);\n  const name = token ? token.name : maybeAccountName || getDefaultAccountName(account);\n  const address = mainAccount.freshAddress;\n  const [modalVisible, setModalVisible] = useState(false);\n  const hideQRCodeModal = useCallback(() => setModalVisible(false), [setModalVisible]);\n  const showQRCodeModal = useCallback(() => setModalVisible(true), [setModalVisible]);\n  const confirmAddress = useCallback(async () => {\n    try {\n      if (getEnv(\"MOCK\")) {\n        setTimeout(() => {\n          onChangeAddressVerified(true);\n          transitionTo(\"receive\");\n        }, 3000);\n      } else {\n        if (!device) {\n          throw new DisconnectedDevice();\n        }\n        await firstValueFrom(\n          getAccountBridge(mainAccount).receive(mainAccount, {\n            deviceId: device.deviceId,\n            verify: true,\n          }),\n        );\n        onChangeAddressVerified(true);\n        hideQRCodeModal();\n        transitionTo(\"receive\");\n      }\n    } catch (err) {\n      onChangeAddressVerified(false, err as Error);\n      hideQRCodeModal();\n    }\n  }, [device, mainAccount, transitionTo, onChangeAddressVerified, hideQRCodeModal]);\n\n  const onVerify = useCallback(() => {\n    onChangeAddressVerified(null);\n    onResetSkip();\n    transitionTo(\"device\");\n  }, [onChangeAddressVerified, onResetSkip, transitionTo]);\n\n  const onFinishReceiveFlow = useCallback(() => {\n    const dismissModal =\n      global.localStorage.getItem(`${LOCAL_STORAGE_KEY_PREFIX}${receivedCurrencyId}`) === \"true\";\n    if (\n      !dismissModal &&\n      !receiveTokenMode &&\n      isStakingEnabledForAccount &&\n      !isFromPostOnboardingEntryPoint &&\n      !isSPLToken &&\n      !isOnboardingReceiveFlow &&\n      !hasStakeProgramsRedirect\n    ) {\n      track(\"button_clicked2\", {\n        button: \"continue\",\n        page: window.location.hash\n          .split(\"/\")\n          .filter(e => e !== \"#\")\n          .join(\"/\"),\n        currency: currencyName,\n        modal: \"receive\",\n        account: name,\n      });\n      // Only open EVM staking modal if the user received ETH or an EVM currency supported by the providers\n      if (isDirectStakingEnabledForAccount) {\n        dispatch(\n          openModal(\"MODAL_EVM_STAKE\", {\n            account: mainAccount,\n            hasCheckbox: true,\n            singleProviderRedirectMode: false,\n            source: \"receive\",\n          }),\n        );\n        onClose();\n      } else {\n        transitionTo(\"stakingFlow\");\n      }\n    } else {\n      onClose();\n    }\n  }, [\n    receivedCurrencyId,\n    isFromPostOnboardingEntryPoint,\n    receiveTokenMode,\n    isStakingEnabledForAccount,\n    isDirectStakingEnabledForAccount,\n    currencyName,\n    name,\n    dispatch,\n    mainAccount,\n    onClose,\n    transitionTo,\n    isSPLToken,\n    isOnboardingReceiveFlow,\n    hasStakeProgramsRedirect,\n  ]);\n\n  // when address need verification we trigger it on device\n  useEffect(() => {\n    if (isAddressVerified === null) {\n      confirmAddress();\n    }\n  }, [isAddressVerified, confirmAddress]);\n\n  // custom family UI for StepReceiveFunds\n  const specific = getLLDCoinFamily(mainAccount.currency.family);\n  const CustomStepReceiveFunds = specific?.StepReceiveFunds;\n  if (CustomStepReceiveFunds) {\n    return <CustomStepReceiveFunds {...props} />;\n  }\n\n  const CustomPostAlertReceiveFunds = specific?.StepReceiveFundsPostAlert;\n\n  return (\n    <>\n      <Box px={2}>\n        <TrackPage\n          category={`Receive Flow${eventType ? ` (${eventType})` : \"\"}`}\n          name=\"Step 3\"\n          currencyName={currencyName}\n        />\n        {\n          verifyAddressError ? (\n            <ErrorDisplay error={verifyAddressError} onRetry={onVerify} />\n          ) : isAddressVerified === true ? (\n            // Address was confirmed on device! we display a success screen!\n\n            <Box alignItems=\"center\">\n              <SuccessDisplay\n                title={<Trans i18nKey=\"receive.successTitle\" />}\n                description={\n                  <LinkWithExternalIcon\n                    style={{\n                      display: \"inline-flex\",\n                      marginLeft: \"10px\",\n                    }}\n                    onClick={() => openURL(urls.recipientAddressInfo)}\n                    label={<Trans i18nKey=\"common.learnMore\" />}\n                  />\n                }\n              >\n                <Box flow={4} pt={4} horizontal justifyContent=\"center\">\n                  <Button event=\"Page Receive Step 3 re-verify\" outlineGrey onClick={onVerify}>\n                    <Trans i18nKey=\"common.reverify\" />\n                  </Button>\n                  <Button data-testid=\"modal-continue-button\" primary onClick={onFinishReceiveFlow}>\n                    <Trans i18nKey=\"common.done\" />\n                  </Button>\n                </Box>\n              </SuccessDisplay>\n            </Box>\n          ) : isAddressVerified === false ? (\n            // User explicitly bypass device verification (no device)\n            <>\n              <Receive1ShareAddress\n                account={mainAccount}\n                name={name}\n                address={address}\n                showQRCodeModal={showQRCodeModal}\n              />\n              {CustomPostAlertReceiveFunds && <CustomPostAlertReceiveFunds {...props} />}\n              <Alert type=\"security\" learnMoreUrl={urls.recipientAddressInfo} mt={4}>\n                <Trans\n                  i18nKey=\"currentAddress.messageIfSkipped\"\n                  values={{\n                    name,\n                  }}\n                />\n              </Alert>\n              <Separator2 />\n              <Receive2NoDevice onVerify={onVerify} onContinue={onFinishReceiveFlow} />\n            </>\n          ) : device ? (\n            // verification with device\n            <>\n              <Receive1ShareAddress\n                account={mainAccount}\n                name={name}\n                address={address}\n                showQRCodeModal={showQRCodeModal}\n              />\n              {CustomPostAlertReceiveFunds && <CustomPostAlertReceiveFunds {...props} />}\n              <Separator />\n              <Receive2Device device={device} name={name} />\n            </>\n          ) : null // should not happen\n        }\n      </Box>\n      <Modal isOpened={modalVisible} onClose={hideQRCodeModal} centered width={460}>\n        <ModalBody\n          onClose={hideQRCodeModal}\n          render={() => (\n            <Box alignItems=\"center\">\n              <QRCodeWrapper>\n                <QRCode size={160} data={address} />\n              </QRCodeWrapper>\n              <Box mt={6}>\n                <ReadOnlyAddressField address={address} />\n              </Box>\n            </Box>\n          )}\n        />\n      </Modal>\n    </>\n  );\n};\nexport default StepReceiveFunds;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Receive/steps/StepReceiveStakingFlow.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":111,"column":44,"nodeType":"TSAsExpression","messageId":"never","endLine":111,"endColumn":62},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":145,"column":8,"nodeType":"TSAsExpression","messageId":"never","endLine":145,"endColumn":36}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback, useState, useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport styled from \"styled-components\";\nimport { Flex, Text, IconsLegacy, Link } from \"@ledgerhq/react-ui\";\nimport { useFeature } from \"@ledgerhq/live-common/featureFlags/index\";\nimport { StepProps } from \"../Body\";\nimport StakingIllustration from \"../assets/StakingIllustration\";\nimport { track } from \"~/renderer/analytics/segment\";\nimport { openURL } from \"~/renderer/linking\";\nimport { withV3StyleProvider } from \"~/renderer/styles/StyleProviderV3\";\nimport Button from \"~/renderer/components/ButtonV3\";\nimport CheckBox from \"~/renderer/components/CheckBox\";\nimport { Account } from \"@ledgerhq/types-live\";\nimport { getLLDCoinFamily } from \"~/renderer/families\";\nimport { ManageAction } from \"~/renderer/families/types\";\nimport { getDefaultAccountName } from \"@ledgerhq/live-wallet/accountName\";\n\nexport const LOCAL_STORAGE_KEY_PREFIX = \"receive_staking_\";\n\nexport const CheckBoxContainer: typeof Flex = styled(Flex)`\n  & > div {\n    column-gap: 15px;\n  }\n  & span {\n    font-size: 14px;\n    line-height: 18px;\n  }\n  border-radius: 8px;\n  background-color: ${p => p.theme.colors.neutral.c30};\n  :hover {\n    background-color: ${p => p.theme.colors.primary.c10};\n  }\n`;\n\nconst StepReceiveStakingFlow = (props: StepProps) => {\n  const { t } = useTranslation();\n  const receiveStakingFlowConfig = useFeature(\"receiveStakingFlowConfigDesktop\");\n  const { account } = props;\n  const [doNotShowAgain, setDoNotShowAgain] = useState<boolean>(false);\n\n  const id = account && \"currency\" in account ? account.currency?.id : undefined;\n  const supportLink = id ? receiveStakingFlowConfig?.params?.[id]?.supportLink : undefined;\n  const title = t(`receive.steps.staking.${id}.title`);\n  const description = t(`receive.steps.staking.${id}.description`);\n\n  const getTrackProperties = useCallback(() => {\n    return {\n      page: window.location.hash\n        .split(\"/\")\n        .filter(e => e !== \"#\")\n        .join(\"/\"),\n      modal: \"receive\",\n      flow: \"stake\",\n    };\n  }, []);\n\n  const openLink = useCallback(() => {\n    track(\"button_clicked2\", {\n      button: \"learn_more\",\n      ...getTrackProperties(),\n      link: supportLink,\n    });\n\n    if (supportLink) {\n      openURL(supportLink, \"OpenURL\", getTrackProperties());\n    }\n  }, [getTrackProperties, supportLink]);\n\n  const onChange = useCallback(() => {\n    const value = !doNotShowAgain;\n    global.localStorage.setItem(`${LOCAL_STORAGE_KEY_PREFIX}${id}`, \"\" + value);\n    setDoNotShowAgain(value);\n    track(\"button_clicked2\", {\n      button: \"not_show\",\n      ...getTrackProperties(),\n      value,\n    });\n  }, [doNotShowAgain, getTrackProperties, id]);\n\n  return (\n    <Flex flexDirection=\"column\" justifyContent=\"center\" alignItems=\"center\" px={10}>\n      <StakingIllustration />\n      <Text variant=\"large\" mb={6} mt={12} fontWeight=\"semiBold\" textAlign=\"center\">\n        {title}\n      </Text>\n      <Text variant=\"paragraph\" color=\"neutral.c70\" textAlign=\"center\">\n        {description}\n      </Text>\n      {supportLink && (\n        <Link Icon={IconsLegacy.ExternalLinkMedium} onClick={openLink} mt={7} mb={7} type={\"color\"}>\n          {t(\"receive.steps.staking.link\")}\n        </Link>\n      )}\n      <CheckBoxContainer p={6} borderRadius={8} borderWidth={0} width={\"100%\"} onClick={onChange}>\n        <CheckBox isChecked={doNotShowAgain} label={t(\"receive.steps.staking.notShow\")} />\n      </CheckBoxContainer>\n    </Flex>\n  );\n};\n\nconst providerName = \"Ledger\";\n\nexport const StepReceiveStakingFooter = (props: StepProps) => {\n  const { t } = useTranslation();\n  const [action, setAction] = useState<ManageAction | undefined>();\n  const { account, parentAccount, closeModal } = props;\n  const specific =\n    account && account.type === \"Account\" ? getLLDCoinFamily(account.currency.family) : null;\n  const manage = specific?.accountHeaderManageActions;\n  const familyManageActions =\n    manage && account && manage({ account: account as Account, parentAccount });\n\n  useEffect(() => {\n    const manageList =\n      familyManageActions && familyManageActions.length > 0 ? familyManageActions : [];\n    const newAction = manageList && manageList.find(item => item.key === \"Stake\");\n\n    if (newAction?.key !== action?.key || newAction?.label !== action?.label) {\n      setAction(newAction);\n    }\n  }, [action, familyManageActions]);\n\n  const getTrackProperties = useCallback(() => {\n    return {\n      page: window.location.hash\n        .split(\"/\")\n        .filter(e => e !== \"#\")\n        .join(\"/\"),\n      flow: \"stake\",\n      currency: account && \"currency\" in account ? account?.currency?.name : undefined,\n      provider: providerName,\n      modal: \"receive\",\n      account: account && getDefaultAccountName(account),\n    };\n  }, [account]);\n\n  const onStake = useCallback(() => {\n    if (action && \"onClick\" in action && action?.onClick) {\n      track(\"button_clicked2\", {\n        button: \"stake\",\n        ...getTrackProperties(),\n      });\n\n      closeModal();\n      (action.onClick as () => void)();\n    } else {\n      closeModal();\n    }\n  }, [action, closeModal, getTrackProperties]);\n\n  const onCloseModal = useCallback(() => {\n    track(\"button_clicked2\", {\n      button: \"skip\",\n      ...getTrackProperties(),\n    });\n    closeModal();\n  }, [closeModal, getTrackProperties]);\n\n  return (\n    <>\n      <Button onClick={onCloseModal}>{t(\"receive.steps.staking.footer.dismiss\")}</Button>\n      <Button variant=\"color\" onClick={onStake}>\n        {t(\"receive.steps.staking.footer.stake\", {\n          provider: providerName,\n        })}\n      </Button>\n    </>\n  );\n};\nexport default withV3StyleProvider(StepReceiveStakingFlow);\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Receive/steps/StepWarning.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/ReleaseNotes/ReleaseNotesBody.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":53,"column":32,"nodeType":"TSAsExpression","messageId":"never","endLine":53,"endColumn":88}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState, memo } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport styled from \"styled-components\";\nimport releaseNotes from \"../../../../release-notes.json\";\nimport { ModalBody } from \"~/renderer/components/Modal\";\nimport Box from \"~/renderer/components/Box\";\nimport Spinner from \"~/renderer/components/Spinner\";\nimport TrackPage from \"~/renderer/analytics/TrackPage\";\nimport Text from \"~/renderer/components/Text\";\nimport Button from \"~/renderer/components/Button\";\nimport Markdown, { Notes } from \"~/renderer/components/Markdown\";\n\ntype Props = {\n  onClose?: () => void | undefined;\n};\ntype RenderContentProps = {\n  notes: Array<{\n    // eslint-disable-next-line camelcase\n    tag_name: string;\n    body: string;\n  }>;\n};\nconst Title = styled(Text).attrs(() => ({\n  ff: \"Inter\",\n  fontSize: 5,\n  color: \"neutral.c100\",\n}))``;\nconst RenderContent = ({ notes }: RenderContentProps) => {\n  const { t } = useTranslation();\n  if (notes.length) {\n    return notes.map(note => (\n      <Notes mb={6} key={note.tag_name}>\n        <Title>\n          {t(\"releaseNotes.version\", {\n            versionNb: note.tag_name,\n          })}\n        </Title>\n        <Markdown>{note.body}</Markdown>\n      </Notes>\n    ));\n  }\n  return (\n    <Box horizontal alignItems=\"center\">\n      <Spinner\n        size={32}\n        style={{\n          margin: \"auto\",\n        }}\n      />\n    </Box>\n  );\n};\nconst RenderContentMemo = memo(RenderContent as React.ComponentType<RenderContentProps>);\nconst ReleaseNotesBody = ({ onClose }: Props) => {\n  const { t } = useTranslation();\n  const [notes, setNotes] = useState<typeof releaseNotes>([]);\n  useEffect(() => {\n    setNotes(releaseNotes);\n  }, []);\n  return (\n    <ModalBody\n      onClose={onClose}\n      title={t(\"releaseNotes.title\")}\n      render={() => (\n        <Box\n          relative\n          style={{\n            height: 500,\n          }}\n          px={5}\n          pb={8}\n        >\n          <TrackPage category=\"Modal\" name=\"ReleaseNotes\" />\n          <RenderContentMemo notes={notes} />\n        </Box>\n      )}\n      renderFooter={() => (\n        <Box horizontal justifyContent=\"flex-end\">\n          <Button onClick={onClose} primary>\n            {t(\"common.continue\")}\n          </Button>\n        </Box>\n      )}\n    />\n  );\n};\nexport default ReleaseNotesBody;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/ReleaseNotes/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/RepairModal/components/HelpCenterButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/RepairModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/ResetFallbackModal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Send/AccountFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Send/Body.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":112,"column":10,"nodeType":"TSAsExpression","messageId":"never","endLine":112,"endColumn":39},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":315,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":318,"endColumn":41}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback, useEffect, useState } from \"react\";\nimport { BigNumber } from \"bignumber.js\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport invariant from \"invariant\";\nimport { TFunction } from \"i18next\";\nimport { Trans, withTranslation } from \"react-i18next\";\nimport { createStructuredSelector } from \"reselect\";\nimport { UserRefusedOnDevice } from \"@ledgerhq/errors\";\nimport { addPendingOperation, getMainAccount } from \"@ledgerhq/live-common/account/index\";\nimport { getAccountCurrency } from \"@ledgerhq/live-common/account/helpers\";\nimport { getAccountBridge } from \"@ledgerhq/live-common/bridge/index\";\nimport useBridgeTransaction from \"@ledgerhq/live-common/bridge/useBridgeTransaction\";\nimport { Account, AccountLike, Operation } from \"@ledgerhq/types-live\";\nimport { Transaction } from \"@ledgerhq/live-common/generated/types\";\nimport logger from \"~/renderer/logger\";\nimport Stepper from \"~/renderer/components/Stepper\";\nimport { SyncSkipUnderPriority } from \"@ledgerhq/live-common/bridge/react/index\";\nimport { closeModal, openModal } from \"~/renderer/actions/modals\";\nimport { accountsSelector } from \"~/renderer/reducers/accounts\";\nimport { updateAccountWithUpdater } from \"~/renderer/actions/accounts\";\nimport { getCurrentDevice } from \"~/renderer/reducers/devices\";\nimport Track from \"~/renderer/analytics/Track\";\nimport { Device } from \"@ledgerhq/live-common/hw/actions/types\";\nimport StepRecipient, { StepRecipientFooter } from \"./steps/StepRecipient\";\nimport StepAmount, { StepAmountFooter } from \"./steps/StepAmount\";\nimport StepConnectDevice from \"./steps/StepConnectDevice\";\nimport StepSummary, { StepSummaryFooter } from \"./steps/StepSummary\";\nimport StepConfirmation, { StepConfirmationFooter } from \"./steps/StepConfirmation\";\nimport StepWarning, { StepWarningFooter } from \"./steps/StepWarning\";\nimport { St, StepId } from \"./types\";\n\nexport type Data = {\n  account?: AccountLike | undefined | null;\n  parentAccount?: Account | undefined | null;\n  startWithWarning?: boolean;\n  recipient?: string;\n  amount?: BigNumber;\n  disableBacks?: string[];\n  walletConnectProxy?: boolean;\n  transaction?: Transaction;\n  onConfirmationHandler?: () => void;\n  onFailHandler?: () => void;\n  stepId?: StepId;\n};\n\ntype OwnProps = {\n  stepId: StepId;\n  onChangeStepId: (a: StepId) => void;\n  onClose?: () => void | undefined;\n  params: Data;\n};\ntype StateProps = {\n  t: TFunction;\n  device: Device | undefined | null;\n  accounts: Account[];\n  closeModal: (a: string) => void;\n  openModal: (b: string, a: unknown) => void;\n  updateAccountWithUpdater: (b: string, a: (a: Account) => Account) => void;\n};\ntype Props = {} & OwnProps & StateProps;\nconst createSteps = (disableBacks: string[] = []): St[] => {\n  const steps: Array<St | undefined> = [\n    {\n      id: \"warning\",\n      excludeFromBreadcrumb: true,\n      component: StepWarning,\n      footer: StepWarningFooter,\n    },\n    {\n      id: \"recipient\",\n      label: <Trans i18nKey=\"send.steps.recipient.title\" />,\n      component: StepRecipient,\n      footer: StepRecipientFooter,\n    },\n    {\n      id: \"amount\",\n      label: <Trans i18nKey=\"send.steps.amount.title\" />,\n      component: StepAmount,\n      footer: StepAmountFooter,\n      onBack: !disableBacks.includes(\"amount\")\n        ? ({ transitionTo }) => transitionTo(\"recipient\")\n        : null,\n    },\n    {\n      id: \"summary\",\n      label: <Trans i18nKey=\"send.steps.summary.title\" />,\n      component: StepSummary,\n      footer: StepSummaryFooter,\n      onBack: !disableBacks.includes(\"transaction\")\n        ? ({ transitionTo }) => transitionTo(\"amount\")\n        : null,\n    },\n    {\n      id: \"device\",\n      label: <Trans i18nKey=\"send.steps.device.title\" />,\n      component: StepConnectDevice,\n      onBack: !disableBacks.includes(\"device\")\n        ? ({ transitionTo }) => transitionTo(\"summary\")\n        : null,\n    },\n    {\n      id: \"confirmation\",\n      label: <Trans i18nKey=\"send.steps.confirmation.title\" />,\n      excludeFromBreadcrumb: true,\n      component: StepConfirmation,\n      footer: StepConfirmationFooter,\n      onBack: null,\n    },\n  ];\n\n  return steps.filter(Boolean) as St[];\n};\nconst mapStateToProps = createStructuredSelector({\n  device: getCurrentDevice,\n  accounts: accountsSelector,\n});\nconst mapDispatchToProps = {\n  closeModal,\n  openModal,\n  updateAccountWithUpdater,\n};\nconst Body = ({\n  t,\n  device,\n  openModal,\n  closeModal,\n  onChangeStepId,\n  onClose,\n  stepId,\n  params,\n  accounts,\n  updateAccountWithUpdater,\n}: Props) => {\n  const openedFromAccount = !!params.account;\n\n  const walletConnectProxy = !!params.walletConnectProxy;\n\n  // initial values might coming from deeplink\n  const [maybeAmount, setMaybeAmount] = useState(() => params.amount || null);\n  const [maybeRecipient, setMaybeRecipient] = useState(() => params.recipient || null);\n  const onResetMaybeAmount = useCallback(() => {\n    setMaybeAmount(null);\n  }, [setMaybeAmount]);\n  const onResetMaybeRecipient = useCallback(() => {\n    setMaybeRecipient(null);\n  }, [setMaybeRecipient]);\n\n  const [steps] = useState(() => createSteps(params.disableBacks));\n\n  const {\n    transaction,\n    setTransaction,\n    updateTransaction,\n    account,\n    parentAccount,\n    setAccount,\n    status,\n    bridgeError,\n    bridgePending,\n  } = useBridgeTransaction(() => {\n    const parentAccount = params?.parentAccount;\n    const account = params?.account || accounts[0];\n    return {\n      account,\n      parentAccount,\n      transaction: params.transaction,\n    };\n  });\n\n  invariant(account, \"account required\");\n\n  // make sure step id is in sync\n  useEffect(() => {\n    const stepId = params?.startWithWarning ? \"warning\" : null;\n    if (stepId) onChangeStepId(stepId);\n  }, [onChangeStepId, params]);\n\n  // Apply pre-filled recipient and amount to transaction when skipping steps\n  useEffect(() => {\n    if (!transaction) return;\n\n    const bridge = getAccountBridge(account, parentAccount);\n    let updatedTransaction = transaction;\n    let hasChanges = false;\n\n    if (maybeRecipient && !transaction.recipient) {\n      updatedTransaction = bridge.updateTransaction(updatedTransaction, {\n        recipient: maybeRecipient,\n      });\n      hasChanges = true;\n      onResetMaybeRecipient();\n    }\n\n    if (maybeAmount && !maybeAmount.eq(transaction.amount || new BigNumber(0))) {\n      updatedTransaction = bridge.updateTransaction(updatedTransaction, { amount: maybeAmount });\n      hasChanges = true;\n      onResetMaybeAmount();\n    }\n\n    if (hasChanges) {\n      setTransaction(updatedTransaction);\n    }\n  }, [\n    maybeRecipient,\n    maybeAmount,\n    transaction,\n    account,\n    parentAccount,\n    setTransaction,\n    onResetMaybeRecipient,\n    onResetMaybeAmount,\n  ]);\n\n  const [optimisticOperation, setOptimisticOperation] = useState<Operation | null>(null);\n  const [transactionError, setTransactionError] = useState<Error | null>(null);\n  const [signed, setSigned] = useState(false);\n  const currency = account ? getAccountCurrency(account) : undefined;\n  const currencyName = currency ? currency.name : undefined;\n  const handleCloseModal = useCallback(() => {\n    closeModal(\"MODAL_SEND\");\n  }, [closeModal]);\n  const handleChangeAccount = useCallback(\n    (nextAccount: AccountLike, nextParentAccount?: Account | null) => {\n      if (account !== nextAccount) {\n        setAccount(nextAccount, nextParentAccount);\n      }\n    },\n    [account, setAccount],\n  );\n\n  const handleRetry = useCallback(() => {\n    setTransactionError(null);\n    setOptimisticOperation(null);\n    setSigned(false);\n  }, []);\n  const handleTransactionError = useCallback((error: Error) => {\n    if (!(error instanceof UserRefusedOnDevice)) {\n      logger.critical(error);\n    }\n    setTransactionError(error);\n  }, []);\n  const handleOperationBroadcasted = useCallback(\n    (optimisticOperation: Operation) => {\n      if (!account) return;\n      const mainAccount = getMainAccount(account, parentAccount);\n      updateAccountWithUpdater(mainAccount.id, account =>\n        addPendingOperation(account, optimisticOperation),\n      );\n      setOptimisticOperation(optimisticOperation);\n      setTransactionError(null);\n    },\n    [account, parentAccount, updateAccountWithUpdater],\n  );\n  const handleStepChange = useCallback(\n    (e: { id: StepId }) => onChangeStepId(e.id),\n    [onChangeStepId],\n  );\n  const errorSteps = [];\n  if (transactionError) {\n    errorSteps.push(3);\n  } else if (bridgeError) {\n    errorSteps.push(0);\n  }\n  const error = transactionError || bridgeError;\n  const stepperProps = {\n    title: stepId === \"warning\" ? t(\"common.information\") : t(\"send.title\"),\n    stepId,\n    steps,\n    errorSteps,\n    device,\n    openedFromAccount,\n    account,\n    parentAccount,\n    transaction,\n    signed,\n    currencyName,\n    hideBreadcrumb: (!!error && [\"recipient\", \"amount\"].includes(stepId)) || stepId === \"warning\",\n    error,\n    status,\n    bridgePending,\n    optimisticOperation,\n    openModal,\n    onClose,\n    setSigned,\n    closeModal: handleCloseModal,\n    onChangeAccount: handleChangeAccount,\n    onChangeTransaction: setTransaction,\n    onRetry: handleRetry,\n    onStepChange: handleStepChange,\n    onOperationBroadcasted: handleOperationBroadcasted,\n    onTransactionError: handleTransactionError,\n    maybeAmount,\n    onResetMaybeAmount,\n    maybeRecipient,\n    onResetMaybeRecipient,\n    updateTransaction,\n    walletConnectProxy,\n    onConfirmationHandler: params.onConfirmationHandler,\n    onFailHandler: params.onFailHandler,\n  };\n\n  if (!status) {\n    return null;\n  }\n\n  return (\n    <Stepper {...stepperProps}>\n      {stepId === \"confirmation\" ? null : <SyncSkipUnderPriority priority={100} />}\n      <Track onUnmount event=\"CloseModalSend\" />\n    </Stepper>\n  );\n};\n\nconst m = compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  withTranslation(),\n)(Body) as React.ComponentType<OwnProps>;\nexport default m;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Send/SendAmountFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Send/SendRecipientFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Send/fields/AmountField.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has missing dependencies: 'bridge', 'initValue', 'onChangeTransaction', 'resetInitValue', and 'transaction'. Either include them or remove the dependency array. If 'onChangeTransaction' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":48,"column":6,"nodeType":"ArrayExpression","endLine":48,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [bridge, initValue, onChangeTransaction, resetInitValue, transaction]","fix":{"range":[1555,1557],"text":"[bridge, initValue, onChangeTransaction, resetInitValue, transaction]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Send/fields/DomainErrorHandlers.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":31,"column":8,"nodeType":"TSAsExpression","messageId":"never","endLine":31,"endColumn":34,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Send/fields/RecipientField.react.test.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":31,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1134,1137],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1134,1137],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":124,"column":45,"nodeType":"TSAsExpression","messageId":"never","endLine":124,"endColumn":99,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":124,"column":45,"nodeType":"TSAsExpression","messageId":"never","endLine":124,"endColumn":75,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":138,"column":12,"nodeType":"TSAsExpression","messageId":"never","endLine":138,"endColumn":49,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":138,"column":12,"nodeType":"TSAsExpression","messageId":"never","endLine":138,"endColumn":36,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Send/fields/RecipientField.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":42,"column":44,"nodeType":"TSAsExpression","messageId":"never","endLine":42,"endColumn":83},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":93,"column":16,"nodeType":"TSAsExpression","messageId":"never","endLine":93,"endColumn":61}],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has missing dependencies: 'bridge', 'onChangeTransaction', 'resetInitValue', 'transaction', and 'value'. Either include them or remove the dependency array. If 'onChangeTransaction' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":49,"column":6,"nodeType":"ArrayExpression","endLine":49,"endColumn":15,"suggestions":[{"desc":"Update the dependencies array to be: [account, bridge, onChangeTransaction, resetInitValue, transaction, value]","fix":{"range":[1767,1776],"text":"[account, bridge, onChangeTransaction, resetInitValue, transaction, value]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { memo, useCallback, useEffect, useState } from \"react\";\nimport { getAccountBridge } from \"@ledgerhq/live-common/bridge/index\";\nimport { Transaction, TransactionStatus } from \"@ledgerhq/live-common/generated/types\";\nimport { Account } from \"@ledgerhq/types-live\";\nimport type { TFunction } from \"i18next\";\nimport { CryptoCurrencyId } from \"@ledgerhq/types-cryptoassets\";\nimport RecipientFieldBase from \"./RecipientFieldBase\";\nimport RecipientFieldDomainService from \"./RecipientFieldDomainService\";\nimport { useFeature } from \"@ledgerhq/live-common/featureFlags/index\";\nimport { OnChangeExtra } from \"~/renderer/components/RecipientAddress\";\n\ntype Props<T extends Transaction, TS extends TransactionStatus> = {\n  account: Account;\n  transaction: T;\n  autoFocus?: boolean;\n  status: TS;\n  onChangeTransaction: (tx: T) => void;\n  t: TFunction;\n  label?: React.ReactNode;\n  initValue?: string;\n  resetInitValue?: () => void;\n};\n\nconst RecipientField = <T extends Transaction, TS extends TransactionStatus>({\n  t,\n  account,\n  transaction,\n  onChangeTransaction,\n  autoFocus,\n  status,\n  label,\n  initValue,\n  resetInitValue,\n}: Props<T, TS>) => {\n  const bridge = getAccountBridge(account, null);\n  const [value, setValue] = useState(\n    initValue || transaction?.recipientDomain?.domain || transaction.recipient || \"\",\n  );\n\n  const { enabled: isDomainResolutionEnabled, params } = useFeature(\"domainInputResolution\") || {};\n  const isCurrencySupported =\n    params?.supportedCurrencyIds?.includes(account.currency.id as CryptoCurrencyId) || false;\n\n  useEffect(() => {\n    if (value !== \"\" && value !== transaction.recipient) {\n      onChangeTransaction(bridge.updateTransaction(transaction, { recipient: value }));\n      resetInitValue?.();\n    }\n  }, [account]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const onChange = useCallback(\n    async (recipient: string, maybeExtra?: OnChangeExtra | null) => {\n      const { currency } = maybeExtra || {};\n      const invalidRecipient = currency && currency.scheme !== account.currency.scheme;\n      setValue(recipient);\n      onChangeTransaction(\n        bridge.updateTransaction(transaction, {\n          recipient: invalidRecipient ? \"\" : recipient,\n        }),\n      );\n    },\n    [account.currency.scheme, bridge, onChangeTransaction, transaction],\n  );\n\n  if (!status) return null;\n\n  return isDomainResolutionEnabled && isCurrencySupported ? (\n    <RecipientFieldDomainService\n      t={t}\n      label={label}\n      autoFocus={autoFocus}\n      status={status}\n      account={account}\n      value={value}\n      transaction={transaction}\n      onChange={onChange}\n      onChangeTransaction={onChangeTransaction}\n      bridge={bridge}\n    />\n  ) : (\n    <RecipientFieldBase\n      t={t}\n      label={label}\n      autoFocus={autoFocus}\n      status={status}\n      account={account}\n      value={value}\n      onChange={onChange}\n    />\n  );\n};\n\nexport default memo(RecipientField) as typeof RecipientField;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Send/fields/RecipientFieldBase.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Send/fields/RecipientFieldDomainService.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":178,"column":16,"nodeType":"TSAsExpression","messageId":"never","endLine":178,"endColumn":87}],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":76,"column":10,"nodeType":"TSAsExpression","messageId":"never","endLine":76,"endColumn":36,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":78,"column":10,"nodeType":"TSAsExpression","messageId":"never","endLine":78,"endColumn":36,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { memo, useCallback, useEffect, useMemo, useState } from \"react\";\nimport { Transaction, TransactionStatus } from \"@ledgerhq/live-common/generated/types\";\nimport { InvalidDomain, NoResolution } from \"@ledgerhq/domain-service/errors/index\";\nimport { getRegistriesForDomain } from \"@ledgerhq/domain-service/registries/index\";\nimport { isLoaded, isError } from \"@ledgerhq/domain-service/hooks/logic\";\nimport { useDomain } from \"@ledgerhq/domain-service/hooks/index\";\nimport { Account, AccountBridge } from \"@ledgerhq/types-live\";\nimport { TFunction } from \"i18next\";\nimport LinkWithExternalIcon from \"~/renderer/components/LinkWithExternalIcon\";\nimport { DomainErrorsView } from \"./DomainErrorHandlers\";\nimport RecipientFieldBase from \"./RecipientFieldBase\";\nimport Alert from \"~/renderer/components/Alert\";\nimport Text from \"~/renderer/components/Text\";\nimport { openURL } from \"~/renderer/linking\";\nimport Box from \"~/renderer/components/Box\";\nimport { urls } from \"~/config/urls\";\nimport { OnChangeExtra } from \"~/renderer/components/RecipientAddress\";\n\ntype Props<T extends Transaction, TS extends TransactionStatus> = {\n  account: Account;\n  transaction: T;\n  autoFocus?: boolean;\n  status: TS;\n  onChangeTransaction: (tx: T) => void;\n  t: TFunction;\n  label?: React.ReactNode;\n  initValue?: string;\n  resetInitValue?: () => void;\n  value: string | string;\n  bridge: AccountBridge<T>;\n  onChange: (recipient: string, maybeExtra?: OnChangeExtra | null) => void;\n};\n\nconst RecipientFieldDomainService = <T extends Transaction, TS extends TransactionStatus>({\n  t,\n  account,\n  transaction,\n  onChangeTransaction,\n  autoFocus,\n  status,\n  label,\n  value = \"\",\n  bridge,\n  onChange,\n}: Props<T, TS>) => {\n  const onSupportLinkClick = useCallback(() => openURL(urls.ens), []);\n\n  const domainServiceResponse = useDomain(value, \"ens\");\n  const ensResolution = useMemo(\n    () => (isLoaded(domainServiceResponse) ? domainServiceResponse.resolutions[0] : null),\n    [domainServiceResponse],\n  );\n  const domainError = useMemo(\n    () => (isError(domainServiceResponse) ? domainServiceResponse : null),\n    [domainServiceResponse],\n  );\n\n  const lowerCaseValue = useMemo(() => value.toLowerCase(), [value]);\n\n  const [isForwardResolution, setIsForwardResolution] = useState(false);\n  useEffect(() => {\n    // if a registry compatible with the input is found, then we know the input is a domain\n    getRegistriesForDomain(lowerCaseValue).then(registries =>\n      setIsForwardResolution(Boolean(registries.length)),\n    );\n  }, [lowerCaseValue]);\n\n  const domainErrorHandled = useMemo(() => {\n    if (domainError) {\n      if (!isForwardResolution && domainError.error instanceof NoResolution) {\n        return false;\n      }\n\n      if (\n        // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n        (domainError.error as Error) instanceof NoResolution ||\n        // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n        (domainError.error as Error) instanceof InvalidDomain\n      ) {\n        return true;\n      }\n    }\n    return false;\n  }, [domainError, isForwardResolution]);\n\n  useEffect(() => {\n    const { recipient, recipientDomain } = transaction;\n\n    if (!ensResolution) {\n      // without ENS resolution transaction recipient should always be the user's input\n      const recipientUpdated = recipient === value;\n      // without ENS resolution transaction domain should be undefined\n      const hasDomain = !!recipientDomain;\n      if (!recipientUpdated || hasDomain) {\n        onChangeTransaction(\n          // @ts-expect-error blockchain team must move this global component back to Ethereum world. it doesn't exist in the generic Transaction type\n          bridge.updateTransaction(transaction, {\n            recipient: value,\n            recipientDomain: undefined,\n          }),\n        );\n      }\n      return;\n    }\n\n    // verify if domain is present in transaction\n    const domainSet = recipientDomain === ensResolution;\n    const recipientSet = isForwardResolution\n      ? // if user's input is a domain, verify that we set the resolution's address as tx recipient\n        recipient === ensResolution?.address\n      : // if user's input is an address, keep the user's input as tx recipient\n        recipient === value;\n    if (!domainSet || !recipientSet) {\n      onChangeTransaction(\n        // @ts-expect-error blockchain team must move this global component back to Ethereum world. it doesn't exist in the generic Transaction type\n        bridge.updateTransaction(transaction, {\n          recipient: isForwardResolution ? ensResolution.address : value,\n          recipientDomain: ensResolution,\n        }),\n      );\n    }\n  }, [bridge, onChangeTransaction, ensResolution, transaction, isForwardResolution, value]);\n\n  return (\n    <>\n      <RecipientFieldBase\n        t={t}\n        label={label}\n        autoFocus={autoFocus}\n        status={status}\n        account={account}\n        value={value}\n        onChange={onChange}\n        placeholderTranslationKey=\"RecipientField.placeholderEns\"\n        hideError={domainErrorHandled}\n      />\n      {transaction.recipientDomain ? (\n        <Alert mt={5}>\n          {isForwardResolution ? (\n            <>\n              <Box>\n                <Text ff=\"Inter\" fontSize={3}>\n                  {t(\"send.steps.recipient.domainService.resolve\")}\n                </Text>\n              </Box>\n              <Box>\n                <Text data-testid=\"ens-address-sendModal\" ff=\"Inter|SemiBold\" fontSize={3}>\n                  {transaction.recipientDomain.address}\n                </Text>\n              </Box>\n            </>\n          ) : (\n            <>\n              <Box>\n                <Text ff=\"Inter\" fontSize={3}>\n                  {t(\"send.steps.recipient.domainService.reverse\", {\n                    domain: transaction.recipientDomain.domain,\n                  })}\n                </Text>\n              </Box>\n              <Box>\n                <LinkWithExternalIcon\n                  label={t(\"send.steps.recipient.domainService.supportLink\")}\n                  onClick={onSupportLinkClick}\n                />\n              </Box>\n            </>\n          )}\n        </Alert>\n      ) : null}\n      {domainError ? (\n        <DomainErrorsView domainError={domainError} isForwardResolution={isForwardResolution} />\n      ) : null}\n    </>\n  );\n};\n\nexport default memo(RecipientFieldDomainService) as typeof RecipientFieldDomainService;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Send/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Send/steps/Confirmation/NodeError/HelpSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Send/steps/Confirmation/NodeError/TechnicalErrorSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Send/steps/Confirmation/NodeError/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Send/steps/GenericStepConnectDevice.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Send/steps/StepAmount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Send/steps/StepConfirmation.test.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":7,"column":26,"nodeType":"TSAsExpression","messageId":"never","endLine":7,"endColumn":75},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":7,"column":26,"nodeType":"TSAsExpression","messageId":"never","endLine":7,"endColumn":62},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":62,"column":58,"nodeType":"TSAsExpression","messageId":"never","endLine":62,"endColumn":91},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":68,"column":58,"nodeType":"TSAsExpression","messageId":"never","endLine":68,"endColumn":90},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":75,"column":53,"nodeType":"TSAsExpression","messageId":"never","endLine":75,"endColumn":91},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":83,"column":53,"nodeType":"TSAsExpression","messageId":"never","endLine":83,"endColumn":91},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":91,"column":53,"nodeType":"TSAsExpression","messageId":"never","endLine":91,"endColumn":93},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":98,"column":58,"nodeType":"TSAsExpression","messageId":"never","endLine":98,"endColumn":91},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":104,"column":58,"nodeType":"TSAsExpression","messageId":"never","endLine":104,"endColumn":93},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":111,"column":58,"nodeType":"TSAsExpression","messageId":"never","endLine":111,"endColumn":91}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { render, screen, fireEvent } from \"tests/testSetup\";\nimport { StepConfirmationFooter } from \"./StepConfirmation\";\nimport BigNumber from \"bignumber.js\";\nimport { TFunction } from \"i18next\";\n\nconst mockT: TFunction = jest.fn((k: string) => k) as unknown as TFunction;\n\nconst baseProps = {\n  t: mockT,\n  transitionTo: jest.fn(),\n  onRetry: jest.fn(),\n  closeModal: jest.fn(),\n  account: null,\n  parentAccount: null,\n  optimisticOperation: null,\n  openedFromAccount: false,\n  device: null,\n  transaction: null,\n  status: {\n    errors: {},\n    estimatedFees: new BigNumber(0),\n    amount: new BigNumber(0),\n    totalSpent: new BigNumber(0),\n    warnings: {},\n  },\n  bridgePending: false,\n  error: null,\n  setTransaction: jest.fn(),\n  updateTransaction: jest.fn(),\n  resetTransaction: jest.fn(),\n  onChangeAccount: jest.fn(),\n  onChangeTransaction: jest.fn(),\n  onChangeStatus: jest.fn(),\n  onChangeBridgePending: jest.fn(),\n  onChangeDevice: jest.fn(),\n  onChangeOpenedFromAccount: jest.fn(),\n  openModal: jest.fn(),\n  onTransactionError: jest.fn(),\n  onOperationBroadcasted: jest.fn(),\n  setSigned: jest.fn(),\n  onClose: jest.fn(),\n  onBack: jest.fn(),\n  onStepChange: jest.fn(),\n  onError: jest.fn(),\n  onSuccess: jest.fn(),\n  signed: false,\n  onResetMaybeRecipient: jest.fn(),\n  onResetMaybeAmount: jest.fn(),\n  onConfirmationHandler: jest.fn(),\n  onBroadcast: jest.fn(),\n  onFailHandler: jest.fn(),\n  currencyName: \"Bitcoin\",\n};\n\ndescribe(\"StepConfirmationFooter\", () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  it(\"renders RetryButton when error is 5xx (LedgerAPI5xx)\", () => {\n    render(<StepConfirmationFooter {...baseProps} error={{ name: \"LedgerAPI5xx\" } as Error} />);\n\n    expect(screen.getByRole(\"button\")).toHaveTextContent(\"Retry\");\n  });\n\n  it(\"renders RetryButton when error is NetworkDown\", () => {\n    render(<StepConfirmationFooter {...baseProps} error={{ name: \"NetworkDown\" } as Error} />);\n\n    expect(screen.getByRole(\"button\")).toHaveTextContent(\"Retry\");\n  });\n\n  it(\"renders RetryButton when error is DeviceLockedError\", () => {\n    render(\n      <StepConfirmationFooter {...baseProps} error={{ name: \"DeviceLockedError\" } as Error} />,\n    );\n\n    expect(screen.getByRole(\"button\")).toHaveTextContent(\"Retry\");\n  });\n\n  it(\"renders RetryButton when error is LockedDeviceError\", () => {\n    render(\n      <StepConfirmationFooter {...baseProps} error={{ name: \"LockedDeviceError\" } as Error} />,\n    );\n\n    expect(screen.getByRole(\"button\")).toHaveTextContent(\"Retry\");\n  });\n\n  it(\"renders RetryButton when error is UserRefusedOnDevice\", () => {\n    render(\n      <StepConfirmationFooter {...baseProps} error={{ name: \"UserRefusedOnDevice\" } as Error} />,\n    );\n\n    expect(screen.getByRole(\"button\")).toHaveTextContent(\"Retry\");\n  });\n\n  it(\"renders AbortButton when error is not 5xx\", () => {\n    render(<StepConfirmationFooter {...baseProps} error={{ name: \"LedgerAPI4xx\" } as Error} />);\n\n    expect(screen.getByRole(\"button\")).toHaveTextContent(\"Close\");\n  });\n\n  it(\"clicking AbortButton triggers closeModal()\", () => {\n    render(<StepConfirmationFooter {...baseProps} error={{ name: \"SomeOtherError\" } as Error} />);\n\n    fireEvent.click(screen.getByRole(\"button\"));\n    expect(baseProps.closeModal).toHaveBeenCalled();\n  });\n\n  it(\"clicking RetryButton triggers onRetry() and transitionTo('summary')\", () => {\n    render(<StepConfirmationFooter {...baseProps} error={{ name: \"LedgerAPI5xx\" } as Error} />);\n\n    fireEvent.click(screen.getByRole(\"button\"));\n\n    expect(baseProps.onRetry).toHaveBeenCalled();\n    expect(baseProps.transitionTo).toHaveBeenCalledWith(\"summary\");\n  });\n\n  it(\"renders success CTA when optimisticOperation exists\", () => {\n    render(\n      <StepConfirmationFooter\n        {...baseProps}\n        error={null}\n        optimisticOperation={{\n          id: \"123\",\n          accountId: \"acc\",\n          subOperations: [],\n          hash: \"mockHash\",\n          type: \"OUT\",\n          value: new BigNumber(0),\n          fee: new BigNumber(0),\n          senders: [\"mockSender\"],\n          recipients: [\"mockRecipient\"],\n          blockHeight: 0,\n          blockHash: null,\n          date: new Date(),\n          extra: {},\n        }}\n      />,\n    );\n\n    expect(screen.getByRole(\"button\")).toHaveTextContent(\"send.steps.confirmation.success.cta\");\n  });\n\n  it(\"renders nothing when no error and no optimisticOperation\", () => {\n    const { container } = render(<StepConfirmationFooter {...baseProps} />);\n\n    expect(container).toBeEmptyDOMElement();\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Send/steps/StepConfirmation.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":77,"column":30,"nodeType":"TSAsExpression","messageId":"never","endLine":77,"endColumn":52}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { TransactionHasBeenValidatedError } from \"@ledgerhq/errors\";\nimport { getMainAccount } from \"@ledgerhq/live-common/account/index\";\nimport { SyncOneAccountOnMount } from \"@ledgerhq/live-common/bridge/react/index\";\nimport React from \"react\";\nimport { Trans } from \"react-i18next\";\nimport styled from \"styled-components\";\nimport TrackPage from \"~/renderer/analytics/TrackPage\";\nimport Box from \"~/renderer/components/Box\";\nimport Button from \"~/renderer/components/Button\";\nimport RetryButton from \"~/renderer/components/RetryButton\";\nimport SuccessDisplay from \"~/renderer/components/SuccessDisplay\";\nimport { OperationDetails } from \"~/renderer/drawers/OperationDetails\";\nimport { setDrawer } from \"~/renderer/drawers/Provider\";\nimport { multiline } from \"~/renderer/styles/helpers\";\nimport { urls } from \"~/config/urls\";\nimport { StepProps } from \"../types\";\nimport NodeError from \"./Confirmation/NodeError\";\nimport ErrorDisplay from \"~/renderer/components/ErrorDisplay\";\nimport { AccountLike } from \"@ledgerhq/types-live\";\nimport { createTransactionBroadcastError } from \"@ledgerhq/live-common/errors/transactionBroadcastErrors\";\nimport AbortButton from \"~/renderer/components/AbortButton\";\n\nconst Container = styled(Box).attrs(() => ({\n  alignItems: \"center\",\n  grow: true,\n  color: \"neutral.c100\",\n}))<{\n  shouldSpace?: boolean;\n}>`\n  justify-content: ${p => (p.shouldSpace ? \"space-between\" : \"center\")};\n  min-height: 220px;\n`;\n\nfunction StepConfirmation({\n  t,\n  optimisticOperation,\n  error,\n  signed,\n  currencyName,\n  account,\n  parentAccount,\n}: StepProps) {\n  if (optimisticOperation) {\n    return (\n      <Container>\n        <TrackPage category=\"Send Flow\" name=\"Step Confirmed\" currencyName={currencyName} />\n        <SyncOneAccountOnMount\n          reason=\"transaction-flow-confirmation\"\n          priority={10}\n          accountId={optimisticOperation.accountId}\n        />\n        <SuccessDisplay\n          title={<Trans i18nKey=\"send.steps.confirmation.success.title\" />}\n          description={multiline(t(\"send.steps.confirmation.success.text\"))}\n        />\n      </Container>\n    );\n  }\n\n  const mainAccount = account ? getMainAccount(account, parentAccount) : null;\n\n  if (error) {\n    // Edit ethereum transaction nonce error because transaction has been validated\n    if (error.name === \"LedgerAPI4xx\" && error.message.includes(\"nonce too low\")) {\n      if (mainAccount?.currency?.family === \"evm\") {\n        error = new TransactionHasBeenValidatedError();\n      }\n    }\n\n    const getTicker = (account: AccountLike): string => {\n      if (account.type === \"TokenAccount\") {\n        return account.token.ticker;\n      }\n      return account.currency.ticker;\n    };\n\n    const ticker = getTicker(account as AccountLike);\n\n    return (\n      <Container shouldSpace={signed}>\n        <TrackPage\n          category=\"Send Flow\"\n          name=\"Step Confirmation Error\"\n          currencyName={currencyName}\n        />\n        {signed ? (\n          <NodeError\n            error={createTransactionBroadcastError(error, urls, {\n              coin: ticker,\n              network: String(mainAccount?.currency.name),\n            })}\n          />\n        ) : (\n          <ErrorDisplay error={error} withExportLogs />\n        )}\n      </Container>\n    );\n  }\n  return null;\n}\nexport function StepConfirmationFooter({\n  t,\n  transitionTo,\n  account,\n  parentAccount,\n  onRetry,\n  optimisticOperation,\n  error,\n  closeModal,\n}: StepProps) {\n  const concernedOperation = optimisticOperation\n    ? optimisticOperation.subOperations && optimisticOperation.subOperations.length > 0\n      ? optimisticOperation.subOperations[0]\n      : optimisticOperation\n    : null;\n  return (\n    <>\n      {concernedOperation ? (\n        // FIXME make a standalone component!\n        <Button\n          ml={2}\n          id={\"send-confirmation-opc-button\"}\n          event=\"Send Flow Step 4 View OpD Clicked\"\n          onClick={() => {\n            closeModal();\n            if (account && concernedOperation) {\n              setDrawer(OperationDetails, {\n                operationId: concernedOperation.id,\n                accountId: account.id,\n                parentId: (parentAccount && parentAccount.id) || undefined,\n              });\n            }\n          }}\n          primary\n        >\n          {t(\"send.steps.confirmation.success.cta\")}\n        </Button>\n      ) : error ? (\n        [\n          \"LedgerAPI5xx\",\n          \"NetworkDown\",\n          \"DeviceLockedError\",\n          \"LockedDeviceError\",\n          \"UserRefusedOnDevice\",\n        ].includes(error.name) ? (\n          <RetryButton\n            ml={2}\n            primary\n            onClick={() => {\n              onRetry();\n              transitionTo(\"summary\");\n            }}\n          />\n        ) : (\n          <AbortButton\n            ml={2}\n            primary\n            onClick={() => {\n              closeModal();\n            }}\n          />\n        )\n      ) : null}\n    </>\n  );\n}\nexport default StepConfirmation;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Send/steps/StepConnectDevice.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Send/steps/StepRecipient.test.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":9,"column":45,"nodeType":"TSAsExpression","messageId":"never","endLine":9,"endColumn":99,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":9,"column":45,"nodeType":"TSAsExpression","messageId":"never","endLine":9,"endColumn":75,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":19,"column":12,"nodeType":"TSAsExpression","messageId":"never","endLine":19,"endColumn":75,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":19,"column":12,"nodeType":"TSAsExpression","messageId":"never","endLine":19,"endColumn":36,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":25,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":28,"endColumn":40,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":25,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":28,"endColumn":23,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":32,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":37,"endColumn":45,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":32,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":37,"endColumn":23,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":41,"column":17,"nodeType":"TSAsExpression","messageId":"never","endLine":41,"endColumn":51,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":41,"column":17,"nodeType":"TSAsExpression","messageId":"never","endLine":41,"endColumn":30,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":72,"column":12,"nodeType":"TSAsExpression","messageId":"never","endLine":72,"endColumn":75,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":72,"column":12,"nodeType":"TSAsExpression","messageId":"never","endLine":72,"endColumn":36,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":78,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":81,"endColumn":40,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":78,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":81,"endColumn":23,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":85,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":88,"endColumn":45,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":85,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":88,"endColumn":23,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":92,"column":17,"nodeType":"TSAsExpression","messageId":"never","endLine":92,"endColumn":51,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":92,"column":17,"nodeType":"TSAsExpression","messageId":"never","endLine":92,"endColumn":30,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Send/steps/StepRecipient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Send/steps/StepSummary.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":90,"column":9,"nodeType":"TSAsExpression","messageId":"never","endLine":92,"endColumn":10}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { Trans } from \"react-i18next\";\nimport styled from \"styled-components\";\nimport {\n  getAccountCurrency,\n  getFeesCurrency,\n  getFeesUnit,\n  getMainAccount,\n} from \"@ledgerhq/live-common/account/index\";\nimport TrackPage from \"~/renderer/analytics/TrackPage\";\nimport Box from \"~/renderer/components/Box\";\nimport Button from \"~/renderer/components/Button\";\nimport CryptoCurrencyIcon from \"~/renderer/components/CryptoCurrencyIcon\";\nimport Ellipsis from \"~/renderer/components/Ellipsis\";\nimport FormattedVal from \"~/renderer/components/FormattedVal\";\nimport Text from \"~/renderer/components/Text\";\nimport TranslatedError from \"~/renderer/components/TranslatedError\";\nimport IconExclamationCircle from \"~/renderer/icons/ExclamationCircle\";\nimport IconQrCode from \"~/renderer/icons/QrCode\";\nimport IconWallet from \"~/renderer/icons/Wallet\";\nimport { rgba } from \"~/renderer/styles/helpers\";\nimport CounterValue from \"~/renderer/components/CounterValue\";\nimport Alert from \"~/renderer/components/Alert\";\nimport { StepProps } from \"../types\";\nimport AccountTagDerivationMode from \"~/renderer/components/AccountTagDerivationMode\";\nimport { getLLDCoinFamily } from \"~/renderer/families\";\nimport { useMaybeAccountUnit } from \"~/renderer/hooks/useAccountUnit\";\nimport { useMaybeAccountName } from \"~/renderer/reducers/wallet\";\nimport MemoIcon from \"~/renderer/icons/MemoIcon\";\nimport { Flex } from \"@ledgerhq/react-ui\";\nimport { useFeature } from \"@ledgerhq/live-common/featureFlags/index\";\nimport { getMemoTagValueByTransactionFamily } from \"LLD/features/MemoTag/utils\";\n\nconst FromToWrapper = styled.div``;\nconst Circle = styled.div`\n  height: 32px;\n  width: 32px;\n  border-radius: 32px;\n  background-color: ${p => rgba(p.theme.colors.primary.c80, 0.1)};\n  color: ${p => p.theme.colors.primary.c80};\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  margin-right: 12px;\n`;\nconst VerticalSeparator = styled.div`\n  height: 18px;\n  background: ${p => p.theme.colors.neutral.c40};\n  width: 1px;\n  margin: 1px 0px 0px 15px;\n`;\nconst Separator = styled.div`\n  height: 1px;\n  background: ${p => p.theme.colors.neutral.c40};\n  width: 100%;\n  margin: 15px 0;\n`;\n\nconst WARN_FROM_UTXO_COUNT = 50;\n\nconst StepSummary = (props: StepProps) => {\n  const { account, parentAccount, transaction, status, currencyName, transitionTo } = props;\n  const mainAccount = account && getMainAccount(account, parentAccount);\n  const unit = useMaybeAccountUnit(account);\n  const accountName = useMaybeAccountName(account);\n  const lldMemoTag = useFeature(\"lldMemoTag\");\n\n  if (!account || !mainAccount || !transaction) {\n    return null;\n  }\n\n  const { estimatedFees, amount, totalSpent, warnings } = status;\n  const txInputs = \"txInputs\" in status ? status.txInputs : undefined;\n  const { feeTooHigh, tooManyUtxos } = warnings;\n  const currency = getAccountCurrency(account);\n  const feesCurrency = getFeesCurrency(mainAccount);\n  const feesUnit = getFeesUnit(feesCurrency);\n  const utxoLag = txInputs ? txInputs.length >= WARN_FROM_UTXO_COUNT : null;\n  const hasNonEmptySubAccounts =\n    account.type === \"Account\" &&\n    (account.subAccounts || []).some(subAccount => subAccount.balance.gt(0));\n\n  const specific = currency ? getLLDCoinFamily(mainAccount.currency.family) : null;\n  const SpecificSummaryNetworkFeesRow = specific?.StepSummaryNetworkFeesRow;\n  const SpecificSummaryAdditionalRows = specific?.StepSummaryAdditionalRows;\n\n  const memo = lldMemoTag?.enabled\n    ? getMemoTagValueByTransactionFamily(transaction)\n    : (\n        transaction as Transaction & {\n          memo: string;\n        }\n      )?.memo;\n  const handleOnEditMemo = () => {\n    transitionTo(\"recipient\");\n  };\n\n  return (\n    <Box flow={4} mx={40}>\n      <TrackPage category=\"Send Flow\" name=\"Step Summary\" currencyName={currencyName} />\n      {utxoLag ? (\n        <Alert type=\"warning\">\n          <Trans i18nKey=\"send.steps.details.utxoLag\" />\n        </Alert>\n      ) : null}\n      {tooManyUtxos ? (\n        <Alert type=\"warning\">\n          <Trans i18nKey={tooManyUtxos.message} />\n        </Alert>\n      ) : null}\n      {transaction.useAllAmount && hasNonEmptySubAccounts ? (\n        <Alert type=\"primary\">\n          <Trans\n            i18nKey=\"send.steps.details.subaccountsWarning\"\n            values={{\n              currency: currency.name,\n            }}\n          />\n        </Alert>\n      ) : null}\n      <FromToWrapper>\n        <Box>\n          <Box horizontal alignItems=\"center\">\n            <Circle>\n              <IconWallet size={14} />\n            </Circle>\n            <Box flex=\"1\">\n              <Text ff=\"Inter|Medium\" color=\"neutral.c60\" fontSize={4}>\n                <Trans i18nKey=\"send.steps.details.from\" />\n              </Text>\n              <Box horizontal alignItems=\"center\">\n                <div\n                  style={{\n                    marginRight: 7,\n                  }}\n                >\n                  <CryptoCurrencyIcon size={22} currency={currency} />\n                </div>\n                <Text\n                  ff=\"Inter\"\n                  color=\"neutral.c100\"\n                  fontSize={4}\n                  style={{\n                    flex: 1,\n                  }}\n                >\n                  {accountName}\n                </Text>\n                <AccountTagDerivationMode account={account} />\n              </Box>\n            </Box>\n          </Box>\n          <VerticalSeparator />\n          <Box horizontal alignItems=\"center\">\n            <Circle>\n              <IconQrCode size={14} />\n            </Circle>\n            <Box flex={1}>\n              <Text ff=\"Inter|Medium\" color=\"neutral.c60\" fontSize={4}>\n                <Trans i18nKey=\"send.steps.details.to\" />\n              </Text>\n              {transaction.recipientDomain && (\n                <Text\n                  data-testid=\"transaction-recipient-ens\"\n                  ff=\"Inter|Bold\"\n                  color=\"neutral.c100\"\n                  fontSize={4}\n                >\n                  {transaction.recipientDomain.domain}\n                </Text>\n              )}\n              <Ellipsis>\n                <Text\n                  ff=\"Inter\"\n                  color={transaction.recipientDomain ? \"neutral.c80\" : \"neutral.c100\"}\n                  fontSize={4}\n                  data-testid=\"recipient-address\"\n                >\n                  {transaction.recipient}\n                </Text>\n              </Ellipsis>\n            </Box>\n          </Box>\n          {lldMemoTag?.enabled\n            ? memo && (\n                <>\n                  <VerticalSeparator />\n                  <Flex justifyContent=\"space-between\">\n                    <Box horizontal alignItems=\"center\">\n                      <Circle>\n                        <MemoIcon size={14} />\n                      </Circle>\n                      <Box flex={1}>\n                        <Text ff=\"Inter|Medium\" color=\"neutral.c60\" fontSize={4}>\n                          <Trans i18nKey=\"operationDetails.extra.memo\" />\n                        </Text>\n                        <Ellipsis>\n                          <Text\n                            ff=\"Inter\"\n                            color={transaction.recipientDomain ? \"neutral.c80\" : \"neutral.c100\"}\n                            fontSize={4}\n                            data-testid=\"recipient-address\"\n                          >\n                            {memo}\n                          </Text>\n                        </Ellipsis>\n                      </Box>\n                    </Box>\n                    <Button\n                      lighterPrimary\n                      style={{\n                        backgroundColor: \"transparent\",\n                      }}\n                      onClick={handleOnEditMemo}\n                    >\n                      Edit\n                    </Button>\n                  </Flex>\n                </>\n              )\n            : memo && (\n                <Box horizontal justifyContent=\"space-between\" alignItems=\"center\" mb={2}>\n                  <Text ff=\"Inter|Medium\" color=\"neutral.c60\" fontSize={4}>\n                    <Trans i18nKey=\"operationDetails.extra.memo\" />\n                  </Text>\n                  <Ellipsis ml={2}>\n                    <Text ff=\"Inter|Medium\" fontSize={4}>\n                      {memo}\n                    </Text>\n                  </Ellipsis>\n                </Box>\n              )}\n        </Box>\n        <Separator />\n        <Box horizontal justifyContent=\"space-between\" mb={2}>\n          <Text ff=\"Inter|Medium\" color=\"neutral.c60\" fontSize={4}>\n            <Trans i18nKey=\"send.steps.details.amount\" />\n          </Text>\n          <Box>\n            <FormattedVal\n              color={\"neutral.c80\"}\n              disableRounding\n              unit={unit}\n              val={amount}\n              fontSize={4}\n              inline\n              showCode\n              alwaysShowValue\n              data-testid=\"transaction-amount\"\n            />\n            <Box textAlign=\"right\">\n              <CounterValue\n                color=\"neutral.c70\"\n                fontSize={3}\n                currency={currency}\n                value={amount}\n                alwaysShowSign={false}\n                alwaysShowValue\n              />\n            </Box>\n          </Box>\n        </Box>\n\n        {SpecificSummaryNetworkFeesRow ? (\n          <SpecificSummaryNetworkFeesRow\n            feeTooHigh={feeTooHigh}\n            feesUnit={feesUnit}\n            estimatedFees={estimatedFees}\n            feesCurrency={feesCurrency}\n          />\n        ) : (\n          <>\n            <Box horizontal justifyContent=\"space-between\">\n              <Text ff=\"Inter|Medium\" color=\"neutral.c60\" fontSize={4}>\n                <Trans i18nKey=\"send.steps.details.fees\" />\n              </Text>\n              <Box>\n                <FormattedVal\n                  color={feeTooHigh ? \"legacyWarning\" : \"neutral.c80\"}\n                  disableRounding\n                  unit={feesUnit}\n                  alwaysShowValue\n                  val={estimatedFees}\n                  fontSize={4}\n                  inline\n                  showCode\n                />\n                <Box textAlign=\"right\">\n                  <CounterValue\n                    color={feeTooHigh ? \"legacyWarning\" : \"neutral.c70\"}\n                    fontSize={3}\n                    currency={feesCurrency}\n                    value={estimatedFees}\n                    alwaysShowSign={false}\n                    alwaysShowValue\n                  />\n                </Box>\n              </Box>\n            </Box>\n            {feeTooHigh ? (\n              <Box horizontal justifyContent=\"flex-end\" alignItems=\"center\" color=\"legacyWarning\">\n                <IconExclamationCircle size={10} />\n                <Text\n                  ff=\"Inter|Medium\"\n                  fontSize={2}\n                  style={{\n                    marginLeft: \"5px\",\n                  }}\n                >\n                  <TranslatedError error={feeTooHigh} />\n                </Text>\n              </Box>\n            ) : null}\n          </>\n        )}\n\n        {!!SpecificSummaryAdditionalRows && (\n          <SpecificSummaryAdditionalRows\n            account={account}\n            parentAccount={parentAccount}\n            transaction={transaction}\n            status={status}\n          />\n        )}\n\n        {!totalSpent.eq(amount) ? (\n          <>\n            <Separator />\n            <Box horizontal justifyContent=\"space-between\">\n              <Text ff=\"Inter|Medium\" color=\"neutral.c60\" fontSize={4}>\n                <Trans i18nKey=\"send.totalSpent\" />\n              </Text>\n\n              <Box>\n                <FormattedVal\n                  color={\"neutral.c80\"}\n                  disableRounding\n                  unit={estimatedFees.eq(totalSpent) ? feesUnit : unit}\n                  val={totalSpent}\n                  fontSize={4}\n                  inline\n                  showCode\n                  alwaysShowValue\n                />\n                <Box textAlign=\"right\">\n                  <CounterValue\n                    color=\"neutral.c70\"\n                    fontSize={3}\n                    currency={currency}\n                    value={totalSpent}\n                    alwaysShowSign={false}\n                    alwaysShowValue\n                  />\n                </Box>\n              </Box>\n            </Box>\n          </>\n        ) : null}\n      </FromToWrapper>\n    </Box>\n  );\n};\n\nexport const StepSummaryFooter = (props: StepProps) => {\n  const { account, status, bridgePending, transitionTo } = props;\n\n  const onNext = async () => {\n    transitionTo(\"device\");\n  };\n\n  if (!account) {\n    return null;\n  }\n\n  const { errors } = status;\n  const canNext = !bridgePending && !Object.keys(errors).length;\n\n  return (\n    <>\n      <Button id={\"send-summary-continue-button\"} primary disabled={!canNext} onClick={onNext}>\n        <Trans i18nKey=\"common.continue\" />\n      </Button>\n    </>\n  );\n};\n\nexport default StepSummary;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Send/steps/StepWarning.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":12,"column":16,"nodeType":"TSAsExpression","messageId":"never","endLine":12,"endColumn":66}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { getMainAccount } from \"@ledgerhq/live-common/account/index\";\nimport { StepProps } from \"../types\";\nimport { getLLDCoinFamily } from \"~/renderer/families\";\n\nconst StepWarning = (props: StepProps) => {\n  const { account, parentAccount } = props;\n  const mainAccount = account && getMainAccount(account, parentAccount);\n  if (!mainAccount) return null;\n  const module = getLLDCoinFamily(mainAccount.currency.family)?.sendWarning;\n  if (!module) return null;\n  const Comp = module.component as React.ComponentType<StepProps>;\n  return <Comp {...props} />;\n};\n\nexport const StepWarningFooter = (props: StepProps) => {\n  const { account, parentAccount } = props;\n  const mainAccount = account && getMainAccount(account, parentAccount);\n  if (!mainAccount) return null;\n  const module = getLLDCoinFamily(mainAccount.currency.family)?.sendWarning;\n  if (!module) return null;\n  const Comp = module.footer;\n  return <Comp {...props} />;\n};\n\nexport default StepWarning;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/Send/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SettingsAccount/AccountSettingRenderBody.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":110,"column":44,"nodeType":"TSAsExpression","messageId":"never","endLine":110,"endColumn":84}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { memo, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useDispatch } from \"LLD/hooks/redux\";\nimport { Trans, useTranslation } from \"react-i18next\";\nimport type { Account, DerivationMode } from \"@ledgerhq/types-live\";\nimport { validateNameEdition } from \"@ledgerhq/live-wallet/accountName\";\nimport { setAccountName as actionSetAccountName } from \"@ledgerhq/live-wallet/store\";\nimport { AccountNameRequiredError } from \"@ledgerhq/errors\";\nimport { getEnv } from \"@ledgerhq/live-env\";\nimport { urls } from \"~/config/urls\";\nimport { setDataModal } from \"~/renderer/actions/modals\";\nimport { removeAccount, updateAccount } from \"~/renderer/actions/accounts\";\nimport ModalBody from \"~/renderer/components/Modal/ModalBody\";\nimport TrackPage from \"~/renderer/analytics/TrackPage\";\nimport Box from \"~/renderer/components/Box\";\nimport Alert from \"~/renderer/components/Alert\";\nimport Input from \"~/renderer/components/Input\";\nimport Spoiler from \"~/renderer/components/Spoiler\";\nimport ConfirmModal from \"~/renderer/modals/ConfirmModal\";\nimport Space from \"~/renderer/components/Space\";\nimport Button from \"~/renderer/components/Button\";\nimport { getTagDerivationMode } from \"@ledgerhq/coin-framework/derivation\";\nimport { useMaybeAccountName } from \"~/renderer/reducers/wallet\";\n\ntype Props = {\n  onClose?: () => void;\n  account: Account;\n};\n\nfunction AccountSettingRenderBody(props: Props) {\n  const { onClose, account: dataAccount } = props;\n\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n  const [accountName, setAccountName] = useState<string | null>(null);\n  const [accountNameError, setAccountNameError] = useState<Error | null>(null);\n  const [isRemoveAccountModalOpen, setIsRemoveAccountModalOpen] = useState<boolean>(false);\n\n  function getAccount(): Account {\n    return {\n      ...dataAccount,\n      ...(accountName !== null\n        ? {\n            name: accountName,\n          }\n        : {}),\n    };\n  }\n\n  const handleChangeName = (value: string) => setAccountName(value);\n\n  const handleSubmit =\n    (account: Account, onClose: () => void) =>\n    (e: React.SyntheticEvent<HTMLFormElement | HTMLInputElement>) => {\n      e.preventDefault();\n\n      if (!accountName || !accountName.length) {\n        setAccountNameError(new AccountNameRequiredError());\n      } else {\n        const name = validateNameEdition(account, accountName);\n        dispatch(updateAccount(account));\n        dispatch(actionSetAccountName(account.id, name));\n        dispatch(\n          setDataModal(\"MODAL_SETTINGS_ACCOUNT\", {\n            account,\n          }),\n        );\n        onClose();\n      }\n    };\n\n  const handleFocus = (e: React.FocusEvent<HTMLInputElement>, name: string) => {\n    e.target.select();\n    switch (name) {\n      case \"accountName\":\n        setAccountNameError(null);\n        break;\n      default:\n        break;\n    }\n  };\n\n  const handleOpenRemoveAccountModal = () => setIsRemoveAccountModalOpen(true);\n\n  const handleCloseRemoveAccountModal = () => setIsRemoveAccountModalOpen(false);\n\n  const handleRemoveAccount = (account: Account) => {\n    dispatch(removeAccount(account));\n    setIsRemoveAccountModalOpen(false);\n    onClose?.();\n  };\n\n  const storeAccountName = useMaybeAccountName(dataAccount);\n\n  if (!dataAccount) return null;\n\n  const displayAccountName = accountName === null ? storeAccountName : accountName;\n  const account = getAccount();\n  const usefulData = {\n    xpub: account.xpub || undefined,\n    index: account.index,\n    freshAddressPath: account.freshAddressPath,\n    id: account.id,\n    blockHeight: account.blockHeight,\n  };\n  const onSubmit = onClose && handleSubmit(account, onClose);\n  const tag =\n    account.derivationMode !== undefined &&\n    account.derivationMode !== null &&\n    getTagDerivationMode(account.currency, account.derivationMode as DerivationMode);\n  return (\n    <ModalBody\n      onClose={onClose}\n      title={t(\"account.settings.title\")}\n      render={() => (\n        <>\n          <TrackPage category=\"Modal\" name=\"AccountSettings\" />\n          <Container>\n            <Box>\n              <OptionRowTitle>{t(\"account.settings.accountName.title\")}</OptionRowTitle>\n              <OptionRowDesc>{t(\"account.settings.accountName.desc\")}</OptionRowDesc>\n            </Box>\n            <Box>\n              <Input\n                autoFocus\n                containerProps={{\n                  style: {\n                    width: 230,\n                  },\n                }}\n                value={displayAccountName}\n                maxLength={getEnv(\"MAX_ACCOUNT_NAME_SIZE\")}\n                onChange={handleChangeName}\n                onEnter={onSubmit}\n                onFocus={(e: React.FocusEvent<HTMLInputElement>) => handleFocus(e, \"accountName\")}\n                error={accountNameError}\n                id=\"input-edit-name\"\n              />\n            </Box>\n          </Container>\n          <Spoiler textTransform title={t(\"account.settings.advancedLogs\")}>\n            {tag ? <Tips tag={tag} /> : null}\n            <AdvancedLogsContainer data-testid=\"Advanced_Logs\">\n              {JSON.stringify(usefulData, null, 2)}\n            </AdvancedLogsContainer>\n          </Spoiler>\n          <ConfirmModal\n            analyticsName=\"RemoveAccount\"\n            isDanger\n            centered\n            isOpened={isRemoveAccountModalOpen}\n            onClose={handleCloseRemoveAccountModal}\n            onReject={handleCloseRemoveAccountModal}\n            onConfirm={() => handleRemoveAccount(account)}\n            title={t(\"settings.removeAccountModal.title\")}\n            subTitle={t(\"common.areYouSure\")}\n            desc={\n              <Box>\n                {t(\"settings.removeAccountModal.desc\")}\n                <Alert type=\"warning\" mt={4}>\n                  {t(\"settings.removeAccountModal.warning\")}\n                </Alert>\n              </Box>\n            }\n          />\n          <Space of={20} />\n        </>\n      )}\n      renderFooter={() => (\n        <>\n          <Button\n            event=\"OpenAccountDelete\"\n            danger\n            type=\"button\"\n            onClick={handleOpenRemoveAccountModal}\n            data-testid=\"account-settings-delete-button\"\n          >\n            {t(\"settings.removeAccountModal.delete\")}\n          </Button>\n          <Button\n            data-testid=\"account-settings-apply-button\"\n            event=\"DoneEditingAccount\"\n            ml=\"auto\"\n            onClick={onSubmit}\n            primary\n          >\n            {t(\"common.apply\")}\n          </Button>\n        </>\n      )}\n    />\n  );\n}\n\nexport default React.memo(AccountSettingRenderBody);\n\nexport const OptionRowDesc = styled(Box).attrs(() => ({\n  ff: \"Inter|Regular\",\n  fontSize: 3,\n  textAlign: \"left\",\n  lineHeight: 1.69,\n  color: \"neutral.c70\",\n}))``;\n\nexport const OptionRowTitle = styled(Box).attrs(() => ({\n  ff: \"Inter|SemiBold\",\n  color: \"neutral.c100\",\n  fontSize: 4,\n  textAlign: \"left\",\n  lineHeight: 1.69,\n}))``;\n\nconst AdvancedLogsContainer = styled.div`\n  border: 1px dashed ${p => p.theme.colors.background.default};\n  background-color: ${p => p.theme.colors.background.default};\n  color: ${p => p.theme.colors.neutral.c100};\n  font-family: monospace;\n  font-size: 11px;\n  outline: none;\n  padding: 20px;\n  margin-top: 15px;\n  width: 100%;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  ${p => p.theme.overflow.xy};\n  user-select: text;\n`;\nexport const Container = styled(Box).attrs(() => ({\n  flow: 2,\n  horizontal: true,\n  mb: 3,\n  pb: 4,\n}))`\n  border-bottom: 1px solid ${p => p.theme.colors.neutral.c40};\n  justify-content: space-between;\n`;\n\nconst Tips = memo(function Tips({ tag }: { tag: string }) {\n  return (\n    <Alert type=\"primary\" learnMoreUrl={urls.xpubLearnMore}>\n      <Trans\n        i18nKey=\"account.settings.advancedTips\"\n        values={{\n          tag,\n        }}\n      />\n    </Alert>\n  );\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SettingsAccount/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SignMessage/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SignMessage/Components/CopyButton.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SignMessage/Components/CopyButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SignMessage/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SignMessage/steps/StepSign.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":43,"column":24,"nodeType":"TSAsExpression","messageId":"never","endLine":46,"endColumn":10}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useMemo } from \"react\";\nimport { useDispatch } from \"LLD/hooks/redux\";\nimport { getEnv } from \"@ledgerhq/live-env\";\nimport { StepProps } from \"../types\";\nimport { signMessageExec, createAction } from \"@ledgerhq/live-common/hw/signMessage/index\";\nimport DeviceAction from \"~/renderer/components/DeviceAction\";\nimport { mockedEventEmitter } from \"~/renderer/components/debug/DebugMock\";\nimport { closeModal } from \"~/renderer/actions/modals\";\nimport connectApp from \"@ledgerhq/live-common/hw/connectApp\";\nimport { dependenciesToAppRequests } from \"@ledgerhq/live-common/hw/actions/app\";\nimport { useFeature } from \"@ledgerhq/live-common/featureFlags/index\";\n\nexport default function StepSign({\n  account,\n  message,\n  useApp,\n  dependencies,\n  onConfirmationHandler,\n  onFailHandler,\n  isACRE,\n}: StepProps) {\n  const dispatch = useDispatch();\n  const isLdmkConnectAppEnabled = useFeature(\"ldmkConnectApp\")?.enabled ?? false;\n  const action = createAction(\n    getEnv(\"MOCK\") ? mockedEventEmitter : connectApp({ isLdmkConnectAppEnabled }),\n    getEnv(\"MOCK\") ? mockedEventEmitter : signMessageExec,\n  );\n  const request = useMemo(() => {\n    const appRequests = dependenciesToAppRequests(dependencies);\n    return {\n      account,\n      message,\n      appName: useApp,\n      dependencies: appRequests,\n      isACRE,\n    };\n  }, [account, dependencies, isACRE, message, useApp]);\n  return (\n    <DeviceAction\n      action={action}\n      request={request}\n      onResult={r => {\n        const result = r as {\n          error: Error | null | undefined;\n          signature: string | null | undefined;\n        };\n        dispatch(closeModal(\"MODAL_SIGN_MESSAGE\"));\n        if (result.error) {\n          onFailHandler(result.error);\n        } else if (result.signature) {\n          onConfirmationHandler(result.signature);\n        }\n      }}\n    />\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SignMessage/steps/StepSummary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SignMessage/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SignRawTransaction/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SignRawTransaction/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SignRawTransaction/steps/GenericStepConnectDevice.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SignRawTransaction/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SignRawTransaction/steps/StepConnectDevice.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SignRawTransaction/steps/StepSummary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SignRawTransaction/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SignTransaction/AccountFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SignTransaction/Body.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":105,"column":26,"nodeType":"TSAsExpression","messageId":"never","endLine":105,"endColumn":57},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":106,"column":39,"nodeType":"TSAsExpression","messageId":"never","endLine":106,"endColumn":70},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":202,"column":9,"nodeType":"TSAsExpression","messageId":"never","endLine":204,"endColumn":56}],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has missing dependencies: 'onChangeStepId', 'params.stepId', and 'stepId'. Either include them or remove the dependency array. If 'onChangeStepId' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":119,"column":6,"nodeType":"ArrayExpression","endLine":119,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [onChangeStepId, params.stepId, stepId]","fix":{"range":[4533,4535],"text":"[onChangeStepId, params.stepId, stepId]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback, useState, useMemo, useEffect } from \"react\";\nimport { BigNumber } from \"bignumber.js\";\nimport { useDispatch, useSelector } from \"LLD/hooks/redux\";\n\nimport { useTranslation } from \"react-i18next\";\nimport useBridgeTransaction from \"@ledgerhq/live-common/bridge/useBridgeTransaction\";\nimport { Account, AccountLike, SignedOperation } from \"@ledgerhq/types-live\";\nimport { UserRefusedOnDevice } from \"@ledgerhq/errors\";\nimport Stepper from \"~/renderer/components/Stepper\";\nimport { SyncSkipUnderPriority } from \"@ledgerhq/live-common/bridge/react/index\";\nimport { isTokenAccount } from \"@ledgerhq/live-common/account/index\";\nimport { closeModal, openModal } from \"~/renderer/actions/modals\";\nimport { getCurrentDevice } from \"~/renderer/reducers/devices\";\nimport Track from \"~/renderer/analytics/Track\";\nimport StepAmount, { StepAmountFooter } from \"./steps/StepAmount\";\nimport StepConnectDevice from \"./steps/StepConnectDevice\";\nimport StepSummary, { StepSummaryFooter } from \"./steps/StepSummary\";\nimport StepConfirmation, { StepConfirmationFooter } from \"./steps/StepConfirmation\";\nimport { St, StepId } from \"./types\";\nimport { getAccountBridge } from \"@ledgerhq/live-common/bridge/index\";\nimport logger from \"~/renderer/logger\";\nimport Text from \"~/renderer/components/Text\";\nimport { TransactionStatus } from \"@ledgerhq/live-common/generated/types\";\nimport { ModalData } from \"../types\";\nimport { DeviceTransactionField } from \"@ledgerhq/live-common/transaction/index\";\nimport { useDeviceTransactionConfig } from \"@ledgerhq/live-common/hooks/useDeviceTransactionConfig\";\nimport { HOOKS_TRACKING_LOCATIONS } from \"~/renderer/analytics/hooks/variables\";\n\nexport type Params = {\n  canEditFees: boolean;\n  stepId?: StepId;\n  useApp?: string;\n  dependencies?: string[];\n  account: AccountLike;\n  transactionData: Partial<Transaction>;\n  onResult: (signedOperation: SignedOperation) => void;\n  onCancel: (error: Error) => void;\n  parentAccount: Account | undefined | null;\n  recipient?: string;\n  amount?: BigNumber;\n  manifestId?: string;\n  manifestName?: string;\n  isACRE?: boolean;\n  location?: HOOKS_TRACKING_LOCATIONS;\n};\n\ntype Props = {\n  stepId: StepId;\n  onChangeStepId: (a: StepId) => void;\n  onClose: () => void;\n  params: Params;\n  setError: (error?: Error) => void;\n};\nfunction useSteps(canEditFees = false): St[] {\n  const { t } = useTranslation();\n  return useMemo(() => {\n    const steps: St[] = [\n      {\n        id: \"summary\",\n        label: t(\"send.steps.reviewSummary.title\"),\n        component: StepSummary,\n        footer: StepSummaryFooter,\n        onBack: canEditFees ? ({ transitionTo }) => transitionTo(\"amount\") : null,\n        backButtonComponent: canEditFees ? (\n          <Text ff=\"Inter|Bold\" fontSize={4} color=\"primary.c80\">\n            {t(\"common.adjustFees\")}\n          </Text>\n        ) : undefined,\n      },\n      {\n        id: \"device\",\n        label: t(\"send.steps.connectLedger.title\"),\n        component: StepConnectDevice,\n        onBack: ({ transitionTo }) => transitionTo(\"summary\"),\n      },\n      {\n        id: \"confirmation\",\n        label: t(\"send.steps.confirmation.title\"),\n        excludeFromBreadcrumb: true,\n        component: StepConfirmation,\n        footer: StepConfirmationFooter,\n        onBack: ({ transitionTo, onRetry }) => {\n          onRetry();\n          transitionTo(\"summary\");\n        },\n      },\n    ];\n    return canEditFees\n      ? [\n          {\n            id: \"amount\",\n            label: t(\"send.steps.networkFee.title\"),\n            component: StepAmount,\n            footer: StepAmountFooter,\n          },\n          ...steps,\n        ]\n      : steps;\n  }, [canEditFees, t]);\n}\nconst STATUS_KEYS_IGNORE = [\"recipient\", \"gasLimit\"];\n\n// returns the first error\nfunction getStatusError(status: TransactionStatus, type = \"errors\"): Error | undefined | null {\n  if (!status || !status[type as keyof TransactionStatus]) return null;\n  const firstKey = Object.keys(status[type as keyof TransactionStatus]!).find(\n    k => !STATUS_KEYS_IGNORE.includes(k),\n  );\n  // @ts-expect-error This is complicated to prove that type / firstKey are the right keys\n  return firstKey ? status[type][firstKey] : null;\n}\nexport default function Body({ onChangeStepId, onClose, setError, stepId, params }: Props) {\n  useEffect(() => {\n    // Check for stepId params on first mount to update if diff\n    if (params.stepId && stepId !== params.stepId) {\n      onChangeStepId(params.stepId);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const device = useSelector(getCurrentDevice);\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  const { canEditFees, transactionData } = params;\n  const {\n    transaction,\n    setTransaction,\n    updateTransaction,\n    account,\n    parentAccount,\n    setAccount,\n    status,\n    bridgeError,\n    bridgePending,\n  } = useBridgeTransaction(() => {\n    const parentAccount = params && params.parentAccount;\n    const account = params && params.account;\n    const bridge = getAccountBridge(account, parentAccount);\n    const tx = bridge.createTransaction(account);\n    const { recipient, ...txData } = transactionData;\n    const tx2 = bridge.updateTransaction(tx, {\n      recipient,\n      subAccountId: isTokenAccount(account) ? account.id : undefined,\n    });\n    const transaction = bridge.updateTransaction(tx2, txData);\n    return {\n      account,\n      parentAccount,\n      transaction,\n    };\n  });\n  const [transactionError, setTransactionError] = useState<Error | null>(null);\n  const handleOpenModal = useCallback(\n    <Name extends keyof ModalData>(name: Name, data: ModalData[Name]) =>\n      dispatch(openModal(name, data)),\n    [dispatch],\n  );\n  const handleCloseModal = useCallback(() => {\n    dispatch(closeModal(\"MODAL_SIGN_TRANSACTION\"));\n  }, [dispatch]);\n  const handleChangeAccount = useCallback(\n    (nextAccount: AccountLike, nextParentAccount?: Account | null) => {\n      if (account !== nextAccount) {\n        setAccount(nextAccount, nextParentAccount);\n      }\n    },\n    [account, setAccount],\n  );\n  const handleRetry = useCallback(() => {\n    setTransactionError(null);\n    setError(undefined);\n  }, [setError]);\n  const handleTransactionError = useCallback(\n    (error: Error) => {\n      if (!(error instanceof UserRefusedOnDevice)) {\n        logger.critical(error);\n      }\n      setTransactionError(error);\n      setError(error);\n    },\n    [setError],\n  );\n  const handleStepChange = useCallback((e: St) => onChangeStepId(e.id), [onChangeStepId]);\n  const handleTransactionSigned = useCallback(\n    (signedTransaction: SignedOperation) => {\n      params.onResult(signedTransaction);\n      handleCloseModal();\n    },\n    [handleCloseModal, params],\n  );\n  const errorSteps = [];\n\n  const { fields } = useDeviceTransactionConfig({\n    account: params.account,\n    parentAccount,\n    transaction,\n    status,\n  });\n\n  const typeTransaction: string = useMemo(\n    () =>\n      (\n        fields.find(\n          (field: { label: string }) => field.label && field.label === \"Type\",\n        ) as DeviceTransactionField & { value: string }\n      )?.value || \"\",\n    [fields],\n  );\n\n  const steps = useSteps(canEditFees);\n\n  if (transactionError) {\n    errorSteps.push(steps.length - 2);\n  } else if (bridgeError) {\n    errorSteps.push(0);\n  }\n\n  const title = typeTransaction === \"Approve\" ? t(\"approve.title\") : t(\"sign.title\");\n\n  const error = transactionError || bridgeError || getStatusError(status, \"errors\");\n  const warning = getStatusError(status, \"warnings\");\n  const stepperProps = {\n    title,\n    stepId,\n    isACRE: params.isACRE,\n    manifestId: params.manifestId,\n    manifestName: params.manifestName,\n    useApp: params.useApp,\n    dependencies: params.dependencies,\n    steps,\n    errorSteps,\n    device,\n    account,\n    parentAccount,\n    transaction,\n    hideBreadcrumb: (!!error && [\"amount\"].includes(stepId)) || stepId === \"warning\",\n    error,\n    warning,\n    status,\n    bridgePending,\n    location: params.location,\n    openModal: handleOpenModal,\n    onClose,\n    closeModal: handleCloseModal,\n    onChangeAccount: handleChangeAccount,\n    onChangeTransaction: setTransaction,\n    onRetry: handleRetry,\n    onStepChange: handleStepChange,\n    onTransactionSigned: handleTransactionSigned,\n    onTransactionError: handleTransactionError,\n    updateTransaction,\n  };\n  if (!status) return null;\n  return (\n    <Stepper {...stepperProps}>\n      <SyncSkipUnderPriority priority={100} />\n      <Track onUnmount event=\"CloseModalSignTransaction\" />\n    </Stepper>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SignTransaction/SendAmountFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SignTransaction/index.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":14,"column":12,"nodeType":"TSAsExpression","messageId":"never","endLine":14,"endColumn":42}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from \"react\";\nimport { DomainServiceProvider } from \"@ledgerhq/domain-service/hooks/index\";\nimport Modal from \"~/renderer/components/Modal\";\nimport Body from \"./Body\";\nimport { StepId } from \"./types\";\ntype Props = {\n  stepId?: StepId;\n  canEditFees?: boolean;\n  error?: Error;\n};\nconst SignTransactionModal = ({ stepId }: Props) => {\n  const [state, setState] = useState({\n    stepId: stepId || \"summary\",\n    error: undefined as Error | undefined,\n  });\n  const handleReset = () => {\n    setState({\n      ...state,\n      stepId: \"summary\",\n      error: undefined,\n    });\n  };\n  const handleStepChange = (stepId: StepId) =>\n    setState({\n      ...state,\n      stepId,\n    });\n  const setError = (error?: Error) =>\n    setState({\n      ...state,\n      error,\n    });\n  return (\n    <DomainServiceProvider>\n      <Modal\n        name=\"MODAL_SIGN_TRANSACTION\"\n        centered\n        onHide={handleReset}\n        preventBackdropClick\n        render={({ onClose, data }) => (\n          <Body\n            stepId={state.stepId}\n            onClose={() => {\n              if (data.onCancel) {\n                data.onCancel(state.error || new Error(\"Signature interrupted by user\"));\n              }\n              onClose?.();\n            }}\n            setError={setError}\n            onChangeStepId={handleStepChange}\n            params={data || {}}\n          />\n        )}\n      />\n    </DomainServiceProvider>\n  );\n};\nexport default SignTransactionModal;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SignTransaction/steps/GenericStepConnectDevice.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SignTransaction/steps/StepAmount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SignTransaction/steps/StepConfirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SignTransaction/steps/StepConnectDevice.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SignTransaction/steps/StepSummary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SignTransaction/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/StartStake/index.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has missing dependencies: 'dispatch', 'getRouteToPlatformApp', 'history', 'manageList', 'parentAccount', and 'walletState'. Either include them or remove the dependency array.","line":61,"column":6,"nodeType":"ArrayExpression","endLine":61,"endColumn":15,"suggestions":[{"desc":"Update the dependencies array to be: [account, dispatch, getRouteToPlatformApp, history, manageList, parentAccount, walletState]","fix":{"range":[2062,2071],"text":"[account, dispatch, getRouteToPlatformApp, history, manageList, parentAccount, walletState]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SystemLanguageAvailable/SystemLanguageAvailableBody.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/SystemLanguageAvailable/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/TermOfUseUpdate/TermOfUseUpdateBody.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/TermOfUseUpdate/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/TroubleshootNetwork/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/TroubleshootNetwork/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/UpdateFirmwareModal/Disclaimer.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":43,"column":26,"nodeType":"TSAsExpression","messageId":"never","endLine":43,"endColumn":54}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Flex, Alert, Divider, Button, Text } from \"@ledgerhq/react-ui\";\nimport { FirmwareUpdateContext } from \"@ledgerhq/types-live\";\nimport React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useSelector } from \"LLD/hooks/redux\";\nimport TrackPage from \"~/renderer/analytics/TrackPage\";\nimport Markdown, { Notes } from \"~/renderer/components/Markdown\";\nimport { hasCompletedOnboardingSelector } from \"~/renderer/reducers/settings\";\n\ntype Props = {\n  firmware: FirmwareUpdateContext;\n  onContinue(): void;\n};\n\nexport default function Disclaimer({ firmware, onContinue }: Props) {\n  const { t } = useTranslation();\n  const hasCompletedOnboarding = useSelector(hasCompletedOnboardingSelector);\n\n  return (\n    <Flex flex={1} flexDirection=\"column\" justifyContent=\"space-between\" overflowY=\"hidden\">\n      <Flex\n        flex={1}\n        flexDirection=\"column\"\n        alignItems=\"stretch\"\n        flexShrink={1}\n        overflowY=\"hidden\"\n        px={23}\n        my={12}\n      >\n        <TrackPage category=\"Manager\" name=\"DisclaimerModal\" />\n        {hasCompletedOnboarding && (\n          <Alert\n            type=\"info\"\n            title={t(\"manager.firmware.prepareSeed\")}\n            renderContent={({ ...props }) => (\n              <Text {...props}>{t(\"manager.firmware.prepareSeedRecover\")}</Text>\n            )}\n          />\n        )}\n        {firmware && firmware.osu ? (\n          <div style={{ overflow: \"scroll\", flex: 1, marginTop: \"16px\" }}>\n            <Notes>\n              <Markdown>{firmware.osu.notes as string}</Markdown>\n            </Notes>\n          </div>\n        ) : null}\n      </Flex>\n      <Flex flexDirection=\"column\" alignSelf=\"stretch\">\n        <Divider />\n        <Flex\n          px={12}\n          alignSelf=\"stretch\"\n          flexDirection=\"row\"\n          justifyContent=\"space-between\"\n          pt={6}\n          pb={1}\n        >\n          <Flex flex={1} />\n          <Button data-testid=\"modal-continue-button\" variant=\"main\" onClick={onContinue}>\n            {t(\"manager.firmware.installUpdate\")}\n          </Button>\n        </Flex>\n      </Flex>\n    </Flex>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/UpdateFirmwareModal/Installing.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/UpdateFirmwareModal/UpdateStepFooterWrapper.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/UpdateFirmwareModal/errors/Cancel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/UpdateFirmwareModal/errors/DeviceError.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/UpdateFirmwareModal/errors/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/UpdateFirmwareModal/helpers/createFirmwareUpdateSteps.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/UpdateFirmwareModal/index.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":188,"column":22,"nodeType":"TSAsExpression","messageId":"never","endLine":188,"endColumn":45}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useCallback, useMemo, useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { log } from \"@ledgerhq/logs\";\nimport { DeviceModelId, getDeviceModel } from \"@ledgerhq/devices\";\nimport { DeviceInfo, FirmwareUpdateContext } from \"@ledgerhq/types-live\";\nimport { withV3StyleProvider } from \"~/renderer/styles/StyleProviderV3\";\nimport { hasFinalFirmware } from \"@ledgerhq/live-common/hw/hasFinalFirmware\";\nimport logger from \"~/renderer/logger\";\nimport { Flex, FlowStepper, Text } from \"@ledgerhq/react-ui\";\nimport Disclaimer from \"./Disclaimer\";\nimport Cancel from \"./errors/Cancel\";\nimport DeviceCancel from \"./errors/DeviceError\";\nimport { DisconnectedDevice, DisconnectedDeviceDuringOperation } from \"@ledgerhq/errors\";\nimport SideDrawerHeader from \"~/renderer/components/SideDrawerHeader\";\nimport { createFirmwareUpdateSteps } from \"./helpers/createFirmwareUpdateSteps\";\nimport { StepId, STEPS } from \"./types\";\nimport { isDisconnectedWhileSendingApduError } from \"@ledgerhq/live-dmk-desktop\";\n\ntype MaybeError = Error | undefined | null;\n\nexport type Props = {\n  withResetStep: boolean;\n  withAppsToReinstall: boolean;\n  onDrawerClose: (reinstall?: boolean) => void;\n  onRequestClose: () => void;\n  firmware: FirmwareUpdateContext;\n  stepId: StepId;\n  error?: Error | null | undefined;\n  deviceModelId: DeviceModelId;\n  deviceInfo: DeviceInfo;\n  setFirmwareUpdateCompleted: (completed: boolean) => void;\n  // This is bad practice but it seems to be needed since we spread additional props in the stepper and down below…\n  [key: string]: unknown;\n};\n\nconst UpdateModal = ({\n  stepId,\n  deviceModelId,\n  withResetStep,\n  withAppsToReinstall,\n  error,\n  onDrawerClose,\n  onRequestClose,\n  setFirmwareUpdateCompleted,\n  firmware,\n  ...props\n}: Props) => {\n  const { t } = useTranslation();\n  const [stateStepId, setStateStepId] = useState<StepId>(stepId);\n  const [completedRestoreSteps, setCompletedRestoreSteps] = useState<string[]>([]);\n  const [isLanguagePromptOpen, setIsLanguagePromptOpen] = useState<boolean>(false);\n  const [confirmedPrompt, setConfirmedPrompt] = useState<boolean>(false);\n  const [currentRestoreStep, setCurrentRestoreStep] = useState<string>(\"\");\n  const [nonce, setNonce] = useState(0);\n  const [showDisclaimer, setShowDisclaimer] = useState(true);\n  const [err, setErr] = useState<MaybeError>(error || null);\n  const [CLSBackup, setCLSBackup] = useState<string>();\n  const [updatedDeviceInfo, setUpdatedDeviceInfo] = useState<DeviceInfo | undefined>(undefined);\n  const withFinal = useMemo(() => hasFinalFirmware(firmware.final), [firmware]);\n  const [cancel, setCancel] = useState<boolean>(false);\n\n  const isDisconnectedDeviceError = err instanceof DisconnectedDevice;\n  const isDisconnectedDeviceDuringOperationError = err instanceof DisconnectedDeviceDuringOperation;\n  const isDeviceDisconnected =\n    isDisconnectedDeviceError ||\n    isDisconnectedDeviceDuringOperationError ||\n    isDisconnectedWhileSendingApduError(err);\n\n  const onRequestCancel = useCallback(() => {\n    if ((showDisclaimer && !isDeviceDisconnected) || stateStepId === STEPS.FINISH || cancel) {\n      onRequestClose();\n    } else {\n      setCancel(true);\n    }\n  }, [cancel, showDisclaimer, isDeviceDisconnected, stateStepId, onRequestClose]);\n\n  const steps = useMemo(\n    () =>\n      createFirmwareUpdateSteps({ firmware, withFinal, withResetStep, deviceModelId, stateStepId }),\n    [firmware, withFinal, withResetStep, deviceModelId, stateStepId],\n  );\n\n  const setError = useCallback(\n    (e: Error | null) => {\n      logger.critical(e);\n      setErr(e);\n    },\n    [setErr],\n  );\n\n  const handleReset = useCallback(\n    (isRetry?: boolean) => {\n      if (!isRetry) setStateStepId(steps[0].id);\n      setNonce(curr => curr++);\n      setErr(null);\n    },\n    [steps],\n  );\n\n  const onContinue = useCallback(() => {\n    setCancel(false);\n    handleReset();\n  }, [handleReset]);\n\n  const onSkip = useCallback(() => {\n    setCompletedRestoreSteps([...completedRestoreSteps, currentRestoreStep]);\n    setError(null);\n  }, [completedRestoreSteps, currentRestoreStep, setCompletedRestoreSteps, setError]);\n\n  useEffect(() => {\n    log(\"firmware-record-start\");\n\n    return () => {\n      log(\"firmware-record-cancel\");\n    };\n  }, []);\n\n  const additionalProps = {\n    ...props,\n    onDrawerClose,\n    onRetry: handleReset,\n\n    setError,\n    setCLSBackup,\n    setUpdatedDeviceInfo,\n\n    appsToBeReinstalled: withAppsToReinstall,\n    transitionTo: setStateStepId, // FIXME: this is a really bad idea that should be reworked, as the steps are determined dynamically, a child might want to transition to a step that doesn't exist\n    CLSBackup,\n    deviceModelId,\n    error: err,\n    firmware,\n    updatedDeviceInfo,\n    t,\n\n    completedRestoreSteps,\n    setCompletedRestoreSteps,\n    currentRestoreStep,\n    setCurrentRestoreStep,\n    nonce,\n    setNonce,\n    setFirmwareUpdateCompleted,\n    isLanguagePromptOpen,\n    setIsLanguagePromptOpen,\n    confirmedPrompt,\n    setConfirmedPrompt,\n    deviceHasPin: !(\n      [DeviceModelId.stax, DeviceModelId.europa].includes(deviceModelId) &&\n      !props.deviceInfo?.onboarded\n    ),\n  };\n\n  const getMainContent = () => {\n    if (err && !isDeviceDisconnected) {\n      return (\n        <DeviceCancel\n          error={err}\n          shouldReloadManagerOnCloseIfUpdateRefused={\n            !!props.shouldReloadManagerOnCloseIfUpdateRefused\n          }\n          onDrawerClose={onDrawerClose}\n          onRetry={handleReset}\n          onSkip={onSkip}\n        />\n      );\n    } else if (cancel || isDeviceDisconnected) {\n      return <Cancel onContinue={onContinue} onCancel={onRequestClose} />;\n    } else if (showDisclaimer) {\n      return <Disclaimer onContinue={() => setShowDisclaimer(false)} firmware={firmware} />;\n    } else {\n      return (\n        <FlowStepper.Indexed\n          activeKey={stateStepId}\n          extraStepperContainerProps={{ px: 12, mb: 0 }}\n          extraStepperProps={{\n            errored: !!error,\n            filterDuplicate: true,\n            isOver: stateStepId === STEPS.FINISH,\n          }}\n          extraContainerProps={{ overflowY: \"hidden\" }}\n          extraChildrenContainerProps={{ overflowY: \"hidden\" }}\n          renderChildren={undefined}\n        >\n          {steps.map(step => (\n            <FlowStepper.Indexed.Step\n              key={step.id}\n              itemKey={step.id}\n              label={t(step.label) as string}\n            >\n              <Flex\n                flex={1}\n                flexDirection=\"column\"\n                justifyContent=\"space-between\"\n                overflowY=\"hidden\"\n              >\n                <Flex\n                  flex={1}\n                  flexDirection=\"column\"\n                  justifyContent=\"center\"\n                  alignItems=\"stretch\"\n                  flexShrink={1}\n                  overflowY=\"hidden\"\n                  px={12}\n                >\n                  <step.component {...additionalProps} />\n                </Flex>\n                {step.footer ? <step.footer {...additionalProps} /> : null}\n              </Flex>\n            </FlowStepper.Indexed.Step>\n          ))}\n        </FlowStepper.Indexed>\n      );\n    }\n  };\n\n  const deviceModel = getDeviceModel(deviceModelId);\n\n  return (\n    <Flex\n      key={`${nonce}_fwUpdate`}\n      flexDirection=\"column\"\n      rowGap={5}\n      height=\"100%\"\n      overflowY=\"hidden\"\n      width=\"100%\"\n      flex={1}\n      data-testid=\"firmware-update-container\"\n    >\n      <SideDrawerHeader onRequestClose={onRequestCancel} />\n      <Text alignSelf=\"center\" variant=\"h5Inter\">\n        {t(\"manager.modal.title\", { productName: deviceModel.productName })}\n      </Text>\n      {getMainContent()}\n    </Flex>\n  );\n};\n\nexport default withV3StyleProvider(UpdateModal);\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/UpdateFirmwareModal/steps/00-step-reset-device.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/UpdateFirmwareModal/steps/01-step-prepare.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has missing dependencies: 'device?.deviceId', 'device?.deviceName', 'deviceInfo.onboarded', 'deviceModelId', 'firmware', 'setCLSBackup', 'setError', and 'transitionTo'. Either include them or remove the dependency array. If 'transitionTo' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":240,"column":6,"nodeType":"ArrayExpression","endLine":240,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [device?.deviceId, device?.deviceName, deviceInfo.onboarded, deviceModelId, firmware, setCLSBackup, setError, transitionTo]","fix":{"range":[7742,7744],"text":"[device?.deviceId, device?.deviceName, deviceInfo.onboarded, deviceModelId, firmware, setCLSBackup, setError, transitionTo]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/UpdateFirmwareModal/steps/02-step-flash-mcu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/UpdateFirmwareModal/steps/02-step-restore.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/UpdateFirmwareModal/steps/02-step-updating.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/UpdateFirmwareModal/steps/03-step-confirmation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/UpdateFirmwareModal/steps/restore/CustomLockScreen.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/UpdateFirmwareModal/steps/restore/Language.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/UpdateFirmwareModal/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/VaultSigner/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/WalletSyncDebugger/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/WebSocketBridge/Bridge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/WebSocketBridge/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/modals/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/pre.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/recentAddresses.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/reducers/UI.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":167,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":167,"endColumn":43},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":167,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":167,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { handleActions } from \"redux-actions\";\nimport { LiveAppManifest } from \"@ledgerhq/live-common/platform/types\";\nimport { State } from \"~/renderer/reducers\";\nimport { Handlers } from \"./types\";\nimport { Data as CompleteExchangeData } from \"~/renderer/modals/Platform/Exchange/CompleteExchange/Body\";\n\nexport type PlatformAppDrawerInfo = {\n  type: \"DAPP_INFO\";\n  manifest?: LiveAppManifest | null;\n  title: string;\n};\n\nexport type PlatformAppDrawerDisclaimer = {\n  type: \"DAPP_DISCLAIMER\";\n  manifest?: LiveAppManifest | null;\n  title: string;\n  next: () => void;\n};\n\nexport type StartExchangeAppDrawer = {\n  type: \"EXCHANGE_START\";\n  title: string;\n  data: {\n    exchangeType: number;\n    onResult: () => void;\n    onCancel: () => void;\n  };\n};\n\nexport type CompleteExchangeAppDrawer = {\n  type: \"EXCHANGE_COMPLETED\";\n  title: string;\n  data: CompleteExchangeData;\n};\n\nexport type ExchangeAppDrawer = CompleteExchangeAppDrawer & StartExchangeAppDrawer;\n\nexport type PlatformAppDrawers = PlatformAppDrawerInfo & PlatformAppDrawerDisclaimer;\n\nexport type UIState = {\n  informationCenter: {\n    isOpen: boolean;\n    tabId?: string;\n  };\n  platformAppDrawer: {\n    isOpen: boolean;\n    payload?: PlatformAppDrawers | null;\n  };\n  isMemoTagBoxVisible: boolean;\n  forceAutoFocusOnMemoField: boolean;\n};\n\nconst initialState: UIState = {\n  informationCenter: {\n    isOpen: false,\n    tabId: \"announcement\",\n  },\n  platformAppDrawer: {\n    isOpen: false,\n    payload: undefined,\n  },\n  isMemoTagBoxVisible: false,\n  forceAutoFocusOnMemoField: false,\n};\n\ntype OpenPayload = {\n  tabId?: string;\n};\n\ntype ToggleMemoDisplayPayload = {\n  isMemoTagBoxVisible: boolean;\n  forceAutoFocusOnMemoField?: boolean;\n};\n\ntype HandlersPayloads = {\n  INFORMATION_CENTER_OPEN: OpenPayload;\n  INFORMATION_CENTER_SET_TAB: OpenPayload;\n  INFORMATION_CENTER_CLOSE: never;\n  PLATFORM_APP_DRAWER_OPEN: PlatformAppDrawers;\n  PLATFORM_APP_DRAWER_CLOSE: never;\n  EXCHANGE_APP_DRAWER_OPEN: ExchangeAppDrawer;\n  TOGGLE_MEMOTAG_DISPLAY: ToggleMemoDisplayPayload;\n};\ntype UIHandlers<PreciseKey = true> = Handlers<UIState, HandlersPayloads, PreciseKey>;\n\nconst handlers: UIHandlers = {\n  INFORMATION_CENTER_OPEN: (state, { payload }) => {\n    const { tabId } = payload;\n    return {\n      ...state,\n      informationCenter: {\n        ...state.informationCenter,\n        isOpen: true,\n        tabId: tabId || \"announcement\",\n      },\n    };\n  },\n  INFORMATION_CENTER_SET_TAB: (state, { payload }) => {\n    const { tabId } = payload;\n    return {\n      ...state,\n      informationCenter: {\n        ...state.informationCenter,\n        tabId: tabId,\n      },\n    };\n  },\n  INFORMATION_CENTER_CLOSE: state => {\n    return {\n      ...state,\n      informationCenter: {\n        ...state.informationCenter,\n        isOpen: false,\n      },\n    };\n  },\n  PLATFORM_APP_DRAWER_OPEN: (state, { payload }) => {\n    return {\n      ...state,\n      platformAppDrawer: {\n        isOpen: true,\n        payload,\n      },\n    };\n  },\n  PLATFORM_APP_DRAWER_CLOSE: state => {\n    return {\n      ...state,\n      platformAppDrawer: {\n        ...state.platformAppDrawer,\n        isOpen: false,\n      },\n    };\n  },\n  EXCHANGE_APP_DRAWER_OPEN: (state, { payload }) => {\n    return {\n      ...state,\n      platformAppDrawer: {\n        isOpen: true,\n        payload,\n      },\n    };\n  },\n  TOGGLE_MEMOTAG_DISPLAY: (state, { payload }) => {\n    return {\n      ...state,\n      isMemoTagBoxVisible: payload.isMemoTagBoxVisible,\n      forceAutoFocusOnMemoField: !!payload?.forceAutoFocusOnMemoField,\n    };\n  },\n};\n\n// Selectors\n\nexport const informationCenterStateSelector = (state: State): UIState[\"informationCenter\"] =>\n  state.UI.informationCenter;\nexport const platformAppDrawerStateSelector = (state: State): UIState[\"platformAppDrawer\"] =>\n  state.UI.platformAppDrawer;\nexport const memoTagBoxVisibilitySelector = (state: State): UIState[\"isMemoTagBoxVisible\"] =>\n  state.UI.isMemoTagBoxVisible;\nexport const forceAutoFocusOnMemoFieldSelector = (\n  state: State,\n): UIState[\"forceAutoFocusOnMemoField\"] => state.UI.forceAutoFocusOnMemoField;\n// Exporting reducer\n\nexport default handleActions<UIState, HandlersPayloads[keyof HandlersPayloads]>(\n  handlers as unknown as UIHandlers<false>,\n  initialState,\n);\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/reducers/accounts.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":60,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":60,"endColumn":38}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createSelector, createSelectorCreator, lruMemoize } from \"reselect\";\nimport { handleActions } from \"redux-actions\";\nimport { Account, AccountUserData, AccountLike } from \"@ledgerhq/types-live\";\nimport {\n  flattenAccounts,\n  clearAccount,\n  getAccountCurrency,\n  isUpToDateAccount,\n} from \"@ledgerhq/live-common/account/index\";\nimport { getEnv } from \"@ledgerhq/live-env\";\nimport isEqual from \"lodash/isEqual\";\nimport { State } from \".\";\nimport { Handlers } from \"./types\";\nimport { walletSelector } from \"./wallet\";\nimport { isStarredAccountSelector } from \"@ledgerhq/live-wallet/store\";\nimport { nestedSortAccounts, AccountComparator } from \"@ledgerhq/live-wallet/ordering\";\nimport { AddAccountsAction } from \"@ledgerhq/live-wallet/addAccounts\";\n\n/*\nFIXME\nwhere is the accounts ordering source of truth?\nwe could go => Map<string, Account> accounts\nbut we can't because nestedSortAccounts\n*/\n\nexport type AccountsState = Account[];\nconst state: AccountsState = [];\n\ntype HandlersPayloads = {\n  REORDER_ACCOUNTS: { comparator: AccountComparator };\n  INIT_ACCOUNTS: { accounts: Account[]; accountsUserData: AccountUserData[] };\n  ADD_ACCOUNTS: AddAccountsAction[\"payload\"];\n  UPDATE_ACCOUNT: { accountId: string; updater: (a: Account) => Account };\n  REMOVE_ACCOUNT: Account;\n  CLEAN_FULLNODE_DISCONNECT: never;\n  CLEAN_ACCOUNTS_CACHE: never;\n  REPLACE_ACCOUNTS: Account[];\n};\n\ntype AccountsHandlers<PreciseKey = true> = Handlers<AccountsState, HandlersPayloads, PreciseKey>;\n\nconst handlers: AccountsHandlers = {\n  REORDER_ACCOUNTS: (state, { payload: { comparator } }) => nestedSortAccounts(state, comparator),\n  INIT_ACCOUNTS: (_, { payload: { accounts } }) => accounts,\n  ADD_ACCOUNTS: (_, { payload }) => payload.allAccounts,\n  UPDATE_ACCOUNT: (state, { payload: { accountId, updater } }) =>\n    state.map(existingAccount => {\n      if (existingAccount.id !== accountId) {\n        return existingAccount;\n      }\n      return updater(existingAccount);\n    }),\n  REMOVE_ACCOUNT: (state, { payload: account }) => state.filter(acc => acc.id !== account.id),\n  CLEAN_FULLNODE_DISCONNECT: state => state.filter(acc => acc.currency.id !== \"bitcoin\"),\n  CLEAN_ACCOUNTS_CACHE: state => state.map(clearAccount),\n  REPLACE_ACCOUNTS: (state, { payload }) => payload,\n};\n\nexport default handleActions<AccountsState, HandlersPayloads[keyof HandlersPayloads]>(\n  handlers as AccountsHandlers<false>,\n  state,\n);\n\n// Selectors\n\nexport const accountsSelector = (state: { accounts: AccountsState }): Account[] => state.accounts;\n\n// NB some components don't need to refresh every time an account is updated, usually it's only\n// when the balance/name/length/starred/swapHistory of accounts changes.\nconst accountHash = (a: AccountLike) => {\n  const baseHash = `${a.id}-${a.balance.toString()}-swapHistory(${a.swapHistory?.length || \"0\"})`;\n  // Include Canton-specific data in hash to ensure selector detects changes to cantonResources\n  // Without this, when Canton accounts are synced and cantonResources is updated (e.g., instrumentUtxoCounts),\n  // the selector returns stale data because the hash doesn't change, causing components to miss\n  // important Canton-specific data like UTXO counts needed for transaction validation\n  // See: libs/coin-modules/coin-canton/src/bridge/sync.ts\n  if (a.type === \"Account\" && a.currency.family === \"canton\" && \"cantonResources\" in a) {\n    const cantonHash = `-cantonResources(${JSON.stringify(a.cantonResources)})`;\n    return baseHash + cantonHash;\n  }\n  return baseHash;\n};\nconst shallowAccountsSelectorCreator = createSelectorCreator(lruMemoize, (a, b) =>\n  isEqual(flattenAccounts(a).map(accountHash), flattenAccounts(b).map(accountHash)),\n);\nexport const shallowAccountsSelector = shallowAccountsSelectorCreator(accountsSelector, a => a);\n\n// FIXME we might reboot this idea later!\nexport const isUpToDateSelector = createSelector(accountsSelector, accounts =>\n  accounts.map(a => {\n    const { lastSyncDate } = a;\n    const { blockAvgTime } = a.currency;\n    let isUpToDate = true;\n    if (blockAvgTime) {\n      const outdated =\n        Date.now() - (lastSyncDate.getTime() || 0) >\n        blockAvgTime * 1000 + getEnv(\"SYNC_OUTDATED_CONSIDERED_DELAY\");\n      isUpToDate = !outdated;\n    }\n    return { account: a, isUpToDate };\n  }),\n);\n\nexport const hasAccountsSelector = createSelector(\n  shallowAccountsSelector,\n  accounts => accounts.length > 0,\n);\n// TODO: FIX RETURN TYPE\nexport const currenciesSelector = createSelector(shallowAccountsSelector, accounts =>\n  [...new Set(flattenAccounts(accounts).map(a => getAccountCurrency(a)))].sort((a, b) =>\n    a.name.localeCompare(b.name),\n  ),\n);\n\n// TODO: FIX RETURN TYPE\nexport const cryptoCurrenciesSelector = createSelector(shallowAccountsSelector, accounts =>\n  [...new Set(accounts.map(a => a.currency))].sort((a, b) => a.name.localeCompare(b.name)),\n);\nexport const accountSelector = createSelector(\n  accountsSelector,\n  (\n    _: State,\n    {\n      accountId,\n    }: {\n      accountId: string;\n    },\n  ) => accountId,\n  (accounts, accountId) => accounts.find(a => a.id === accountId),\n);\n\nexport const starredAccountsSelector = createSelector(\n  shallowAccountsSelector,\n  walletSelector,\n  (accounts, wallet) =>\n    flattenAccounts(accounts).filter(a => isStarredAccountSelector(wallet, { accountId: a.id })),\n);\n\nexport const isUpToDateAccountSelector = createSelector(accountSelector, isUpToDateAccount);\n\nexport const flattenAccountsSelector = createSelector(accountsSelector, flattenAccounts);\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/reducers/application.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":64,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":64,"endColumn":52},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":64,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":64,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { handleActions } from \"redux-actions\";\nimport { getParsedSystemLocale } from \"~/helpers/systemLocale\";\nimport { LanguageIdsNotFeatureFlagged } from \"~/config/languages\";\nimport { LangAndRegion } from \"~/renderer/reducers/settings\";\nimport { Handlers } from \"./types\";\nexport type ApplicationState = {\n  isLocked?: boolean;\n  hasPassword?: boolean;\n  osDarkMode?: boolean;\n  osLanguage?: LangAndRegion;\n  navigationLocked?: boolean;\n  debug: {\n    alwaysShowSkeletons: boolean;\n  };\n};\nconst { language, region } = getParsedSystemLocale();\nconst osLangSupported = LanguageIdsNotFeatureFlagged.includes(language);\nconst state: ApplicationState = {\n  osDarkMode: window.matchMedia(\"(prefers-color-scheme: dark)\").matches,\n  osLanguage: {\n    language: osLangSupported && language != null ? language : \"en\",\n    region: osLangSupported ? region : \"US\",\n    useSystem: true,\n  },\n  hasPassword: false,\n  debug: {\n    alwaysShowSkeletons: false,\n  },\n};\n\ntype HandlersPayloads = {\n  APPLICATION_SET_DATA: Partial<ApplicationState>;\n};\ntype ApplicationHandlers<PreciseKey = true> = Handlers<\n  ApplicationState,\n  HandlersPayloads,\n  PreciseKey\n>;\n\nconst handlers: ApplicationHandlers = {\n  APPLICATION_SET_DATA: (state, { payload }) => ({\n    ...state,\n    ...payload,\n  }),\n};\n\n// NOTE: V2 `lock` and `unlock` have been moved to actions/application.js\n\n// Selectors\n\nexport const isLocked = (state: { application: ApplicationState }) =>\n  state.application.isLocked === true;\nexport const hasPasswordSelector = (state: { application: ApplicationState }) =>\n  state.application.hasPassword === true;\nexport const osDarkModeSelector = (state: { application: ApplicationState }) =>\n  state.application.osDarkMode;\nexport const alwaysShowSkeletonsSelector = (state: { application: ApplicationState }) =>\n  state.application.debug.alwaysShowSkeletons;\nexport const isNavigationLocked = (state: { application: ApplicationState }) =>\n  state.application.navigationLocked;\n// Exporting reducer\n\nexport default handleActions<ApplicationState, HandlersPayloads[keyof HandlersPayloads]>(\n  handlers as unknown as ApplicationHandlers<false>,\n  state,\n);\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/reducers/countervalues.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":201,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":201,"endColumn":54},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":201,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":201,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { exportCountervalues, initialState } from \"@ledgerhq/live-countervalues/logic\";\nimport type { CountervaluesSettings, CounterValuesState } from \"@ledgerhq/live-countervalues/types\";\nimport { useSelector } from \"LLD/hooks/redux\";\nimport { handleActions } from \"redux-actions\";\nimport type { CountervaluesHandlersPayloads, Handlers } from \"./types\";\n\n// State\n\nexport type CountervaluesState = {\n  countervalues: {\n    state: CounterValuesState;\n    pending: boolean;\n    error: Error | null;\n  };\n  marketcap: {\n    ids: string[];\n    lastUpdated: number;\n    isLoading: boolean;\n    error: string | null;\n  };\n  polling: {\n    isPolling: boolean;\n    triggerLoad: boolean;\n  };\n  userSettings: CountervaluesSettings;\n};\n\nconst INITIAL_STATE: CountervaluesState = {\n  countervalues: {\n    state: initialState,\n    pending: false,\n    error: null,\n  },\n  marketcap: {\n    ids: [],\n    lastUpdated: 0,\n    isLoading: false,\n    error: null,\n  },\n  polling: {\n    isPolling: true,\n    triggerLoad: false,\n  },\n  // dummy values that should be overriden by the context provider\n  userSettings: {\n    trackingPairs: [],\n    autofillGaps: true,\n    refreshRate: 0,\n    marketCapBatchingAfterRank: 0,\n  },\n};\n\n// Selectors\n\nexport type RootState = { countervalues: CountervaluesState };\n\nexport const countervaluesMarketcapIdsSelector = (s: RootState) => s.countervalues.marketcap.ids;\nexport const countervaluesMarketcapLastUpdatedSelector = (s: RootState) =>\n  s.countervalues.marketcap.lastUpdated;\nexport const countervaluesPollingIsPollingSelector = (s: RootState) =>\n  s.countervalues.polling.isPolling;\nexport const countervaluesPollingTriggerLoadSelector = (s: RootState) =>\n  s.countervalues.polling.triggerLoad;\nexport const countervaluesStateSelector = (s: RootState) => s.countervalues.countervalues.state;\nexport const countervaluesStatePendingSelector = (s: RootState) =>\n  s.countervalues.countervalues.pending;\nexport const countervaluesStateErrorSelector = (s: RootState) =>\n  s.countervalues.countervalues.error;\nexport const countervaluesUserSettingsSelector = (s: RootState) => s.countervalues.userSettings;\nexport const countervaluesStateExportSelector = (s: RootState) =>\n  exportCountervalues(s.countervalues.countervalues.state);\n\n// Hooks\n\nexport const useCountervaluesMarketcapIds = () => useSelector(countervaluesMarketcapIdsSelector);\nexport const useCountervaluesMarketcapLastUpdated = () =>\n  useSelector(countervaluesMarketcapLastUpdatedSelector);\nexport const useCountervaluesPollingIsPolling = () =>\n  useSelector(countervaluesPollingIsPollingSelector);\nexport const useCountervaluesPollingTriggerLoad = () =>\n  useSelector(countervaluesPollingTriggerLoadSelector);\nexport const useCountervaluesStateError = () => useSelector(countervaluesStateErrorSelector);\nexport const useCountervaluesStateExport = () => useSelector(countervaluesStateExportSelector);\nexport const useCountervaluesStatePending = () => useSelector(countervaluesStatePendingSelector);\nexport const useCountervaluesState = () => useSelector(countervaluesStateSelector);\nexport const useCountervaluesUserSettings = () => useSelector(countervaluesUserSettingsSelector);\n\n// Handlers\n\ntype CountervaluesHandlers<PreciseKey = true> = Handlers<\n  CountervaluesState,\n  CountervaluesHandlersPayloads,\n  PreciseKey\n>;\n\nconst handlers: CountervaluesHandlers = {\n  COUNTERVALUES_MARKETCAP_SET_IDS: (\n    state: CountervaluesState,\n    { payload }: { payload: string[] },\n  ) => ({\n    ...state,\n    marketcap: {\n      ...state.marketcap,\n      ids: payload,\n      lastUpdated: Date.now(),\n      isLoading: false,\n      error: null,\n    },\n  }),\n  COUNTERVALUES_MARKETCAP_SET_LOADING: (\n    state: CountervaluesState,\n    { payload }: { payload: boolean },\n  ) => ({\n    ...state,\n    marketcap: {\n      ...state.marketcap,\n      isLoading: payload,\n    },\n  }),\n  COUNTERVALUES_MARKETCAP_SET_ERROR: (\n    state: CountervaluesState,\n    { payload }: { payload: string },\n  ) => ({\n    ...state,\n    marketcap: {\n      ...state.marketcap,\n      error: payload,\n      isLoading: false,\n    },\n  }),\n  COUNTERVALUES_POLLING_SET_IS_POLLING: (\n    state: CountervaluesState,\n    { payload }: { payload: boolean },\n  ) => ({\n    ...state,\n    polling: {\n      ...state.polling,\n      isPolling: payload,\n    },\n  }),\n  COUNTERVALUES_POLLING_SET_TRIGGER_LOAD: (\n    state: CountervaluesState,\n    { payload }: { payload: boolean },\n  ) => ({\n    ...state,\n    polling: {\n      ...state.polling,\n      triggerLoad: payload,\n    },\n  }),\n  COUNTERVALUES_STATE_SET: (\n    state: CountervaluesState,\n    { payload }: { payload: CounterValuesState },\n  ) => ({\n    ...state,\n    countervalues: {\n      ...state.countervalues,\n      state: payload,\n    },\n  }),\n  COUNTERVALUES_STATE_SET_ERROR: (state: CountervaluesState, { payload }: { payload: Error }) => ({\n    ...state,\n    countervalues: {\n      ...state.countervalues,\n      error: payload,\n      pending: false,\n    },\n  }),\n  COUNTERVALUES_STATE_SET_PENDING: (\n    state: CountervaluesState,\n    { payload }: { payload: boolean },\n  ) => ({\n    ...state,\n    countervalues: {\n      ...state.countervalues,\n      pending: payload,\n      error: payload ? null : state.countervalues.error, // Clear error when starting new request\n    },\n  }),\n  COUNTERVALUES_USER_SETTINGS_SET: (\n    state: CountervaluesState,\n    { payload }: { payload: CountervaluesSettings },\n  ) => ({\n    ...state,\n    userSettings: payload,\n  }),\n  COUNTERVALUES_WIPE: (state: CountervaluesState) => ({\n    ...state,\n    countervalues: {\n      ...state.countervalues,\n      state: initialState,\n      pending: false,\n      error: null,\n    },\n  }),\n};\n\nexport default handleActions<\n  CountervaluesState,\n  CountervaluesHandlersPayloads[keyof CountervaluesHandlersPayloads]\n>(handlers as unknown as CountervaluesHandlers<false>, INITIAL_STATE);\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/reducers/devices.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":99,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":99,"endColumn":48},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":99,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":99,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { handleActions } from \"redux-actions\";\nimport { getEnv } from \"@ledgerhq/live-env\";\nimport { Device } from \"@ledgerhq/live-common/hw/actions/types\";\nimport { DeviceModelId } from \"@ledgerhq/devices\";\nimport { Handlers } from \"./types\";\nimport { SettingsState } from \"./settings\";\nimport { getSpeculosModel } from \"@ledgerhq/live-common/e2e/speculosAppVersion\";\nimport { createSelector } from \"@reduxjs/toolkit\";\n\nexport type DevicesState = {\n  /**\n   * only two possibilities: either there is a device or there isn't\n   * (no third possibility undefined)\n   * */\n  currentDevice: Device | null;\n  devices: Device[];\n};\nconst initialState: DevicesState = {\n  currentDevice: null,\n  devices: [],\n};\n\ntype HandlersPayloads = {\n  RESET_DEVICES: never;\n  ADD_DEVICE: Device;\n  REMOVE_DEVICE: Device;\n};\ntype DevicesHandlers<PreciseKey = true> = Handlers<DevicesState, HandlersPayloads, PreciseKey>;\n\nconst handlers: DevicesHandlers = {\n  RESET_DEVICES: () => initialState,\n  ADD_DEVICE: (state, { payload: device }) =>\n    setCurrentDevice({\n      ...state,\n      devices: [...state.devices, device].filter(\n        (v, i, s) => s.findIndex(t => t.deviceId === v.deviceId) === i,\n      ),\n    }),\n  REMOVE_DEVICE: (state, { payload: device }) => ({\n    ...state,\n    currentDevice:\n      state.currentDevice && state.currentDevice.deviceId === device.deviceId\n        ? null\n        : state.currentDevice,\n    devices: state.devices.filter(d => d.deviceId !== device.deviceId),\n  }),\n};\n\nfunction setCurrentDevice(state: DevicesState) {\n  const currentDevice = state.devices.length ? state.devices[state.devices.length - 1] : null;\n  return {\n    ...state,\n    currentDevice,\n  };\n}\n\nexport const getCurrentDevice = createSelector(\n  [\n    (state: { devices: DevicesState }) => state.devices.currentDevice,\n    (state: { settings: SettingsState }) => state.settings.vaultSigner,\n  ],\n  (currentDevice, vaultSigner) => {\n    if (vaultSigner.enabled) {\n      const transportParams = new URLSearchParams();\n      transportParams.append(\"host\", vaultSigner.host);\n      transportParams.append(\"token\", vaultSigner.token);\n      transportParams.append(\"workspace\", vaultSigner.workspace);\n\n      const deviceId = `vault-transport:${transportParams.toString()}`;\n\n      return {\n        deviceId,\n        wired: true,\n        modelId: DeviceModelId.nanoS,\n      };\n    }\n\n    const envConditions = [\n      { condition: getEnv(\"DEVICE_PROXY_URL\"), modelId: DeviceModelId.nanoS },\n      { condition: getEnv(\"MOCK\") && !getEnv(\"MOCK_NO_BYPASS\"), modelId: DeviceModelId.nanoS },\n      { condition: getEnv(\"SPECULOS_API_PORT\"), modelId: getSpeculosModel() },\n    ];\n\n    for (const { condition, modelId } of envConditions) {\n      if (condition) {\n        return {\n          deviceId: \"\",\n          wired: true,\n          modelId,\n        };\n      }\n    }\n\n    return currentDevice;\n  },\n);\n\nexport default handleActions<DevicesState, HandlersPayloads[keyof HandlersPayloads]>(\n  handlers as unknown as DevicesHandlers<false>,\n  initialState,\n);\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/reducers/dynamicContent.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":87,"column":37,"nodeType":"TSAsExpression","messageId":"never","endLine":87,"endColumn":51},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":96,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":96,"endColumn":55},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":96,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":96,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { Card as BrazeCard } from \"@braze/web-sdk\";\nimport { handleActions } from \"redux-actions\";\nimport {\n  ActionContentCard,\n  NotificationContentCard,\n  PortfolioContentCard,\n} from \"~/types/dynamicContent\";\nimport { Handlers } from \"./types\";\nimport { SettingsState, trackingEnabledSelector } from \"./settings\";\nimport { State } from \".\";\n\nexport type DynamicContentState = {\n  desktopCards: BrazeCard[];\n  portfolioCards: PortfolioContentCard[];\n  actionCards: ActionContentCard[];\n  notificationsCards: NotificationContentCard[];\n};\n\nconst state: DynamicContentState = {\n  desktopCards: [],\n  portfolioCards: [],\n  actionCards: [],\n  notificationsCards: [],\n};\n\ntype HandlersPayloads = {\n  DYNAMIC_CONTENT_SET_DESKTOP_CARDS: BrazeCard[];\n  DYNAMIC_CONTENT_SET_PORTFOLIO_CARDS: PortfolioContentCard[];\n  DYNAMIC_CONTENT_SET_ACTION_CARDS: ActionContentCard[];\n  DYNAMIC_CONTENT_SET_NOTIFICATIONS_CARDS: NotificationContentCard[];\n};\ntype DynamicContentHandlers<PreciseKey = true> = Handlers<\n  DynamicContentState,\n  HandlersPayloads,\n  PreciseKey\n>;\n\nconst handlers: DynamicContentHandlers = {\n  DYNAMIC_CONTENT_SET_DESKTOP_CARDS: (\n    state: DynamicContentState,\n    { payload }: { payload: BrazeCard[] },\n  ) => ({\n    ...state,\n    desktopCards: payload,\n  }),\n  DYNAMIC_CONTENT_SET_PORTFOLIO_CARDS: (\n    state: DynamicContentState,\n    { payload }: { payload: PortfolioContentCard[] },\n  ) => ({\n    ...state,\n    portfolioCards: payload,\n  }),\n  DYNAMIC_CONTENT_SET_ACTION_CARDS: (\n    state: DynamicContentState,\n    { payload }: { payload: ActionContentCard[] },\n  ) => ({\n    ...state,\n    actionCards: payload,\n  }),\n  DYNAMIC_CONTENT_SET_NOTIFICATIONS_CARDS: (\n    state: DynamicContentState,\n    { payload }: { payload: NotificationContentCard[] },\n  ) => ({\n    ...state,\n    notificationsCards: payload,\n  }),\n};\n\n// Selectors\n\nexport const desktopContentCardSelector = (state: { dynamicContent: DynamicContentState }) =>\n  state.dynamicContent.desktopCards;\n\nexport const portfolioContentCardSelector = (state: { dynamicContent: DynamicContentState }) =>\n  state.dynamicContent.portfolioCards;\n\nexport const actionContentCardSelector = (state: { dynamicContent: DynamicContentState }) =>\n  state.dynamicContent.actionCards;\n\nexport const notificationsContentCardSelector = (state: {\n  dynamicContent: DynamicContentState;\n  settings: SettingsState;\n}) => {\n  const { settings, dynamicContent } = state;\n  return dynamicContent.notificationsCards.map(n => ({\n    ...n,\n    viewed: trackingEnabledSelector(state as State)\n      ? n.viewed\n      : !!settings.anonymousUserNotifications[n.id],\n  }));\n};\n\n// Exporting reducer\n\nexport default handleActions<DynamicContentState, HandlersPayloads[keyof HandlersPayloads]>(\n  handlers as unknown as DynamicContentHandlers<false>,\n  state,\n);\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/reducers/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/reducers/market.ts","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":68,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":68,"endColumn":47},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":68,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":68,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { handleActions } from \"redux-actions\";\nimport { Handlers } from \"./types\";\nimport { MarketListRequestParams, Order } from \"@ledgerhq/live-common/market/utils/types\";\n\nexport type MarketState = {\n  marketParams: MarketListRequestParams;\n  currentPage: number;\n};\n\nconst initialState: MarketState = {\n  marketParams: {\n    range: \"24h\",\n    limit: 50,\n    starred: [],\n    order: Order.MarketCapDesc,\n    search: \"\",\n    liveCompatible: false,\n    page: 1,\n    counterCurrency: \"USD\",\n  },\n  currentPage: 1,\n};\n\ntype HandlersPayloads = {\n  MARKET_IMPORT_STATE: MarketState;\n\n  MARKET_SET_VALUES: MarketListRequestParams;\n  MARKET_SET_CURRENT_PAGE: number;\n};\n\ntype MarketHandlers<PreciseKey = true> = Handlers<MarketState, HandlersPayloads, PreciseKey>;\n\nconst handlers: MarketHandlers = {\n  MARKET_SET_VALUES: (state: MarketState, { payload }: { payload: MarketListRequestParams }) => ({\n    ...state,\n    marketParams: {\n      ...state.marketParams,\n      ...payload,\n    },\n  }),\n  MARKET_SET_CURRENT_PAGE: (state: MarketState, { payload }: { payload: number }) => ({\n    ...state,\n    currentPage: payload,\n  }),\n\n  MARKET_IMPORT_STATE: (state, { payload }: { payload: MarketState }) => ({\n    ...state,\n    marketParams: {\n      ...state.marketParams,\n      range: payload.marketParams.range,\n      counterCurrency: payload.marketParams.counterCurrency,\n      order: payload.marketParams.order,\n    },\n  }),\n};\n\n// Selectors\n\nexport const marketParamsSelector = (state: { market: MarketState }) => state.market.marketParams;\nexport const marketCurrentPageSelector = (state: { market: MarketState }) =>\n  state.market.currentPage;\n\nexport const marketStoreSelector = (state: { market: MarketState }) => state.market;\n\n// Exporting reducer\n\nexport default handleActions<MarketState, HandlersPayloads[keyof HandlersPayloads]>(\n  handlers as unknown as MarketHandlers<false>,\n  initialState,\n);\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/reducers/modals.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":93,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":93,"endColumn":47,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":93,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":93,"endColumn":22,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/reducers/modularDrawer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/reducers/onboarding.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/reducers/rtkQueryApi.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":32,"column":34,"nodeType":"TSAsExpression","messageId":"never","endLine":34,"endColumn":37,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/reducers/sendFlow.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/reducers/settings.test.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":30,"column":13,"nodeType":"TSAsExpression","messageId":"never","endLine":30,"endColumn":24,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":44,"column":18,"nodeType":"TSAsExpression","messageId":"never","endLine":44,"endColumn":48,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":50,"column":13,"nodeType":"TSAsExpression","messageId":"never","endLine":50,"endColumn":24,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":64,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":64,"endColumn":22,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":75,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":75,"endColumn":22,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":87,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":87,"endColumn":22,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/reducers/settings.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":213,"column":27,"nodeType":"TSAsExpression","messageId":"never","endLine":213,"endColumn":59,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":220,"column":26,"nodeType":"TSAsExpression","messageId":"never","endLine":220,"endColumn":54,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":297,"column":22,"nodeType":"TSAsExpression","messageId":"never","endLine":297,"endColumn":70,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":492,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":492,"endColumn":49,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":492,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":492,"endColumn":22,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":601,"column":37,"nodeType":"TSAsExpression","messageId":"never","endLine":601,"endColumn":55,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":601,"column":60,"nodeType":"TSAsExpression","messageId":"never","endLine":601,"endColumn":88,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/reducers/trustchain.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":14,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":14,"endColumn":61,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":14,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":14,"endColumn":32,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/reducers/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/reducers/wallet.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":62,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":62,"endColumn":47,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":62,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":62,"endColumn":22,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/reducers/walletSync.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":181,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":181,"endColumn":51,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":181,"column":3,"nodeType":"TSAsExpression","messageId":"never","endLine":181,"endColumn":22,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/reset.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/USBTroubleshooting/ConnectionTester.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/USBTroubleshooting/USBTroubleshooting.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":37,"column":37,"nodeType":"TSAsExpression","messageId":"never","endLine":37,"endColumn":98,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":50,"column":39,"nodeType":"TSAsExpression","messageId":"never","endLine":50,"endColumn":73,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/USBTroubleshooting/USBTroubleshootingMachine.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":29,"column":12,"nodeType":"TSAsExpression","messageId":"never","endLine":31,"endColumn":6,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":40,"column":22,"nodeType":"TSAsExpression","messageId":"never","endLine":40,"endColumn":56,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":44,"column":52,"nodeType":"TSAsExpression","messageId":"never","endLine":44,"endColumn":86,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":48,"column":43,"nodeType":"TSAsExpression","messageId":"never","endLine":48,"endColumn":77,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":63,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":63,"endColumn":53,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":72,"column":38,"nodeType":"TSAsExpression","messageId":"never","endLine":72,"endColumn":72,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":93,"column":24,"nodeType":"TSAsExpression","messageId":"never","endLine":97,"endColumn":14,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/USBTroubleshooting/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/USBTroubleshooting/solutions/ChangeUSBCable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/USBTroubleshooting/solutions/DifferentPort.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/USBTroubleshooting/solutions/EnableFullDiskAccess.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/USBTroubleshooting/solutions/Intro.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/USBTroubleshooting/solutions/RepairFunnel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/USBTroubleshooting/solutions/ResetNVRAM.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/USBTroubleshooting/solutions/RestartComputer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/USBTroubleshooting/solutions/RunAsAdmin.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/USBTroubleshooting/solutions/TryAnotherComputer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/USBTroubleshooting/solutions/TurnOffAntivirus.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/USBTroubleshooting/solutions/UpdateUSBDeviceDrivers.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/USBTroubleshooting/solutions/UpdateUdevRules.tsx","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":13,"column":20,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":13,"endColumn":39}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport styled from \"styled-components\";\nimport { Wrapper, Illustration, Number, Title, Content, BulletRowIcon } from \"./shared\";\nimport Box from \"~/renderer/components/Box\";\nimport BulletRow from \"~/renderer/components/BulletRow\";\nimport Text from \"~/renderer/components/Text\";\nimport IconCopy from \"~/renderer/icons/Copy\";\nimport illustration from \"~/renderer/images/USBTroubleshooting/illus1.png\";\nlet clipboard: Electron.Clipboard | null = null;\nif (!process.env.STORYBOOK_ENV) {\n  // eslint-disable-next-line @typescript-eslint/no-var-requires\n  const electron = require(\"electron\");\n  clipboard = electron.clipboard; // eslint-disable-line\n}\n\nconst Pre = styled(Box).attrs({\n  selectable: true,\n})`\n  padding: 10px 12px;\n  border-radius: 4px;\n  margin: 8px 0;\n  background-color: ${p => p.theme.colors.neutral.c20};\n  color: ${p => p.theme.colors.neutral.c80};\n  font-family: monospace;\n  font-size: 12px;\n  align-items: center;\n\n  & ${Box}:hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n`;\nconst snippet =\n  \"wget -q -O - https://raw.githubusercontent.com/LedgerHQ/udev-rules/master/add_udev_rules.sh | sudo bash\";\nconst UpdateUdevRulesSolution = ({ number = 1 }: { number?: number }) => {\n  const { t } = useTranslation();\n  const onCopy = useCallback(() => {\n    if (clipboard) clipboard.writeText(snippet);\n  }, []);\n  return (\n    <Wrapper>\n      <Number>\n        {t(\"connectTroubleshooting.solution\", {\n          number,\n        })}\n      </Number>\n      <Title>{t(\"connectTroubleshooting.steps.1.linux.title\")}</Title>\n      <Content>\n        <Illustration image={illustration} />\n        <Box flex={2}>\n          <Text mb={3} ff=\"Inter|SemiBold\" color=\"neutral.c90\" fontSize={5}>\n            {t(\"connectTroubleshooting.followSteps\")}\n          </Text>\n          <BulletRow\n            step={{\n              icon: <BulletRowIcon>{1}</BulletRowIcon>,\n              desc: (\n                <Text ff=\"Inter|Medium\" fontSize={4}>\n                  {t(\"connectTroubleshooting.steps.1.linux.bullets.0\")}\n                </Text>\n              ),\n            }}\n          />\n          <Pre horizontal>\n            {snippet}\n            <Box onClick={onCopy}>\n              <IconCopy size={16} />\n            </Box>\n          </Pre>\n          <BulletRow\n            step={{\n              icon: <BulletRowIcon>{2}</BulletRowIcon>,\n              desc: (\n                <Text ff=\"Inter|Medium\" fontSize={4}>\n                  {t(\"connectTroubleshooting.steps.1.linux.bullets.1\")}\n                </Text>\n              ),\n            }}\n          />\n        </Box>\n      </Content>\n    </Wrapper>\n  );\n};\nexport default UpdateUdevRulesSolution;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/USBTroubleshooting/solutions/shared.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/account/AccountActionsDefault.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/account/AccountBalanceSummaryHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/account/AccountBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/account/AccountHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/account/AccountHeaderActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/account/AccountStakeBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/account/AccountWarningBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/account/BalanceSummary.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":142,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":142,"endColumn":34,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/account/EmptyStateAccount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/account/TokensList.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":73,"column":32,"nodeType":"TSAsExpression","messageId":"never","endLine":73,"endColumn":84,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/account/__tests__/AccountWarningBanner.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/account/index.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":174,"column":48,"nodeType":"TSAsExpression","messageId":"never","endLine":174,"endColumn":66}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback } from \"react\";\nimport { compose } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { withTranslation } from \"react-i18next\";\nimport { TFunction } from \"i18next\";\nimport { Redirect } from \"react-router\";\nimport { SyncOneAccountOnMount } from \"@ledgerhq/live-common/bridge/react/index\";\nimport { isAddressPoisoningOperation } from \"@ledgerhq/live-common/operation\";\nimport { getCurrencyColor } from \"~/renderer/getCurrencyColor\";\nimport { accountSelector } from \"~/renderer/reducers/accounts\";\nimport {\n  findSubAccountById,\n  getMainAccount,\n  isAccountEmpty,\n} from \"@ledgerhq/live-common/account/index\";\nimport {\n  setCountervalueFirst,\n  useFilterTokenOperationsZeroAmount,\n} from \"~/renderer/actions/settings\";\nimport { countervalueFirstSelector } from \"~/renderer/reducers/settings\";\nimport TrackPage from \"~/renderer/analytics/TrackPage\";\nimport Box from \"~/renderer/components/Box\";\nimport OperationsList from \"~/renderer/components/OperationsList\";\nimport useTheme from \"~/renderer/hooks/useTheme\";\nimport BalanceSummary from \"./BalanceSummary\";\nimport AccountHeader from \"./AccountHeader\";\nimport { AccountWarningBanner, AccountWarningCustomBanner } from \"./AccountWarningBanner\";\nimport AccountHeaderActions, { AccountHeaderSettingsButton } from \"./AccountHeaderActions\";\nimport EmptyStateAccount from \"./EmptyStateAccount\";\nimport TokensList from \"./TokensList\";\nimport { AccountStakeBanner } from \"~/renderer/screens/account/AccountStakeBanner\";\nimport { AccountLike, Account, Operation } from \"@ledgerhq/types-live\";\nimport { State } from \"~/renderer/reducers\";\nimport { getLLDCoinFamily } from \"~/renderer/families\";\nimport NftEntryPoint from \"LLD/features/NftEntryPoint\";\n\ntype Params = {\n  id: string;\n  parentId: string;\n};\n\nconst mapStateToProps = (\n  state: State,\n  {\n    match: {\n      params: { id, parentId },\n    },\n  }: {\n    match: {\n      params: Params;\n    };\n  },\n) => {\n  const parentAccount: Account | undefined | null = accountSelector(state, {\n    accountId: parentId,\n  });\n  let account: AccountLike | undefined | null;\n  if (parentAccount) {\n    account = findSubAccountById(parentAccount, id);\n  } else {\n    account = accountSelector(state, {\n      accountId: id,\n    });\n  }\n\n  return {\n    parentAccount,\n    account,\n    countervalueFirst: countervalueFirstSelector(state),\n  };\n};\n\nconst mapDispatchToProps = {\n  setCountervalueFirst,\n};\n\ntype Props = {\n  t: TFunction;\n  account?: AccountLike;\n  parentAccount?: Account;\n  countervalueFirst: boolean;\n  setCountervalueFirst: (a: boolean) => void;\n};\n\nconst AccountPage = ({\n  account,\n  parentAccount,\n  t,\n  countervalueFirst,\n  setCountervalueFirst,\n}: Props) => {\n  const mainAccount = account ? getMainAccount(account, parentAccount) : null;\n  const specific = mainAccount ? getLLDCoinFamily(mainAccount.currency.family) : null;\n  const AccountBodyHeader = specific?.AccountBodyHeader;\n  const AccountSubHeader = specific?.AccountSubHeader;\n  const PendingTransferProposals = specific?.PendingTransferProposals;\n  const bgColor = useTheme().colors.background.card;\n  const [shouldFilterTokenOpsZeroAmount] = useFilterTokenOperationsZeroAmount();\n\n  const filterOperations = useCallback(\n    (operation: Operation, account: AccountLike) => {\n      // Remove operations linked to address poisoning\n      const removeZeroAmountTokenOp =\n        shouldFilterTokenOpsZeroAmount && isAddressPoisoningOperation(operation, account);\n\n      return !removeZeroAmountTokenOp;\n    },\n    [shouldFilterTokenOpsZeroAmount],\n  );\n\n  const currency = mainAccount?.currency;\n\n  if (!account || !mainAccount || !currency) {\n    return <Redirect to=\"/accounts\" />;\n  }\n\n  const color = getCurrencyColor(currency, bgColor);\n\n  return (\n    <Box key={account.id}>\n      <TrackPage\n        category=\"Account\"\n        currency={currency.id}\n        operationsLength={account.operations.length}\n      />\n      <SyncOneAccountOnMount reason=\"view-account\" priority={10} accountId={mainAccount.id} />\n      <Box\n        horizontal\n        mb={1}\n        flow={4}\n        style={{\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n        }}\n      >\n        <AccountHeader account={account} parentAccount={parentAccount} />\n        <AccountHeaderSettingsButton account={account} parentAccount={parentAccount} />\n      </Box>\n      <Box\n        horizontal\n        pb={3}\n        flow={4}\n        style={{\n          width: \"100%\",\n          overflowX: \"visible\",\n          marginBottom: \"30px\",\n        }}\n      >\n        <AccountHeaderActions account={account} parentAccount={parentAccount} />\n      </Box>\n      <AccountWarningBanner currency={currency} />\n      <AccountWarningCustomBanner currency={currency} />\n      {AccountSubHeader ? (\n        <AccountSubHeader account={account} parentAccount={parentAccount} />\n      ) : null}\n      {!isAccountEmpty(account) ? (\n        <>\n          <Box mb={7}>\n            <BalanceSummary\n              mainAccount={mainAccount}\n              account={account}\n              parentAccount={parentAccount}\n              chartColor={color}\n              countervalueFirst={countervalueFirst}\n              setCountervalueFirst={setCountervalueFirst}\n            />\n          </Box>\n          <AccountStakeBanner account={account} />\n          {AccountBodyHeader ? (\n            <AccountBodyHeader account={account} parentAccount={parentAccount} />\n          ) : null}\n\n          {PendingTransferProposals && (\n            <PendingTransferProposals account={account as Account} parentAccount={mainAccount} />\n          )}\n\n          {account.type === \"Account\" && <NftEntryPoint account={account} />}\n\n          {account.type === \"Account\" ? <TokensList account={account} /> : null}\n          <OperationsList\n            t={t}\n            account={account}\n            parentAccount={parentAccount}\n            title={t(\"account.lastOperations\")}\n            filterOperation={filterOperations}\n          />\n        </>\n      ) : (\n        <EmptyStateAccount account={account} parentAccount={parentAccount} />\n      )}\n    </Box>\n  );\n};\n\nconst ConnectedAccountPage = compose<React.ComponentType<Props>>(\n  connect(mapStateToProps, mapDispatchToProps),\n  withTranslation(),\n)(AccountPage);\n\nexport default ConnectedAccountPage;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/account/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/accounts/AccountGridItem/Body.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":53,"column":15,"nodeType":"TSAsExpression","messageId":"never","endLine":53,"endColumn":30,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/accounts/AccountGridItem/Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/accounts/AccountGridItem/Placeholder.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/accounts/AccountGridItem/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/accounts/AccountList/DisplayOptions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/accounts/AccountList/GridBody.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/accounts/AccountList/ListBody.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/accounts/AccountList/Order.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/accounts/AccountList/Range.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/accounts/AccountList/SearchBox.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":69,"column":16,"nodeType":"TSAsExpression","messageId":"never","endLine":69,"endColumn":57,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/accounts/AccountList/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/accounts/AccountRowItem/Balance.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/accounts/AccountRowItem/Countervalue.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/accounts/AccountRowItem/Delta.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/accounts/AccountRowItem/Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/accounts/AccountRowItem/Placeholder.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/accounts/AccountRowItem/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/accounts/AccountSyncStatusIndicator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/accounts/AccountsHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/accounts/OptionsButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/accounts/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/asset/AccountDistribution/Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/asset/AccountDistribution/Row.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/asset/AccountDistribution/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/asset/AssetBalanceSummaryHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/asset/AssetHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/asset/BalanceSummary.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":121,"column":19,"nodeType":"TSAsExpression","messageId":"never","endLine":121,"endColumn":34,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/asset/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/bank/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/card/CardPlatformApp.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":36,"column":17,"nodeType":"TSAsExpression","messageId":"never","endLine":36,"endColumn":52,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/card/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/customImage/Step1ChooseImage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/customImage/Step2AdjustImage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/customImage/Step3ChooseContrast.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/customImage/Step4Transfer.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":55,"column":6,"nodeType":"TSAsExpression","messageId":"never","endLine":55,"endColumn":22,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/customImage/StepContainer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/customImage/StepFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/customImage/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/customImage/shared.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/customImage/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/dashboard/ActionContentCards.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/dashboard/AssetDistribution/Bar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/dashboard/AssetDistribution/Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/dashboard/AssetDistribution/Row.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/dashboard/AssetDistribution/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/dashboard/EmptyStateAccounts.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/dashboard/EmptyStateInstalledApps.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/dashboard/GlobalSummary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/dashboard/NoAccountsImage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/dashboard/components/BannerSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/dashboard/components/FeaturedButtons.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/dashboard/components/SwapWebViewEmbedded.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/dashboard/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/earn/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/earn/useDeepLinkListener.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/exchange/Fund/FundCompleted.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/exchange/Sell/SellCompleted.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/exchange/Swap2/App/App.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/exchange/Swap2/App/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/exchange/Swap2/Form/DrawerFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/exchange/Swap2/Form/ExchangeDrawer/SwapCompleted.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/exchange/Swap2/Form/FeesDrawerLiveApp/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/exchange/Swap2/Form/Separator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/exchange/Swap2/Form/SwapLoader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/exchange/Swap2/Form/SwapWebViewDemo3.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useMemo has missing dependencies: 'accounts', 'customDeeplinkHandlers', 'dispatch', 'redirectToHistory', 'setDrawer', 'swapDefaultTrack', and 't'. Either include them or remove the dependency array.","line":446,"column":5,"nodeType":"ArrayExpression","endLine":446,"endColumn":24,"suggestions":[{"desc":"Update the dependencies array to be: [accounts, customDeeplinkHandlers, customPTXHandlers, dispatch, redirectToHistory, setDrawer, swapDefaultTrack, t]","fix":{"range":[16542,16561],"text":"[accounts, customDeeplinkHandlers, customPTXHandlers, dispatch, redirectToHistory, setDrawer, swapDefaultTrack, t]"}}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has a missing dependency: 'onSwapWebviewError'. Either include it or remove the dependency array.","line":518,"column":6,"nodeType":"ArrayExpression","endLine":518,"endColumn":25,"suggestions":[{"desc":"Update the dependencies array to be: [onSwapWebviewError, webviewState?.url]","fix":{"range":[18560,18579],"text":"[onSwapWebviewError, webviewState?.url]"}}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":563,"column":27,"nodeType":"TSAsExpression","messageId":"never","endLine":563,"endColumn":50,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/exchange/Swap2/Form/WebviewErrorDrawer/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/exchange/Swap2/History/History.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/exchange/Swap2/History/HistoryLoading.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/exchange/Swap2/History/HistoryPlaceholder.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/exchange/Swap2/History/OperationRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/exchange/Swap2/History/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/exchange/Swap2/Navbar/index.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":9,"column":1,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":9,"endColumn":14,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[441,454],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/exchange/Swap2/Navbar/routes.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/exchange/Swap2/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/exchange/Swap2/utils/index.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":38,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[781,784],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[781,784],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":57,"column":47,"nodeType":"TSAsExpression","messageId":"never","endLine":57,"endColumn":73,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":57,"column":47,"nodeType":"TSAsExpression","messageId":"never","endLine":57,"endColumn":63,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/exchange/config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/exchange/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/exchange/shared/shared-styles.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/Dashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/DeviceDashboard/AppDepsInstallModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/DeviceDashboard/AppDepsUnInstallModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/DeviceDashboard/AppsList/AppActions.tsx","messages":[],"suppressedMessages":[{"ruleId":"react/display-name","severity":2,"message":"Component definition is missing display name","line":67,"column":20,"nodeType":"CallExpression","messageId":"noDisplayName","endLine":339,"endColumn":2,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/DeviceDashboard/AppsList/AppIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/DeviceDashboard/AppsList/Filter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/DeviceDashboard/AppsList/InstallSuccessBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/DeviceDashboard/AppsList/Item.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/DeviceDashboard/AppsList/Placeholder.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/DeviceDashboard/AppsList/Progress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/DeviceDashboard/AppsList/Sort.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/DeviceDashboard/AppsList/UninstallAllButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/DeviceDashboard/AppsList/UpdateAllApps.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/DeviceDashboard/AppsList/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/DeviceDashboard/DeviceInformationSummary/CustomImageManagerButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/DeviceDashboard/DeviceInformationSummary/DeviceIllustration.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":51,"column":5,"nodeType":"TSAsExpression","messageId":"never","endLine":51,"endColumn":86,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/DeviceDashboard/DeviceInformationSummary/DeviceLanguage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/DeviceDashboard/DeviceInformationSummary/DeviceLanguageInstallation.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":65,"column":27,"nodeType":"TSAsExpression","messageId":"never","endLine":65,"endColumn":49,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/DeviceDashboard/DeviceInformationSummary/DeviceName.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/DeviceDashboard/DeviceInformationSummary/EditDeviceName.tsx","messages":[],"suppressedMessages":[{"ruleId":"no-control-regex","severity":2,"message":"Unexpected control character(s) in regular expression: \\x00.","line":70,"column":46,"nodeType":"Literal","messageId":"unexpected","endLine":70,"endColumn":61,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/DeviceDashboard/DeviceInformationSummary/RemoveCustomImage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/DeviceDashboard/DeviceInformationSummary/StorageBar.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":76,"column":25,"nodeType":"TSAsExpression","messageId":"never","endLine":76,"endColumn":69,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":146,"column":46,"nodeType":"TSAsExpression","messageId":"never","endLine":146,"endColumn":80,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/DeviceDashboard/DeviceInformationSummary/StorageInfo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/DeviceDashboard/DeviceInformationSummary/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/DeviceDashboard/ProviderWarning.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/DeviceDashboard/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/Disconnected.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/FirmwareUpdate/getCleanVersion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/FirmwareUpdate/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/manager/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/market/MarketCoin/components/MarketCoinChart.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":40,"column":27,"nodeType":"TSAsExpression","messageId":"never","endLine":40,"endColumn":67,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/market/MarketCoin/components/MarketInfo.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":130,"column":64,"nodeType":"TSAsExpression","messageId":"never","endLine":130,"endColumn":88,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/market/MarketCoin/index.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":75,"column":72,"nodeType":"TSAsExpression","messageId":"never","endLine":75,"endColumn":96,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/market/MarketList/components/MarketItemChart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/market/MarketList/components/MarketRowItem.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":88,"column":72,"nodeType":"TSAsExpression","messageId":"never","endLine":88,"endColumn":96,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/market/MarketList/components/NoCryptoPlaceholder.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/market/MarketList/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/market/assets/ChartPlaceholder.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/market/components/CountervalueSelect.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/market/components/DropDown.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":72,"column":9,"nodeType":"TSAsExpression","messageId":"never","endLine":103,"endColumn":17},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":108,"column":9,"nodeType":"TSAsExpression","messageId":"never","endLine":113,"endColumn":17}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":103,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":103,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3073,3076],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3073,3076],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":113,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":113,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3432,3435],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3432,3435],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\nimport { components, ControlProps } from \"react-select\";\nimport { useTheme } from \"styled-components\";\nimport SelectInput, {\n  Props as SelectInputProps,\n} from \"@ledgerhq/react-ui/components/form/SelectInput/index\";\nimport { Text, Flex as FlexBox, IconsLegacy } from \"@ledgerhq/react-ui\";\nimport {\n  ValueContainer,\n  MixedProps as ValueContainerProps,\n} from \"@ledgerhq/react-ui/components/form/SelectInput/ValueContainer\";\n\nexport type Props<O> = SelectInputProps<O> & {\n  searchable?: boolean;\n  label?: React.ReactNode;\n};\n\nfunction DropdownControl<O>(props: ControlProps<O, false>) {\n  const { children } = props;\n\n  return (\n    <components.Control {...props}>\n      <Text fontWeight=\"semiBold\" p=\"0\" variant={\"paragraph\"} color=\"neutral.c80\">\n        {children}\n      </Text>\n    </components.Control>\n  );\n}\n\nfunction DropdownValueContainer<O>(\n  props: ValueContainerProps<O, false> & { label?: React.ReactNode },\n) {\n  const ChevronIcon = props.selectProps.menuIsOpen\n    ? IconsLegacy.ChevronTopMedium\n    : IconsLegacy.ChevronBottomMedium;\n  // @ts-expect-error This label prop is inherited from the original component props but it is not handled well in the react-select bindings\n  const { label } = props.selectProps;\n\n  return (\n    <ValueContainer\n      {...props}\n      render={() => (\n        <FlexBox alignItems=\"center\" flexDirection=\"row\">\n          <Text fontWeight=\"semiBold\" variant={\"paragraph\"} color=\"neutral.c80\" mr={2}>\n            {label}\n          </Text>\n          <Text fontWeight=\"semiBold\" variant={\"paragraph\"} mr={2}>\n            <FlexBox>{props.children}</FlexBox>\n          </Text>\n          <FlexBox alignItems=\"center\">\n            <ChevronIcon size={12} />\n          </FlexBox>\n        </FlexBox>\n      )}\n    />\n  );\n}\n\nfunction DropdownIndicatorsContainer() {\n  return null;\n}\n\nexport default function Dropdown<O>(props: Props<O>): React.JSX.Element {\n  const theme = useTheme();\n\n  return (\n    <SelectInput\n      placeholder=\"\"\n      isSearchable={props.searchable}\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      styles={\n        {\n          singleValue: (provided: object) => ({\n            ...provided,\n            color: theme.colors.neutral.c100,\n            margin: 0,\n            top: undefined,\n            position: undefined,\n            overflow: undefined,\n            maxWidth: undefined,\n            transform: undefined,\n            lineHeight: \"32px\",\n          }),\n          menu: (provided: object) => ({\n            ...provided,\n            border: 0,\n            boxShadow: \"none\",\n            background: \"none\",\n            width: \"max-content\",\n            minWidth: \"100px\",\n            margin: 0,\n            padding: 0,\n            right: 0,\n          }),\n          control: () => ({\n            padding: 0,\n            flexDirection: \"column\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            display: \"flex\",\n          }),\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        } as any\n      }\n      {...props}\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      components={\n        {\n          Control: DropdownControl,\n          ValueContainer: DropdownValueContainer,\n          IndicatorsContainer: DropdownIndicatorsContainer,\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        } as any\n      }\n    />\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/market/components/SearchInputComponent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/market/components/SideDrawerFilter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/market/components/SortTableCell.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/market/components/Table.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/market/hooks/useMarket.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/market/hooks/useMarketActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/market/hooks/useMarketCoin.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/market/index.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has missing dependencies: 'marketParams.page' and 'resetMarketPage'. Either include them or remove the dependency array.","line":78,"column":6,"nodeType":"ArrayExpression","endLine":78,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [marketParams.page, resetMarketPage]","fix":{"range":[1978,1980],"text":"[marketParams.page, resetMarketPage]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/market/utils/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/market/utils/market.utils.test.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":80,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":82,"endColumn":34,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":91,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":93,"endColumn":34,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":102,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":104,"endColumn":34,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":113,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":115,"endColumn":34,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":132,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":134,"endColumn":34,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":143,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":145,"endColumn":34,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":154,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":156,"endColumn":34,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":165,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":167,"endColumn":34,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/platform/Catalog/Banner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/platform/Catalog/TwitterBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/platform/Catalog/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/platform/LiveApp.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":40,"column":47,"nodeType":"TSAsExpression","messageId":"never","endLine":47,"endColumn":6,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/platform/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/platform/v2/Catalog/Browse/Result/NoResult.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/platform/v2/Catalog/Browse/Result/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/platform/v2/Catalog/Browse/Search.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/platform/v2/Catalog/Browse/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/platform/v2/Catalog/Card/Cta.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/platform/v2/Catalog/Card/Full.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/platform/v2/Catalog/Card/Layout.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/platform/v2/Catalog/Card/Logo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/platform/v2/Catalog/Card/Minimum.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/platform/v2/Catalog/Card/hooks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/platform/v2/Catalog/Card/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/platform/v2/Catalog/Card/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/platform/v2/Catalog/LocalLiveAppSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/platform/v2/Catalog/RecentlyUsed.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/platform/v2/Catalog/SectionHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/platform/v2/Catalog/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/platform/v2/hooks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/recover/Player.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useMemo has missing dependencies: 'devModeEnabled' and 'device?.modelId'. Either include them or remove the dependency array.","line":102,"column":5,"nodeType":"ArrayExpression","endLine":102,"endColumn":88,"suggestions":[{"desc":"Update the dependencies array to be: [theme, locale, availableOnDesktop, state?.deviceId, device?.modelId, devModeEnabled, currency, params, queryParams]","fix":{"range":[3545,3628],"text":"[theme, locale, availableOnDesktop, state?.deviceId, device?.modelId, devModeEnabled, currency, params, queryParams]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/RowItem.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/SettingsSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/WelcomeScreenSettings.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/About/ReleaseNotesButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/About/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Accounts/BlacklistedTokens.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Accounts/BlacklistedTokens.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Accounts/Currencies.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":58,"column":15,"nodeType":"TSAsExpression","messageId":"never","endLine":58,"endColumn":41,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Accounts/CurrencyRows.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Accounts/Export.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Accounts/FilterTokenOperationsZeroAmount.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Accounts/FullNode.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Accounts/FullNodeButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Accounts/FullNodeStatus.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Accounts/HideEmptyTokenAccountsToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Accounts/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/AllowDebugAppsToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/AllowDebugReactQueryToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/AllowExperimentalAppsToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/BrazeTools/Hooks/useGenerateLocalBraze.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/BrazeTools/Modal/Body.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/BrazeTools/Modal/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/BrazeTools/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/CatalogProviderInput.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/CryptoAssetsList/components/TokenDetailsContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/CryptoAssetsList/components/TokenListDrawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/CryptoAssetsList/components/TokenListView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/CryptoAssetsList/constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/CryptoAssetsList/hooks/useTokenList.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/CryptoAssetsList/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/CryptoAssetsList/styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/CryptoAssetsList/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/CustomCALRefInput.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/CustomCALRefInput.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/CustomLockScreenAssets.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/CustomLockScreenTester.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/CustomLockScreenToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/EnableAnalyticsConsole.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/EnableLearnPageStagingUrlToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/EnablePlatformDevToolsToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/EnableThemeConsole.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/EnvVariableOverride.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/ExchangeDeveloperMode.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/ExchangeTestPartnerMode.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/FeatureFlagsSettings/FeatureFlagDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/FeatureFlagsSettings/FeatureFlagEdit.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/FeatureFlagsSettings/GroupedFeatures.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/FeatureFlagsSettings/index.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":78,"column":21,"nodeType":"TSAsExpression","messageId":"never","endLine":78,"endColumn":42,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/GenerateMockAccounts/CurrencySelector.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":130,"column":48,"nodeType":"TSAsExpression","messageId":"never","endLine":130,"endColumn":68}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback, useMemo, useState, useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { getSupportedCurrencies } from \"./utils\";\nimport CheckBox from \"~/renderer/components/CheckBox\";\nimport Box from \"~/renderer/components/Box/Box\";\nimport Text from \"~/renderer/components/Text\";\nimport Input from \"~/renderer/components/Input\";\nimport CryptoCurrencyIcon from \"~/renderer/components/CryptoCurrencyIcon\";\nimport { useCurrenciesByMarketcap } from \"@ledgerhq/live-common/currencies/hooks\";\nimport AngleDown from \"~/renderer/icons/AngleDown\";\nimport type { Currency } from \"@ledgerhq/types-cryptoassets\";\nimport { useTranslation } from \"react-i18next\";\n\nconst SelectContainer = styled(Box)`\n  border: 1px solid ${p => p.theme.colors.neutral.c40};\n  border-radius: 4px;\n  cursor: pointer;\n  transition: border-color 0.2s ease;\n\n  &:hover {\n    border-color: ${p => p.theme.colors.primary.c80};\n  }\n`;\n\nconst DropdownContainer = styled(Box)`\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  z-index: 1000;\n  background: ${p => p.theme.colors.background.card};\n  border: 1px solid ${p => p.theme.colors.neutral.c40};\n  border-radius: 4px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  max-height: 300px;\n  overflow-y: auto;\n`;\n\nconst CurrencyItem = styled(Box)`\n  padding: 8px 12px;\n  cursor: pointer;\n  transition: background-color 0.2s ease;\n\n  &:hover {\n    background-color: ${p => p.theme.colors.background.default};\n  }\n`;\n\nconst SearchContainer = styled(Box)`\n  padding: 12px;\n  border-bottom: 1px solid ${p => p.theme.colors.neutral.c40};\n`;\n\ntype Props = {\n  selectedCurrencies: Record<string, boolean>;\n  onCurrencyToggle: (currencyId: string) => void;\n  placeholder?: string;\n  disabled?: boolean;\n};\n\nconst SelectionDisplay = ({\n  selectedCount,\n  selectedCurrenciesList,\n  placeholder,\n}: {\n  selectedCount: number;\n  selectedCurrenciesList: Currency[];\n  placeholder: string;\n}) => {\n  const { t } = useTranslation();\n  const getDisplayText = () => {\n    if (selectedCount === 0) return placeholder;\n    if (selectedCount === 1) return selectedCurrenciesList[0]?.name || placeholder;\n    if (selectedCount <= 3) {\n      return selectedCurrenciesList.map(c => c.name).join(\", \");\n    }\n    return t(\"settings.developer.mockAccounts.currencySelector.selectedCount\", {\n      count: selectedCount,\n    });\n  };\n\n  return (\n    <Box flex={1}>\n      <Text ff=\"Inter|Medium\" fontSize={3} color=\"neutral.c100\">\n        {getDisplayText()}\n      </Text>\n      {selectedCount > 0 && (\n        <Text ff=\"Inter|Regular\" fontSize={2} color=\"neutral.c70\" mt={1}>\n          {t(\"settings.developer.mockAccounts.currencySelector.selectedCount\", {\n            count: selectedCount,\n          })}\n        </Text>\n      )}\n    </Box>\n  );\n};\n\nconst CurrencyItemComponent = ({\n  currency,\n  isSelected,\n  onToggle,\n}: {\n  currency: Currency;\n  isSelected: boolean;\n  onToggle: () => void;\n}) => (\n  <CurrencyItem horizontal alignItems=\"center\" py={2} px={3} onClick={onToggle}>\n    <CheckBox isChecked={isSelected} onChange={onToggle} />\n    <Box ml={2} horizontal alignItems=\"center\" flex={1}>\n      <CryptoCurrencyIcon currency={currency} size={28} />\n      <Box ml={2} flex={1}>\n        <Text ff=\"Inter|SemiBold\" fontSize={3} color=\"neutral.c100\">\n          {currency.name}\n        </Text>\n        <Text ff=\"Inter|Regular\" fontSize={2} color=\"neutral.c70\">\n          {currency.ticker}\n        </Text>\n      </Box>\n    </Box>\n  </CurrencyItem>\n);\n\nconst useClickOutside = (\n  ref: React.RefObject<HTMLElement>,\n  callback: () => void,\n  isActive: boolean,\n) => {\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (ref.current && !ref.current.contains(event.target as Node)) {\n        callback();\n      }\n    };\n\n    if (isActive) {\n      document.addEventListener(\"mousedown\", handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [ref, callback, isActive]);\n};\n\nexport default function CurrencySelector({\n  selectedCurrencies,\n  onCurrencyToggle,\n  placeholder = \"...\",\n  disabled = false,\n}: Props) {\n  const { t } = useTranslation();\n  const [isOpen, setIsOpen] = useState(false);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const allCurrencies = getSupportedCurrencies();\n  const sortedCurrencies = useCurrenciesByMarketcap(allCurrencies);\n\n  const filteredCurrencies = useMemo(() => {\n    if (!searchValue) return sortedCurrencies;\n\n    const searchLower = searchValue.toLowerCase();\n    return sortedCurrencies.filter(\n      currency =>\n        currency.name.toLowerCase().includes(searchLower) ||\n        currency.ticker.toLowerCase().includes(searchLower),\n    );\n  }, [sortedCurrencies, searchValue]);\n\n  const selectedCount = Object.values(selectedCurrencies).filter(Boolean).length;\n  const selectedCurrenciesList = sortedCurrencies.filter(c => selectedCurrencies[c.id]);\n\n  useClickOutside(containerRef, () => setIsOpen(false), isOpen);\n\n  const handleToggleDropdown = useCallback(() => {\n    if (!disabled) {\n      setIsOpen(!isOpen);\n    }\n  }, [isOpen, disabled]);\n\n  const handleSearchChange = useCallback((value: string) => {\n    setSearchValue(value);\n  }, []);\n\n  const handleCurrencyToggle = useCallback(\n    (currencyId: string) => {\n      onCurrencyToggle(currencyId);\n    },\n    [onCurrencyToggle],\n  );\n\n  return (\n    <Box relative ref={containerRef}>\n      <SelectContainer\n        horizontal\n        alignItems=\"center\"\n        justifyContent=\"space-between\"\n        py={2}\n        px={3}\n        onClick={handleToggleDropdown}\n        style={{ opacity: disabled ? 0.5 : 1 }}\n      >\n        <SelectionDisplay\n          selectedCount={selectedCount}\n          selectedCurrenciesList={selectedCurrenciesList}\n          placeholder={placeholder}\n        />\n        <AngleDown size={16} color={isOpen ? \"neutral.c100\" : \"neutral.c70\"} />\n      </SelectContainer>\n\n      {isOpen && (\n        <DropdownContainer>\n          <SearchContainer>\n            <Input\n              value={searchValue}\n              onChange={handleSearchChange}\n              placeholder={t(\"settings.developer.mockAccounts.currencySelector.searchPlaceholder\")}\n              maxLength={50}\n              autoFocus\n            />\n          </SearchContainer>\n\n          {filteredCurrencies.length === 0 ? (\n            <Box p={3} horizontal alignItems=\"center\" justifyContent=\"center\">\n              <Text ff=\"Inter|Regular\" fontSize={3} color=\"neutral.c70\">\n                {searchValue\n                  ? t(\"settings.developer.mockAccounts.currencySelector.noCurrenciesFound\")\n                  : t(\"settings.developer.mockAccounts.currencySelector.noCurrenciesAvailable\")}\n              </Text>\n            </Box>\n          ) : (\n            filteredCurrencies.map(currency => (\n              <CurrencyItemComponent\n                key={currency.id}\n                currency={currency}\n                isSelected={selectedCurrencies[currency.id] || false}\n                onToggle={() => handleCurrencyToggle(currency.id)}\n              />\n            ))\n          )}\n        </DropdownContainer>\n      )}\n    </Box>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/GenerateMockAccounts/CustomMockAccountGenerator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/GenerateMockAccounts/MockAccountGenerator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/GenerateMockAccounts/MockAccountGeneratorSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/GenerateMockAccounts/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/GenerateMockAccounts/utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/LottieTester.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/MockAppUpdate.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/ModularDrawer/DevToolControls.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/ModularDrawer/DrawerConfiguration.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/ModularDrawer/FeatureFlags.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/ModularDrawer/LabeledSelect.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/ModularDrawer/LabeledSwitch.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/ModularDrawer/VerticalLabeledSelect.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/ModularDrawer/constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/ModularDrawer/hooks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/ModularDrawer/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/ModularDrawer/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/OnboardingAppInstallDebug.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":19,"column":15,"nodeType":"TSAsExpression","messageId":"never","endLine":19,"endColumn":31,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/PostOnboardingHubTester.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/RecoverUpsellRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/RunLocalAppButton.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":126,"column":60,"nodeType":"TSAsExpression","messageId":"never","endLine":126,"endColumn":82,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/WalletSync/Checker/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/WalletSync/Generator/index.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":41,"column":12,"nodeType":"TSAsExpression","messageId":"never","endLine":41,"endColumn":24,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":98,"column":42,"nodeType":"TSAsExpression","messageId":"never","endLine":98,"endColumn":62,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":114,"column":42,"nodeType":"TSAsExpression","messageId":"never","endLine":114,"endColumn":62,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/WalletSync/WalletSyncTester.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Developer/sampleimage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Experimental/ExperimentalFloat.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Experimental/ExperimentalInteger.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Experimental/ExperimentalSwitch.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Experimental/VaultSigner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Experimental/index.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":50,"column":16,"nodeType":"TSAsExpression","messageId":"never","endLine":50,"endColumn":34,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/General/ChangeDeviceLanguagePromptDrawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/General/CounterValueSelect.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/General/LanguageSelect.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/General/MarketPerformanceWidget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/General/MevProtection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/General/PasswordAutoLockSelect.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/General/PasswordButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/General/RegionSelect.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/General/SentryLogsButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/General/ShareAnalyticsButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/General/ShareAnalyticsButtonFF.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/General/SharePersonalRecoButtonFF.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/General/ThemeSelect.tsx","messages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":29,"column":15,"nodeType":"TSAsExpression","messageId":"never","endLine":29,"endColumn":39}],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":45,"column":30,"nodeType":"TSAsExpression","messageId":"never","endLine":45,"endColumn":61,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback, useMemo } from \"react\";\nimport { useDispatch, useSelector } from \"LLD/hooks/redux\";\nimport { useTranslation } from \"react-i18next\";\nimport { setTheme } from \"~/renderer/actions/settings\";\nimport { userThemeSelector } from \"~/renderer/reducers/settings\";\nimport Select from \"~/renderer/components/Select\";\nimport Track from \"~/renderer/analytics/Track\";\nimport { useTheme, ThemeMode } from \"@ledgerhq/lumen-ui-react\";\n\ntype ThemeSelectOption = {\n  value: string | null;\n  label: string;\n};\nconst themeLabels = {\n  light: \"theme.light\",\n  dark: \"theme.dark\",\n};\nconst ThemeSelect = () => {\n  const dispatch = useDispatch();\n  const theme = useSelector(userThemeSelector);\n  const { t } = useTranslation();\n\n  const { setMode } = useTheme();\n\n  const avoidEmptyValue = (theme?: ThemeSelectOption | null) => theme && handleChangeTheme(theme);\n\n  const handleChangeTheme = useCallback(\n    (theme: ThemeSelectOption) => {\n      setMode(theme.value as ThemeMode);\n      dispatch(setTheme(theme.value));\n    },\n    [dispatch, setMode],\n  );\n  const options = useMemo(() => {\n    const xs: ThemeSelectOption[] = [\n      {\n        value: null,\n        label: t(\"theme.system\"),\n      },\n    ];\n    return xs.concat(\n      Object.keys(themeLabels).map(key => ({\n        value: key,\n        // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n        label: t(themeLabels[key as keyof typeof themeLabels]),\n      })),\n    );\n  }, [t]);\n  const currentTheme = options.find(option => option.value === theme);\n  return (\n    <>\n      <Track onUpdate event=\"ThemeSelect\" currentTheme={theme} />\n      <Select\n        small\n        minWidth={260}\n        isSearchable={false}\n        onChange={avoidEmptyValue}\n        value={currentTheme}\n        options={options}\n      />\n    </>\n  );\n};\nexport default ThemeSelect;\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/General/WalletSync.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/General/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/General/regions.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Help/CleanButton.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":16,"column":47,"nodeType":"TSAsExpression","messageId":"never","endLine":16,"endColumn":72,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":18,"column":70,"nodeType":"TSAsExpression","messageId":"never","endLine":18,"endColumn":99,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Help/LaunchOnboardingBtn.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Help/RepairDeviceButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Help/ResetButton.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":20,"column":47,"nodeType":"TSAsExpression","messageId":"never","endLine":20,"endColumn":72,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":22,"column":70,"nodeType":"TSAsExpression","messageId":"never","endLine":22,"endColumn":99,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Help/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/settings/sections/Help/logic.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/stake/constants.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/stake/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/screens/swapWeb/index.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":54,"column":5,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":54,"endColumn":18,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[2244,2257],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/storage.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":82,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":82,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2973,2976],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2973,2976],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":82,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":82,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2978,2981],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2978,2981],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":136,"column":32,"nodeType":"TSAsExpression","messageId":"never","endLine":136,"endColumn":59,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":156,"column":36,"nodeType":"TSAsExpression","messageId":"never","endLine":156,"endColumn":63,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":161,"column":42,"nodeType":"TSAsExpression","messageId":"never","endLine":161,"endColumn":86,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/store.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":12,"column":40,"nodeType":"TSAsExpression","messageId":"never","endLine":12,"endColumn":50,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/styles/LiveStyleSheetManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/styles/StyleProvider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/styles/StyleProviderV3.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":45,"column":41,"nodeType":"TSAsExpression","messageId":"never","endLine":45,"endColumn":78,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/styles/global.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/styles/helpers.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/styles/reset.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/styles/style.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/styles/styled/fontFamily.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/styles/theme.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/terms.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/utils/cryptoIconSize.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/utils/getTokenUnit.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/utils/getTokenUnit.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/utils/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/utils/rgb.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/utils/rgb.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/webworkers/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/renderer/webworkers/workers/publicKeyTweakAdd.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/sentry/anonymizer.ts","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":6,"column":22,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":6,"endColumn":41},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":12,"column":3,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":12,"endColumn":22},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":25,"column":22,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":25,"endColumn":41},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":30,"column":3,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":30,"endColumn":22}],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":48,"column":21,"nodeType":"TSAsExpression","messageId":"never","endLine":48,"endColumn":73,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":82,"column":24,"nodeType":"TSAsExpression","messageId":"never","endLine":82,"endColumn":49,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":87,"column":39,"nodeType":"TSAsExpression","messageId":"never","endLine":87,"endColumn":64,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"let configDir = (() => {\n  const { LEDGER_CONFIG_DIRECTORY } = process.env;\n  if (LEDGER_CONFIG_DIRECTORY) return LEDGER_CONFIG_DIRECTORY;\n  if (process.type === \"browser\") {\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\n    const electron = require(\"electron\");\n    return electron.app.getPath(\"userData\");\n  }\n\n  // we load in async the user data. there is a short period where this will be \"\" but then it becomes the real path\n  // eslint-disable-next-line @typescript-eslint/no-var-requires\n  require(\"electron\")\n    .ipcRenderer.invoke(\"getPathUserData\")\n    .then((path: string) => {\n      configDir = path;\n    });\n  return \"\";\n})();\n\nlet homeDir = (() => {\n  const { HOME_DIRECTORY } = process.env;\n  if (HOME_DIRECTORY) return HOME_DIRECTORY;\n  if (process.type === \"browser\") {\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\n    const electron = require(\"electron\");\n    return electron.app.getPath(\"home\");\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-var-requires\n  require(\"electron\")\n    .ipcRenderer.invoke(\"getPathHome\")\n    .then((path: string) => {\n      homeDir = path;\n    });\n  return \"\";\n})();\n\nfunction filepathReplace(path: string): string {\n  // all the paths the app will use. we replace them to anonymize\n  const basePaths = {\n    $USER_DATA: configDir,\n    $HOME: homeDir,\n  };\n\n  if (!homeDir || !configDir) return \"\"; // empty everything because we don't know the paths yet\n  if (!path || path.startsWith(\"app://\")) return path;\n  // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n  const replaced = (Object.keys(basePaths) as (keyof typeof basePaths)[]).reduce((path, name) => {\n    const p: string = basePaths[name];\n    return path\n      .replaceAll(p, name) // normal replace of the path\n      .replaceAll(encodeURI(p.replace(/\\\\/g, \"/\")), name); // replace of the URI version of the path (that are in file:///)\n  }, path);\n  return replaced;\n}\n\nexport type ReplacerArgument = Record<string, unknown>;\n\nfunction filepathRecursiveReplacer(obj: ReplacerArgument, seen: Set<ReplacerArgument>) {\n  if (seen.has(obj)) return;\n  if (obj && typeof obj === \"object\") {\n    seen.add(obj);\n    if (Array.isArray(obj)) {\n      for (let i = 0; i < obj.length; i++) {\n        const item = obj[i];\n        if (seen.has(item)) continue;\n        if (typeof item === \"string\") {\n          obj[i] = filepathReplace(item);\n        } else {\n          filepathRecursiveReplacer(item, seen);\n        }\n      }\n    } else {\n      if (obj instanceof Error) {\n        obj.message = filepathReplace(obj.message);\n      }\n      for (const k in obj) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (typeof obj.hasOwnProperty === \"function\" && obj.hasOwnProperty(k)) {\n          const value = obj[k];\n          // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n          if (seen.has(value as ReplacerArgument)) continue;\n          if (typeof value === \"string\") {\n            obj[k] = filepathReplace(value);\n          } else {\n            // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n            filepathRecursiveReplacer(value as ReplacerArgument, seen);\n          }\n        }\n      }\n    }\n  }\n}\nexport default {\n  filepath: filepathReplace,\n  filepathRecursiveReplacer: (obj: ReplacerArgument) => filepathRecursiveReplacer(obj, new Set()),\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/sentry/install.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":148,"column":46,"nodeType":"TSAsExpression","messageId":"never","endLine":148,"endColumn":88,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":148,"column":46,"nodeType":"TSAsExpression","messageId":"never","endLine":148,"endColumn":61,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/sentry/main.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/sentry/pname.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/sentry/renderer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/support/os.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/support/os.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/types/dynamicContent.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/types/recoverSubscriptionState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/types/redux-actions.d.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Payload' is defined but never used. Allowed unused vars must match /^_/u.","line":38,"column":20,"nodeType":null,"messageId":"unusedVar","endLine":38,"endColumn":27,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/webviewPreloader/dappPreloader.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/src/webviewPreloader/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/static/i18n/ar/app.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/static/i18n/de/app.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/static/i18n/en/app.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/static/i18n/es/app.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/static/i18n/fr/app.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/static/i18n/ja/app.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/static/i18n/ko/app.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/static/i18n/pt-BR/app.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/static/i18n/ru/app.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/static/i18n/th/app.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/static/i18n/tr/app.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/static/i18n/zh/app.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/.eslintrc.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/CustomLiveAppProvider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/component/app.updater.component.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/component/drawer.component.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/component/layout.component.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/component/modal.component.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/component/webviewLayout.component.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/featureFlags.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":18,"column":37,"nodeType":"TSAsExpression","messageId":"never","endLine":18,"endColumn":73,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/fileTransformer.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":1,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":29}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const path = require(\"path\");\n\nmodule.exports = {\n  process(sourceText, sourcePath) {\n    return {\n      code: `module.exports = ${JSON.stringify(path.basename(sourcePath))};`,\n    };\n  },\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/fixtures/common.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/fixtures/mockFixtures.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/fixtures/wallet-api.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/handlers/assets.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/handlers/countervalues.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/handlers/cryptoIcons.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/handlers/fixtures/assets/getAssets.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/handlers/fixtures/countervalues/ethMockedHourly.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/handlers/fixtures/cryptoIcons/list.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/handlers/fixtures/market/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/handlers/fixtures/market/mockedResponseBTC.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/handlers/fixtures/market/mocketMarketList.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/handlers/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/handlers/market.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/jestSetup.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":111,"column":22,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":111,"endColumn":55}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import \"@jest/globals\";\nimport \"@testing-library/jest-dom\";\nimport { server } from \"./server\";\nimport { EventEmitter } from \"events\";\n\n// Disable max listeners warning for MSW (known issue with multiple tests)\nEventEmitter.defaultMaxListeners = 0;\n\njest.mock(\"framer-motion\", () => {\n  const originalModule = jest.requireActual(\"framer-motion\");\n  const overridenModule = jest.requireActual(\"./mocks/framerMotion.tsx\");\n\n  return {\n    ...originalModule,\n    ...overridenModule,\n  };\n});\n\nglobal.setImmediate = global.setImmediate || ((fn, ...args) => global.setTimeout(fn, 0, ...args));\nglobal.clearImmediate = global.clearImmediate || (id => global.clearTimeout(id));\n\nclass ResizeObserver {\n  constructor(callback) {\n    this.callback = callback;\n  }\n  observe() {}\n  unobserve() {}\n  disconnect() {}\n}\n\nglobal.ResizeObserver = ResizeObserver;\n\nbeforeAll(() =>\n  server.listen({\n    onUnhandledRequest: \"bypass\",\n  }),\n);\nafterEach(() => server.resetHandlers());\nafterAll(() => server.close());\n\njest.mock(\"src/sentry/install\", () => ({\n  init: jest.fn(),\n  setUser: jest.fn(),\n  captureException: jest.fn(),\n  addBreadcrumb: jest.fn(),\n  setTags: jest.fn(),\n}));\n\nObject.defineProperty(window, \"matchMedia\", {\n  writable: true,\n  value: jest.fn().mockImplementation(query => ({\n    matches: false,\n    media: query,\n    onchange: null,\n    addListener: jest.fn(),\n    removeListener: jest.fn(),\n    addEventListener: jest.fn(),\n    removeEventListener: jest.fn(),\n    dispatchEvent: jest.fn(),\n  })),\n});\n\njest.mock(\"@ledgerhq/react-ui/assets/fonts\", () => ({}));\n\nclass WorkerMock {\n  constructor(stringUrl) {\n    this.url = stringUrl;\n    this.onmessage = () => {};\n  }\n  postMessage(msg) {\n    console.log(\"Message posted to worker:\", msg);\n    this.onmessage({ data: \"mock response\" });\n  }\n  terminate() {\n    console.log(\"Worker terminated\");\n  }\n}\n\nglobal.Worker = WorkerMock;\n\nglobal.IntersectionObserver = class IntersectionObserver {\n  constructor(callback) {\n    this.callback = callback;\n  }\n  observe() {\n    this.callback([{ isIntersecting: true }]);\n  }\n  unobserve() {}\n  disconnect() {}\n};\n\njest.mock(\"src/renderer/analytics/segment\", () => ({\n  setAnalyticsFeatureFlagMethod: jest.fn(),\n  start: jest.fn(),\n  track: jest.fn(),\n  trackPage: jest.fn(),\n  useTrack: jest.fn(),\n}));\n\njest.mock(\"src/sentry/renderer\", () => ({\n  captureException: jest.fn(),\n  captureBreadcrumb: jest.fn(),\n  setTags: jest.fn(),\n}));\n\nif (!globalThis.Buffer) {\n  // Note: this polyfill depends on the patch buffer@6.0.3 which adds the Uint8\n  // subarray logic. It's the same as in ledger-live-mobile\n  // Furthermore, importing 'buffer' gets translated to 'node:buffer' so we're\n  // using a relative path here\n  const { Buffer } = require(\"../node_modules/buffer\");\n  Object.defineProperty(globalThis, \"Buffer\", { value: Buffer });\n} else {\n  // jsdom defines a global Buffer\n  if (!(globalThis.Buffer.prototype instanceof Uint8Array)) {\n    // jsdom does not define Buffer as an instance of Uint8Array, so we need to set it\n    Object.setPrototypeOf(globalThis.Buffer.prototype, Uint8Array.prototype);\n  }\n}\n\njest.mock(\"@ledgerhq/device-transport-kit-web-hid\");\n\njest.mock(\"react-redux\", () => {\n  const actual = jest.requireActual(\"react-redux\");\n  const withTypesSupport = hook => {\n    const mockedHook = (...args) => hook(...args);\n    mockedHook.withTypes = () => mockedHook;\n    return mockedHook;\n  };\n  return {\n    ...actual,\n    useDispatch: withTypesSupport(actual.useDispatch),\n    useSelector: withTypesSupport(actual.useSelector),\n    useStore: withTypesSupport(actual.useStore),\n  };\n});\n\nconst originalError = console.error;\nconst originalWarn = console.warn;\n// eslint-disable-next-line no-console\nconst originalLog = console.log;\n\nconst EXCLUDED_ERRORS = [\"act(...)\", \"ReactDOMTestUtils.act\", \"Warning: findDOMNode is deprecated\"];\n\nconst EXCLUDED_WARNINGS = [\"@polkadot\"];\n\nconst EXCLUDED_LOG_MESSAGES = [\"Message posted to worker\"];\n\nconsole.error = (...args) => {\n  const error = args.join();\n  if (EXCLUDED_ERRORS.some(excluded => error.includes(excluded))) {\n    return;\n  }\n  originalError.call(console, ...args);\n};\n\nconsole.warn = (...args) => {\n  const warning = args.join();\n  if (EXCLUDED_WARNINGS.some(excluded => warning.includes(excluded))) {\n    return;\n  }\n  originalWarn.call(console, ...args);\n};\n// eslint-disable-next-line no-console\nconsole.log = (...args) => {\n  const log = args.join();\n  if (EXCLUDED_LOG_MESSAGES.some(excluded => log.includes(excluded))) {\n    return;\n  }\n  originalLog.call(console, ...args);\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/misc/reporters/step.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":27,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[865,868],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[865,868],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":27,"column":15,"nodeType":"TSAsExpression","messageId":"never","endLine":27,"endColumn":26,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":27,"column":48,"nodeType":"TSAsExpression","messageId":"never","endLine":27,"endColumn":70,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import test from \"@playwright/test\";\n\n/**\n * Decorator that wraps a function with a Playwright test step.\n * Used for reporting purposes.\n *\n * @example\n ```\n import { step } from './step_decorator';\n class MyTestClass {\n @step('optional step name')\n async myTestFunction() {\n // Test code goes here\n }\n }\n ```\n */\nexport function step<This, Args extends unknown[], Return>(message?: string) {\n  return function actualDecorator(\n    target: (this: This, ...args: Args) => Promise<Return>,\n    context: ClassMethodDecoratorContext<This, (this: This, ...args: Args) => Promise<Return>>,\n  ) {\n    function replacementMethod(this: This, ...args: Args) {\n      const name = message\n        ? message.replace(/\\$(\\d+)/g, (_, index) => String(args[Number(index)]))\n        : // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n          `${(this as any).constructor.name}.${context.name as string}`;\n\n      return test.step(name, async () => target.call(this, ...args), { box: true });\n    }\n\n    return replacementMethod;\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/mocks/countervalues.mock.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":4,"column":41,"nodeType":"TSAsExpression","messageId":"never","endLine":68,"endColumn":38,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":4,"column":41,"nodeType":"TSAsExpression","messageId":"never","endLine":68,"endColumn":13,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":6,"column":11,"nodeType":"TSAsExpression","messageId":"never","endLine":27,"endColumn":27,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/mocks/electron.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/mocks/framerMotion.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/mocks/notificationsHelpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/mocks/serviceStatusHelpers.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":468,"column":14,"nodeType":"TSAsExpression","messageId":"never","endLine":468,"endColumn":30,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/models/Analytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/models/DeviceAction.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/models/LiveAppWebview.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":304,"column":23,"nodeType":"TSAsExpression","messageId":"never","endLine":304,"endColumn":70,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/abstractClasses.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/account.page.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/accounts.page.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/asset.page.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/discover.page.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/drawer/custom.image.drawer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/drawer/firmwareUpdate.drawer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/drawer/language.installation.drawer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/drawer/operation.drawer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/install.page.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/lockscreen.page.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/manager.page.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/market.coin.page.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/market.page.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/modal/add.account.modal.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/modal/delegate.modal.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/modal/passwordlock.modal.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/modal/receive.modal.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/modal/send.modal.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/modal/settings.modal.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/modal/terms.modal.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/onboarding.page.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/portfolio.page.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/post.onboarding.page.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/recover.restore.page.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/settings.page.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/page/swap.page.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/playwright.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/server.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/setup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/accounts/account.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/accounts/delegate.smoke.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/accounts/encrypted.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/accounts/subAccounts.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/accounts/unknown-currency-resilience.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/analytics/segment.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/countervalues/api.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/deeplinks/discover.cold.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/deeplinks/discover.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/families/bitcoin.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/families/ethereum.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/families/polkadot.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/general/keyboard-shortcuts.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/general/layout.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/general/passwordlock.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/general/portfolio.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/general/terms.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/general/updater.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/general/userParametersChange.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/manager/customImage.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/manager/devicelocalization.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/manager/firmwareupdate.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/manager/manager.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/market/market.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/onboarding/connect-device.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/onboarding/restore-device.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/onboarding/setup-device.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/postOnboarding/post-onboarding.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/receive.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/recorder.spec.ts","messages":[],"suppressedMessages":[{"ruleId":"jest/no-commented-out-tests","severity":1,"message":"Some tests seem to be commented","line":14,"column":1,"nodeType":"Line","messageId":"commentedTests","endLine":14,"endColumn":46,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/recover/recover.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/send.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/services/buy.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/services/confirmTransaction.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/services/cosmosStaking.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/services/dapp.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/services/dapp.spec.ts-mocks/1inch-live-app.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/services/dapp.spec.ts-mocks/dummy-live-app.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/services/earn.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/services/ethereumStaking.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/services/liveapp-sdk.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/services/services-api-mocks/getProviders.mock.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/services/services-api-mocks/getRates.mock.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/services/services-api-mocks/getStatus.mock.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/services/wallet-api.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/settings/data.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/settings/localization.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/settings/modal-create-manifest.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/settings/settings.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/support/unsupported-os.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/syncOnboarding/install-set-of-apps.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/syncOnboarding/manual.spec.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":38,"column":43,"nodeType":"TSAsExpression","messageId":"never","endLine":38,"endColumn":91,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/specs/webviewDevTools/webview-dev-tools.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/testSetup.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unsafe-function-type","severity":1,"message":"The `Function` type accepts any function-like value.\nPrefer explicitly defining any function parameters and return type.","line":51,"column":33,"nodeType":"Identifier","messageId":"bannedFunctionType","endLine":51,"endColumn":41,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":154,"column":34,"nodeType":"TSAsExpression","messageId":"never","endLine":154,"endColumn":55,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":186,"column":34,"nodeType":"TSAsExpression","messageId":"never","endLine":186,"endColumn":55,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":229,"column":34,"nodeType":"TSAsExpression","messageId":"never","endLine":229,"endColumn":55,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/consistent-type-assertions","severity":1,"message":"Do not use any type assertions.","line":258,"column":34,"nodeType":"TSAsExpression","messageId":"never","endLine":258,"endColumn":55,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-deprecated","severity":2,"message":"`act` is deprecated. https://react.dev/warnings/react-dom-test-utils","line":278,"column":10,"nodeType":"Identifier","messageId":"deprecatedWithReason","endLine":278,"endColumn":13,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/time.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/userdata/1AccountBTC1AccountETH-encrypted.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/userdata/1AccountBTC1AccountETH.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/userdata/1AccountBTC1AccountETH1AccountARB1AccountSOL.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/userdata/1AccountBTC1AccountETH1AccountPOLYGON.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/userdata/1AccountBTC1AccountETHStarred.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/userdata/1AccountBTC1AccountETHwCarousel.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/userdata/1AccountDOT.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/userdata/2_accounts_eth_with_tokens_and_nft.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/userdata/accountCosmos.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/userdata/cosmosStakingAccounts.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/userdata/sanctioned-addresses.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/userdata/skip-onboarding-with-bad-account-data.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/userdata/skip-onboarding-with-terms.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/userdata/skip-onboarding.json","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/utils/allureUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/utils/customJsonReporter.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/utils/deeplink.ts","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":5,"column":29,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":5,"endColumn":48}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Page } from \"@playwright/test\";\n\nexport function sendDeepLink(page: Page, link: string) {\n  return page.evaluate(l => {\n    const { ipcRenderer } = require(\"electron\");\n    ipcRenderer.send(\"deep-linking\", l);\n  }, link);\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/utils/electronUtils.ts","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":41,"column":21,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":41,"endColumn":49}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ElectronApplication, _electron as electron } from \"@playwright/test\";\nimport * as path from \"path\";\n\nexport async function launchApp({\n  env,\n  lang,\n  theme,\n  userdataDestinationPath,\n  simulateCamera,\n  windowSize,\n}: {\n  env: Record<string, string>;\n  lang: string;\n  theme: \"light\" | \"dark\" | \"no-preference\" | undefined;\n  userdataDestinationPath: string;\n  simulateCamera?: string;\n  windowSize: { width: number; height: number };\n}): Promise<ElectronApplication> {\n  return await electron.launch({\n    args: [\n      `${path.join(__dirname, \"../../.webpack/main.bundle.js\")}`,\n      `--user-data-dir=${userdataDestinationPath}`,\n      \"--force-device-scale-factor=1\",\n      \"--disable-dev-shm-usage\",\n      \"--no-sandbox\",\n      \"--enable-logging\",\n      ...(simulateCamera\n        ? [\n            \"--use-fake-device-for-media-stream\",\n            `--use-file-for-fake-video-capture=${simulateCamera}`,\n          ]\n        : []),\n    ],\n    recordVideo: {\n      dir: `${path.join(__dirname, \"../artifacts/videos/\")}`,\n      size: windowSize,\n    },\n    env,\n    colorScheme: theme,\n    locale: lang,\n    executablePath: require(\"electron/index.js\"),\n    timeout: 120000,\n  });\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/utils/fileUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/utils/global.setup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/utils/global.teardown.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/utils/networkResponseLogger.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/utils/textParserUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tests/utils/waitFor.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tools/.eslintrc.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tools/config/common.esbuild.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":1,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":29},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":2,"column":25,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":59}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const path = require(\"path\");\nconst { AliasPlugin } = require(\"@ledgerhq/esbuild-utils\");\n\nconst rootFolder = path.resolve(__dirname, \"..\", \"..\");\nconst srcFolder = path.resolve(rootFolder, \"src\");\n\nmodule.exports = {\n  bundle: true,\n  outdir: path.resolve(rootFolder, \".webpack\"),\n  absWorkingDir: rootFolder,\n  // Lower the log level in order to debug the build\n  logLevel: \"info\",\n  nodePaths: [\"node_modules\", path.resolve(rootFolder, \"node_modules\")],\n  sourcemap: true,\n  minify: true,\n  treeShaking: true,\n  color: true,\n  metafile: true,\n  plugins: [\n    AliasPlugin({\n      \"~\": srcFolder,\n    }),\n  ],\n  loader: {\n    \".woff\": \"file\",\n    \".woff2\": \"file\",\n    \".eot\": \"file\",\n    \".ttf\": \"file\",\n    \".otf\": \"file\",\n    \".webm\": \"file\",\n    \".mp4\": \"file\",\n    \".png\": \"file\",\n    \".jpg\": \"file\",\n    \".jpeg\": \"file\",\n    \".gif\": \"file\",\n    \".svg\": \"file\",\n    \".css\": \"css\",\n  },\n  logOverride: {\n    \"this-is-undefined-in-esm\": \"silent\",\n    \"ignored-bare-import\": \"debug\",\n  },\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tools/config/main.esbuild.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":1,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":29},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":2,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":43},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":3,"column":24,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":58}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const path = require(\"path\");\nconst common = require(\"./common.esbuild\");\nconst { CopyPlugin } = require(\"@ledgerhq/esbuild-utils\");\n\nconst rootFolder = path.resolve(__dirname, \"..\", \"..\");\n\nmodule.exports = {\n  ...common,\n  entryPoints: [\"./src/index.ts\"],\n  entryNames: \"main.bundle\",\n  target: [\"node20\"],\n  platform: \"node\",\n  format: \"cjs\",\n  // Some modules have different exports signatures depending on the main field. (for instance bignumber.js)\n  // Picking the the main field first is safer.\n  // See this comment: https://github.com/webpack/webpack/issues/4742#issuecomment-295115576\n  mainFields: [\"main\", \"module\"],\n  external: [\n    // Only exclude real Node.js built-ins and Electron APIs\n    \"electron\",\n    \"fs\",\n    \"path\",\n    \"os\",\n    \"crypto\",\n    \"http\",\n    \"https\",\n    \"net\",\n    \"tls\",\n    \"child_process\",\n    \"util\",\n    \"events\",\n    \"stream\",\n    \"buffer\",\n    \"url\",\n    \"querystring\",\n    \"assert\",\n    \"zlib\",\n  ],\n  plugins: [\n    ...common.plugins,\n    CopyPlugin({\n      patterns: [{ from: path.join(rootFolder, \"build/icons\"), to: \"build/icons\" }],\n    }),\n  ],\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tools/config/preloader.esbuild.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":1,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":43},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":2,"column":40,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":74}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const common = require(\"./common.esbuild\");\nconst { electronPreloaderExternals } = require(\"@ledgerhq/esbuild-utils\");\n\nmodule.exports = {\n  ...common,\n  entryPoints: [\"./src/preloader/index.ts\"],\n  entryNames: \"preloader.bundle\",\n  platform: \"node\",\n  format: \"cjs\",\n  target: [\"chrome120\"],\n  external: [...electronPreloaderExternals],\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tools/config/renderer.esbuild.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":1,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":29},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":9,"column":5,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":9,"endColumn":39},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":10,"column":25,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":10,"endColumn":44},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":11,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":11,"endColumn":43},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":12,"column":31,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":12,"endColumn":76}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const path = require(\"path\");\nconst {\n  AliasPlugin,\n  HtmlPlugin,\n  DotEnvPlugin,\n  JsonPlugin,\n  electronRendererExternals,\n  nodeExternals,\n} = require(\"@ledgerhq/esbuild-utils\");\nconst { DOTENV_FILE } = require(\"../utils\");\nconst common = require(\"./common.esbuild\");\nconst postcssTailwindPlugin = require(\"../plugins/postcss-tailwind-plugin\");\n\nmodule.exports = {\n  ...common,\n  entryPoints: [\"src/renderer/index.ts\"],\n  entryNames: \"renderer.bundle\",\n  jsx: \"automatic\",\n  platform: \"browser\",\n  target: [\"chrome120\"],\n  format: \"iife\",\n  mainFields: [\"browser\", \"module\", \"main\"],\n  assetNames: \"assets/[name]-[hash]\",\n  external: [...nodeExternals, ...electronRendererExternals],\n  resolveExtensions: process.env.V3\n    ? [\".v3.tsx\", \".v3.ts\", \".tsx\", \".ts\", \".js\", \".jsx\", \".json\"]\n    : [\".tsx\", \".ts\", \".v3.tsx\", \".v3.ts\", \".js\", \".jsx\", \".json\"],\n  plugins: [\n    postcssTailwindPlugin(),\n    ...common.plugins,\n    AliasPlugin({\n      // Alias react to prevent esbuild trying to resolve them wrongly.\n      react: [require.resolve(\"react\"), path.dirname(require.resolve(\"react\"))],\n      // With the default import, styled-components assumes that the code is executed server-side.\n      // It prevents the global styles from working.\n      // See: https://github.com/styled-components/styled-components/issues/3714#issuecomment-1112672142\n      \"styled-components\": [require.resolve(\"styled-components/dist/styled-components\")],\n      \"buffer/\": \"buffer\",\n    }),\n    HtmlPlugin({\n      files: [\n        {\n          entryPoints: [\"src/renderer/index.ts\", \"renderer.bundle.css\"],\n          htmlTemplate: \"src/renderer/index.html\",\n          filename: \"index.html\",\n          title: \"Ledger Wallet\",\n        },\n      ],\n    }),\n    DotEnvPlugin(DOTENV_FILE),\n    JsonPlugin({\n      regexp: /\\.(json)$/,\n      folderFilter: path.join(\"ledger-live-desktop\", \"src\"),\n      targetPathPrefix: path.join(\".webpack\", \"assets\"),\n      pathPrefix: \"./assets\",\n    }),\n  ],\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tools/config/webviewDappPreloader.esbuild.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":1,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":43},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":2,"column":40,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":74}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const common = require(\"./common.esbuild\");\nconst { electronPreloaderExternals } = require(\"@ledgerhq/esbuild-utils\");\n\nmodule.exports = {\n  ...common,\n  entryPoints: [\"./src/webviewPreloader/dappPreloader.ts\"],\n  entryNames: \"webviewDappPreloader.bundle\",\n  platform: \"node\",\n  format: \"cjs\",\n  target: [\"chrome120\"],\n  external: [...electronPreloaderExternals],\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tools/config/webviewPreloader.esbuild.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":1,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":43},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":2,"column":40,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":74}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const common = require(\"./common.esbuild\");\nconst { electronPreloaderExternals } = require(\"@ledgerhq/esbuild-utils\");\n\nmodule.exports = {\n  ...common,\n  entryPoints: [\"./src/webviewPreloader/index.ts\"],\n  entryNames: \"webviewPreloader.bundle\",\n  platform: \"node\",\n  format: \"cjs\",\n  target: [\"chrome120\"],\n  external: [...electronPreloaderExternals],\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tools/dist/health-checks.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":10,"column":20,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":10,"endColumn":33}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"let verbose = false;\n\nconst log = str => {\n  if (verbose) {\n    console.log(`[health-checks] ${str}`);\n  }\n};\n\nconst checkEnv = nightly => _ctx => {\n  const platform = require(\"os\").platform();\n\n  // const { GH_TOKEN, APPLEID, APPLEID_PASSWORD } = process.env;\n  const { APPLEID, APPLEID_PASSWORD } = process.env;\n\n  // if (!GH_TOKEN) {\n  //   throw new Error(\"GH_TOKEN is not set\");\n  // }\n\n  // log(\"GH_TOKEN is set\");\n\n  // ctx.token = GH_TOKEN;GH\n\n  if (!nightly) {\n    if (platform !== \"darwin\") {\n      log(\"OS is not mac, skipping APPLEID and APPLEID_PASSWORD check\");\n      return;\n    }\n\n    if (!APPLEID || !APPLEID_PASSWORD) {\n      throw new Error(\"APPLEID and/or APPLEID_PASSWORD are not net\");\n    } else {\n      log(\"APPLEID and APPLEID_PASSWORD are set\");\n    }\n  }\n};\n\nmodule.exports = args => {\n  verbose = !!args.verbose;\n\n  return [\n    {\n      title: \"Check for required environment variables\",\n      task: checkEnv(args.nightly),\n    },\n  ];\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tools/dist/index.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":2,"column":19,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":41},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":3,"column":15,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":31},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":4,"column":15,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":4,"endColumn":31},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":5,"column":25,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":5,"endColumn":58},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":6,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":6,"endColumn":29},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":7,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":7,"endColumn":33},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":8,"column":13,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":8,"endColumn":42},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":9,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":9,"endColumn":53},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":11,"column":1,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":11,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"#!/usr/bin/env node\nconst SentryCli = require(\"@sentry/cli\");\nconst yargs = require(\"yargs\");\nconst Listr = require(\"listr\");\nconst verboseRenderer = require(\"listr-verbose-renderer\");\nconst path = require(\"path\");\nconst rimraf = require(\"rimraf\");\nconst pkg = require(\"../../package.json\");\nconst healthChecksTasks = require(\"./health-checks\");\n\nrequire(\"dotenv\").config();\n\nlet execa;\n\nconst releaseSentryDSN =\n  \"https://5729b6ee405f416a8998ae4d43c87d58@o118392.ingest.sentry.io/6488660\";\nconst prereleaseSentryDSN =\n  \"https://5514716222674afd816b0961d7b4378c@o118392.ingest.sentry.io/6488659\";\n\nconst rootFolder = \"../../\";\nlet verbose = false;\n\nconst exec = async (file, args, options = {}) => {\n  if (!execa) {\n    await import(\"execa\").then(mod => {\n      execa = mod.execa;\n    });\n  }\n  const opts = verbose ? { stdio: \"inherit\", ...options } : options;\n\n  return execa(file, args, opts);\n};\n\nconst rmDir = dir => {\n  const fullPath = path.resolve(__dirname, rootFolder, dir);\n  return rimraf(fullPath);\n};\n\nconst cleaningTasks = _args => [\n  {\n    title: \"Remove `.turbo/cache` folder\",\n    task: () => rmDir(\".turbo/cache\"),\n  },\n  {\n    title: \"Remove `.webpack` folder\",\n    task: () => rmDir(\".webpack\"),\n  },\n  {\n    title: \"Remove `dist` folder\",\n    task: () => rmDir(\"dist\"),\n  },\n];\n\n// const setupTasks = args => [\n//   {\n//     title: \"Installing packages\",\n//     task: async () => {\n//       await exec(\"pnpm\", [\n//         \"i\",\n//         \"--filter=ledger-live-desktop...\",\n//         \"--filter=ledger-live\",\n//         \"--unsafe-perm\",\n//         \"--package-import-method=copy\",\n//         \"--node-linker=hoisted\",\n//       ]);\n//     },\n//   },\n// ];\n\nconst buildTasks = args => [\n  {\n    title: \"Compiling assets\",\n    task: async () => {\n      await exec(\"pnpm\", [\"run\", \"build:js\"], {\n        env: args.release\n          ? { SENTRY_URL: releaseSentryDSN }\n          : args.pre\n            ? { SENTRY_URL: prereleaseSentryDSN }\n            : {},\n      });\n    },\n  },\n  {\n    title: \"Upload to Sentry\",\n    enabled: () => args.release || args.pre,\n    task: async () => {\n      const cli = new SentryCli(\n        args.release\n          ? \"sentry.release.properties\"\n          : args.pre\n            ? \"sentry.prerelease.properties\"\n            : null,\n        {\n          authToken: process.env.SENTRY_AUTH_TOKEN,\n        },\n      );\n      await cli.releases.uploadSourceMaps(pkg.version, {\n        urlPrefix: \"app:///.webpack\",\n        include: [\".webpack\"],\n      });\n      await cli.releases.setCommits(pkg.version, { auto: true }).catch(e => {\n        console.error(e);\n        console.log(\n          \"Sentry setCommits failed – The failure was ignored because \" +\n            \"it can be flawky and it was made optional in our builds. \" +\n            \"We will investigate why and eventually remove this failsafe.\",\n        );\n      });\n    },\n  },\n  {\n    title: args.publish\n      ? \"Bundling and publishing the electron application\"\n      : \"Bundling the electron application\",\n    task: async () => {\n      const commands = [\"dist:internal\", \"--\"];\n      if (args.dir) commands.push(\"--dir\");\n      if (args.nightly) {\n        commands.push(\"--config\");\n        commands.push(\"electron-builder-nightly.yml\");\n      } else if (args.pre) {\n        commands.push(\"--config\");\n        commands.push(\"electron-builder-pre.yml\");\n      } else if (args.nosign) {\n        commands.push(\"--config\");\n        commands.push(\"electron-builder-nosign.yml\");\n        commands.push(\"-c.afterSign='lodash/noop'\");\n        commands.push(\"--publish\", \"never\");\n      }\n\n      // Using npm here because pnpm will refuse to rebuild cached modules.\n      await exec(\"npm\", [\"run\", ...commands]);\n    },\n  },\n];\n\nconst mainTask = (args = {}) => {\n  const { dirty, publish } = args;\n\n  const tasks = [\n    {\n      title: \"Health checks\",\n      enabled: () => !!publish,\n      task: () => setupList(healthChecksTasks, args),\n    },\n    {\n      title: \"Cleanup\",\n      skip: () => (dirty ? \"--dirty flag passed\" : false),\n      task: () => setupList(cleaningTasks, args),\n    },\n    // {\n    //   title: \"Setup\",\n    //   skip: () => (dirty ? \"--dirty flag passed\" : false),\n    //   task: () => setupList(setupTasks, args),\n    // },\n    {\n      title: publish ? \"Build and publish\" : \"Build\",\n      task: () => setupList(buildTasks, args),\n    },\n  ];\n\n  return tasks;\n};\n\nconst setupList = (getTasks, args) => {\n  verbose = !!args.verbose;\n\n  const tasks = getTasks(args);\n  const options = {\n    collapse: false,\n    renderer: verbose ? verboseRenderer : undefined,\n  };\n\n  return new Listr(tasks, options);\n};\n\nconst runTasks = (getTasks, args) => {\n  const listr = setupList(getTasks, args);\n\n  listr.run().catch(error => {\n    console.error(error);\n    process.exit(-1);\n  });\n};\n\nyargs\n  .usage(\"Usage: $0 <command> [options]\")\n  .command(\n    [\"build\", \"$0\"],\n    \"bundles the electron app\",\n    yargs =>\n      yargs\n        .option(\"dir\", {\n          type: \"boolean\",\n          describe: \"Build unpacked dir. Useful for tests\",\n        })\n        .option(\"nightly\", {\n          alias: \"n\",\n          type: \"boolean\",\n        })\n        .option(\"pre\", {\n          type: \"boolean\",\n          describe: \"make it a prerelease build (doesn't combine with nightly)\",\n        })\n        .option(\"release\", {\n          type: \"boolean\",\n          describe: \"make it a release build\",\n        })\n        .option(\"nosign\", {\n          type: \"boolean\",\n        })\n        .option(\"dirty\", {\n          type: \"boolean\",\n          describe: \"Don't clean-up and rebuild dependencies before building\",\n        })\n        .option(\"publish\", {\n          type: \"boolean\",\n          describe: \"Publish the created artifacts on GitHub as a draft release\",\n        }),\n    args => runTasks(mainTask, args),\n  )\n  .command(\n    \"check\",\n    \"Run health checks\",\n    () => {\n      // ignore\n    },\n    args => runTasks(healthChecksTasks, args),\n  )\n  .option(\"verbose\", {\n    alias: \"v\",\n    type: \"boolean\",\n    describe: \"Do not pretty print progress (ncurses) and display output from called commands\",\n  })\n  .help(\"help\")\n  .alias(\"help\", \"h\")\n  .strict(true)\n  .parse();\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tools/dist/repo-info.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tools/main.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":3,"column":12,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":25},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":4,"column":15,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":4,"endColumn":31},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":5,"column":18,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":5,"endColumn":45},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":6,"column":29,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":6,"endColumn":67},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":8,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":8,"endColumn":29},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":9,"column":21,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":9,"endColumn":55},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":10,"column":26,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":10,"endColumn":41},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":12,"column":70,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":12,"endColumn":88},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":33,"column":8,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":33,"endColumn":40},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":35,"column":19,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":35,"endColumn":51},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":39,"column":8,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":39,"endColumn":45},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":41,"column":19,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":41,"endColumn":56},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":45,"column":8,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":45,"endColumn":52},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":47,"column":19,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":47,"endColumn":63},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":51,"column":8,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":51,"endColumn":56},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":53,"column":19,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":53,"endColumn":67},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":86,"column":22,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":86,"endColumn":54},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":96,"column":10,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":96,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":100,"column":10,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":100,"endColumn":54},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":104,"column":10,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":104,"endColumn":58},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":108,"column":10,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":108,"endColumn":46},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":114,"column":12,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":114,"endColumn":48}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":22,"fixableErrorCount":0,"fixableWarningCount":0,"source":"#!/usr/bin/env node\n\nconst fs = require(\"fs\");\nconst yargs = require(\"yargs\");\nconst Electron = require(\"./utils/Electron\");\nconst processReleaseNotes = require(\"./utils/processReleaseNotes\");\n// Native modules tools no longer needed - we removed all native modules (node-hid, usb, tree-kill, @sentry/node)\nconst path = require(\"path\");\nconst { esbuild } = require(\"@ledgerhq/esbuild-utils\");\nconst { createServer } = require(\"vite\");\n\nconst { buildMainEnv, buildRendererEnv, buildViteConfig, lldRoot } = require(\"./utils\");\n\nconst startDev = async argv => {\n  let execa = await import(\"execa\").then(mod => mod.execa);\n  const electron = new Electron(\"./.webpack/main.bundle.js\", execa);\n\n  const OnRebuildPlugin = {\n    name: \"onRebuild\",\n    setup(build) {\n      build.onEnd(result => {\n        if (result.errors.length > 0) {\n          console.log(`Build ended with ${result.errors.length} errors.`);\n          console.log(result.errors.map(error => error.message).join(\"\\n\"));\n        } else {\n          electron.reload();\n        }\n      });\n    },\n  };\n\n  const mainConfig = {\n    ...require(\"./config/main.esbuild\"),\n    define: buildMainEnv(\"development\", argv),\n    plugins: [...(require(\"./config/main.esbuild\").plugins || []), OnRebuildPlugin],\n    minify: false,\n  };\n  const preloaderConfig = {\n    ...require(\"./config/preloader.esbuild\"),\n    define: buildMainEnv(\"development\", argv),\n    plugins: [...(require(\"./config/preloader.esbuild\").plugins || []), OnRebuildPlugin],\n    minify: false,\n  };\n  const webviewPreloaderConfig = {\n    ...require(\"./config/webviewPreloader.esbuild\"),\n    define: buildMainEnv(\"development\", argv),\n    plugins: [...(require(\"./config/webviewPreloader.esbuild\").plugins || []), OnRebuildPlugin],\n    minify: false,\n  };\n  const webviewDappPreloaderConfig = {\n    ...require(\"./config/webviewDappPreloader.esbuild\"),\n    define: buildMainEnv(\"development\", argv),\n    plugins: [...(require(\"./config/webviewDappPreloader.esbuild\").plugins || []), OnRebuildPlugin],\n    minify: false,\n  };\n\n  try {\n    await processReleaseNotes();\n  } catch (error) {\n    console.log(error);\n  }\n\n  const rendererServer = await createServer(buildViteConfig(argv));\n\n  const contexts = await Promise.all([\n    esbuild.context(mainConfig),\n    esbuild.context(preloaderConfig),\n    esbuild.context(webviewPreloaderConfig),\n    esbuild.context(webviewDappPreloaderConfig),\n  ]);\n\n  await rendererServer.listen();\n  await Promise.all(contexts.map(context => context.watch()));\n\n  rendererServer.printUrls();\n  electron.start();\n};\n\nconst build = async argv => {\n  try {\n    await processReleaseNotes();\n  } catch (error) {\n    console.log(error);\n  }\n\n  const mainConfig = require(\"./config/main.esbuild\");\n  const workersPath = path.join(lldRoot, \"src\", \"renderer\", \"webworkers\", \"workers\");\n\n  const results = await Promise.all([\n    esbuild.build({\n      ...mainConfig,\n      define: buildMainEnv(\"production\", argv),\n      plugins: [...(mainConfig.plugins || [])],\n    }),\n    esbuild.build({\n      ...require(\"./config/preloader.esbuild\"),\n      define: buildMainEnv(\"production\", argv),\n    }),\n    esbuild.build({\n      ...require(\"./config/webviewPreloader.esbuild\"),\n      define: buildMainEnv(\"production\", argv),\n    }),\n    esbuild.build({\n      ...require(\"./config/webviewDappPreloader.esbuild\"),\n      define: buildMainEnv(\"production\", argv),\n    }),\n    esbuild.build({\n      ...require(\"./config/renderer.esbuild\"),\n      define: buildRendererEnv(\"production\"),\n    }),\n\n    ...fs.readdirSync(workersPath).map(file =>\n      esbuild.build({\n        ...require(\"./config/renderer.esbuild\"),\n        entryPoints: [path.join(workersPath, file)],\n        entryNames: `${\n          file.lastIndexOf(\".\") !== -1 ? file.substring(0, file.lastIndexOf(\".\")) : file\n        }.worker`,\n        define: buildRendererEnv(\"production\"),\n      }),\n    ),\n  ]);\n\n  if (process.env.GENERATE_METAFILES) {\n    // analyze bundle sizes. use it with https://esbuild.github.io/analyze/\n    fs.writeFileSync(\"metafile.main.json\", JSON.stringify(results[0].metafile), \"utf-8\");\n    fs.writeFileSync(\"metafile.preloader.json\", JSON.stringify(results[1].metafile), \"utf-8\");\n    fs.writeFileSync(\n      \"metafile.webviewPreloader.json\",\n      JSON.stringify(results[2].metafile),\n      \"utf-8\",\n    );\n    fs.writeFileSync(\n      \"metafile.webviewDappPreloader.json\",\n      JSON.stringify(results[3].metafile),\n      \"utf-8\",\n    );\n    fs.writeFileSync(\"metafile.renderer.json\", JSON.stringify(results[4].metafile), \"utf-8\");\n    fs.writeFileSync(\"metafile.renderer.worker.json\", JSON.stringify(results[5].metafile), \"utf-8\");\n  }\n};\n\nyargs\n  .usage(\"Usage: $0 <command> [options]\")\n  .command({\n    command: [\"dev\", \"$0\"],\n    desc: \"start the development workflow\",\n    builder: yargs =>\n      yargs.option(\"port\", {\n        alias: \"p\",\n        type: \"number\",\n        default: 8080,\n      }),\n    handler: startDev,\n  })\n  .command({\n    command: \"build\",\n    desc: \"build the app for production\",\n    handler: build,\n  })\n  .help(\"h\")\n  .alias(\"h\", \"help\")\n  .parse();\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tools/plugins/postcss-tailwind-plugin.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":1,"column":12,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":25},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":3,"column":21,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":43},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":4,"column":22,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":4,"endColumn":45}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const fs = require(\"fs\");\nconst postcss = require(\"postcss\");\nconst tailwindcss = require(\"tailwindcss\");\nconst autoprefixer = require(\"autoprefixer\");\n\n/**\n * Custom esbuild plugin that processes local CSS files with PostCSS/Tailwind\n * but lets esbuild handle node_modules CSS with native loader\n */\nmodule.exports = () => ({\n  name: \"postcss-tailwind\",\n  setup(build) {\n    const postcssProcessor = postcss([tailwindcss, autoprefixer]);\n\n    // Only intercept CSS files from src/ directory (not node_modules)\n    build.onLoad({ filter: /\\.css$/, namespace: \"file\" }, async args => {\n      if (args.path.includes(\"node_modules\")) {\n        return null;\n      }\n\n      try {\n        const css = await fs.promises.readFile(args.path, \"utf8\");\n        const result = await postcssProcessor.process(css, { from: args.path });\n\n        return {\n          contents: result.css,\n          loader: \"css\",\n        };\n      } catch (error) {\n        return {\n          errors: [{ text: error.message, location: { file: args.path } }],\n        };\n      }\n    });\n  },\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tools/utils/Electron.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tools/utils/electronRendererStubs.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":1,"column":18,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":37}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const electron = require(\"electron\");\nconst {\n  clipboard,\n  nativeImage,\n  shell,\n  contextBridge,\n  crashReporter,\n  ipcRenderer,\n  webFrame,\n  desktopCapturer,\n  deprecate,\n  remote,\n  WebviewTag,\n} = electron;\n\nexport {\n  electron as default,\n  clipboard,\n  nativeImage,\n  shell,\n  contextBridge,\n  crashReporter,\n  ipcRenderer,\n  webFrame,\n  desktopCapturer,\n  deprecate,\n  remote,\n  WebviewTag,\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tools/utils/index.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":1,"column":22,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":46},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":2,"column":24,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":41},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":3,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":29},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":4,"column":41,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":4,"endColumn":75},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":5,"column":24,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":5,"endColumn":64},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":6,"column":21,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":6,"endColumn":52},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":7,"column":26,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":7,"endColumn":41},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":10,"column":13,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":10,"endColumn":42}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const childProcess = require(\"child_process\");\nconst { prerelease } = require(\"semver\");\nconst path = require(\"path\");\nconst { DotEnvPlugin, nodeExternals } = require(\"@ledgerhq/esbuild-utils\");\nconst electronPlugin = require(\"vite-plugin-electron/renderer\");\nconst reactPlugin = require(\"@vitejs/plugin-react\");\nconst { defineConfig } = require(\"vite\");\n\nconst SENTRY_URL = process.env.SENTRY_URL;\nconst pkg = require(\"../../package.json\");\nconst lldRoot = path.resolve(__dirname, \"..\", \"..\");\n\nlet GIT_REVISION = process.env.GIT_REVISION;\n\nif (!GIT_REVISION) {\n  GIT_REVISION = childProcess.execSync(\"git rev-parse --short HEAD\").toString(\"utf8\").trim();\n}\n\nconst parsed = prerelease(pkg.version);\nlet PRERELEASE = false;\nlet CHANNEL = null;\nif (parsed) {\n  PRERELEASE = !!(parsed && parsed.length);\n  CHANNEL = parsed[0];\n}\n\nconst DOTENV_FILE = process.env.TESTING\n  ? \".env.testing\"\n  : process.env.STAGING\n    ? \".env.staging\"\n    : process.env.NODE_ENV === \"production\"\n      ? \".env.production\"\n      : \".env\";\n\n// TODO: ADD BUNDLE ANALYZER\n\nconst buildMainEnv = (mode, argv) => {\n  const env = {\n    __DEV__: JSON.stringify(mode === \"development\"),\n    __APP_VERSION__: JSON.stringify(pkg.version),\n    __GIT_REVISION__: JSON.stringify(GIT_REVISION),\n    __SENTRY_URL__: JSON.stringify(SENTRY_URL || null),\n    // See: https://github.com/node-formidable/formidable/issues/337\n    \"global.GENTLY\": JSON.stringify(false),\n    __PRERELEASE__: JSON.stringify(PRERELEASE),\n    __CHANNEL__: JSON.stringify(CHANNEL),\n  };\n\n  if (mode === \"development\") {\n    env.INDEX_URL = JSON.stringify(`http://localhost:${argv.port}/index.html`);\n  }\n\n  return env;\n};\n\nconst buildRendererEnv = mode => {\n  const env = {\n    __DEV__: JSON.stringify(mode === \"development\"),\n    __APP_VERSION__: JSON.stringify(pkg.version),\n    __GIT_REVISION__: JSON.stringify(GIT_REVISION),\n    __SENTRY_URL__: JSON.stringify(SENTRY_URL || null),\n    __PRERELEASE__: JSON.stringify(PRERELEASE),\n    __CHANNEL__: JSON.stringify(CHANNEL),\n    \"process.env.NODE_ENV\": JSON.stringify(mode),\n  };\n\n  return env;\n};\n\nconst buildViteConfig = argv =>\n  defineConfig({\n    configFile: false,\n    root: path.resolve(lldRoot, \"src\", \"renderer\"),\n    server: {\n      port: argv.port,\n      // force: true,\n    },\n    define: {\n      ...buildRendererEnv(\"development\"),\n      ...DotEnvPlugin.buildDefine(DOTENV_FILE),\n    },\n    resolve: {\n      conditions: [\"node\", \"import\", \"module\", \"browser\", \"default\"],\n      alias: {\n        \"~\": path.resolve(lldRoot, \"src\"),\n        LLD: [path.resolve(lldRoot, \"src\", \"newArch\")],\n        \"@ledgerhq/react-ui\": path.join(\n          path.dirname(require.resolve(\"@ledgerhq/react-ui/package.json\")),\n          \"lib\",\n        ),\n        \"styled-components\": [require.resolve(\"styled-components/dist/styled-components\")],\n        electron: path.join(__dirname, \"electronRendererStubs.js\"),\n      },\n    },\n    optimizeDeps: {\n      // The common.js dependencies and files need to be force-added below:\n      include: [\"@ledgerhq/hw-app-eth/erc20\"],\n      exclude: [\"@braze/web-sdk\"],\n      esbuildOptions: {\n        target: [\"es2020\"],\n        plugins: [\n          {\n            name: \"Externalize Nodejs Standard Library\",\n            setup(build) {\n              nodeExternals.forEach(external => {\n                build.onResolve({ filter: new RegExp(`^${external}$`) }, _args => ({\n                  path: external,\n                  external: true,\n                }));\n              });\n            },\n          },\n          {\n            name: \"fix require('buffer/') calls\",\n            setup(build) {\n              build.onResolve({ filter: /^buffer\\/$/ }, args => {\n                if (!args.importer) return;\n\n                const result = require.resolve(args.path, {\n                  paths: [args.resolveDir],\n                });\n\n                return {\n                  path: result,\n                };\n              });\n            },\n          },\n        ],\n      },\n    },\n    plugins: [\n      reactPlugin(),\n      electronPlugin(),\n      // {\n      //   name: \"override:electron:config-serve\",\n      //   apply: \"serve\",\n      //   config(config) {\n      //     // Override stubs to add missing remote and WebviewTag exports\n      //     config.resolve.alias.electron = path.join(__dirname, \"electronRendererStubs.js\");\n      //   },\n      // },\n    ],\n  });\n\nmodule.exports = {\n  buildMainEnv,\n  buildRendererEnv,\n  buildViteConfig,\n  lldRoot,\n  DOTENV_FILE,\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/robin.vincent/Desktop/ledger-live/apps/ledger-live-desktop/tools/utils/processReleaseNotes.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":1,"column":26,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":39},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":2,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":29},{"ruleId":"@typescript-eslint/no-require-imports","severity":1,"message":"A `require()` style import is forbidden.","line":3,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":33}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { promises: fs } = require(\"fs\");\nconst path = require(\"path\");\nconst semver = require(\"semver\");\n\nconst getCleanVersion = str => {\n  return str.replace(\"# \", \"\").trim();\n};\n\nasync function main() {\n  const file = await fs.readFile(path.resolve(__dirname, \"..\", \"..\", \"RELEASE_NOTES.md\"), \"utf8\");\n  const pkg = JSON.parse(\n    await fs.readFile(path.resolve(__dirname, \"..\", \"..\", \"package.json\"), \"utf8\"),\n  );\n  const parsed = semver.parse(pkg.version);\n  const split = file.split(\"\\n\");\n\n  const saved = {};\n\n  let currentVersion;\n  for (const line of split) {\n    const isVersionLine = line.startsWith(\"# \");\n    const clean = getCleanVersion(line);\n    if (isVersionLine) {\n      currentVersion = clean;\n      if (\n        !semver.satisfies(\n          clean,\n          `< ${parsed.major}.${parsed.minor + 1} >= ${parsed.major}.${parsed.minor}`,\n        )\n      ) {\n        currentVersion = null;\n      }\n    } else {\n      if (currentVersion) {\n        if (!saved[currentVersion]) saved[currentVersion] = [];\n        saved[currentVersion].push(line);\n      }\n    }\n  }\n\n  const output = Object.entries(saved)\n    .map(\n      /* eslint-disable-next-line */\n      ([tag_name, body]) => ({\n        tag_name,\n        body: body.join(\"\\n\"),\n      }),\n      {},\n    )\n    .sort((a, b) => {\n      if (semver.gt(a.tag_name, b.tag_name)) {\n        return -1;\n      } else if (semver.gt(b.tag_name, a.tag_name)) {\n        return 1;\n      } else {\n        return 0;\n      }\n    });\n\n  await fs.writeFile(\n    path.resolve(__dirname, \"..\", \"..\", \"release-notes.json\"),\n    JSON.stringify(output, null, 2),\n    \"utf8\",\n  );\n}\n\nmodule.exports = main;\n","usedDeprecatedRules":[]}]